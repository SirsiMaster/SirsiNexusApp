(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function XR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ay={exports:{}},Yu={};var I2;function ZR(){if(I2)return Yu;I2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Yu.Fragment=e,Yu.jsx=n,Yu.jsxs=n,Yu}var j2;function eN(){return j2||(j2=1,Ay.exports=ZR()),Ay.exports}var l=eN(),Iy={exports:{}},Fe={};var R2;function tN(){if(R2)return Fe;R2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function M(z,Z,te){this.props=z,this.context=Z,this.refs=_,this.updater=te||T}M.prototype.isReactComponent={},M.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=M.prototype;function V(z,Z,te){this.props=z,this.context=Z,this.refs=_,this.updater=te||T}var $=V.prototype=new D;$.constructor=V,A($,M.prototype),$.isPureReactComponent=!0;var Q=Array.isArray;function re(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(z,Z,te){var pe=te.ref;return{$$typeof:t,type:z,key:Z,ref:pe!==void 0?pe:null,props:te}}function L(z,Z){return k(z.type,Z,z.props)}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function H(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(te){return Z[te]})}var F=/\/+/g;function xe(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):Z.toString(36)}function Ee(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(re,re):(z.status="pending",z.then(function(Z){z.status==="pending"&&(z.status="fulfilled",z.value=Z)},function(Z){z.status==="pending"&&(z.status="rejected",z.reason=Z)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function O(z,Z,te,pe,Se){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var Ue=!1;if(z===null)Ue=!0;else switch(je){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(z.$$typeof){case t:case e:Ue=!0;break;case g:return Ue=z._init,O(Ue(z._payload),Z,te,pe,Se)}}if(Ue)return Se=Se(z),Ue=pe===""?"."+xe(z,0):pe,Q(Se)?(te="",Ue!=null&&(te=Ue.replace(F,"$&/")+"/"),O(Se,Z,te,"",function(hn){return hn})):Se!=null&&(B(Se)&&(Se=L(Se,te+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+Ue)),Z.push(Se)),1;Ue=0;var wt=pe===""?".":pe+":";if(Q(z))for(var dt=0;dt<z.length;dt++)pe=z[dt],je=wt+xe(pe,dt),Ue+=O(pe,Z,te,je,Se);else if(dt=S(z),typeof dt=="function")for(z=dt.call(z),dt=0;!(pe=z.next()).done;)pe=pe.value,je=wt+xe(pe,dt++),Ue+=O(pe,Z,te,je,Se);else if(je==="object"){if(typeof z.then=="function")return O(Ee(z),Z,te,pe,Se);throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function q(z,Z,te){if(z==null)return z;var pe=[],Se=0;return O(z,pe,"","",function(je){return Z.call(te,je,Se++)}),pe}function ae(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(te){(z._status===0||z._status===-1)&&(z._status=1,z._result=te)},function(te){(z._status===0||z._status===-1)&&(z._status=2,z._result=te)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Te=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ce={map:q,forEach:function(z,Z,te){q(z,function(){Z.apply(this,arguments)},te)},count:function(z){var Z=0;return q(z,function(){Z++}),Z},toArray:function(z){return q(z,function(Z){return Z})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Fe.Activity=x,Fe.Children=Ce,Fe.Component=M,Fe.Fragment=n,Fe.Profiler=s,Fe.PureComponent=V,Fe.StrictMode=i,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Fe.cache=function(z){return function(){return z.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(z,Z,te){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var pe=A({},z.props),Se=z.key;if(Z!=null)for(je in Z.key!==void 0&&(Se=""+Z.key),Z)!I.call(Z,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Z.ref===void 0||(pe[je]=Z[je]);var je=arguments.length-2;if(je===1)pe.children=te;else if(1<je){for(var Ue=Array(je),wt=0;wt<je;wt++)Ue[wt]=arguments[wt+2];pe.children=Ue}return k(z.type,Se,pe)},Fe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Fe.createElement=function(z,Z,te){var pe,Se={},je=null;if(Z!=null)for(pe in Z.key!==void 0&&(je=""+Z.key),Z)I.call(Z,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=Z[pe]);var Ue=arguments.length-2;if(Ue===1)Se.children=te;else if(1<Ue){for(var wt=Array(Ue),dt=0;dt<Ue;dt++)wt[dt]=arguments[dt+2];Se.children=wt}if(z&&z.defaultProps)for(pe in Ue=z.defaultProps,Ue)Se[pe]===void 0&&(Se[pe]=Ue[pe]);return k(z,je,Se)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:h,render:z}},Fe.isValidElement=B,Fe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},Fe.memo=function(z,Z){return{$$typeof:p,type:z,compare:Z===void 0?null:Z}},Fe.startTransition=function(z){var Z=R.T,te={};R.T=te;try{var pe=z(),Se=R.S;Se!==null&&Se(te,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(re,Te)}catch(je){Te(je)}finally{Z!==null&&te.types!==null&&(Z.types=te.types),R.T=Z}},Fe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Fe.use=function(z){return R.H.use(z)},Fe.useActionState=function(z,Z,te){return R.H.useActionState(z,Z,te)},Fe.useCallback=function(z,Z){return R.H.useCallback(z,Z)},Fe.useContext=function(z){return R.H.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z,Z){return R.H.useDeferredValue(z,Z)},Fe.useEffect=function(z,Z){return R.H.useEffect(z,Z)},Fe.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Fe.useId=function(){return R.H.useId()},Fe.useImperativeHandle=function(z,Z,te){return R.H.useImperativeHandle(z,Z,te)},Fe.useInsertionEffect=function(z,Z){return R.H.useInsertionEffect(z,Z)},Fe.useLayoutEffect=function(z,Z){return R.H.useLayoutEffect(z,Z)},Fe.useMemo=function(z,Z){return R.H.useMemo(z,Z)},Fe.useOptimistic=function(z,Z){return R.H.useOptimistic(z,Z)},Fe.useReducer=function(z,Z,te){return R.H.useReducer(z,Z,te)},Fe.useRef=function(z){return R.H.useRef(z)},Fe.useState=function(z){return R.H.useState(z)},Fe.useSyncExternalStore=function(z,Z,te){return R.H.useSyncExternalStore(z,Z,te)},Fe.useTransition=function(){return R.H.useTransition()},Fe.version="19.2.3",Fe}var N2;function Ex(){return N2||(N2=1,Iy.exports=tN()),Iy.exports}var j=Ex();const kt=XR(j);var jy={exports:{}},Qu={},Ry={exports:{}},Ny={};var D2;function nN(){return D2||(D2=1,(function(t){function e(O,q){var ae=O.length;O.push(q);e:for(;0<ae;){var Te=ae-1>>>1,Ce=O[Te];if(0<s(Ce,q))O[Te]=q,O[ae]=Ce,ae=Te;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var q=O[0],ae=O.pop();if(ae!==q){O[0]=ae;e:for(var Te=0,Ce=O.length,z=Ce>>>1;Te<z;){var Z=2*(Te+1)-1,te=O[Z],pe=Z+1,Se=O[pe];if(0>s(te,ae))pe<Ce&&0>s(Se,te)?(O[Te]=Se,O[pe]=ae,Te=pe):(O[Te]=te,O[Z]=ae,Te=Z);else if(pe<Ce&&0>s(Se,ae))O[Te]=Se,O[pe]=ae,Te=pe;else break e}}return q}function s(O,q){var ae=O.sortIndex-q.sortIndex;return ae!==0?ae:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,x=null,b=3,S=!1,T=!1,A=!1,_=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(O){for(var q=n(p);q!==null;){if(q.callback===null)i(p);else if(q.startTime<=O)i(p),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(p)}}function Q(O){if(A=!1,$(O),!T)if(n(d)!==null)T=!0,re||(re=!0,H());else{var q=n(p);q!==null&&Ee(Q,q.startTime-O)}}var re=!1,R=-1,I=5,k=-1;function L(){return _?!0:!(t.unstable_now()-k<I)}function B(){if(_=!1,re){var O=t.unstable_now();k=O;var q=!0;try{e:{T=!1,A&&(A=!1,D(R),R=-1),S=!0;var ae=b;try{t:{for($(O),x=n(d);x!==null&&!(x.expirationTime>O&&L());){var Te=x.callback;if(typeof Te=="function"){x.callback=null,b=x.priorityLevel;var Ce=Te(x.expirationTime<=O);if(O=t.unstable_now(),typeof Ce=="function"){x.callback=Ce,$(O),q=!0;break t}x===n(d)&&i(d),$(O)}else i(d);x=n(d)}if(x!==null)q=!0;else{var z=n(p);z!==null&&Ee(Q,z.startTime-O),q=!1}}break e}finally{x=null,b=ae,S=!1}q=void 0}}finally{q?H():re=!1}}}var H;if(typeof V=="function")H=function(){V(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,xe=F.port2;F.port1.onmessage=B,H=function(){xe.postMessage(null)}}else H=function(){M(B,0)};function Ee(O,q){R=M(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var ae=b;b=q;try{return O()}finally{b=ae}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ae=b;b=O;try{return q()}finally{b=ae}},t.unstable_scheduleCallback=function(O,q,ae){var Te=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Te+ae:Te):ae=Te,O){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ae+Ce,O={id:g++,callback:q,priorityLevel:O,startTime:ae,expirationTime:Ce,sortIndex:-1},ae>Te?(O.sortIndex=ae,e(p,O),n(d)===null&&O===n(p)&&(A?(D(R),R=-1):A=!0,Ee(Q,ae-Te))):(O.sortIndex=Ce,e(d,O),T||S||(T=!0,re||(re=!0,H()))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var q=b;return function(){var ae=b;b=q;try{return O.apply(this,arguments)}finally{b=ae}}}})(Ny)),Ny}var k2;function iN(){return k2||(k2=1,Ry.exports=nN()),Ry.exports}var Dy={exports:{}},Bn={};var P2;function rN(){if(P2)return Bn;P2=1;var t=Ex();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:d,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bn.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,g)},Bn.flushSync=function(d){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=g,i.d.f()}},Bn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Bn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Bn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,x=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:S}):g==="script"&&i.d.X(d,{crossOrigin:x,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Bn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=h(g,p.crossOrigin);i.d.L(d,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bn.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Bn.requestFormReset=function(d){i.d.r(d)},Bn.unstable_batchedUpdates=function(d,p){return d(p)},Bn.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.2.3",Bn}var O2;function sN(){if(O2)return Dy.exports;O2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dy.exports=rN(),Dy.exports}var M2;function aN(){if(M2)return Qu;M2=1;var t=iN(),e=Ex(),n=sN();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,f=a;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return d(y),r;if(v===f)return d(y),a;v=v.sibling}throw Error(i(188))}if(c.return!==f.return)c=y,f=v;else{for(var E=!1,N=y.child;N;){if(N===c){E=!0,c=y,f=v;break}if(N===f){E=!0,f=y,c=v;break}N=N.sibling}if(!E){for(N=v.child;N;){if(N===c){E=!0,c=v,f=y;break}if(N===f){E=!0,f=v,c=y;break}N=N.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case M:return"Profiler";case _:return"StrictMode";case Q:return"Suspense";case re:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case V:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case $:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return a=r.displayName||null,a!==null?a:xe(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return xe(r(a))}catch{}}return null}var Ee=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function z(r){return{current:r}}function Z(r){0>Ce||(r.current=Te[Ce],Te[Ce]=null,Ce--)}function te(r,a){Ce++,Te[Ce]=r.current,r.current=a}var pe=z(null),Se=z(null),je=z(null),Ue=z(null);function wt(r,a){switch(te(je,a),te(Se,r),te(pe,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?JS(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=JS(a),r=XS(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(pe),te(pe,r)}function dt(){Z(pe),Z(Se),Z(je)}function hn(r){r.memoizedState!==null&&te(Ue,r);var a=pe.current,c=XS(a,r.type);a!==c&&(te(Se,r),te(pe,c))}function ue(r){Se.current===r&&(Z(pe),Z(Se)),Ue.current===r&&(Z(Ue),Gu._currentValue=ae)}var Ne,Ae;function We(r){if(Ne===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Ne=a&&a[1]||"",Ae=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+r+Ae}var Ct=!1;function _n(r,a){if(!r||Ct)return"";Ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){ee=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),E=v[0],N=v[1];if(E&&N){var U=E.split(`
`),X=N.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===X.length)for(f=U.length-1,y=X.length-1;1<=f&&0<=y&&U[f]!==X[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==X[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==X[y]){var se=`
`+U[f].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=f&&0<=y);break}}}finally{Ct=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?We(c):""}function tr(r,a){switch(r.tag){case 26:case 27:case 5:return We(r.type);case 16:return We("Lazy");case 13:return r.child!==a&&a!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return _n(r.type,!1);case 11:return _n(r.type.render,!1);case 1:return _n(r.type,!0);case 31:return We("Activity");default:return""}}function Vn(r){try{var a="",c=null;do a+=tr(r,c),c=r,r=r.return;while(r);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var ps=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,Uo=t.unstable_shouldYield,Bi=t.unstable_requestPaint,jt=t.unstable_now,Ho=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,zi=t.unstable_NormalPriority,Yc=t.unstable_LowPriority,ei=t.unstable_IdlePriority,Qc=t.log,Ui=t.unstable_setDisableYieldValue,Ln=null,fn=null;function Cn(r){if(typeof Qc=="function"&&Ui(r),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Ln,r)}catch{}}var xn=Math.clz32?Math.clz32:et,le=Math.log,Re=Math.LN2;function et(r){return r>>>=0,r===0?32:31-(le(r)/Re|0)|0}var Ye=256,Ge=262144,Mt=4194304;function pn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ei(r,a,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,v=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var N=f&134217727;return N!==0?(f=N&~v,f!==0?y=pn(f):(E&=N,E!==0?y=pn(E):c||(c=N&~r,c!==0&&(y=pn(c))))):(N=f&~v,N!==0?y=pn(N):E!==0?y=pn(E):c||(c=f&~r,c!==0&&(y=pn(c)))),y===0?0:a!==0&&a!==y&&(a&v)===0&&(v=y&-y,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:y}function ms(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function $o(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var r=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),r}function Ir(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function gs(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function An(r,a,c,f,y,v){var E=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var N=r.entanglements,U=r.expirationTimes,X=r.hiddenUpdates;for(c=E&~c;0<c;){var se=31-xn(c),ce=1<<se;N[se]=0,U[se]=-1;var ee=X[se];if(ee!==null)for(X[se]=null,se=0;se<ee.length;se++){var ne=ee[se];ne!==null&&(ne.lane&=-536870913)}c&=~ce}f!==0&&Xc(r,f,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(E&~a))}function Xc(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-xn(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|c&261930}function ys(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-xn(c),y=1<<f;y&a|r[f]&a&&(r[f]|=a),c&=~y}}function xs(r,a){var c=a&-a;return c=(c&42)!==0?1:Zc(c),(c&(r.suspendedLanes|a))!==0?0:c}function Zc(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function eu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function jr(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:S2(r.type))}function uh(r,a){var c=q.p;try{return q.p=r,a()}finally{q.p=c}}var ir=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ir,In="__reactProps$"+ir,rr="__reactContainer$"+ir,vs="__reactEvents$"+ir,sr="__reactListeners$"+ir,dh="__reactHandles$"+ir,tu="__reactResources$"+ir,Rr="__reactMarker$"+ir;function ja(r){delete r[Ut],delete r[In],delete r[vs],delete r[sr],delete r[dh]}function Nr(r){var a=r[Ut];if(a)return a;for(var c=r.parentNode;c;){if(a=c[rr]||c[Ut]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=s2(r);r!==null;){if(c=r[Ut])return c;r=s2(r)}return a}r=c,c=r.parentNode}return null}function Dr(r){if(r=r[Ut]||r[rr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Ra(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Hi(r){var a=r[tu];return a||(a=r[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(r){r[Rr]=!0}var Go=new Set,bs={};function qn(r,a){ar(r,a),ar(r+"Capture",a)}function ar(r,a){for(bs[r]=a,r=0;r<a.length;r++)Go.add(a[r])}var Im=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},iu={};function hh(r){return ps.call(iu,r)?!0:ps.call(nu,r)?!1:Im.test(r)?iu[r]=!0:(nu[r]=!0,!1)}function Ss(r,a,c){if(hh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function ws(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function _i(r,a,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+f)}}function Wn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fh(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function jm(r,a,c){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,v=f.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(E){c=""+E,v.call(this,E)}}),Object.defineProperty(r,a,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function qo(r){if(!r._valueTracker){var a=fh(r)?"checked":"value";r._valueTracker=jm(r,a,""+r[a])}}function ru(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=fh(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function Wo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kr=/[\n"\\]/g;function Ht(r){return r.replace(kr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ts(r,a,c,f,y,v,E,N){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Wn(a)):r.value!==""+Wn(a)&&(r.value=""+Wn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Ko(r,E,Wn(a)):c!=null?Ko(r,E,Wn(c)):f!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Wn(N):r.removeAttribute("name")}function Na(r,a,c,f,y,v,E,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){qo(r);return}c=c!=null?""+Wn(c):"",a=a!=null?""+Wn(a):c,N||a===r.value||(r.value=a),r.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=N?r.checked:!!f,r.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),qo(r)}function Ko(r,a,c){a==="number"&&Wo(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function ot(r,a,c,f){if(r=r.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=a.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Wn(c),a=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function Da(r,a,c){if(a!=null&&(a=""+Wn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Wn(c):""}function Es(r,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(i(92));if(Ee(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Wn(a),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f),qo(r)}function Ci(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(r,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,c):typeof c!="number"||c===0||Rm.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function ph(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&su(r,y,f)}else for(var v in a)a.hasOwnProperty(v)&&su(r,v,a[v])}function au(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(r){return Dm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function vn(){}var Yo=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pr=null,ui=null;function mh(r){var a=Dr(r);if(a&&(r=a.stateNode)){var c=r[In]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ts(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ht(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var y=f[In]||null;if(!y)throw Error(i(90));Ts(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===r.form&&ru(f)}break e;case"textarea":Da(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&ot(r,!!c.multiple,a,!1)}}}var ou=!1;function gh(r,a,c){if(ou)return r(a,c);ou=!0;try{var f=r(a);return f}finally{if(ou=!1,(Pr!==null||ui!==null)&&(ff(),Pr&&(a=Pr,r=ui,ui=Pr=null,mh(a),r)))for(a=0;a<r.length;a++)mh(r[a])}}function ti(r,a){var c=r.stateNode;if(c===null)return null;var f=c[In]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=!1;if($i)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){lu=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{lu=!1}var di=null,Jo=null,cr=null;function _s(){if(cr)return cr;var r,a=Jo,c=a.length,f,y="value"in di?di.value:di.textContent,v=y.length;for(r=0;r<c&&a[r]===y[r];r++);var E=c-r;for(f=1;f<=E&&a[c-f]===y[v-f];f++);return cr=y.slice(r,1<f?1-f:void 0)}function ka(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Cs(){return!0}function Rt(){return!1}function Fn(r){function a(c,f,y,v,E){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(c=r[N],this[N]=c?c(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Cs:Rt,this.isPropagationStopped=Rt,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),a}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Fn(Or),As=x({},Or,{view:0,detail:0}),yh=Fn(As),Is,Xo,Kn,Oa=x({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kn&&(Kn&&r.type==="mousemove"?(Is=r.screenX-Kn.screenX,Xo=r.screenY-Kn.screenY):Xo=Is=0,Kn=r),Is)},movementY:function(r){return"movementY"in r?r.movementY:Xo}}),xh=Fn(Oa),Ma=x({},Oa,{dataTransfer:0}),vh=Fn(Ma),cu=x({},As,{relatedTarget:0}),js=Fn(cu),bh=x({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=Fn(bh),km=x({},Or,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Sh=Fn(km),Va=x({},Or,{data:0}),uu=Fn(Va),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=hu[r])?!!a[r]:!1}function Rs(){return Th}var Eh=x({},As,{key:function(r){if(r.key){var a=wh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?du[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(r){return r.type==="keypress"?ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_h=Fn(Eh),Mr=x({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=Fn(Mr),Ch=x({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Ah=Fn(Ch),Ih=x({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),el=Fn(Ih),Yn=x({},Oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),jh=Fn(Yn),Rh=x({},Or,{newState:0,oldState:0}),Ns=Fn(Rh),m=[9,13,27,32],w=$i&&"CompositionEvent"in window,C=null;$i&&"documentMode"in document&&(C=document.documentMode);var P=$i&&"TextEvent"in window&&!C,Y=$i&&(!w||C&&8<C&&11>=C),ie=" ",me=!1;function ft(r,a){switch(r){case"keyup":return m.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nn(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function bn(r,a){switch(r){case"compositionend":return nn(a);case"keypress":return a.which!==32?null:(me=!0,ie);case"textInput":return r=a.data,r===ie&&me?null:r;default:return null}}function Sn(r,a){if(Ke)return r==="compositionend"||!w&&ft(r,a)?(r=_s(),cr=Jo=di=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Y&&a.locale!=="ko"?null:a.data;default:return null}}var Ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ni(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Ds[r.type]:a==="textarea"}function La(r,a,c,f){Pr?ui?ui.push(f):ui=[f]:Pr=f,a=bf(a,"onChange"),0<a.length&&(c=new Pa("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var Vr=null,pu=null;function _j(r){GS(r,0)}function Nh(r){var a=Ra(r);if(ru(a))return r}function ub(r,a){if(r==="change")return a}var db=!1;if($i){var Pm;if($i){var Om="oninput"in document;if(!Om){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),Om=typeof hb.oninput=="function"}Pm=Om}else Pm=!1;db=Pm&&(!document.documentMode||9<document.documentMode)}function fb(){Vr&&(Vr.detachEvent("onpropertychange",pb),pu=Vr=null)}function pb(r){if(r.propertyName==="value"&&Nh(pu)){var a=[];La(a,pu,r,Qo(r)),gh(_j,a)}}function Cj(r,a,c){r==="focusin"?(fb(),Vr=a,pu=c,Vr.attachEvent("onpropertychange",pb)):r==="focusout"&&fb()}function Aj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nh(pu)}function Ij(r,a){if(r==="click")return Nh(a)}function jj(r,a){if(r==="input"||r==="change")return Nh(a)}function Rj(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var hi=typeof Object.is=="function"?Object.is:Rj;function mu(r,a){if(hi(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!ps.call(a,y)||!hi(r[y],a[y]))return!1}return!0}function mb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gb(r,a){var c=mb(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mb(c)}}function yb(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?yb(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function xb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Wo(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Wo(r.document)}return a}function Mm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Nj=$i&&"documentMode"in document&&11>=document.documentMode,tl=null,Vm=null,gu=null,Lm=!1;function vb(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||tl==null||tl!==Wo(f)||(f=tl,"selectionStart"in f&&Mm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),gu&&mu(gu,f)||(gu=f,f=bf(Vm,"onSelect"),0<f.length&&(a=new Pa("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=tl)))}function Fa(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var nl={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Fm={},bb={};$i&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Ba(r){if(Fm[r])return Fm[r];if(!nl[r])return r;var a=nl[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in bb)return Fm[r]=a[c];return r}var Sb=Ba("animationend"),wb=Ba("animationiteration"),Tb=Ba("animationstart"),Dj=Ba("transitionrun"),kj=Ba("transitionstart"),Pj=Ba("transitioncancel"),Eb=Ba("transitionend"),_b=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function Gi(r,a){_b.set(r,a),qn(a,[r])}var Dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ai=[],il=0,zm=0;function kh(){for(var r=il,a=zm=il=0;a<r;){var c=Ai[a];Ai[a++]=null;var f=Ai[a];Ai[a++]=null;var y=Ai[a];Ai[a++]=null;var v=Ai[a];if(Ai[a++]=null,f!==null&&y!==null){var E=f.pending;E===null?y.next=y:(y.next=E.next,E.next=y),f.pending=y}v!==0&&Cb(c,y,v)}}function Ph(r,a,c,f){Ai[il++]=r,Ai[il++]=a,Ai[il++]=c,Ai[il++]=f,zm|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Um(r,a,c,f){return Ph(r,a,c,f),Oh(r)}function za(r,a){return Ph(r,null,null,a),Oh(r)}function Cb(r,a,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&a!==null&&(y=31-xn(c),r=v.hiddenUpdates,f=r[y],f===null?r[y]=[a]:f.push(a),a.lane=c|536870912),v):null}function Oh(r){if(50<Lu)throw Lu=0,Jg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var rl={};function Oj(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(r,a,c,f){return new Oj(r,a,c,f)}function Hm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Lr(r,a){var c=r.alternate;return c===null?(c=fi(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Ab(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Mh(r,a,c,f,y,v){var E=0;if(f=r,typeof r=="function")Hm(r)&&(E=1);else if(typeof r=="string")E=BR(r,c,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=fi(31,c,a,y),r.elementType=k,r.lanes=v,r;case A:return Ua(c.children,y,v,a);case _:E=8,y|=24;break;case M:return r=fi(12,c,a,y|2),r.elementType=M,r.lanes=v,r;case Q:return r=fi(13,c,a,y),r.elementType=Q,r.lanes=v,r;case re:return r=fi(19,c,a,y),r.elementType=re,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case D:E=9;break e;case $:E=11;break e;case R:E=14;break e;case I:E=16,f=null;break e}E=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=fi(E,c,a,y),a.elementType=r,a.type=f,a.lanes=v,a}function Ua(r,a,c,f){return r=fi(7,r,f,a),r.lanes=c,r}function $m(r,a,c){return r=fi(6,r,null,a),r.lanes=c,r}function Ib(r){var a=fi(18,null,null,0);return a.stateNode=r,a}function Gm(r,a,c){return a=fi(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var jb=new WeakMap;function Ii(r,a){if(typeof r=="object"&&r!==null){var c=jb.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Vn(a)},jb.set(r,a),a)}return{value:r,source:a,stack:Vn(a)}}var sl=[],al=0,Vh=null,yu=0,ji=[],Ri=0,ks=null,ur=1,dr="";function Fr(r,a){sl[al++]=yu,sl[al++]=Vh,Vh=r,yu=a}function Rb(r,a,c){ji[Ri++]=ur,ji[Ri++]=dr,ji[Ri++]=ks,ks=r;var f=ur;r=dr;var y=32-xn(f)-1;f&=~(1<<y),c+=1;var v=32-xn(a)+y;if(30<v){var E=y-y%5;v=(f&(1<<E)-1).toString(32),f>>=E,y-=E,ur=1<<32-xn(a)+y|c<<y|f,dr=v+r}else ur=1<<v|c<<y|f,dr=r}function qm(r){r.return!==null&&(Fr(r,1),Rb(r,1,0))}function Wm(r){for(;r===Vh;)Vh=sl[--al],sl[al]=null,yu=sl[--al],sl[al]=null;for(;r===ks;)ks=ji[--Ri],ji[Ri]=null,dr=ji[--Ri],ji[Ri]=null,ur=ji[--Ri],ji[Ri]=null}function Nb(r,a){ji[Ri++]=ur,ji[Ri++]=dr,ji[Ri++]=ks,ur=a.id,dr=a.overflow,ks=r}var jn=null,Nt=null,rt=!1,Ps=null,Ni=!1,Km=Error(i(519));function Os(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xu(Ii(a,r)),Km}function Db(r){var a=r.stateNode,c=r.type,f=r.memoizedProps;switch(a[Ut]=r,a[In]=f,c){case"dialog":Je("cancel",a),Je("close",a);break;case"iframe":case"object":case"embed":Je("load",a);break;case"video":case"audio":for(c=0;c<Bu.length;c++)Je(Bu[c],a);break;case"source":Je("error",a);break;case"img":case"image":case"link":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"input":Je("invalid",a),Na(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Je("invalid",a);break;case"textarea":Je("invalid",a),Es(a,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||YS(a.textContent,c)?(f.popover!=null&&(Je("beforetoggle",a),Je("toggle",a)),f.onScroll!=null&&Je("scroll",a),f.onScrollEnd!=null&&Je("scrollend",a),f.onClick!=null&&(a.onclick=vn),a=!0):a=!1,a||Os(r,!0)}function kb(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:jn=jn.return}}function ol(r){if(r!==jn)return!1;if(!rt)return kb(r),rt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||hy(r.type,r.memoizedProps)),c=!c),c&&Nt&&Os(r),kb(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=r2(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Nt=r2(r)}else a===27?(a=Nt,Ys(r.type)?(r=yy,yy=null,Nt=r):Nt=a):Nt=jn?ki(r.stateNode.nextSibling):null;return!0}function Ha(){Nt=jn=null,rt=!1}function Ym(){var r=Ps;return r!==null&&(ai===null?ai=r:ai.push.apply(ai,r),Ps=null),r}function xu(r){Ps===null?Ps=[r]:Ps.push(r)}var Qm=z(null),$a=null,Br=null;function Ms(r,a,c){te(Qm,a._currentValue),a._currentValue=c}function zr(r){r._currentValue=Qm.current,Z(Qm)}function Jm(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function Xm(r,a,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var E=y.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=y;for(var U=0;U<a.length;U++)if(N.context===a[U]){v.lanes|=c,N=v.alternate,N!==null&&(N.lanes|=c),Jm(v.return,c,r),f||(E=null);break e}v=N.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(i(341));E.lanes|=c,v=E.alternate,v!==null&&(v.lanes|=c),Jm(E,c,r),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===r){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function ll(r,a,c,f){r=null;for(var y=a,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var N=y.type;hi(y.pendingProps.value,E.value)||(r!==null?r.push(N):r=[N])}}else if(y===Ue.current){if(E=y.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Gu):r=[Gu])}y=y.return}r!==null&&Xm(a,r,c,f),a.flags|=262144}function Lh(r){for(r=r.firstContext;r!==null;){if(!hi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ga(r){$a=r,Br=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Rn(r){return Pb($a,r)}function Fh(r,a){return $a===null&&Ga(r),Pb(r,a)}function Pb(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Br===null){if(r===null)throw Error(i(308));Br=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Br=Br.next=a;return c}var Mj=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},Vj=t.unstable_scheduleCallback,Lj=t.unstable_NormalPriority,rn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new Mj,data:new Map,refCount:0}}function vu(r){r.refCount--,r.refCount===0&&Vj(Lj,function(){r.controller.abort()})}var bu=null,eg=0,cl=0,ul=null;function Fj(r,a){if(bu===null){var c=bu=[];eg=0,cl=iy(),ul={status:"pending",value:void 0,then:function(f){c.push(f)}}}return eg++,a.then(Ob,Ob),a}function Ob(){if(--eg===0&&bu!==null){ul!==null&&(ul.status="fulfilled");var r=bu;bu=null,cl=0,ul=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Bj(r,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var Mb=O.S;O.S=function(r,a){vS=jt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Fj(r,a),Mb!==null&&Mb(r,a)};var qa=z(null);function tg(){var r=qa.current;return r!==null?r:Tt.pooledCache}function Bh(r,a){a===null?te(qa,qa.current):te(qa,a.pool)}function Vb(){var r=tg();return r===null?null:{parent:rn._currentValue,pool:r}}var dl=Error(i(460)),ng=Error(i(474)),zh=Error(i(542)),Uh={then:function(){}};function Lb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fb(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(vn,vn),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,zb(r),r;default:if(typeof a.status=="string")a.then(vn,vn);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,zb(r),r}throw Ka=a,dl}}function Wa(r){try{var a=r._init;return a(r._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ka=c,dl):c}}var Ka=null;function Bb(){if(Ka===null)throw Error(i(459));var r=Ka;return Ka=null,r}function zb(r){if(r===dl||r===zh)throw Error(i(483))}var hl=null,Su=0;function Hh(r){var a=Su;return Su+=1,hl===null&&(hl=[]),Fb(hl,r,a)}function wu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function $h(r,a){throw a.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Ub(r){function a(K,G){if(r){var J=K.deletions;J===null?(K.deletions=[G],K.flags|=16):J.push(G)}}function c(K,G){if(!r)return null;for(;G!==null;)a(K,G),G=G.sibling;return null}function f(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function y(K,G){return K=Lr(K,G),K.index=0,K.sibling=null,K}function v(K,G,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<G?(K.flags|=67108866,G):J):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function E(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function N(K,G,J,oe){return G===null||G.tag!==6?(G=$m(J,K.mode,oe),G.return=K,G):(G=y(G,J),G.return=K,G)}function U(K,G,J,oe){var _e=J.type;return _e===A?se(K,G,J.props.children,oe,J.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Wa(_e)===G.type)?(G=y(G,J.props),wu(G,J),G.return=K,G):(G=Mh(J.type,J.key,J.props,null,K.mode,oe),wu(G,J),G.return=K,G)}function X(K,G,J,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=Gm(J,K.mode,oe),G.return=K,G):(G=y(G,J.children||[]),G.return=K,G)}function se(K,G,J,oe,_e){return G===null||G.tag!==7?(G=Ua(J,K.mode,oe,_e),G.return=K,G):(G=y(G,J),G.return=K,G)}function ce(K,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=$m(""+G,K.mode,J),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return J=Mh(G.type,G.key,G.props,null,K.mode,J),wu(J,G),J.return=K,J;case T:return G=Gm(G,K.mode,J),G.return=K,G;case I:return G=Wa(G),ce(K,G,J)}if(Ee(G)||H(G))return G=Ua(G,K.mode,J,null),G.return=K,G;if(typeof G.then=="function")return ce(K,Hh(G),J);if(G.$$typeof===V)return ce(K,Fh(K,G),J);$h(K,G)}return null}function ee(K,G,J,oe){var _e=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return _e!==null?null:N(K,G,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return J.key===_e?U(K,G,J,oe):null;case T:return J.key===_e?X(K,G,J,oe):null;case I:return J=Wa(J),ee(K,G,J,oe)}if(Ee(J)||H(J))return _e!==null?null:se(K,G,J,oe,null);if(typeof J.then=="function")return ee(K,G,Hh(J),oe);if(J.$$typeof===V)return ee(K,G,Fh(K,J),oe);$h(K,J)}return null}function ne(K,G,J,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(J)||null,N(G,K,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return K=K.get(oe.key===null?J:oe.key)||null,U(G,K,oe,_e);case T:return K=K.get(oe.key===null?J:oe.key)||null,X(G,K,oe,_e);case I:return oe=Wa(oe),ne(K,G,J,oe,_e)}if(Ee(oe)||H(oe))return K=K.get(J)||null,se(G,K,oe,_e,null);if(typeof oe.then=="function")return ne(K,G,J,Hh(oe),_e);if(oe.$$typeof===V)return ne(K,G,J,Fh(G,oe),_e);$h(G,oe)}return null}function ge(K,G,J,oe){for(var _e=null,lt=null,we=G,$e=G=0,nt=null;we!==null&&$e<J.length;$e++){we.index>$e?(nt=we,we=null):nt=we.sibling;var ct=ee(K,we,J[$e],oe);if(ct===null){we===null&&(we=nt);break}r&&we&&ct.alternate===null&&a(K,we),G=v(ct,G,$e),lt===null?_e=ct:lt.sibling=ct,lt=ct,we=nt}if($e===J.length)return c(K,we),rt&&Fr(K,$e),_e;if(we===null){for(;$e<J.length;$e++)we=ce(K,J[$e],oe),we!==null&&(G=v(we,G,$e),lt===null?_e=we:lt.sibling=we,lt=we);return rt&&Fr(K,$e),_e}for(we=f(we);$e<J.length;$e++)nt=ne(we,K,$e,J[$e],oe),nt!==null&&(r&&nt.alternate!==null&&we.delete(nt.key===null?$e:nt.key),G=v(nt,G,$e),lt===null?_e=nt:lt.sibling=nt,lt=nt);return r&&we.forEach(function(ea){return a(K,ea)}),rt&&Fr(K,$e),_e}function ke(K,G,J,oe){if(J==null)throw Error(i(151));for(var _e=null,lt=null,we=G,$e=G=0,nt=null,ct=J.next();we!==null&&!ct.done;$e++,ct=J.next()){we.index>$e?(nt=we,we=null):nt=we.sibling;var ea=ee(K,we,ct.value,oe);if(ea===null){we===null&&(we=nt);break}r&&we&&ea.alternate===null&&a(K,we),G=v(ea,G,$e),lt===null?_e=ea:lt.sibling=ea,lt=ea,we=nt}if(ct.done)return c(K,we),rt&&Fr(K,$e),_e;if(we===null){for(;!ct.done;$e++,ct=J.next())ct=ce(K,ct.value,oe),ct!==null&&(G=v(ct,G,$e),lt===null?_e=ct:lt.sibling=ct,lt=ct);return rt&&Fr(K,$e),_e}for(we=f(we);!ct.done;$e++,ct=J.next())ct=ne(we,K,$e,ct.value,oe),ct!==null&&(r&&ct.alternate!==null&&we.delete(ct.key===null?$e:ct.key),G=v(ct,G,$e),lt===null?_e=ct:lt.sibling=ct,lt=ct);return r&&we.forEach(function(JR){return a(K,JR)}),rt&&Fr(K,$e),_e}function bt(K,G,J,oe){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case S:e:{for(var _e=J.key;G!==null;){if(G.key===_e){if(_e=J.type,_e===A){if(G.tag===7){c(K,G.sibling),oe=y(G,J.props.children),oe.return=K,K=oe;break e}}else if(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===I&&Wa(_e)===G.type){c(K,G.sibling),oe=y(G,J.props),wu(oe,J),oe.return=K,K=oe;break e}c(K,G);break}else a(K,G);G=G.sibling}J.type===A?(oe=Ua(J.props.children,K.mode,oe,J.key),oe.return=K,K=oe):(oe=Mh(J.type,J.key,J.props,null,K.mode,oe),wu(oe,J),oe.return=K,K=oe)}return E(K);case T:e:{for(_e=J.key;G!==null;){if(G.key===_e)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(K,G.sibling),oe=y(G,J.children||[]),oe.return=K,K=oe;break e}else{c(K,G);break}else a(K,G);G=G.sibling}oe=Gm(J,K.mode,oe),oe.return=K,K=oe}return E(K);case I:return J=Wa(J),bt(K,G,J,oe)}if(Ee(J))return ge(K,G,J,oe);if(H(J)){if(_e=H(J),typeof _e!="function")throw Error(i(150));return J=_e.call(J),ke(K,G,J,oe)}if(typeof J.then=="function")return bt(K,G,Hh(J),oe);if(J.$$typeof===V)return bt(K,G,Fh(K,J),oe);$h(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(c(K,G.sibling),oe=y(G,J),oe.return=K,K=oe):(c(K,G),oe=$m(J,K.mode,oe),oe.return=K,K=oe),E(K)):c(K,G)}return function(K,G,J,oe){try{Su=0;var _e=bt(K,G,J,oe);return hl=null,_e}catch(we){if(we===dl||we===zh)throw we;var lt=fi(29,we,null,K.mode);return lt.lanes=oe,lt.return=K,lt}}}var Ya=Ub(!0),Hb=Ub(!1),Vs=!1;function ig(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ls(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fs(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ht&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Oh(r),Cb(r,null,c),a}return Ph(r,f,a,c),Oh(r)}function Tu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,ys(r,c)}}function sg(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?y=v=a:v=v.next=a}else y=v=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var ag=!1;function Eu(){if(ag){var r=ul;if(r!==null)throw r}}function _u(r,a,c,f){ag=!1;var y=r.updateQueue;Vs=!1;var v=y.firstBaseUpdate,E=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var U=N,X=U.next;U.next=null,E===null?v=X:E.next=X,E=U;var se=r.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==E&&(N===null?se.firstBaseUpdate=X:N.next=X,se.lastBaseUpdate=U))}if(v!==null){var ce=y.baseState;E=0,se=X=U=null,N=v;do{var ee=N.lane&-536870913,ne=ee!==N.lane;if(ne?(tt&ee)===ee:(f&ee)===ee){ee!==0&&ee===cl&&(ag=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ge=r,ke=N;ee=a;var bt=c;switch(ke.tag){case 1:if(ge=ke.payload,typeof ge=="function"){ce=ge.call(bt,ce,ee);break e}ce=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ke.payload,ee=typeof ge=="function"?ge.call(bt,ce,ee):ge,ee==null)break e;ce=x({},ce,ee);break e;case 2:Vs=!0}}ee=N.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(X=se=ne,U=ce):se=se.next=ne,E|=ee;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);se===null&&(U=ce),y.baseState=U,y.firstBaseUpdate=X,y.lastBaseUpdate=se,v===null&&(y.shared.lanes=0),$s|=E,r.lanes=E,r.memoizedState=ce}}function $b(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Gb(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)$b(c[r],a)}var fl=z(null),Gh=z(0);function qb(r,a){r=Qr,te(Gh,r),te(fl,a),Qr=r|a.baseLanes}function og(){te(Gh,Qr),te(fl,fl.current)}function lg(){Qr=Gh.current,Z(fl),Z(Gh)}var pi=z(null),Di=null;function Bs(r){var a=r.alternate;te(Yt,Yt.current&1),te(pi,r),Di===null&&(a===null||fl.current!==null||a.memoizedState!==null)&&(Di=r)}function cg(r){te(Yt,Yt.current),te(pi,r),Di===null&&(Di=r)}function Wb(r){r.tag===22?(te(Yt,Yt.current),te(pi,r),Di===null&&(Di=r)):zs()}function zs(){te(Yt,Yt.current),te(pi,pi.current)}function mi(r){Z(pi),Di===r&&(Di=null),Z(Yt)}var Yt=z(0);function qh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||my(c)||gy(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ur=0,He=null,xt=null,sn=null,Wh=!1,pl=!1,Qa=!1,Kh=0,Cu=0,ml=null,zj=0;function $t(){throw Error(i(321))}function ug(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!hi(r[c],a[c]))return!1;return!0}function dg(r,a,c,f,y,v){return Ur=v,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=r===null||r.memoizedState===null?R1:Cg,Qa=!1,v=c(f,y),Qa=!1,pl&&(v=Yb(a,c,f,y)),Kb(r),v}function Kb(r){O.H=ju;var a=xt!==null&&xt.next!==null;if(Ur=0,sn=xt=He=null,Wh=!1,Cu=0,ml=null,a)throw Error(i(300));r===null||an||(r=r.dependencies,r!==null&&Lh(r)&&(an=!0))}function Yb(r,a,c,f){He=r;var y=0;do{if(pl&&(ml=null),Cu=0,pl=!1,25<=y)throw Error(i(301));if(y+=1,sn=xt=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}O.H=N1,v=a(c,f)}while(pl);return v}function Uj(){var r=O.H,a=r.useState()[0];return a=typeof a.then=="function"?Au(a):a,r=r.useState()[0],(xt!==null?xt.memoizedState:null)!==r&&(He.flags|=1024),a}function hg(){var r=Kh!==0;return Kh=0,r}function fg(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function pg(r){if(Wh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Wh=!1}Ur=0,sn=xt=He=null,pl=!1,Cu=Kh=0,ml=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?He.memoizedState=sn=r:sn=sn.next=r,sn}function Qt(){if(xt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var a=sn===null?He.memoizedState:sn.next;if(a!==null)sn=a,xt=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},sn===null?He.memoizedState=sn=r:sn=sn.next=r}return sn}function Yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(r){var a=Cu;return Cu+=1,ml===null&&(ml=[]),r=Fb(ml,r,a),a=He,(sn===null?a.memoizedState:sn.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?R1:Cg),r}function Qh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Au(r);if(r.$$typeof===V)return Rn(r)}throw Error(i(438,String(r)))}function mg(r){var a=null,c=He.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=He.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Yh(),He.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),f=0;f<r;f++)c[f]=L;return a.index++,c}function Hr(r,a){return typeof a=="function"?a(r):a}function Jh(r){var a=Qt();return gg(a,xt,r)}function gg(r,a,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var y=r.baseQueue,v=f.pending;if(v!==null){if(y!==null){var E=y.next;y.next=v.next,v.next=E}a.baseQueue=y=v,f.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{a=y.next;var N=E=null,U=null,X=a,se=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(tt&ce)===ce:(Ur&ce)===ce){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===cl&&(se=!0);else if((Ur&ee)===ee){X=X.next,ee===cl&&(se=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(N=U=ce,E=v):U=U.next=ce,He.lanes|=ee,$s|=ee;ce=X.action,Qa&&c(v,ce),v=X.hasEagerState?X.eagerState:c(v,ce)}else ee={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(N=U=ee,E=v):U=U.next=ee,He.lanes|=ce,$s|=ce;X=X.next}while(X!==null&&X!==a);if(U===null?E=v:U.next=N,!hi(v,r.memoizedState)&&(an=!0,se&&(c=ul,c!==null)))throw c;r.memoizedState=v,r.baseState=E,r.baseQueue=U,f.lastRenderedState=v}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function yg(r){var a=Qt(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,v=a.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do v=r(v,E.action),E=E.next;while(E!==y);hi(v,a.memoizedState)||(an=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function Qb(r,a,c){var f=He,y=Qt(),v=rt;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!hi((xt||y).memoizedState,c);if(E&&(y.memoizedState=c,an=!0),y=y.queue,bg(Zb.bind(null,f,y,r),[r]),y.getSnapshot!==a||E||sn!==null&&sn.memoizedState.tag&1){if(f.flags|=2048,gl(9,{destroy:void 0},Xb.bind(null,f,y,c,a),null),Tt===null)throw Error(i(349));v||(Ur&127)!==0||Jb(f,a,c)}return c}function Jb(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=He.updateQueue,a===null?(a=Yh(),He.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Xb(r,a,c,f){a.value=c,a.getSnapshot=f,e1(a)&&t1(r)}function Zb(r,a,c){return c(function(){e1(a)&&t1(r)})}function e1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!hi(r,c)}catch{return!0}}function t1(r){var a=za(r,2);a!==null&&oi(a,r,2)}function xg(r){var a=Qn();if(typeof r=="function"){var c=r;if(r=c(),Qa){Cn(!0);try{c()}finally{Cn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:r},a}function n1(r,a,c,f){return r.baseState=c,gg(r,xt,typeof f=="function"?f:Hr)}function Hj(r,a,c,f,y){if(ef(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};O.T!==null?c(!0):v.isTransition=!1,f(v),c=a.pending,c===null?(v.next=a.pending=v,i1(a,v)):(v.next=c.next,a.pending=c.next=v)}}function i1(r,a){var c=a.action,f=a.payload,y=r.state;if(a.isTransition){var v=O.T,E={};O.T=E;try{var N=c(y,f),U=O.S;U!==null&&U(E,N),r1(r,a,N)}catch(X){vg(r,a,X)}finally{v!==null&&E.types!==null&&(v.types=E.types),O.T=v}}else try{v=c(y,f),r1(r,a,v)}catch(X){vg(r,a,X)}}function r1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){s1(r,a,f)},function(f){return vg(r,a,f)}):s1(r,a,c)}function s1(r,a,c){a.status="fulfilled",a.value=c,a1(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,i1(r,c)))}function vg(r,a,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,a1(a),a=a.next;while(a!==f)}r.action=null}function a1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function o1(r,a){return a}function l1(r,a){if(rt){var c=Tt.formState;if(c!==null){e:{var f=He;if(rt){if(Nt){t:{for(var y=Nt,v=Ni;y.nodeType!==8;){if(!v){y=null;break t}if(y=ki(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Nt=ki(y.nextSibling),f=y.data==="F!";break e}}Os(f)}f=!1}f&&(a=c[0])}}return c=Qn(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o1,lastRenderedState:a},c.queue=f,c=A1.bind(null,He,f),f.dispatch=c,f=xg(!1),v=_g.bind(null,He,!1,f.queue),f=Qn(),y={state:a,dispatch:null,action:r,pending:null},f.queue=y,c=Hj.bind(null,He,y,v,c),y.dispatch=c,f.memoizedState=r,[a,c,!1]}function c1(r){var a=Qt();return u1(a,xt,r)}function u1(r,a,c){if(a=gg(r,a,o1)[0],r=Jh(Hr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Au(a)}catch(E){throw E===dl?zh:E}else f=a;a=Qt();var y=a.queue,v=y.dispatch;return c!==a.memoizedState&&(He.flags|=2048,gl(9,{destroy:void 0},$j.bind(null,y,c),null)),[f,v,r]}function $j(r,a){r.action=a}function d1(r){var a=Qt(),c=xt;if(c!==null)return u1(a,c,r);Qt(),a=a.memoizedState,c=Qt();var f=c.queue.dispatch;return c.memoizedState=r,[a,f,!1]}function gl(r,a,c,f){return r={tag:r,create:c,deps:f,inst:a,next:null},a=He.updateQueue,a===null&&(a=Yh(),He.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r),r}function h1(){return Qt().memoizedState}function Xh(r,a,c,f){var y=Qn();He.flags|=r,y.memoizedState=gl(1|a,{destroy:void 0},c,f===void 0?null:f)}function Zh(r,a,c,f){var y=Qt();f=f===void 0?null:f;var v=y.memoizedState.inst;xt!==null&&f!==null&&ug(f,xt.memoizedState.deps)?y.memoizedState=gl(a,v,c,f):(He.flags|=r,y.memoizedState=gl(1|a,v,c,f))}function f1(r,a){Xh(8390656,8,r,a)}function bg(r,a){Zh(2048,8,r,a)}function Gj(r){He.flags|=4;var a=He.updateQueue;if(a===null)a=Yh(),He.updateQueue=a,a.events=[r];else{var c=a.events;c===null?a.events=[r]:c.push(r)}}function p1(r){var a=Qt().memoizedState;return Gj({ref:a,nextImpl:r}),function(){if((ht&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function m1(r,a){return Zh(4,2,r,a)}function g1(r,a){return Zh(4,4,r,a)}function y1(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function x1(r,a,c){c=c!=null?c.concat([r]):null,Zh(4,4,y1.bind(null,a,r),c)}function Sg(){}function v1(r,a){var c=Qt();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&ug(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function b1(r,a){var c=Qt();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&ug(a,f[1]))return f[0];if(f=r(),Qa){Cn(!0);try{r()}finally{Cn(!1)}}return c.memoizedState=[f,a],f}function wg(r,a,c){return c===void 0||(Ur&1073741824)!==0&&(tt&261930)===0?r.memoizedState=a:(r.memoizedState=c,r=SS(),He.lanes|=r,$s|=r,c)}function S1(r,a,c,f){return hi(c,a)?c:fl.current!==null?(r=wg(r,c,f),hi(r,a)||(an=!0),r):(Ur&42)===0||(Ur&1073741824)!==0&&(tt&261930)===0?(an=!0,r.memoizedState=c):(r=SS(),He.lanes|=r,$s|=r,a)}function w1(r,a,c,f,y){var v=q.p;q.p=v!==0&&8>v?v:8;var E=O.T,N={};O.T=N,_g(r,!1,a,c);try{var U=y(),X=O.S;if(X!==null&&X(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=Bj(U,f);Iu(r,a,se,xi(r))}else Iu(r,a,f,xi(r))}catch(ce){Iu(r,a,{then:function(){},status:"rejected",reason:ce},xi())}finally{q.p=v,E!==null&&N.types!==null&&(E.types=N.types),O.T=E}}function qj(){}function Tg(r,a,c,f){if(r.tag!==5)throw Error(i(476));var y=T1(r).queue;w1(r,y,a,ae,c===null?qj:function(){return E1(r),c(f)})}function T1(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:ae},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function E1(r){var a=T1(r);a.next===null&&(a=r.alternate.memoizedState),Iu(r,a.next.queue,{},xi())}function Eg(){return Rn(Gu)}function _1(){return Qt().memoizedState}function C1(){return Qt().memoizedState}function Wj(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=xi();r=Ls(c);var f=Fs(a,r,c);f!==null&&(oi(f,a,c),Tu(f,a,c)),a={cache:Zm()},r.payload=a;return}a=a.return}}function Kj(r,a,c){var f=xi();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ef(r)?I1(a,c):(c=Um(r,a,c,f),c!==null&&(oi(c,r,f),j1(c,a,f)))}function A1(r,a,c){var f=xi();Iu(r,a,c,f)}function Iu(r,a,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ef(r))I1(a,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,N=v(E,c);if(y.hasEagerState=!0,y.eagerState=N,hi(N,E))return Ph(r,a,y,0),Tt===null&&kh(),!1}catch{}if(c=Um(r,a,y,f),c!==null)return oi(c,r,f),j1(c,a,f),!0}return!1}function _g(r,a,c,f){if(f={lane:2,revertLane:iy(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ef(r)){if(a)throw Error(i(479))}else a=Um(r,c,f,2),a!==null&&oi(a,r,2)}function ef(r){var a=r.alternate;return r===He||a!==null&&a===He}function I1(r,a){pl=Wh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function j1(r,a,c){if((c&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,ys(r,c)}}var ju={readContext:Rn,use:Qh,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};ju.useEffectEvent=$t;var R1={readContext:Rn,use:Qh,useCallback:function(r,a){return Qn().memoizedState=[r,a===void 0?null:a],r},useContext:Rn,useEffect:f1,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Xh(4194308,4,y1.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Xh(4194308,4,r,a)},useInsertionEffect:function(r,a){Xh(4,2,r,a)},useMemo:function(r,a){var c=Qn();a=a===void 0?null:a;var f=r();if(Qa){Cn(!0);try{r()}finally{Cn(!1)}}return c.memoizedState=[f,a],f},useReducer:function(r,a,c){var f=Qn();if(c!==void 0){var y=c(a);if(Qa){Cn(!0);try{c(a)}finally{Cn(!1)}}}else y=a;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=Kj.bind(null,He,r),[f.memoizedState,r]},useRef:function(r){var a=Qn();return r={current:r},a.memoizedState=r},useState:function(r){r=xg(r);var a=r.queue,c=A1.bind(null,He,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Sg,useDeferredValue:function(r,a){var c=Qn();return wg(c,r,a)},useTransition:function(){var r=xg(!1);return r=w1.bind(null,He,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var f=He,y=Qn();if(rt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),Tt===null)throw Error(i(349));(tt&127)!==0||Jb(f,a,c)}y.memoizedState=c;var v={value:c,getSnapshot:a};return y.queue=v,f1(Zb.bind(null,f,v,r),[r]),f.flags|=2048,gl(9,{destroy:void 0},Xb.bind(null,f,v,c,a),null),c},useId:function(){var r=Qn(),a=Tt.identifierPrefix;if(rt){var c=dr,f=ur;c=(f&~(1<<32-xn(f)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=zj++,a="_"+a+"r_"+c.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Eg,useFormState:l1,useActionState:l1,useOptimistic:function(r){var a=Qn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=_g.bind(null,He,!0,c),c.dispatch=a,[r,a]},useMemoCache:mg,useCacheRefresh:function(){return Qn().memoizedState=Wj.bind(null,He)},useEffectEvent:function(r){var a=Qn(),c={impl:r};return a.memoizedState=c,function(){if((ht&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Cg={readContext:Rn,use:Qh,useCallback:v1,useContext:Rn,useEffect:bg,useImperativeHandle:x1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:b1,useReducer:Jh,useRef:h1,useState:function(){return Jh(Hr)},useDebugValue:Sg,useDeferredValue:function(r,a){var c=Qt();return S1(c,xt.memoizedState,r,a)},useTransition:function(){var r=Jh(Hr)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Au(r),a]},useSyncExternalStore:Qb,useId:_1,useHostTransitionStatus:Eg,useFormState:c1,useActionState:c1,useOptimistic:function(r,a){var c=Qt();return n1(c,xt,r,a)},useMemoCache:mg,useCacheRefresh:C1};Cg.useEffectEvent=p1;var N1={readContext:Rn,use:Qh,useCallback:v1,useContext:Rn,useEffect:bg,useImperativeHandle:x1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:b1,useReducer:yg,useRef:h1,useState:function(){return yg(Hr)},useDebugValue:Sg,useDeferredValue:function(r,a){var c=Qt();return xt===null?wg(c,r,a):S1(c,xt.memoizedState,r,a)},useTransition:function(){var r=yg(Hr)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Au(r),a]},useSyncExternalStore:Qb,useId:_1,useHostTransitionStatus:Eg,useFormState:d1,useActionState:d1,useOptimistic:function(r,a){var c=Qt();return xt!==null?n1(c,xt,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:mg,useCacheRefresh:C1};N1.useEffectEvent=p1;function Ag(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:x({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ig={enqueueSetState:function(r,a,c){r=r._reactInternals;var f=xi(),y=Ls(f);y.payload=a,c!=null&&(y.callback=c),a=Fs(r,y,f),a!==null&&(oi(a,r,f),Tu(a,r,f))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=xi(),y=Ls(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Fs(r,y,f),a!==null&&(oi(a,r,f),Tu(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=xi(),f=Ls(c);f.tag=2,a!=null&&(f.callback=a),a=Fs(r,f,c),a!==null&&(oi(a,r,c),Tu(a,r,c))}};function D1(r,a,c,f,y,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,E):a.prototype&&a.prototype.isPureReactComponent?!mu(c,f)||!mu(y,v):!0}function k1(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&Ig.enqueueReplaceState(a,a.state,null)}function Ja(r,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(r=r.defaultProps){c===a&&(c=x({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}function P1(r){Dh(r)}function O1(r){console.error(r)}function M1(r){Dh(r)}function tf(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function V1(r,a,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function jg(r,a,c){return c=Ls(c),c.tag=3,c.payload={element:null},c.callback=function(){tf(r,a)},c}function L1(r){return r=Ls(r),r.tag=3,r}function F1(r,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;r.payload=function(){return y(v)},r.callback=function(){V1(a,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){V1(a,c,f),typeof y!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function Yj(r,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&ll(a,c,y,!0),c=pi.current,c!==null){switch(c.tag){case 31:case 13:return Di===null?pf():c.alternate===null&&Gt===0&&(Gt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Uh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),ey(r,f,y)),!1;case 22:return c.flags|=65536,f===Uh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),ey(r,f,y)),!1}throw Error(i(435,c.tag))}return ey(r,f,y),pf(),!1}if(rt)return a=pi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Km&&(r=Error(i(422),{cause:f}),xu(Ii(r,c)))):(f!==Km&&(a=Error(i(423),{cause:f}),xu(Ii(a,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=Ii(f,c),y=jg(r.stateNode,f,y),sg(r,y),Gt!==4&&(Gt=2)),!1;var v=Error(i(520),{cause:f});if(v=Ii(v,c),Vu===null?Vu=[v]:Vu.push(v),Gt!==4&&(Gt=2),a===null)return!0;f=Ii(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=jg(c.stateNode,f,r),sg(c,r),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Gs===null||!Gs.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=L1(y),F1(y,r,c,f),sg(c,y),!1}c=c.return}while(c!==null);return!1}var Rg=Error(i(461)),an=!1;function Nn(r,a,c,f){a.child=r===null?Hb(a,null,c,f):Ya(a,r.child,c,f)}function B1(r,a,c,f,y){c=c.render;var v=a.ref;if("ref"in f){var E={};for(var N in f)N!=="ref"&&(E[N]=f[N])}else E=f;return Ga(a),f=dg(r,a,c,E,v,y),N=hg(),r!==null&&!an?(fg(r,a,y),$r(r,a,y)):(rt&&N&&qm(a),a.flags|=1,Nn(r,a,f,y),a.child)}function z1(r,a,c,f,y){if(r===null){var v=c.type;return typeof v=="function"&&!Hm(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,U1(r,a,v,f,y)):(r=Mh(c.type,null,f,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!Lg(r,y)){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:mu,c(E,f)&&r.ref===a.ref)return $r(r,a,y)}return a.flags|=1,r=Lr(v,f),r.ref=a.ref,r.return=a,a.child=r}function U1(r,a,c,f,y){if(r!==null){var v=r.memoizedProps;if(mu(v,f)&&r.ref===a.ref)if(an=!1,a.pendingProps=f=v,Lg(r,y))(r.flags&131072)!==0&&(an=!0);else return a.lanes=r.lanes,$r(r,a,y)}return Ng(r,a,c,f,y)}function H1(r,a,c,f){var y=f.children,v=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,r!==null){for(f=a.child=r.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~v}else f=0,a.child=null;return $1(r,a,v,c,f)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bh(a,v!==null?v.cachePool:null),v!==null?qb(a,v):og(),Wb(a);else return f=a.lanes=536870912,$1(r,a,v!==null?v.baseLanes|c:c,c,f)}else v!==null?(Bh(a,v.cachePool),qb(a,v),zs(),a.memoizedState=null):(r!==null&&Bh(a,null),og(),zs());return Nn(r,a,y,c),a.child}function Ru(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $1(r,a,c,f,y){var v=tg();return v=v===null?null:{parent:rn._currentValue,pool:v},a.memoizedState={baseLanes:c,cachePool:v},r!==null&&Bh(a,null),og(),Wb(a),r!==null&&ll(r,a,f,!0),a.childLanes=y,null}function nf(r,a){return a=sf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function G1(r,a,c){return Ya(a,r.child,null,c),r=nf(a,a.pendingProps),r.flags|=2,mi(a),a.memoizedState=null,r}function Qj(r,a,c){var f=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(rt){if(f.mode==="hidden")return r=nf(a,f),a.lanes=536870912,Ru(null,r);if(cg(a),(r=Nt)?(r=i2(r,Ni),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ks!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},c=Ib(r),c.return=a,a.child=c,jn=a,Nt=null)):r=null,r===null)throw Os(a);return a.lanes=536870912,null}return nf(a,f)}var v=r.memoizedState;if(v!==null){var E=v.dehydrated;if(cg(a),y)if(a.flags&256)a.flags&=-257,a=G1(r,a,c);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(an||ll(r,a,c,!1),y=(c&r.childLanes)!==0,an||y){if(f=Tt,f!==null&&(E=xs(f,c),E!==0&&E!==v.retryLane))throw v.retryLane=E,za(r,E),oi(f,r,E),Rg;pf(),a=G1(r,a,c)}else r=v.treeContext,Nt=ki(E.nextSibling),jn=a,rt=!0,Ps=null,Ni=!1,r!==null&&Nb(a,r),a=nf(a,f),a.flags|=4096;return a}return r=Lr(r.child,{mode:f.mode,children:f.children}),r.ref=a.ref,a.child=r,r.return=a,r}function rf(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Ng(r,a,c,f,y){return Ga(a),c=dg(r,a,c,f,void 0,y),f=hg(),r!==null&&!an?(fg(r,a,y),$r(r,a,y)):(rt&&f&&qm(a),a.flags|=1,Nn(r,a,c,y),a.child)}function q1(r,a,c,f,y,v){return Ga(a),a.updateQueue=null,c=Yb(a,f,c,y),Kb(r),f=hg(),r!==null&&!an?(fg(r,a,v),$r(r,a,v)):(rt&&f&&qm(a),a.flags|=1,Nn(r,a,c,v),a.child)}function W1(r,a,c,f,y){if(Ga(a),a.stateNode===null){var v=rl,E=c.contextType;typeof E=="object"&&E!==null&&(v=Rn(E)),v=new c(f,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ig,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=f,v.state=a.memoizedState,v.refs={},ig(a),E=c.contextType,v.context=typeof E=="object"&&E!==null?Rn(E):rl,v.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ag(a,c,E,f),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Ig.enqueueReplaceState(v,v.state,null),_u(a,f,v,y),Eu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){v=a.stateNode;var N=a.memoizedProps,U=Ja(c,N);v.props=U;var X=v.context,se=c.contextType;E=rl,typeof se=="object"&&se!==null&&(E=Rn(se));var ce=c.getDerivedStateFromProps;se=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||X!==E)&&k1(a,v,f,E),Vs=!1;var ee=a.memoizedState;v.state=ee,_u(a,f,v,y),Eu(),X=a.memoizedState,N||ee!==X||Vs?(typeof ce=="function"&&(Ag(a,c,ce,f),X=a.memoizedState),(U=Vs||D1(a,c,U,f,ee,X,E))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=X),v.props=f,v.state=X,v.context=E,f=U):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{v=a.stateNode,rg(r,a),E=a.memoizedProps,se=Ja(c,E),v.props=se,ce=a.pendingProps,ee=v.context,X=c.contextType,U=rl,typeof X=="object"&&X!==null&&(U=Rn(X)),N=c.getDerivedStateFromProps,(X=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ce||ee!==U)&&k1(a,v,f,U),Vs=!1,ee=a.memoizedState,v.state=ee,_u(a,f,v,y),Eu();var ne=a.memoizedState;E!==ce||ee!==ne||Vs||r!==null&&r.dependencies!==null&&Lh(r.dependencies)?(typeof N=="function"&&(Ag(a,c,N,f),ne=a.memoizedState),(se=Vs||D1(a,c,se,f,ee,ne,U)||r!==null&&r.dependencies!==null&&Lh(r.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ne,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ne,U)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ne),v.props=f,v.state=ne,v.context=U,f=se):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),f=!1)}return v=f,rf(r,a),f=(a.flags&128)!==0,v||f?(v=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&f?(a.child=Ya(a,r.child,null,y),a.child=Ya(a,null,c,y)):Nn(r,a,c,y),a.memoizedState=v.state,r=a.child):r=$r(r,a,y),r}function K1(r,a,c,f){return Ha(),a.flags|=256,Nn(r,a,c,f),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kg(r){return{baseLanes:r,cachePool:Vb()}}function Pg(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=yi),r}function Y1(r,a,c){var f=a.pendingProps,y=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),E&&(y=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(rt){if(y?Bs(a):zs(),(r=Nt)?(r=i2(r,Ni),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ks!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},c=Ib(r),c.return=a,a.child=c,jn=a,Nt=null)):r=null,r===null)throw Os(a);return gy(r)?a.lanes=32:a.lanes=536870912,null}var N=f.children;return f=f.fallback,y?(zs(),y=a.mode,N=sf({mode:"hidden",children:N},y),f=Ua(f,y,c,null),N.return=a,f.return=a,N.sibling=f,a.child=N,f=a.child,f.memoizedState=kg(c),f.childLanes=Pg(r,E,c),a.memoizedState=Dg,Ru(null,f)):(Bs(a),Og(a,N))}var U=r.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(v)a.flags&256?(Bs(a),a.flags&=-257,a=Mg(r,a,c)):a.memoizedState!==null?(zs(),a.child=r.child,a.flags|=128,a=null):(zs(),N=f.fallback,y=a.mode,f=sf({mode:"visible",children:f.children},y),N=Ua(N,y,c,null),N.flags|=2,f.return=a,N.return=a,f.sibling=N,a.child=f,Ya(a,r.child,null,c),f=a.child,f.memoizedState=kg(c),f.childLanes=Pg(r,E,c),a.memoizedState=Dg,a=Ru(null,f));else if(Bs(a),gy(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var X=E.dgst;E=X,f=Error(i(419)),f.stack="",f.digest=E,xu({value:f,source:null,stack:null}),a=Mg(r,a,c)}else if(an||ll(r,a,c,!1),E=(c&r.childLanes)!==0,an||E){if(E=Tt,E!==null&&(f=xs(E,c),f!==0&&f!==U.retryLane))throw U.retryLane=f,za(r,f),oi(E,r,f),Rg;my(N)||pf(),a=Mg(r,a,c)}else my(N)?(a.flags|=192,a.child=r.child,a=null):(r=U.treeContext,Nt=ki(N.nextSibling),jn=a,rt=!0,Ps=null,Ni=!1,r!==null&&Nb(a,r),a=Og(a,f.children),a.flags|=4096);return a}return y?(zs(),N=f.fallback,y=a.mode,U=r.child,X=U.sibling,f=Lr(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,X!==null?N=Lr(X,N):(N=Ua(N,y,c,null),N.flags|=2),N.return=a,f.return=a,f.sibling=N,a.child=f,Ru(null,f),f=a.child,N=r.child.memoizedState,N===null?N=kg(c):(y=N.cachePool,y!==null?(U=rn._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=Vb(),N={baseLanes:N.baseLanes|c,cachePool:y}),f.memoizedState=N,f.childLanes=Pg(r,E,c),a.memoizedState=Dg,Ru(r.child,f)):(Bs(a),c=r.child,r=c.sibling,c=Lr(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=c,a.memoizedState=null,c)}function Og(r,a){return a=sf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function sf(r,a){return r=fi(22,r,null,a),r.lanes=0,r}function Mg(r,a,c){return Ya(a,r.child,null,c),r=Og(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Q1(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),Jm(r.return,a,c)}function Vg(r,a,c,f,y,v){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:v}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=c,E.tailMode=y,E.treeForkCount=v)}function J1(r,a,c){var f=a.pendingProps,y=f.revealOrder,v=f.tail;f=f.children;var E=Yt.current,N=(E&2)!==0;if(N?(E=E&1|2,a.flags|=128):E&=1,te(Yt,E),Nn(r,a,f,c),f=rt?yu:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Q1(r,c,a);else if(r.tag===19)Q1(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(c=a.child,y=null;c!==null;)r=c.alternate,r!==null&&qh(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Vg(a,!1,y,c,v,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&qh(r)===null){a.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}Vg(a,!0,c,null,v,f);break;case"together":Vg(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function $r(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),$s|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(ll(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Lr(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Lr(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Lg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Lh(r)))}function Jj(r,a,c){switch(a.tag){case 3:wt(a,a.stateNode.containerInfo),Ms(a,rn,r.memoizedState.cache),Ha();break;case 27:case 5:hn(a);break;case 4:wt(a,a.stateNode.containerInfo);break;case 10:Ms(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,cg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Bs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Y1(r,a,c):(Bs(a),r=$r(r,a,c),r!==null?r.sibling:null);Bs(a);break;case 19:var y=(r.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(ll(r,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return J1(r,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),te(Yt,Yt.current),f)break;return null;case 22:return a.lanes=0,H1(r,a,c,a.pendingProps);case 24:Ms(a,rn,r.memoizedState.cache)}return $r(r,a,c)}function X1(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)an=!0;else{if(!Lg(r,c)&&(a.flags&128)===0)return an=!1,Jj(r,a,c);an=(r.flags&131072)!==0}else an=!1,rt&&(a.flags&1048576)!==0&&Rb(a,yu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(r=Wa(a.elementType),a.type=r,typeof r=="function")Hm(r)?(f=Ja(r,f),a.tag=1,a=W1(null,a,r,f,c)):(a.tag=0,a=Ng(null,a,r,f,c));else{if(r!=null){var y=r.$$typeof;if(y===$){a.tag=11,a=B1(null,a,r,f,c);break e}else if(y===R){a.tag=14,a=z1(null,a,r,f,c);break e}}throw a=xe(r)||r,Error(i(306,a,""))}}return a;case 0:return Ng(r,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=Ja(f,a.pendingProps),W1(r,a,f,y,c);case 3:e:{if(wt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var v=a.memoizedState;y=v.element,rg(r,a),_u(a,f,null,c);var E=a.memoizedState;if(f=E.cache,Ms(a,rn,f),f!==v.cache&&Xm(a,[rn],c,!0),Eu(),f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=K1(r,a,f,c);break e}else if(f!==y){y=Ii(Error(i(424)),a),xu(y),a=K1(r,a,f,c);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Nt=ki(r.firstChild),jn=a,rt=!0,Ps=null,Ni=!0,c=Hb(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ha(),f===y){a=$r(r,a,c);break e}Nn(r,a,f,c)}a=a.child}return a;case 26:return rf(r,a),r===null?(c=c2(a.type,null,a.pendingProps,null))?a.memoizedState=c:rt||(c=a.type,r=a.pendingProps,f=Sf(je.current).createElement(c),f[Ut]=a,f[In]=r,Dn(f,c,r),Kt(f),a.stateNode=f):a.memoizedState=c2(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return hn(a),r===null&&rt&&(f=a.stateNode=a2(a.type,a.pendingProps,je.current),jn=a,Ni=!0,y=Nt,Ys(a.type)?(yy=y,Nt=ki(f.firstChild)):Nt=y),Nn(r,a,a.pendingProps.children,c),rf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&rt&&((y=f=Nt)&&(f=AR(f,a.type,a.pendingProps,Ni),f!==null?(a.stateNode=f,jn=a,Nt=ki(f.firstChild),Ni=!1,y=!0):y=!1),y||Os(a)),hn(a),y=a.type,v=a.pendingProps,E=r!==null?r.memoizedProps:null,f=v.children,hy(y,v)?f=null:E!==null&&hy(y,E)&&(a.flags|=32),a.memoizedState!==null&&(y=dg(r,a,Uj,null,null,c),Gu._currentValue=y),rf(r,a),Nn(r,a,f,c),a.child;case 6:return r===null&&rt&&((r=c=Nt)&&(c=IR(c,a.pendingProps,Ni),c!==null?(a.stateNode=c,jn=a,Nt=null,r=!0):r=!1),r||Os(a)),null;case 13:return Y1(r,a,c);case 4:return wt(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=Ya(a,null,f,c):Nn(r,a,f,c),a.child;case 11:return B1(r,a,a.type,a.pendingProps,c);case 7:return Nn(r,a,a.pendingProps,c),a.child;case 8:return Nn(r,a,a.pendingProps.children,c),a.child;case 12:return Nn(r,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,Ms(a,a.type,f.value),Nn(r,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,Ga(a),y=Rn(y),f=f(y),a.flags|=1,Nn(r,a,f,c),a.child;case 14:return z1(r,a,a.type,a.pendingProps,c);case 15:return U1(r,a,a.type,a.pendingProps,c);case 19:return J1(r,a,c);case 31:return Qj(r,a,c);case 22:return H1(r,a,c,a.pendingProps);case 24:return Ga(a),f=Rn(rn),r===null?(y=tg(),y===null&&(y=Tt,v=Zm(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),a.memoizedState={parent:f,cache:y},ig(a),Ms(a,rn,y)):((r.lanes&c)!==0&&(rg(r,a),_u(a,null,null,c),Eu()),y=r.memoizedState,v=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Ms(a,rn,f)):(f=v.cache,Ms(a,rn,f),f!==y.cache&&Xm(a,[rn],c,!0))),Nn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Gr(r){r.flags|=4}function Fg(r,a,c,f,y){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(_S())r.flags|=8192;else throw Ka=Uh,ng}else r.flags&=-16777217}function Z1(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!p2(a))if(_S())r.flags|=8192;else throw Ka=Uh,ng}function af(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Jc():536870912,r.lanes|=a,bl|=a)}function Nu(r,a){if(!rt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Dt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function Xj(r,a,c){var f=a.pendingProps;switch(Wm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return c=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),zr(rn),dt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ol(a)?Gr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ym())),Dt(a),null;case 26:var y=a.type,v=a.memoizedState;return r===null?(Gr(a),v!==null?(Dt(a),Z1(a,v)):(Dt(a),Fg(a,y,null,f,c))):v?v!==r.memoizedState?(Gr(a),Dt(a),Z1(a,v)):(Dt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==f&&Gr(a),Dt(a),Fg(a,y,r,f,c)),null;case 27:if(ue(a),c=je.current,y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Gr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Dt(a),null}r=pe.current,ol(a)?Db(a):(r=a2(y,f,c),a.stateNode=r,Gr(a))}return Dt(a),null;case 5:if(ue(a),y=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Gr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Dt(a),null}if(v=pe.current,ol(a))Db(a);else{var E=Sf(je.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?E.createElement("select",{is:f.is}):E.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?E.createElement(y,{is:f.is}):E.createElement(y)}}v[Ut]=a,v[In]=f;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=v;e:switch(Dn(v,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Gr(a)}}return Dt(a),Fg(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,c),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&Gr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=je.current,ol(a)){if(r=a.stateNode,c=a.memoizedProps,f=null,y=jn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Ut]=a,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||YS(r.nodeValue,c)),r||Os(a,!0)}else r=Sf(r).createTextNode(f),r[Ut]=a,a.stateNode=r}return Dt(a),null;case 31:if(c=a.memoizedState,r===null||r.memoizedState!==null){if(f=ol(a),c!==null){if(r===null){if(!f)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ut]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),r=!1}else c=Ym(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=c),r=!0;if(!r)return a.flags&256?(mi(a),a):(mi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Dt(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ol(a),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Ut]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),y=!1}else y=Ym(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(mi(a),a):(mi(a),null)}return mi(a),(a.flags&128)!==0?(a.lanes=c,a):(c=f!==null,r=r!==null&&r.memoizedState!==null,c&&(f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)),c!==r&&c&&(a.child.flags|=8192),af(a,a.updateQueue),Dt(a),null);case 4:return dt(),r===null&&oy(a.stateNode.containerInfo),Dt(a),null;case 10:return zr(a.type),Dt(a),null;case 19:if(Z(Yt),f=a.memoizedState,f===null)return Dt(a),null;if(y=(a.flags&128)!==0,v=f.rendering,v===null)if(y)Nu(f,!1);else{if(Gt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=qh(r),v!==null){for(a.flags|=128,Nu(f,!1),r=v.updateQueue,a.updateQueue=r,af(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)Ab(c,r),c=c.sibling;return te(Yt,Yt.current&1|2),rt&&Fr(a,f.treeForkCount),a.child}r=r.sibling}f.tail!==null&&jt()>df&&(a.flags|=128,y=!0,Nu(f,!1),a.lanes=4194304)}else{if(!y)if(r=qh(v),r!==null){if(a.flags|=128,y=!0,r=r.updateQueue,a.updateQueue=r,af(a,r),Nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!rt)return Dt(a),null}else 2*jt()-f.renderingStartTime>df&&c!==536870912&&(a.flags|=128,y=!0,Nu(f,!1),a.lanes=4194304);f.isBackwards?(v.sibling=a.child,a.child=v):(r=f.last,r!==null?r.sibling=v:a.child=v,f.last=v)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=jt(),r.sibling=null,c=Yt.current,te(Yt,y?c&1|2:c&1),rt&&Fr(a,f.treeForkCount),r):(Dt(a),null);case 22:case 23:return mi(a),lg(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),c=a.updateQueue,c!==null&&af(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),r!==null&&Z(qa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),zr(rn),Dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Zj(r,a){switch(Wm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return zr(rn),dt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ue(a),null;case 31:if(a.memoizedState!==null){if(mi(a),a.alternate===null)throw Error(i(340));Ha()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(mi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ha()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(Yt),null;case 4:return dt(),null;case 10:return zr(a.type),null;case 22:case 23:return mi(a),lg(),r!==null&&Z(qa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return zr(rn),null;case 25:return null;default:return null}}function eS(r,a){switch(Wm(a),a.tag){case 3:zr(rn),dt();break;case 26:case 27:case 5:ue(a);break;case 4:dt();break;case 31:a.memoizedState!==null&&mi(a);break;case 13:mi(a);break;case 19:Z(Yt);break;case 10:zr(a.type);break;case 22:case 23:mi(a),lg(),r!==null&&Z(qa);break;case 24:zr(rn)}}function Du(r,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var v=c.create,E=c.inst;f=v(),E.destroy=f}c=c.next}while(c!==y)}}catch(N){gt(a,a.return,N)}}function Us(r,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&r)===r){var E=f.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,y=a;var U=c,X=N;try{X()}catch(se){gt(y,U,se)}}}f=f.next}while(f!==v)}}catch(se){gt(a,a.return,se)}}function tS(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Gb(a,c)}catch(f){gt(r,r.return,f)}}}function nS(r,a,c){c.props=Ja(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){gt(r,a,f)}}function ku(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){gt(r,a,y)}}function hr(r,a){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){gt(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){gt(r,a,y)}else c.current=null}function iS(r){var a=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){gt(r,r.return,y)}}function Bg(r,a,c){try{var f=r.stateNode;SR(f,r.type,c,a),f[In]=a}catch(y){gt(r,r.return,y)}}function rS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ys(r.type)||r.tag===4}function zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ys(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ug(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=vn));else if(f!==4&&(f===27&&Ys(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(Ug(r,a,c),r=r.sibling;r!==null;)Ug(r,a,c),r=r.sibling}function of(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&(f===27&&Ys(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(of(r,a,c),r=r.sibling;r!==null;)of(r,a,c),r=r.sibling}function sS(r){var a=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Dn(a,f,c),a[Ut]=r,a[In]=c}catch(v){gt(r,r.return,v)}}var qr=!1,on=!1,Hg=!1,aS=typeof WeakSet=="function"?WeakSet:Set,wn=null;function eR(r,a){if(r=r.containerInfo,uy=If,r=xb(r),Mm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,N=-1,U=-1,X=0,se=0,ce=r,ee=null;t:for(;;){for(var ne;ce!==c||y!==0&&ce.nodeType!==3||(N=E+y),ce!==v||f!==0&&ce.nodeType!==3||(U=E+f),ce.nodeType===3&&(E+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===r)break t;if(ee===c&&++X===y&&(N=E),ee===v&&++se===f&&(U=E),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}c=N===-1||U===-1?null:{start:N,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(dy={focusedElem:r,selectionRange:c},If=!1,wn=a;wn!==null;)if(a=wn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,wn=r;else for(;wn!==null;){switch(a=wn,v=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(c=0;c<r.length;c++)y=r[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=a,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var ge=Ja(c.type,y);r=f.getSnapshotBeforeUpdate(ge,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(ke){gt(c,c.return,ke)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)py(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":py(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,wn=r;break}wn=a.return}}function oS(r,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Kr(r,c),f&4&&Du(5,c);break;case 1:if(Kr(r,c),f&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(E){gt(c,c.return,E)}else{var y=Ja(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){gt(c,c.return,E)}}f&64&&tS(c),f&512&&ku(c,c.return);break;case 3:if(Kr(r,c),f&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Gb(r,a)}catch(E){gt(c,c.return,E)}}break;case 27:a===null&&f&4&&sS(c);case 26:case 5:Kr(r,c),a===null&&f&4&&iS(c),f&512&&ku(c,c.return);break;case 12:Kr(r,c);break;case 31:Kr(r,c),f&4&&uS(r,c);break;case 13:Kr(r,c),f&4&&dS(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=cR.bind(null,c),jR(r,c))));break;case 22:if(f=c.memoizedState!==null||qr,!f){a=a!==null&&a.memoizedState!==null||on,y=qr;var v=on;qr=f,(on=a)&&!v?Yr(r,c,(c.subtreeFlags&8772)!==0):Kr(r,c),qr=y,on=v}break;case 30:break;default:Kr(r,c)}}function lS(r){var a=r.alternate;a!==null&&(r.alternate=null,lS(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ja(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Vt=null,ii=!1;function Wr(r,a,c){for(c=c.child;c!==null;)cS(r,a,c),c=c.sibling}function cS(r,a,c){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ln,c)}catch{}switch(c.tag){case 26:on||hr(c,a),Wr(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:on||hr(c,a);var f=Vt,y=ii;Ys(c.type)&&(Vt=c.stateNode,ii=!1),Wr(r,a,c),Uu(c.stateNode),Vt=f,ii=y;break;case 5:on||hr(c,a);case 6:if(f=Vt,y=ii,Vt=null,Wr(r,a,c),Vt=f,ii=y,Vt!==null)if(ii)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(c.stateNode)}catch(v){gt(c,a,v)}else try{Vt.removeChild(c.stateNode)}catch(v){gt(c,a,v)}break;case 18:Vt!==null&&(ii?(r=Vt,t2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Il(r)):t2(Vt,c.stateNode));break;case 4:f=Vt,y=ii,Vt=c.stateNode.containerInfo,ii=!0,Wr(r,a,c),Vt=f,ii=y;break;case 0:case 11:case 14:case 15:Us(2,c,a),on||Us(4,c,a),Wr(r,a,c);break;case 1:on||(hr(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&nS(c,a,f)),Wr(r,a,c);break;case 21:Wr(r,a,c);break;case 22:on=(f=on)||c.memoizedState!==null,Wr(r,a,c),on=f;break;default:Wr(r,a,c)}}function uS(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Il(r)}catch(c){gt(a,a.return,c)}}}function dS(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Il(r)}catch(c){gt(a,a.return,c)}}function tR(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new aS),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new aS),a;default:throw Error(i(435,r.tag))}}function lf(r,a){var c=tR(r);a.forEach(function(f){if(!c.has(f)){c.add(f);var y=uR.bind(null,r,f);f.then(y,y)}})}function ri(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=r,E=a,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(Ys(N.type)){Vt=N.stateNode,ii=!1;break e}break;case 5:Vt=N.stateNode,ii=!1;break e;case 3:case 4:Vt=N.stateNode.containerInfo,ii=!0;break e}N=N.return}if(Vt===null)throw Error(i(160));cS(v,E,y),Vt=null,ii=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)hS(a,r),a=a.sibling}var qi=null;function hS(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ri(a,r),si(r),f&4&&(Us(3,r,r.return),Du(3,r),Us(5,r,r.return));break;case 1:ri(a,r),si(r),f&512&&(on||c===null||hr(c,c.return)),f&64&&qr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=qi;if(ri(a,r),si(r),f&512&&(on||c===null||hr(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Rr]||v[Ut]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),Dn(v,f,c),v[Ut]=r,Kt(v),f=v;break e;case"link":var E=h2("link","href",y).get(f+(c.href||""));if(E){for(var N=0;N<E.length;N++)if(v=E[N],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(N,1);break t}}v=y.createElement(f),Dn(v,f,c),y.head.appendChild(v);break;case"meta":if(E=h2("meta","content",y).get(f+(c.content||""))){for(N=0;N<E.length;N++)if(v=E[N],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(N,1);break t}}v=y.createElement(f),Dn(v,f,c),y.head.appendChild(v);break;default:throw Error(i(468,f))}v[Ut]=r,Kt(v),f=v}r.stateNode=f}else f2(y,r.type,r.stateNode);else r.stateNode=d2(y,f,r.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?f2(y,r.type,r.stateNode):d2(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Bg(r,r.memoizedProps,c.memoizedProps)}break;case 27:ri(a,r),si(r),f&512&&(on||c===null||hr(c,c.return)),c!==null&&f&4&&Bg(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ri(a,r),si(r),f&512&&(on||c===null||hr(c,c.return)),r.flags&32){y=r.stateNode;try{Ci(y,"")}catch(ge){gt(r,r.return,ge)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,Bg(r,y,c!==null?c.memoizedProps:y)),f&1024&&(Hg=!0);break;case 6:if(ri(a,r),si(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(ge){gt(r,r.return,ge)}}break;case 3:if(Ef=null,y=qi,qi=wf(a.containerInfo),ri(a,r),qi=y,si(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Il(a.containerInfo)}catch(ge){gt(r,r.return,ge)}Hg&&(Hg=!1,fS(r));break;case 4:f=qi,qi=wf(r.stateNode.containerInfo),ri(a,r),si(r),qi=f;break;case 12:ri(a,r),si(r);break;case 31:ri(a,r),si(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,lf(r,f)));break;case 13:ri(a,r),si(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(uf=jt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,lf(r,f)));break;case 22:y=r.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,X=qr,se=on;if(qr=X||y,on=se||U,ri(a,r),on=se,qr=X,si(r),f&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||U||qr||on||Xa(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){U=c=a;try{if(v=U.stateNode,y)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=U.stateNode;var ce=U.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ge){gt(U,U.return,ge)}}}else if(a.tag===6){if(c===null){U=a;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(ge){gt(U,U.return,ge)}}}else if(a.tag===18){if(c===null){U=a;try{var ne=U.stateNode;y?n2(ne,!0):n2(U.stateNode,!1)}catch(ge){gt(U,U.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,lf(r,c))));break;case 19:ri(a,r),si(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,lf(r,f)));break;case 30:break;case 21:break;default:ri(a,r),si(r)}}function si(r){var a=r.flags;if(a&2){try{for(var c,f=r.return;f!==null;){if(rS(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,v=zg(r);of(r,v,y);break;case 5:var E=c.stateNode;c.flags&32&&(Ci(E,""),c.flags&=-33);var N=zg(r);of(r,N,E);break;case 3:case 4:var U=c.stateNode.containerInfo,X=zg(r);Ug(r,X,U);break;default:throw Error(i(161))}}catch(se){gt(r,r.return,se)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function fS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;fS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Kr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)oS(r,a.alternate,a),a=a.sibling}function Xa(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Us(4,a,a.return),Xa(a);break;case 1:hr(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&nS(a,a.return,c),Xa(a);break;case 27:Uu(a.stateNode);case 26:case 5:hr(a,a.return),Xa(a);break;case 22:a.memoizedState===null&&Xa(a);break;case 30:Xa(a);break;default:Xa(a)}r=r.sibling}}function Yr(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=r,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:Yr(y,v,c),Du(4,v);break;case 1:if(Yr(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){gt(f,f.return,X)}if(f=v,y=f.updateQueue,y!==null){var N=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)$b(U[y],N)}catch(X){gt(f,f.return,X)}}c&&E&64&&tS(v),ku(v,v.return);break;case 27:sS(v);case 26:case 5:Yr(y,v,c),c&&f===null&&E&4&&iS(v),ku(v,v.return);break;case 12:Yr(y,v,c);break;case 31:Yr(y,v,c),c&&E&4&&uS(y,v);break;case 13:Yr(y,v,c),c&&E&4&&dS(y,v);break;case 22:v.memoizedState===null&&Yr(y,v,c),ku(v,v.return);break;case 30:break;default:Yr(y,v,c)}a=a.sibling}}function $g(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&vu(c))}function Gg(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&vu(r))}function Wi(r,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pS(r,a,c,f),a=a.sibling}function pS(r,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,c,f),y&2048&&Du(9,a);break;case 1:Wi(r,a,c,f);break;case 3:Wi(r,a,c,f),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&vu(r)));break;case 12:if(y&2048){Wi(r,a,c,f),r=a.stateNode;try{var v=a.memoizedProps,E=v.id,N=v.onPostCommit;typeof N=="function"&&N(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){gt(a,a.return,U)}}else Wi(r,a,c,f);break;case 31:Wi(r,a,c,f);break;case 13:Wi(r,a,c,f);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?Wi(r,a,c,f):Pu(r,a):v._visibility&2?Wi(r,a,c,f):(v._visibility|=2,yl(r,a,c,f,(a.subtreeFlags&10256)!==0||!1)),y&2048&&$g(E,a);break;case 24:Wi(r,a,c,f),y&2048&&Gg(a.alternate,a);break;default:Wi(r,a,c,f)}}function yl(r,a,c,f,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=r,E=a,N=c,U=f,X=E.flags;switch(E.tag){case 0:case 11:case 15:yl(v,E,N,U,y),Du(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?yl(v,E,N,U,y):Pu(v,E):(se._visibility|=2,yl(v,E,N,U,y)),y&&X&2048&&$g(E.alternate,E);break;case 24:yl(v,E,N,U,y),y&&X&2048&&Gg(E.alternate,E);break;default:yl(v,E,N,U,y)}a=a.sibling}}function Pu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,f=a,y=f.flags;switch(f.tag){case 22:Pu(c,f),y&2048&&$g(f.alternate,f);break;case 24:Pu(c,f),y&2048&&Gg(f.alternate,f);break;default:Pu(c,f)}a=a.sibling}}var Ou=8192;function xl(r,a,c){if(r.subtreeFlags&Ou)for(r=r.child;r!==null;)mS(r,a,c),r=r.sibling}function mS(r,a,c){switch(r.tag){case 26:xl(r,a,c),r.flags&Ou&&r.memoizedState!==null&&zR(c,qi,r.memoizedState,r.memoizedProps);break;case 5:xl(r,a,c);break;case 3:case 4:var f=qi;qi=wf(r.stateNode.containerInfo),xl(r,a,c),qi=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Ou,Ou=16777216,xl(r,a,c),Ou=f):xl(r,a,c));break;default:xl(r,a,c)}}function gS(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Mu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];wn=f,xS(f,r)}gS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yS(r),r=r.sibling}function yS(r){switch(r.tag){case 0:case 11:case 15:Mu(r),r.flags&2048&&Us(9,r,r.return);break;case 3:Mu(r);break;case 12:Mu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,cf(r)):Mu(r);break;default:Mu(r)}}function cf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];wn=f,xS(f,r)}gS(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Us(8,a,a.return),cf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,cf(a));break;default:cf(a)}r=r.sibling}}function xS(r,a){for(;wn!==null;){var c=wn;switch(c.tag){case 0:case 11:case 15:Us(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,wn=f;else e:for(c=r;wn!==null;){f=wn;var y=f.sibling,v=f.return;if(lS(f),f===c){wn=null;break e}if(y!==null){y.return=v,wn=y;break e}wn=v}}}var nR={getCacheForType:function(r){var a=Rn(rn),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c},cacheSignal:function(){return Rn(rn).controller.signal}},iR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,Qe=null,tt=0,mt=0,gi=null,Hs=!1,vl=!1,qg=!1,Qr=0,Gt=0,$s=0,Za=0,Wg=0,yi=0,bl=0,Vu=null,ai=null,Kg=!1,uf=0,vS=0,df=1/0,hf=null,Gs=null,mn=0,qs=null,Sl=null,Jr=0,Yg=0,Qg=null,bS=null,Lu=0,Jg=null;function xi(){return(ht&2)!==0&&tt!==0?tt&-tt:O.T!==null?iy():jr()}function SS(){if(yi===0)if((tt&536870912)===0||rt){var r=Ge;Ge<<=1,(Ge&3932160)===0&&(Ge=262144),yi=r}else yi=536870912;return r=pi.current,r!==null&&(r.flags|=32),yi}function oi(r,a,c){(r===Tt&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(wl(r,0),Ws(r,tt,yi,!1)),gs(r,c),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&(Za|=c),Gt===4&&Ws(r,tt,yi,!1)),fr(r))}function wS(r,a,c){if((ht&6)!==0)throw Error(i(327));var f=!c&&(a&127)===0&&(a&r.expiredLanes)===0||ms(r,a),y=f?aR(r,a):Zg(r,a,!0),v=f;do{if(y===0){vl&&!f&&Ws(r,a,0,!1);break}else{if(c=r.current.alternate,v&&!rR(c)){y=Zg(r,a,!1),v=!1;continue}if(y===2){if(v=a,r.errorRecoveryDisabledLanes&v)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var N=r;y=Vu;var U=N.current.memoizedState.isDehydrated;if(U&&(wl(N,E).flags|=256),E=Zg(N,E,!1),E!==2){if(qg&&!U){N.errorRecoveryDisabledLanes|=v,Za|=v,y=4;break e}v=ai,ai=y,v!==null&&(ai===null?ai=v:ai.push.apply(ai,v))}y=E}if(v=!1,y!==2)continue}}if(y===1){wl(r,0),Ws(r,a,0,!0);break}e:{switch(f=r,v=y,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ws(f,a,yi,!Hs);break e;case 2:ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=uf+300-jt(),10<y)){if(Ws(f,a,yi,!Hs),Ei(f,0,!0)!==0)break e;Jr=a,f.timeoutHandle=ZS(TS.bind(null,f,c,ai,hf,Kg,a,yi,Za,bl,Hs,v,"Throttled",-0,0),y);break e}TS(f,c,ai,hf,Kg,a,yi,Za,bl,Hs,v,null,-0,0)}}break}while(!0);fr(r)}function TS(r,a,c,f,y,v,E,N,U,X,se,ce,ee,ne){if(r.timeoutHandle=-1,ce=a.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},mS(a,v,ce);var ge=(v&62914560)===v?uf-jt():(v&4194048)===v?vS-jt():0;if(ge=UR(ce,ge),ge!==null){Jr=v,r.cancelPendingCommit=ge(NS.bind(null,r,a,v,c,f,y,E,N,U,se,ce,null,ee,ne)),Ws(r,v,E,!X);return}}NS(r,a,v,c,f,y,E,N,U)}function rR(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!hi(v(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ws(r,a,c,f){a&=~Wg,a&=~Za,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var y=a;0<y;){var v=31-xn(y),E=1<<v;f[v]=-1,y&=~E}c!==0&&Xc(r,c,a)}function ff(){return(ht&6)===0?(Fu(0),!1):!0}function Xg(){if(Qe!==null){if(mt===0)var r=Qe.return;else r=Qe,Br=$a=null,pg(r),hl=null,Su=0,r=Qe;for(;r!==null;)eS(r.alternate,r),r=r.return;Qe=null}}function wl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,ER(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Jr=0,Xg(),Tt=r,Qe=c=Lr(r.current,null),tt=a,mt=0,gi=null,Hs=!1,vl=ms(r,a),qg=!1,bl=yi=Wg=Za=$s=Gt=0,ai=Vu=null,Kg=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var y=31-xn(f),v=1<<y;a|=r[y],f&=~v}return Qr=a,kh(),c}function ES(r,a){He=null,O.H=ju,a===dl||a===zh?(a=Bb(),mt=3):a===ng?(a=Bb(),mt=4):mt=a===Rg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gi=a,Qe===null&&(Gt=1,tf(r,Ii(a,r.current)))}function _S(){var r=pi.current;return r===null?!0:(tt&4194048)===tt?Di===null:(tt&62914560)===tt||(tt&536870912)!==0?r===Di:!1}function CS(){var r=O.H;return O.H=ju,r===null?ju:r}function AS(){var r=O.A;return O.A=nR,r}function pf(){Gt=4,Hs||(tt&4194048)!==tt&&pi.current!==null||(vl=!0),($s&134217727)===0&&(Za&134217727)===0||Tt===null||Ws(Tt,tt,yi,!1)}function Zg(r,a,c){var f=ht;ht|=2;var y=CS(),v=AS();(Tt!==r||tt!==a)&&(hf=null,wl(r,a)),a=!1;var E=Gt;e:do try{if(mt!==0&&Qe!==null){var N=Qe,U=gi;switch(mt){case 8:Xg(),E=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(a=!0);var X=mt;if(mt=0,gi=null,Tl(r,N,U,X),c&&vl){E=0;break e}break;default:X=mt,mt=0,gi=null,Tl(r,N,U,X)}}sR(),E=Gt;break}catch(se){ES(r,se)}while(!0);return a&&r.shellSuspendCounter++,Br=$a=null,ht=f,O.H=y,O.A=v,Qe===null&&(Tt=null,tt=0,kh()),E}function sR(){for(;Qe!==null;)IS(Qe)}function aR(r,a){var c=ht;ht|=2;var f=CS(),y=AS();Tt!==r||tt!==a?(hf=null,df=jt()+500,wl(r,a)):vl=ms(r,a);e:do try{if(mt!==0&&Qe!==null){a=Qe;var v=gi;t:switch(mt){case 1:mt=0,gi=null,Tl(r,a,v,1);break;case 2:case 9:if(Lb(v)){mt=0,gi=null,jS(a);break}a=function(){mt!==2&&mt!==9||Tt!==r||(mt=7),fr(r)},v.then(a,a);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Lb(v)?(mt=0,gi=null,jS(a)):(mt=0,gi=null,Tl(r,a,v,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var N=Qe;if(E?p2(E):N.stateNode.complete){mt=0,gi=null;var U=N.sibling;if(U!==null)Qe=U;else{var X=N.return;X!==null?(Qe=X,mf(X)):Qe=null}break t}}mt=0,gi=null,Tl(r,a,v,5);break;case 6:mt=0,gi=null,Tl(r,a,v,6);break;case 8:Xg(),Gt=6;break e;default:throw Error(i(462))}}oR();break}catch(se){ES(r,se)}while(!0);return Br=$a=null,O.H=f,O.A=y,ht=c,Qe!==null?0:(Tt=null,tt=0,kh(),Gt)}function oR(){for(;Qe!==null&&!Uo();)IS(Qe)}function IS(r){var a=X1(r.alternate,r,Qr);r.memoizedProps=r.pendingProps,a===null?mf(r):Qe=a}function jS(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=q1(c,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=q1(c,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:pg(a);default:eS(c,a),a=Qe=Ab(a,Qr),a=X1(c,a,Qr)}r.memoizedProps=r.pendingProps,a===null?mf(r):Qe=a}function Tl(r,a,c,f){Br=$a=null,pg(a),hl=null,Su=0;var y=a.return;try{if(Yj(r,y,a,c,tt)){Gt=1,tf(r,Ii(c,r.current)),Qe=null;return}}catch(v){if(y!==null)throw Qe=y,v;Gt=1,tf(r,Ii(c,r.current)),Qe=null;return}a.flags&32768?(rt||f===1?r=!0:vl||(tt&536870912)!==0?r=!1:(Hs=r=!0,(f===2||f===9||f===3||f===6)&&(f=pi.current,f!==null&&f.tag===13&&(f.flags|=16384))),RS(a,r)):mf(a)}function mf(r){var a=r;do{if((a.flags&32768)!==0){RS(a,Hs);return}r=a.return;var c=Xj(a.alternate,a,Qr);if(c!==null){Qe=c;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=r}while(a!==null);Gt===0&&(Gt=5)}function RS(r,a){do{var c=Zj(r.alternate,r);if(c!==null){c.flags&=32767,Qe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=c}while(r!==null);Gt=6,Qe=null}function NS(r,a,c,f,y,v,E,N,U){r.cancelPendingCommit=null;do gf();while(mn!==0);if((ht&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=zm,An(r,c,v,E,N,U),r===Tt&&(Qe=Tt=null,tt=0),Sl=a,qs=r,Jr=c,Yg=v,Qg=y,bS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dR(zi,function(){return MS(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=O.T,O.T=null,y=q.p,q.p=2,E=ht,ht|=4;try{eR(r,a,c)}finally{ht=E,q.p=y,O.T=f}}mn=1,DS(),kS(),PS()}}function DS(){if(mn===1){mn=0;var r=qs,a=Sl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var f=q.p;q.p=2;var y=ht;ht|=4;try{hS(a,r);var v=dy,E=xb(r.containerInfo),N=v.focusedElem,U=v.selectionRange;if(E!==N&&N&&N.ownerDocument&&yb(N.ownerDocument.documentElement,N)){if(U!==null&&Mm(N)){var X=U.start,se=U.end;if(se===void 0&&(se=X),"selectionStart"in N)N.selectionStart=X,N.selectionEnd=Math.min(se,N.value.length);else{var ce=N.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),ge=N.textContent.length,ke=Math.min(U.start,ge),bt=U.end===void 0?ke:Math.min(U.end,ge);!ne.extend&&ke>bt&&(E=bt,bt=ke,ke=E);var K=gb(N,ke),G=gb(N,bt);if(K&&G&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var J=ce.createRange();J.setStart(K.node,K.offset),ne.removeAllRanges(),ke>bt?(ne.addRange(J),ne.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),ne.addRange(J))}}}}for(ce=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ce.length;N++){var oe=ce[N];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}If=!!uy,dy=uy=null}finally{ht=y,q.p=f,O.T=c}}r.current=a,mn=2}}function kS(){if(mn===2){mn=0;var r=qs,a=Sl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var f=q.p;q.p=2;var y=ht;ht|=4;try{oS(r,a.alternate,a)}finally{ht=y,q.p=f,O.T=c}}mn=3}}function PS(){if(mn===4||mn===3){mn=0,Bi();var r=qs,a=Sl,c=Jr,f=bS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?mn=5:(mn=0,Sl=qs=null,OS(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Gs=null),eu(c),a=a.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ln,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=O.T,y=q.p,q.p=2,O.T=null;try{for(var v=r.onRecoverableError,E=0;E<f.length;E++){var N=f[E];v(N.value,{componentStack:N.stack})}}finally{O.T=a,q.p=y}}(Jr&3)!==0&&gf(),fr(r),y=r.pendingLanes,(c&261930)!==0&&(y&42)!==0?r===Jg?Lu++:(Lu=0,Jg=r):Lu=0,Fu(0)}}function OS(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,vu(a)))}function gf(){return DS(),kS(),PS(),MS()}function MS(){if(mn!==5)return!1;var r=qs,a=Yg;Yg=0;var c=eu(Jr),f=O.T,y=q.p;try{q.p=32>c?32:c,O.T=null,c=Qg,Qg=null;var v=qs,E=Jr;if(mn=0,Sl=qs=null,Jr=0,(ht&6)!==0)throw Error(i(331));var N=ht;if(ht|=4,yS(v.current),pS(v,v.current,E,c),ht=N,Fu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ln,v)}catch{}return!0}finally{q.p=y,O.T=f,OS(r,a)}}function VS(r,a,c){a=Ii(c,a),a=jg(r.stateNode,a,2),r=Fs(r,a,2),r!==null&&(gs(r,2),fr(r))}function gt(r,a,c){if(r.tag===3)VS(r,r,c);else for(;a!==null;){if(a.tag===3){VS(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))){r=Ii(c,r),c=L1(2),f=Fs(a,c,2),f!==null&&(F1(c,f,a,r),gs(f,2),fr(f));break}}a=a.return}}function ey(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new iR;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(qg=!0,y.add(c),r=lR.bind(null,r,a,c),a.then(r,r))}function lR(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Tt===r&&(tt&c)===c&&(Gt===4||Gt===3&&(tt&62914560)===tt&&300>jt()-uf?(ht&2)===0&&wl(r,0):Wg|=c,bl===tt&&(bl=0)),fr(r)}function LS(r,a){a===0&&(a=Jc()),r=za(r,a),r!==null&&(gs(r,a),fr(r))}function cR(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),LS(r,c)}function uR(r,a){var c=0;switch(r.tag){case 31:case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),LS(r,c)}function dR(r,a){return nr(r,a)}var yf=null,El=null,ty=!1,xf=!1,ny=!1,Ks=0;function fr(r){r!==El&&r.next===null&&(El===null?yf=El=r:El=El.next=r),xf=!0,ty||(ty=!0,fR())}function Fu(r,a){if(!ny&&xf){ny=!0;do for(var c=!1,f=yf;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var E=f.suspendedLanes,N=f.pingedLanes;v=(1<<31-xn(42|r)+1)-1,v&=y&~(E&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,US(f,v))}else v=tt,v=Ei(f,f===Tt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||ms(f,v)||(c=!0,US(f,v));f=f.next}while(c);ny=!1}}function hR(){FS()}function FS(){xf=ty=!1;var r=0;Ks!==0&&TR()&&(r=Ks);for(var a=jt(),c=null,f=yf;f!==null;){var y=f.next,v=BS(f,a);v===0?(f.next=null,c===null?yf=y:c.next=y,y===null&&(El=c)):(c=f,(r!==0||(v&3)!==0)&&(xf=!0)),f=y}mn!==0&&mn!==5||Fu(r),Ks!==0&&(Ks=0)}function BS(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var E=31-xn(v),N=1<<E,U=y[E];U===-1?((N&c)===0||(N&f)!==0)&&(y[E]=$o(N,a)):U<=a&&(r.expiredLanes|=N),v&=~N}if(a=Tt,c=tt,c=Ei(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===a&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Ar(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ms(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(f!==null&&Ar(f),eu(c)){case 2:case 8:c=tn;break;case 32:c=zi;break;case 268435456:c=ei;break;default:c=zi}return f=zS.bind(null,r),c=nr(c,f),r.callbackPriority=a,r.callbackNode=c,a}return f!==null&&f!==null&&Ar(f),r.callbackPriority=2,r.callbackNode=null,2}function zS(r,a){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(gf()&&r.callbackNode!==c)return null;var f=tt;return f=Ei(r,r===Tt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(wS(r,f,a),BS(r,jt()),r.callbackNode!=null&&r.callbackNode===c?zS.bind(null,r):null)}function US(r,a){if(gf())return null;wS(r,a,!0)}function fR(){_R(function(){(ht&6)!==0?nr(zt,hR):FS()})}function iy(){if(Ks===0){var r=cl;r===0&&(r=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),Ks=r}return Ks}function HS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:or(""+r)}function $S(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function pR(r,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var v=HS((y[In]||null).action),E=f.submitter;E&&(a=(a=E[In]||null)?HS(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var N=new Pa("action","action",null,f,y);r.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ks!==0){var U=E?$S(y,E):new FormData(y);Tg(c,{pending:!0,data:U,method:y.method,action:v},null,U)}}else typeof v=="function"&&(N.preventDefault(),U=E?$S(y,E):new FormData(y),Tg(c,{pending:!0,data:U,method:y.method,action:v},v,U))},currentTarget:y}]})}}for(var ry=0;ry<Bm.length;ry++){var sy=Bm[ry],mR=sy.toLowerCase(),gR=sy[0].toUpperCase()+sy.slice(1);Gi(mR,"on"+gR)}Gi(Sb,"onAnimationEnd"),Gi(wb,"onAnimationIteration"),Gi(Tb,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Dj,"onTransitionRun"),Gi(kj,"onTransitionStart"),Gi(Pj,"onTransitionCancel"),Gi(Eb,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function GS(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var E=f.length-1;0<=E;E--){var N=f[E],U=N.instance,X=N.currentTarget;if(N=N.listener,U!==v&&y.isPropagationStopped())break e;v=N,y.currentTarget=X;try{v(y)}catch(se){Dh(se)}y.currentTarget=null,v=U}else for(E=0;E<f.length;E++){if(N=f[E],U=N.instance,X=N.currentTarget,N=N.listener,U!==v&&y.isPropagationStopped())break e;v=N,y.currentTarget=X;try{v(y)}catch(se){Dh(se)}y.currentTarget=null,v=U}}}}function Je(r,a){var c=a[vs];c===void 0&&(c=a[vs]=new Set);var f=r+"__bubble";c.has(f)||(qS(a,r,2,!1),c.add(f))}function ay(r,a,c){var f=0;a&&(f|=4),qS(c,r,f,a)}var vf="_reactListening"+Math.random().toString(36).slice(2);function oy(r){if(!r[vf]){r[vf]=!0,Go.forEach(function(c){c!=="selectionchange"&&(yR.has(c)||ay(c,!1,r),ay(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[vf]||(a[vf]=!0,ay("selectionchange",!1,a))}}function qS(r,a,c,f){switch(S2(a)){case 2:var y=GR;break;case 8:y=qR;break;default:y=wy}c=y.bind(null,a,c,r),y=void 0,!lu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(a,c,{capture:!0,passive:y}):r.addEventListener(a,c,!0):y!==void 0?r.addEventListener(a,c,{passive:y}):r.addEventListener(a,c,!1)}function ly(r,a,c,f,y){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var N=f.stateNode.containerInfo;if(N===y)break;if(E===4)for(E=f.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;N!==null;){if(E=Nr(N),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){f=v=E;continue e}N=N.parentNode}}f=f.return}gh(function(){var X=v,se=Qo(c),ce=[];e:{var ee=_b.get(r);if(ee!==void 0){var ne=Pa,ge=r;switch(r){case"keypress":if(ka(c)===0)break e;case"keydown":case"keyup":ne=_h;break;case"focusin":ge="focus",ne=js;break;case"focusout":ge="blur",ne=js;break;case"beforeblur":case"afterblur":ne=js;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ah;break;case Sb:case wb:case Tb:ne=Zo;break;case Eb:ne=el;break;case"scroll":case"scrollend":ne=yh;break;case"wheel":ne=jh;break;case"copy":case"cut":case"paste":ne=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=fu;break;case"toggle":case"beforetoggle":ne=Ns}var ke=(a&4)!==0,bt=!ke&&(r==="scroll"||r==="scrollend"),K=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var G=X,J;G!==null;){var oe=G;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||K===null||(oe=ti(G,K),oe!=null&&ke.push(zu(G,oe,J))),bt)break;G=G.return}0<ke.length&&(ee=new ne(ee,ge,null,c,se),ce.push({event:ee,listeners:ke}))}}if((a&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&c!==Yo&&(ge=c.relatedTarget||c.fromElement)&&(Nr(ge)||ge[rr]))break e;if((ne||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(ge=c.relatedTarget||c.toElement,ne=X,ge=ge?Nr(ge):null,ge!==null&&(bt=o(ge),ke=ge.tag,ge!==bt||ke!==5&&ke!==27&&ke!==6)&&(ge=null)):(ne=null,ge=X),ne!==ge)){if(ke=xh,oe="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(ke=fu,oe="onPointerLeave",K="onPointerEnter",G="pointer"),bt=ne==null?ee:Ra(ne),J=ge==null?ee:Ra(ge),ee=new ke(oe,G+"leave",ne,c,se),ee.target=bt,ee.relatedTarget=J,oe=null,Nr(se)===X&&(ke=new ke(K,G+"enter",ge,c,se),ke.target=J,ke.relatedTarget=bt,oe=ke),bt=oe,ne&&ge)t:{for(ke=xR,K=ne,G=ge,J=0,oe=K;oe;oe=ke(oe))J++;oe=0;for(var _e=G;_e;_e=ke(_e))oe++;for(;0<J-oe;)K=ke(K),J--;for(;0<oe-J;)G=ke(G),oe--;for(;J--;){if(K===G||G!==null&&K===G.alternate){ke=K;break t}K=ke(K),G=ke(G)}ke=null}else ke=null;ne!==null&&WS(ce,ee,ne,ke,!1),ge!==null&&bt!==null&&WS(ce,bt,ge,ke,!0)}}e:{if(ee=X?Ra(X):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var lt=ub;else if(ni(ee))if(db)lt=jj;else{lt=Aj;var we=Cj}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&au(X.elementType)&&(lt=ub):lt=Ij;if(lt&&(lt=lt(r,X))){La(ce,lt,c,se);break e}we&&we(r,ee,X),r==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Ko(ee,"number",ee.value)}switch(we=X?Ra(X):window,r){case"focusin":(ni(we)||we.contentEditable==="true")&&(tl=we,Vm=X,gu=null);break;case"focusout":gu=Vm=tl=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,vb(ce,c,se);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":vb(ce,c,se)}var $e;if(w)e:{switch(r){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ke?ft(r,c)&&(nt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(nt="onCompositionStart");nt&&(Y&&c.locale!=="ko"&&(Ke||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ke&&($e=_s()):(di=se,Jo="value"in di?di.value:di.textContent,Ke=!0)),we=bf(X,nt),0<we.length&&(nt=new uu(nt,r,null,c,se),ce.push({event:nt,listeners:we}),$e?nt.data=$e:($e=nn(c),$e!==null&&(nt.data=$e)))),($e=P?bn(r,c):Sn(r,c))&&(nt=bf(X,"onBeforeInput"),0<nt.length&&(we=new uu("onBeforeInput","beforeinput",null,c,se),ce.push({event:we,listeners:nt}),we.data=$e)),pR(ce,r,X,c,se)}GS(ce,a)})}function zu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function bf(r,a){for(var c=a+"Capture",f=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=ti(r,c),y!=null&&f.unshift(zu(r,y,v)),y=ti(r,a),y!=null&&f.push(zu(r,y,v))),r.tag===3)return f;r=r.return}return[]}function xR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function WS(r,a,c,f,y){for(var v=a._reactName,E=[];c!==null&&c!==f;){var N=c,U=N.alternate,X=N.stateNode;if(N=N.tag,U!==null&&U===f)break;N!==5&&N!==26&&N!==27||X===null||(U=X,y?(X=ti(c,v),X!=null&&E.unshift(zu(c,X,U))):y||(X=ti(c,v),X!=null&&E.push(zu(c,X,U)))),c=c.return}E.length!==0&&r.push({event:a,listeners:E})}var vR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function KS(r){return(typeof r=="string"?r:""+r).replace(vR,`
`).replace(bR,"")}function YS(r,a){return a=KS(a),KS(r)===a}function vt(r,a,c,f,y,v){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Ci(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Ci(r,""+f);break;case"className":ws(r,"class",f);break;case"tabIndex":ws(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(r,c,f);break;case"style":ph(r,f,v);break;case"data":if(a!=="object"){ws(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=or(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&vt(r,a,"name",y.name,y,null),vt(r,a,"formEncType",y.formEncType,y,null),vt(r,a,"formMethod",y.formMethod,y,null),vt(r,a,"formTarget",y.formTarget,y,null)):(vt(r,a,"encType",y.encType,y,null),vt(r,a,"method",y.method,y,null),vt(r,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=or(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=vn);break;case"onScroll":f!=null&&Je("scroll",r);break;case"onScrollEnd":f!=null&&Je("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=or(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Je("beforetoggle",r),Je("toggle",r),Ss(r,"popover",f);break;case"xlinkActuate":_i(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":_i(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":_i(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":_i(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":_i(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":_i(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":_i(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":_i(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":_i(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ss(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Nm.get(c)||c,Ss(r,c,f))}}function cy(r,a,c,f,y,v){switch(c){case"style":ph(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?Ci(r,f):(typeof f=="number"||typeof f=="bigint")&&Ci(r,""+f);break;case"onScroll":f!=null&&Je("scroll",r);break;case"onScrollEnd":f!=null&&Je("scrollend",r);break;case"onClick":f!=null&&(r.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),v=r[In]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(a,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):Ss(r,c,f)}}}function Dn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",r),Je("load",r);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var E=c[v];if(E!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,v,E,c,null)}}y&&vt(r,a,"srcSet",c.srcSet,c,null),f&&vt(r,a,"src",c.src,c,null);return;case"input":Je("invalid",r);var N=v=E=y=null,U=null,X=null;for(f in c)if(c.hasOwnProperty(f)){var se=c[f];if(se!=null)switch(f){case"name":y=se;break;case"type":E=se;break;case"checked":U=se;break;case"defaultChecked":X=se;break;case"value":v=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:vt(r,a,f,se,c,null)}}Na(r,v,N,U,X,E,y,!1);return;case"select":Je("invalid",r),f=E=v=null;for(y in c)if(c.hasOwnProperty(y)&&(N=c[y],N!=null))switch(y){case"value":v=N;break;case"defaultValue":E=N;break;case"multiple":f=N;default:vt(r,a,y,N,c,null)}a=v,c=E,r.multiple=!!f,a!=null?ot(r,!!f,a,!1):c!=null&&ot(r,!!f,c,!0);return;case"textarea":Je("invalid",r),v=y=f=null;for(E in c)if(c.hasOwnProperty(E)&&(N=c[E],N!=null))switch(E){case"value":f=N;break;case"defaultValue":y=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:vt(r,a,E,N,c,null)}Es(r,f,y,v);return;case"option":for(U in c)c.hasOwnProperty(U)&&(f=c[U],f!=null)&&(U==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":vt(r,a,U,f,c,null));return;case"dialog":Je("beforetoggle",r),Je("toggle",r),Je("cancel",r),Je("close",r);break;case"iframe":case"object":Je("load",r);break;case"video":case"audio":for(f=0;f<Bu.length;f++)Je(Bu[f],r);break;case"image":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"embed":case"source":case"link":Je("error",r),Je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(f=c[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,X,f,c,null)}return;default:if(au(a)){for(se in c)c.hasOwnProperty(se)&&(f=c[se],f!==void 0&&cy(r,a,se,f,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(f=c[N],f!=null&&vt(r,a,N,f,c,null))}function SR(r,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,E=null,N=null,U=null,X=null,se=null;for(ne in c){var ce=c[ne];if(c.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=ce;default:f.hasOwnProperty(ne)||vt(r,a,ne,null,f,ce)}}for(var ee in f){var ne=f[ee];if(ce=c[ee],f.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":v=ne;break;case"name":y=ne;break;case"checked":X=ne;break;case"defaultChecked":se=ne;break;case"value":E=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:ne!==ce&&vt(r,a,ee,ne,f,ce)}}Ts(r,E,N,U,X,se,v,y);return;case"select":ne=E=N=ee=null;for(v in c)if(U=c[v],c.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":ne=U;default:f.hasOwnProperty(v)||vt(r,a,v,null,f,U)}for(y in f)if(v=f[y],U=c[y],f.hasOwnProperty(y)&&(v!=null||U!=null))switch(y){case"value":ee=v;break;case"defaultValue":N=v;break;case"multiple":E=v;default:v!==U&&vt(r,a,y,v,f,U)}a=N,c=E,f=ne,ee!=null?ot(r,!!c,ee,!1):!!f!=!!c&&(a!=null?ot(r,!!c,a,!0):ot(r,!!c,c?[]:"",!1));return;case"textarea":ne=ee=null;for(N in c)if(y=c[N],c.hasOwnProperty(N)&&y!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:vt(r,a,N,null,f,y)}for(E in f)if(y=f[E],v=c[E],f.hasOwnProperty(E)&&(y!=null||v!=null))switch(E){case"value":ee=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==v&&vt(r,a,E,y,f,v)}Da(r,ee,ne);return;case"option":for(var ge in c)ee=c[ge],c.hasOwnProperty(ge)&&ee!=null&&!f.hasOwnProperty(ge)&&(ge==="selected"?r.selected=!1:vt(r,a,ge,null,f,ee));for(U in f)ee=f[U],ne=c[U],f.hasOwnProperty(U)&&ee!==ne&&(ee!=null||ne!=null)&&(U==="selected"?r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":vt(r,a,U,ee,f,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)ee=c[ke],c.hasOwnProperty(ke)&&ee!=null&&!f.hasOwnProperty(ke)&&vt(r,a,ke,null,f,ee);for(X in f)if(ee=f[X],ne=c[X],f.hasOwnProperty(X)&&ee!==ne&&(ee!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:vt(r,a,X,ee,f,ne)}return;default:if(au(a)){for(var bt in c)ee=c[bt],c.hasOwnProperty(bt)&&ee!==void 0&&!f.hasOwnProperty(bt)&&cy(r,a,bt,void 0,f,ee);for(se in f)ee=f[se],ne=c[se],!f.hasOwnProperty(se)||ee===ne||ee===void 0&&ne===void 0||cy(r,a,se,ee,f,ne);return}}for(var K in c)ee=c[K],c.hasOwnProperty(K)&&ee!=null&&!f.hasOwnProperty(K)&&vt(r,a,K,null,f,ee);for(ce in f)ee=f[ce],ne=c[ce],!f.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||vt(r,a,ce,ee,f,ne)}function QS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],v=y.transferSize,E=y.initiatorType,N=y.duration;if(v&&N&&QS(E)){for(E=0,N=y.responseEnd,f+=1;f<c.length;f++){var U=c[f],X=U.startTime;if(X>N)break;var se=U.transferSize,ce=U.initiatorType;se&&QS(ce)&&(U=U.responseEnd,E+=se*(U<N?1:(N-X)/(U-X)))}if(--f,a+=8*(v+E)/(y.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var uy=null,dy=null;function Sf(r){return r.nodeType===9?r:r.ownerDocument}function JS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XS(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function hy(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var fy=null;function TR(){var r=window.event;return r&&r.type==="popstate"?r===fy?!1:(fy=r,!0):(fy=null,!1)}var ZS=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(r){return e2.resolve(null).then(r).catch(CR)}:ZS;function CR(r){setTimeout(function(){throw r})}function Ys(r){return r==="head"}function t2(r,a){var c=a,f=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){r.removeChild(y),Il(a);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Uu(r.ownerDocument.documentElement);else if(c==="head"){c=r.ownerDocument.head,Uu(c);for(var v=c.firstChild;v;){var E=v.nextSibling,N=v.nodeName;v[Rr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=E}}else c==="body"&&Uu(r.ownerDocument.body);c=y}while(c);Il(a)}function n2(r,a){var c=r;r=0;do{var f=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(r===0)break;r--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||r++;c=f}while(c)}function py(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":py(c),ja(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function AR(r,a,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Rr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ki(r.nextSibling),r===null)break}return null}function IR(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=ki(r.nextSibling),r===null))return null;return r}function i2(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ki(r.nextSibling),r===null))return null;return r}function my(r){return r.data==="$?"||r.data==="$~"}function gy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function jR(r,a){var c=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||c.readyState!=="loading")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ki(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var yy=null;function r2(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"||c==="/&"){if(a===0)return ki(r.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}r=r.nextSibling}return null}function s2(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return r;a--}else c!=="/$"&&c!=="/&"||a++}r=r.previousSibling}return null}function a2(r,a,c){switch(a=Sf(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Uu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ja(r)}var Pi=new Map,o2=new Set;function wf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Xr=q.d;q.d={f:RR,r:NR,D:DR,C:kR,L:PR,m:OR,X:VR,S:MR,M:LR};function RR(){var r=Xr.f(),a=ff();return r||a}function NR(r){var a=Dr(r);a!==null&&a.tag===5&&a.type==="form"?E1(a):Xr.r(r)}var _l=typeof document>"u"?null:document;function l2(r,a,c){var f=_l;if(f&&typeof a=="string"&&a){var y=Ht(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),o2.has(y)||(o2.add(y),r={rel:r,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),Dn(a,"link",r),Kt(a),f.head.appendChild(a)))}}function DR(r){Xr.D(r),l2("dns-prefetch",r,null)}function kR(r,a){Xr.C(r,a),l2("preconnect",r,a)}function PR(r,a,c){Xr.L(r,a,c);var f=_l;if(f&&r&&a){var y='link[rel="preload"][as="'+Ht(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ht(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ht(c.imageSizes)+'"]')):y+='[href="'+Ht(r)+'"]';var v=y;switch(a){case"style":v=Cl(r);break;case"script":v=Al(r)}Pi.has(v)||(r=x({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Pi.set(v,r),f.querySelector(y)!==null||a==="style"&&f.querySelector(Hu(v))||a==="script"&&f.querySelector($u(v))||(a=f.createElement("link"),Dn(a,"link",r),Kt(a),f.head.appendChild(a)))}}function OR(r,a){Xr.m(r,a);var c=_l;if(c&&r){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ht(f)+'"][href="'+Ht(r)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Al(r)}if(!Pi.has(v)&&(r=x({rel:"modulepreload",href:r},a),Pi.set(v,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($u(v)))return}f=c.createElement("link"),Dn(f,"link",r),Kt(f),c.head.appendChild(f)}}}function MR(r,a,c){Xr.S(r,a,c);var f=_l;if(f&&r){var y=Hi(f).hoistableStyles,v=Cl(r);a=a||"default";var E=y.get(v);if(!E){var N={loading:0,preload:null};if(E=f.querySelector(Hu(v)))N.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Pi.get(v))&&xy(r,c);var U=E=f.createElement("link");Kt(U),Dn(U,"link",r),U._p=new Promise(function(X,se){U.onload=X,U.onerror=se}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Tf(E,a,f)}E={type:"stylesheet",instance:E,count:1,state:N},y.set(v,E)}}}function VR(r,a){Xr.X(r,a);var c=_l;if(c&&r){var f=Hi(c).hoistableScripts,y=Al(r),v=f.get(y);v||(v=c.querySelector($u(y)),v||(r=x({src:r,async:!0},a),(a=Pi.get(y))&&vy(r,a),v=c.createElement("script"),Kt(v),Dn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function LR(r,a){Xr.M(r,a);var c=_l;if(c&&r){var f=Hi(c).hoistableScripts,y=Al(r),v=f.get(y);v||(v=c.querySelector($u(y)),v||(r=x({src:r,async:!0,type:"module"},a),(a=Pi.get(y))&&vy(r,a),v=c.createElement("script"),Kt(v),Dn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function c2(r,a,c,f){var y=(y=je.current)?wf(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Cl(c.href),c=Hi(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Cl(c.href);var v=Hi(y).hoistableStyles,E=v.get(r);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,E),(v=y.querySelector(Hu(r)))&&!v._p&&(E.instance=v,E.state.loading=5),Pi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pi.set(r,c),v||FR(y,r,c,E.state))),a&&f===null)throw Error(i(528,""));return E}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Al(c),c=Hi(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Cl(r){return'href="'+Ht(r)+'"'}function Hu(r){return'link[rel="stylesheet"]['+r+"]"}function u2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function FR(r,a,c,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Dn(a,"link",c),Kt(a),r.head.appendChild(a))}function Al(r){return'[src="'+Ht(r)+'"]'}function $u(r){return"script[async]"+r}function d2(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Ht(c.href)+'"]');if(f)return a.instance=f,Kt(f),f;var y=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Kt(f),Dn(f,"style",y),Tf(f,c.precedence,r),a.instance=f;case"stylesheet":y=Cl(c.href);var v=r.querySelector(Hu(y));if(v)return a.state.loading|=4,a.instance=v,Kt(v),v;f=u2(c),(y=Pi.get(y))&&xy(f,y),v=(r.ownerDocument||r).createElement("link"),Kt(v);var E=v;return E._p=new Promise(function(N,U){E.onload=N,E.onerror=U}),Dn(v,"link",f),a.state.loading|=4,Tf(v,c.precedence,r),a.instance=v;case"script":return v=Al(c.src),(y=r.querySelector($u(v)))?(a.instance=y,Kt(y),y):(f=c,(y=Pi.get(v))&&(f=x({},c),vy(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Kt(y),Dn(y,"link",f),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Tf(f,c.precedence,r));return a.instance}function Tf(r,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,E=0;E<f.length;E++){var N=f[E];if(N.dataset.precedence===a)v=N;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function xy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function vy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Ef=null;function h2(r,a,c){if(Ef===null){var f=new Map,y=Ef=new Map;y.set(c,f)}else y=Ef,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[Rr]||v[Ut]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=r+E;var N=f.get(E);N?N.push(v):f.set(E,[v])}}return f}function f2(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function BR(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function p2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function zR(r,a,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Cl(f.href),v=a.querySelector(Hu(y));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=_f.bind(r),a.then(r,r)),c.state.loading|=4,c.instance=v,Kt(v);return}v=a.ownerDocument||a,f=u2(f),(y=Pi.get(y))&&xy(f,y),v=v.createElement("link"),Kt(v);var E=v;E._p=new Promise(function(N,U){E.onload=N,E.onerror=U}),Dn(v,"link",f),c.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(r.count++,c=_f.bind(r),a.addEventListener("load",c),a.addEventListener("error",c))}}var by=0;function UR(r,a){return r.stylesheets&&r.count===0&&Af(r,r.stylesheets),0<r.count||0<r.imgCount?function(c){var f=setTimeout(function(){if(r.stylesheets&&Af(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+a);0<r.imgBytes&&by===0&&(by=62500*wR());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Af(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>by?50:800)+a);return r.unsuspend=c,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function _f(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cf=null;function Af(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cf=new Map,a.forEach(HR,r),Cf=null,_f.call(r))}function HR(r,a){if(!(a.state.loading&4)){var c=Cf.get(r);if(c)var f=c.get(null);else{c=new Map,Cf.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var E=y[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}y=a.instance,E=y.getAttribute("data-precedence"),v=c.get(E)||f,v===f&&c.set(null,y),c.set(E,y),this.count++,f=_f.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Gu={$$typeof:V,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function $R(r,a,c,f,y,v,E,N,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function m2(r,a,c,f,y,v,E,N,U,X,se,ce){return r=new $R(r,a,c,E,U,X,se,ce,N),a=1,v===!0&&(a|=24),v=fi(3,null,null,a),r.current=v,v.stateNode=r,a=Zm(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:a},ig(v),r}function g2(r){return r?(r=rl,r):rl}function y2(r,a,c,f,y,v){y=g2(y),f.context===null?f.context=y:f.pendingContext=y,f=Ls(a),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Fs(r,f,a),c!==null&&(oi(c,r,a),Tu(c,r,a))}function x2(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Sy(r,a){x2(r,a),(r=r.alternate)&&x2(r,a)}function v2(r){if(r.tag===13||r.tag===31){var a=za(r,67108864);a!==null&&oi(a,r,67108864),Sy(r,67108864)}}function b2(r){if(r.tag===13||r.tag===31){var a=xi();a=Zc(a);var c=za(r,a);c!==null&&oi(c,r,a),Sy(r,a)}}var If=!0;function GR(r,a,c,f){var y=O.T;O.T=null;var v=q.p;try{q.p=2,wy(r,a,c,f)}finally{q.p=v,O.T=y}}function qR(r,a,c,f){var y=O.T;O.T=null;var v=q.p;try{q.p=8,wy(r,a,c,f)}finally{q.p=v,O.T=y}}function wy(r,a,c,f){if(If){var y=Ty(f);if(y===null)ly(r,a,f,jf,c),w2(r,f);else if(KR(y,r,a,c,f))f.stopPropagation();else if(w2(r,f),a&4&&-1<WR.indexOf(r)){for(;y!==null;){var v=Dr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=pn(v.pendingLanes);if(E!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var U=1<<31-xn(E);N.entanglements[1]|=U,E&=~U}fr(v),(ht&6)===0&&(df=jt()+500,Fu(0))}}break;case 31:case 13:N=za(v,2),N!==null&&oi(N,v,2),ff(),Sy(v,2)}if(v=Ty(f),v===null&&ly(r,a,f,jf,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else ly(r,a,f,null,c)}}function Ty(r){return r=Qo(r),Ey(r)}var jf=null;function Ey(r){if(jf=null,r=Nr(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=u(a),r!==null)return r;r=null}else if(c===31){if(r=h(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return jf=r,null}function S2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case zt:return 2;case tn:return 8;case zi:case Yc:return 32;case ei:return 268435456;default:return 32}default:return 32}}var _y=!1,Qs=null,Js=null,Xs=null,qu=new Map,Wu=new Map,Zs=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w2(r,a){switch(r){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":qu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(a.pointerId)}}function Ku(r,a,c,f,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Dr(a),a!==null&&v2(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function KR(r,a,c,f,y){switch(a){case"focusin":return Qs=Ku(Qs,r,a,c,f,y),!0;case"dragenter":return Js=Ku(Js,r,a,c,f,y),!0;case"mouseover":return Xs=Ku(Xs,r,a,c,f,y),!0;case"pointerover":var v=y.pointerId;return qu.set(v,Ku(qu.get(v)||null,r,a,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,Wu.set(v,Ku(Wu.get(v)||null,r,a,c,f,y)),!0}return!1}function T2(r){var a=Nr(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=u(c),a!==null){r.blockedOn=a,uh(r.priority,function(){b2(c)});return}}else if(a===31){if(a=h(c),a!==null){r.blockedOn=a,uh(r.priority,function(){b2(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Ty(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Yo=f,c.target.dispatchEvent(f),Yo=null}else return a=Dr(c),a!==null&&v2(a),r.blockedOn=c,!1;a.shift()}return!0}function E2(r,a,c){Rf(r)&&c.delete(a)}function YR(){_y=!1,Qs!==null&&Rf(Qs)&&(Qs=null),Js!==null&&Rf(Js)&&(Js=null),Xs!==null&&Rf(Xs)&&(Xs=null),qu.forEach(E2),Wu.forEach(E2)}function Nf(r,a){r.blockedOn===a&&(r.blockedOn=null,_y||(_y=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YR)))}var Df=null;function _2(r){Df!==r&&(Df=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Df===r&&(Df=null);for(var a=0;a<r.length;a+=3){var c=r[a],f=r[a+1],y=r[a+2];if(typeof f!="function"){if(Ey(f||c)===null)continue;break}var v=Dr(c);v!==null&&(r.splice(a,3),a-=3,Tg(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Il(r){function a(U){return Nf(U,r)}Qs!==null&&Nf(Qs,r),Js!==null&&Nf(Js,r),Xs!==null&&Nf(Xs,r),qu.forEach(a),Wu.forEach(a);for(var c=0;c<Zs.length;c++){var f=Zs[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Zs.length&&(c=Zs[0],c.blockedOn===null);)T2(c),c.blockedOn===null&&Zs.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],E=y[In]||null;if(typeof v=="function")E||_2(c);else if(E){var N=null;if(v&&v.hasAttribute("formAction")){if(y=v,E=v[In]||null)N=E.formAction;else if(Ey(y)!==null)continue}else N=E.action;typeof N=="function"?c[f+1]=N:(c.splice(f,3),f-=3),_2(c)}}}function C2(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function Cy(r){this._internalRoot=r}kf.prototype.render=Cy.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,f=xi();y2(c,f,r,a,null,null)},kf.prototype.unmount=Cy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;y2(r.current,2,null,r,null,null),ff(),a[rr]=null}};function kf(r){this._internalRoot=r}kf.prototype.unstable_scheduleHydration=function(r){if(r){var a=jr();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Zs.length&&a!==0&&a<Zs[c].priority;c++);Zs.splice(c,0,r),c===0&&T2(r)}};var A2=e.version;if(A2!=="19.2.3")throw Error(i(527,A2,"19.2.3"));q.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var QR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{Ln=Pf.inject(QR),fn=Pf}catch{}}return Qu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,f="",y=P1,v=O1,E=M1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=m2(r,1,!1,null,null,c,f,null,y,v,E,C2),r[rr]=a.current,oy(r),new Cy(a)},Qu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var f=!1,y="",v=P1,E=O1,N=M1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),a=m2(r,1,!0,a,c??null,f,y,U,v,E,N,C2),a.context=g2(null),c=a.current,f=xi(),f=Zc(f),y=Ls(f),y.callback=null,Fs(c,y,f),c=f,a.current.lanes=c,gs(a,c),fr(a),r[rr]=a.current,oy(r),new kf(a)},Qu.version="19.2.3",Qu}var V2;function oN(){if(V2)return jy.exports;V2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jy.exports=aN(),jy.exports}var lN=oN(),Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cN={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},uN=class{#e=cN;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},so=new uN;function dN(t){setTimeout(t,0)}var Ao=typeof window>"u"||"Deno"in globalThis;function Xn(){}function hN(t,e){return typeof t=="function"?t(e):t}function v0(t){return typeof t=="number"&&t>=0&&t!==1/0}function h_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function da(t,e){return typeof t=="function"?t(e):t}function Vi(t,e){return typeof t=="function"?t(e):t}function L2(t,e){const{type:n="all",exact:i,fetchStatus:s,predicate:o,queryKey:u,stale:h}=t;if(u){if(i){if(e.queryHash!==_x(u,e.options))return!1}else if(!Rd(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||s&&s!==e.state.fetchStatus||o&&!o(e))}function F2(t,e){const{exact:n,status:i,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Io(e.options.mutationKey)!==Io(o))return!1}else if(!Rd(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||s&&!s(e))}function _x(t,e){return(e?.queryKeyHashFn||Io)(t)}function Io(t){return JSON.stringify(t,(e,n)=>b0(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Rd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Rd(t[n],e[n])):!1}var fN=Object.prototype.hasOwnProperty;function f_(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=B2(t)&&B2(e);if(!i&&!(b0(t)&&b0(e)))return e;const o=(i?t:Object.keys(t)).length,u=i?e:Object.keys(e),h=u.length,d=i?new Array(h):{};let p=0;for(let g=0;g<h;g++){const x=i?g:u[g],b=t[x],S=e[x];if(b===S){d[x]=b,(i?g<o:fN.call(t,x))&&p++;continue}if(b===null||S===null||typeof b!="object"||typeof S!="object"){d[x]=S;continue}const T=f_(b,S,n+1);d[x]=T,T===b&&p++}return o===h&&p===o?t:d}function xp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function B2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function b0(t){if(!z2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z2(t){return Object.prototype.toString.call(t)==="[object Object]"}function pN(t){return new Promise(e=>{so.setTimeout(e,t)})}function S0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?f_(t,e):e}function mN(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function gN(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Cx=Symbol();function p_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Cx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ax(t,e){return typeof t=="function"?t(...e):!!t}function yN(t,e,n){let i=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??=e(),i||(i=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var xN=class extends Pc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Ao&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ix=new xN;function w0(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function i(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{i({status:"fulfilled",value:s}),t(s)},n.reject=s=>{i({status:"rejected",reason:s}),e(s)},n}var vN=dN;function bN(){let t=[],e=0,n=h=>{h()},i=h=>{h()},s=vN;const o=h=>{e?t.push(h):s(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&s(()=>{i(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||u()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{s=h}}}var gn=bN(),SN=class extends Pc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Ao&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},vp=new SN;function wN(t){return Math.min(1e3*2**t,3e4)}function m_(t){return(t??"online")==="online"?vp.isOnline():!0}var T0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function g_(t){let e=!1,n=0,i;const s=w0(),o=()=>s.status!=="pending",u=A=>{if(!o()){const _=new T0(A);b(_),t.onCancel?.(_)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Ix.isFocused()&&(t.networkMode==="always"||vp.isOnline())&&t.canRun(),g=()=>m_(t.networkMode)&&t.canRun(),x=A=>{o()||(i?.(),s.resolve(A))},b=A=>{o()||(i?.(),s.reject(A))},S=()=>new Promise(A=>{i=_=>{(o()||p())&&A(_)},t.onPause?.()}).then(()=>{i=void 0,o()||t.onContinue?.()}),T=()=>{if(o())return;let A;const _=n===0?t.initialPromise:void 0;try{A=_??t.fn()}catch(M){A=Promise.reject(M)}Promise.resolve(A).then(x).catch(M=>{if(o())return;const D=t.retry??(Ao?0:3),V=t.retryDelay??wN,$=typeof V=="function"?V(n,M):V,Q=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,M);if(e||!Q){b(M);return}n++,t.onFail?.(n,M),pN($).then(()=>p()?void 0:S()).then(()=>{e?b(M):T()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(i?.(),s),cancelRetry:h,continueRetry:d,canStart:g,start:()=>(g()?T():S().then(T),s)}}var y_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v0(this.gcTime)&&(this.#e=so.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ao?1/0:300*1e3))}clearGcTimeout(){this.#e&&(so.clearTimeout(this.#e),this.#e=void 0)}},TN=class extends y_{#e;#t;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=H2(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=H2(this.options);n.data!==void 0&&(this.setState(U2(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=S0(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>da(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!h_(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},o=()=>{const d=p_(this.options,n),g=(()=>{const x={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(x),x})();return this.#o=!1,this.options.persister?this.options.persister(d,g,this):d(g)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return s(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#s({type:"fetch",meta:h.fetchOptions?.meta}),this.#i=g_({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof T0&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(d,p)=>{this.#s({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#i.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof T0){if(d.silent)return this.#i.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...x_(i.data,this.options),fetchMeta:e.meta??null};case"success":const s={...i,...U2(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function x_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function H2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var EN=class extends Pc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=w0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$2(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return E0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!xp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&G2(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Vi(this.options.enabled,this.#t)!==Vi(e.enabled,this.#t)||da(this.options.staleTime,this.#t)!==da(e.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==n||Vi(this.options.enabled,this.#t)!==Vi(e.enabled,this.#t)||s!==this.#l)&&this.#x(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return CN(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Xn)),e}#g(){this.#b();const t=da(this.options.staleTime,this.#t);if(Ao||this.#r.isStale||!v0(t))return;const n=h_(this.#r.dataUpdatedAt,t)+1;this.#c=so.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#S(),this.#l=t,!(Ao||Vi(this.options.enabled,this.#t)===!1||!v0(this.#l)||this.#l===0)&&(this.#u=so.setInterval(()=>{(this.options.refetchIntervalInBackground||Ix.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(so.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(so.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,s=this.#r,o=this.#i,u=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let g={...p},x=!1,b;if(e._optimisticResults){const I=this.hasListeners(),k=!I&&$2(t,e),L=I&&G2(t,n,e,i);(k||L)&&(g={...g,...x_(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:T,status:A}=g;b=g.data;let _=!1;if(e.placeholderData!==void 0&&b===void 0&&A==="pending"){let I;s?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(I=s.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,I!==void 0&&(A="success",b=S0(s?.data,I,e),x=!0)}if(e.select&&b!==void 0&&!_)if(s&&b===o?.data&&e.select===this.#m)b=this.#h;else try{this.#m=e.select,b=e.select(b),b=S0(s?.data,b,e),this.#h=b,this.#s=null}catch(I){this.#s=I}this.#s&&(S=this.#s,b=this.#h,T=Date.now(),A="error");const M=g.fetchStatus==="fetching",D=A==="pending",V=A==="error",$=D&&M,Q=b!==void 0,R={status:A,fetchStatus:g.fetchStatus,isPending:D,isSuccess:A==="success",isError:V,isInitialLoading:$,isLoading:$,data:b,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:T,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:M,isRefetching:M&&!D,isLoadingError:V&&!Q,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:V&&Q,isStale:jx(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Vi(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=R.data!==void 0,k=R.status==="error"&&!I,L=F=>{k?F.reject(R.error):I&&F.resolve(R.data)},B=()=>{const F=this.#o=R.promise=w0();L(F)},H=this.#o;switch(H.status){case"pending":t.queryHash===n.queryHash&&L(H);break;case"fulfilled":(k||R.data!==H.value)&&B();break;case"rejected":(!k||R.error!==H.reason)&&B();break}}return R}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),xp(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(u=>{const h=u;return this.#r[h]!==t[h]&&o.has(h)})};this.#T({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#T(t){gn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function _N(t,e){return Vi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $2(t,e){return _N(t,e)||t.state.data!==void 0&&E0(t,e,e.refetchOnMount)}function E0(t,e,n){if(Vi(e.enabled,t)!==!1&&da(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&jx(t,e)}return!1}function G2(t,e,n,i){return(t!==e||Vi(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&jx(t,n)}function jx(t,e){return Vi(e.enabled,t)!==!1&&t.isStaleByTime(da(e.staleTime,t))}function CN(t,e){return!xp(t.getCurrentResult(),e)}function q2(t){return{onFetch:(e,n)=>{const i=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let g=!1;const x=T=>{yN(T,()=>e.signal,()=>g=!0)},b=p_(e.options,e.fetchOptions),S=async(T,A,_)=>{if(g)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const D=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:A,direction:_?"backward":"forward",meta:e.options.meta};return x(re),re})(),V=await b(D),{maxPages:$}=e.options,Q=_?gN:mN;return{pages:Q(T.pages,V,$),pageParams:Q(T.pageParams,A,$)}};if(s&&o.length){const T=s==="backward",A=T?AN:W2,_={pages:o,pageParams:u},M=A(i,_);h=await S(_,M,T)}else{const T=t??o.length;do{const A=d===0?u[0]??i.initialPageParam:W2(i,h);if(d>0&&A==null)break;h=await S(h,A),d++}while(d<T)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function W2(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function AN(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var IN=class extends y_{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||v_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=g_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#i({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",o=!this.#r.canStart();try{if(s)n();else{this.#i({type:"pending",variables:e,isPaused:o}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,i);const h=await this.options.onMutate?.(e,i);h!==this.state.context&&this.#i({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,i),await this.options.onSuccess?.(u,e,this.state.context,i),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(u,null,e,this.state.context,i),this.#i({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onError?.(u,e,this.state.context,i)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,i)}catch(h){Promise.reject(h)}throw this.#i({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function v_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jN=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new IN({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=Of(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Of(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Of(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Of(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>F2(e,n))}findAll(t={}){return this.getAll().filter(e=>F2(t,e))}notify(t){gn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return gn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function Of(t){return t.options.scope?.id}var RN=class extends Pc{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),xp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Io(n.mutationKey)!==Io(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??v_();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){gn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#r.onSuccess?.(e.data,n,i,s)}catch(o){Promise.reject(o)}try{this.#r.onSettled?.(e.data,null,n,i,s)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#r.onError?.(e.error,n,i,s)}catch(o){Promise.reject(o)}try{this.#r.onSettled?.(void 0,e.error,n,i,s)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},NN=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,s=e.queryHash??_x(i,e);let o=this.get(s);return o||(o=new TN({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>L2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>L2(t,n)):e}notify(t){gn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},DN=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new NN,this.#t=t.mutationCache||new jN,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Ix.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=vp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(da(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(i.queryHash)?.state.data,u=hN(e,o);if(u!==void 0)return this.#e.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return gn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=gn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(i).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return gn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=gn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(da(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=q2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=q2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Rd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Rd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_x(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cx&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},b_=j.createContext(void 0),qd=t=>{const e=j.useContext(b_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kN=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(b_.Provider,{value:t,children:e})),S_=j.createContext(!1),PN=()=>j.useContext(S_);S_.Provider;function ON(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MN=j.createContext(ON()),VN=()=>j.useContext(MN),LN=(t,e,n)=>{const i=n?.state.error&&typeof t.throwOnError=="function"?Ax(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},FN=t=>{j.useEffect(()=>{t.clearReset()},[t])},BN=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(s&&t.data===void 0||Ax(n,[t.error,i])),zN=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...s)=>n(i(...s)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},UN=(t,e)=>t.isLoading&&t.isFetching&&!e,HN=(t,e)=>t?.suspense&&e.isPending,K2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function $N(t,e,n){const i=PN(),s=VN(),o=qd(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const h=o.getQueryCache().get(u.queryHash);u._optimisticResults=i?"isRestoring":"optimistic",zN(u),LN(u,s,h),FN(s);const d=!o.getQueryCache().get(u.queryHash),[p]=j.useState(()=>new e(o,u)),g=p.getOptimisticResult(u),x=!i&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const S=x?p.subscribe(gn.batchCalls(b)):Xn;return p.updateResult(),S},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),j.useEffect(()=>{p.setOptions(u)},[u,p]),HN(u,g))throw K2(u,p,s);if(BN({result:g,errorResetBoundary:s,throwOnError:u.throwOnError,query:h,suspense:u.suspense}))throw g.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!Ao&&UN(g,i)&&(d?K2(u,p,s):h?.promise)?.catch(Xn).finally(()=>{p.updateResult()}),u.notifyOnChangeProps?g:p.trackResult(g)}function Wd(t,e){return $N(t,EN)}function Jp(t,e){const n=qd(),[i]=j.useState(()=>new RN(n,t));j.useEffect(()=>{i.setOptions(t)},[i,t]);const s=j.useSyncExternalStore(j.useCallback(u=>i.subscribe(gn.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=j.useCallback((u,h)=>{i.mutate(u,h).catch(Xn)},[i]);if(s.error&&Ax(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}var Y2="popstate";function GN(t={}){function e(i,s){let{pathname:o,search:u,hash:h}=i.location;return _0("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Nd(s)}return WN(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qN(){return Math.random().toString(36).substring(2,10)}function Q2(t,e){return{usr:t.state,key:t.key,idx:e}}function _0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:n,key:e&&e.key||i||qN()}}function Nd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function WN(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function x(){h="POP";let _=g(),M=_==null?null:_-p;p=_,d&&d({action:h,location:A.location,delta:M})}function b(_,M){h="PUSH";let D=_0(A.location,_,M);p=g()+1;let V=Q2(D,p),$=A.createHref(D);try{u.pushState(V,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign($)}o&&d&&d({action:h,location:A.location,delta:1})}function S(_,M){h="REPLACE";let D=_0(A.location,_,M);p=g();let V=Q2(D,p),$=A.createHref(D);u.replaceState(V,"",$),o&&d&&d({action:h,location:A.location,delta:0})}function T(_){return KN(_)}let A={get action(){return h},get location(){return t(s,u)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Y2,x),d=_,()=>{s.removeEventListener(Y2,x),d=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let M=T(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:S,go(_){return u.go(_)}};return A}function KN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Nd(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function w_(t,e,n="/"){return YN(t,e,n,!1)}function YN(t,e,n,i){let s=typeof e=="string"?Oc(e):e,o=cs(s.pathname||"/",n);if(o==null)return null;let u=T_(t);QN(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=oD(o);h=sD(u[d],p,i)}return h}function T_(t,e=[],n=[],i="",s=!1){let o=(u,h,d=s,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;Lt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let x=ss([i,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(Lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),T_(u.children,e,b,x,d)),!(u.path==null&&!u.index)&&e.push({path:x,score:iD(x,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of E_(u.path))o(u,h,!0,d)}),e}function E_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=E_(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function QN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var JN=/^:[\w-]+$/,XN=3,ZN=2,eD=1,tD=10,nD=-2,J2=t=>t==="*";function iD(t,e){let n=t.split("/"),i=n.length;return n.some(J2)&&(i+=nD),e&&(i+=ZN),n.filter(s=>!J2(s)).reduce((s,o)=>s+(JN.test(o)?XN:o===""?eD:tD),i)}function rD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function sD(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",x=bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!x&&p&&n&&!i[i.length-1].route.index&&(x=bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:ss([o,x.pathname]),pathnameBase:dD(ss([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=ss([o,x.pathnameBase]))}return u}function bp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=aD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:x},b)=>{if(g==="*"){let T=h[b]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const S=h[b];return x&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function aD(t,e=!1,n=!0){Fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function oD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var __=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lD=t=>__.test(t);function cD(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Oc(t):t,o;if(n)if(lD(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=X2(n.substring(1),"/"):o=X2(n,e)}else o=e;return{pathname:o,search:hD(i),hash:fD(s)}}function X2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ky(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rx(t){let e=uD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Nx(t,e,n,i=!1){let s;typeof t=="string"?s=Oc(t):(s={...t},Lt(!s.pathname||!s.pathname.includes("?"),ky("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),ky("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),ky("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=n;else{let x=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;s.pathname=b.join("/")}h=x>=0?e[x]:"/"}let d=cD(s,h),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ss=t=>t.join("/").replace(/\/\/+/g,"/"),dD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pD=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function A_(t,e){let n=t;if(typeof n!="string"||!__.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(C_)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=cs(u.pathname,e);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:s=!0}catch{Fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I_=["POST","PUT","PATCH","DELETE"];new Set(I_);var yD=["GET",...I_];new Set(yD);var Mc=j.createContext(null);Mc.displayName="DataRouter";var Xp=j.createContext(null);Xp.displayName="DataRouterState";var xD=j.createContext(!1),j_=j.createContext({isTransitioning:!1});j_.displayName="ViewTransition";var vD=j.createContext(new Map);vD.displayName="Fetchers";var bD=j.createContext(null);bD.displayName="Await";var Ti=j.createContext(null);Ti.displayName="Navigation";var Kd=j.createContext(null);Kd.displayName="Location";var er=j.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Dx=j.createContext(null);Dx.displayName="RouteError";var R_="REACT_ROUTER_ERROR",SD="REDIRECT",wD="ROUTE_ERROR_RESPONSE";function TD(t){if(t.startsWith(`${R_}:${SD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ED(t){if(t.startsWith(`${R_}:${wD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pD(e.status,e.statusText,e.data)}catch{}}function _D(t,{relative:e}={}){Lt(Vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Ti),{hash:s,pathname:o,search:u}=Yd(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:ss([n,o])),i.createHref({pathname:h,search:u,hash:s})}function Vc(){return j.useContext(Kd)!=null}function Cr(){return Lt(Vc(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Kd).location}var N_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D_(t){j.useContext(Ti).static||j.useLayoutEffect(t)}function Lc(){let{isDataRoute:t}=j.useContext(er);return t?LD():CD()}function CD(){Lt(Vc(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Mc),{basename:e,navigator:n}=j.useContext(Ti),{matches:i}=j.useContext(er),{pathname:s}=Cr(),o=JSON.stringify(Rx(i)),u=j.useRef(!1);return D_(()=>{u.current=!0}),j.useCallback((d,p={})=>{if(Fi(u.current,N_),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=Nx(d,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ss([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,s,t])}j.createContext(null);function k_(){let{matches:t}=j.useContext(er),e=t[t.length-1];return e?e.params:{}}function Yd(t,{relative:e}={}){let{matches:n}=j.useContext(er),{pathname:i}=Cr(),s=JSON.stringify(Rx(n));return j.useMemo(()=>Nx(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function AD(t,e){return P_(t,e)}function P_(t,e,n,i,s){Lt(Vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Ti),{matches:u}=j.useContext(er),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let D=x&&x.path||"";M_(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Cr(),S;if(e){let D=typeof e=="string"?Oc(e):e;Lt(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=b;let T=S.pathname||"/",A=T;if(g!=="/"){let D=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=w_(t,{pathname:A});Fi(x||_!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Fi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=DD(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:ss([g,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ss([g,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,i,s);return e&&M?j.createElement(Kd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function ID(){let t=VD(),e=mD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,u)}var jD=j.createElement(ID,null),O_=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ED(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(er.Provider,{value:this.props.routeContext},j.createElement(Dx.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(RD,{error:t},e):e}};O_.contextType=xD;var Py=new WeakMap;function RD({children:t,error:e}){let{basename:n}=j.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=TD(e.digest);if(i){let s=Py.get(e);if(s)throw s;let o=A_(i.location,n);if(C_&&!Py.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Py.set(e,u),u}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function ND({routeContext:t,match:e,children:n}){let i=j.useContext(Mc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(er.Provider,{value:t},n)}function DD(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let g=o.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);Lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=g),x.route.id){let{loaderData:b,errors:S}=n,T=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=n&&i?(g,x)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:gD(n.matches),errorInfo:x})}:void 0;return o.reduceRight((g,x,b)=>{let S,T=!1,A=null,_=null;n&&(S=u&&x.route.id?u[x.route.id]:void 0,A=x.route.errorElement||jD,h&&(d<0&&b===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,_=null):d===b&&(T=!0,_=x.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,b+1)),D=()=>{let V;return S?V=A:T?V=_:x.route.Component?V=j.createElement(x.route.Component,null):x.route.element?V=x.route.element:V=g,j.createElement(ND,{match:x,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:V})};return n&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?j.createElement(O_,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):D()},null)}function kx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kD(t){let e=j.useContext(Mc);return Lt(e,kx(t)),e}function PD(t){let e=j.useContext(Xp);return Lt(e,kx(t)),e}function OD(t){let e=j.useContext(er);return Lt(e,kx(t)),e}function Px(t){let e=OD(t),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MD(){return Px("useRouteId")}function VD(){let t=j.useContext(Dx),e=PD("useRouteError"),n=Px("useRouteError");return t!==void 0?t:e.errors?.[n]}function LD(){let{router:t}=kD("useNavigate"),e=Px("useNavigate"),n=j.useRef(!1);return D_(()=>{n.current=!0}),j.useCallback(async(s,o={})=>{Fi(n.current,N_),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var Z2={};function M_(t,e,n){!e&&!Z2[t]&&(Z2[t]=!0,Fi(!1,n))}j.memo(FD);function FD({routes:t,future:e,state:n,onError:i}){return P_(t,void 0,n,i,e)}function Nl({to:t,replace:e,state:n,relative:i}){Lt(Vc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Ti);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(er),{pathname:u}=Cr(),h=Lc(),d=Nx(t,Rx(o),u,i==="path"),p=JSON.stringify(d);return j.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function Tn(t){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Lt(!Vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof n=="string"&&(n=Oc(n));let{pathname:p="/",search:g="",hash:x="",state:b=null,key:S="default"}=n,T=j.useMemo(()=>{let A=cs(p,h);return A==null?null:{location:{pathname:A,search:g,hash:x,state:b,key:S},navigationType:i}},[h,p,g,x,b,S,i]);return Fi(T!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:j.createElement(Ti.Provider,{value:d},j.createElement(Kd.Provider,{children:e,value:T}))}function zD({children:t,location:e}){return AD(C0(t),e)}function C0(t,e=[]){let n=[];return j.Children.forEach(t,(i,s)=>{if(!j.isValidElement(i))return;let o=[...e,s];if(i.type===j.Fragment){n.push.apply(n,C0(i.props.children,o));return}Lt(i.type===Tn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=C0(i.props.children,o)),n.push(u)}),n}var np="get",ip="application/x-www-form-urlencoded";function Zp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UD(t){return Zp(t)&&t.tagName.toLowerCase()==="button"}function HD(t){return Zp(t)&&t.tagName.toLowerCase()==="form"}function $D(t){return Zp(t)&&t.tagName.toLowerCase()==="input"}function GD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qD(t,e){return t.button===0&&(!e||e==="_self")&&!GD(t)}var Mf=null;function WD(){if(Mf===null)try{new FormData(document.createElement("form"),0),Mf=!1}catch{Mf=!0}return Mf}var KD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oy(t){return t!=null&&!KD.has(t)?(Fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ip}"`),null):t}function YD(t,e){let n,i,s,o,u;if(HD(t)){let h=t.getAttribute("action");i=h?cs(h,e):null,n=t.getAttribute("method")||np,s=Oy(t.getAttribute("enctype"))||ip,o=new FormData(t)}else if(UD(t)||$D(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?cs(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||np,s=Oy(t.getAttribute("formenctype"))||Oy(h.getAttribute("enctype"))||ip,o=new FormData(h,t),!WD()){let{name:p,type:g,value:x}=t;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,x)}}else{if(Zp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=np,i=null,s=ip,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ox(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QD(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&cs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function JD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZD(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await JD(o,n);return u.links?u.links():[]}return[]}));return ik(i.flat(1).filter(XD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ew(t,e,n,i,s,o){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ek(t,e,{includeHydrateFallback:n}={}){return tk(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tk(t){return[...new Set(t)]}function nk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function ik(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(nk(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function V_(){let t=j.useContext(Mc);return Ox(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rk(){let t=j.useContext(Xp);return Ox(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mx=j.createContext(void 0);Mx.displayName="FrameworkContext";function L_(){let t=j.useContext(Mx);return Ox(t,"You must render this element inside a <HydratedRouter> element"),t}function sk(t,e){let n=j.useContext(Mx),[i,s]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:x}=e,b=j.useRef(null);j.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let A=M=>{M.forEach(D=>{u(D.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),j.useEffect(()=>{if(i){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[i]);let S=()=>{s(!0)},T=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Ju(h,S),onBlur:Ju(d,T),onMouseEnter:Ju(p,S),onMouseLeave:Ju(g,T),onTouchStart:Ju(x,S)}]:[!1,b,{}]}function Ju(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ak({page:t,...e}){let{router:n}=V_(),i=j.useMemo(()=>w_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?j.createElement(lk,{page:t,matches:i,...e}):null}function ok(t){let{manifest:e,routeModules:n}=L_(),[i,s]=j.useState([]);return j.useEffect(()=>{let o=!1;return ZD(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function lk({page:t,matches:e,...n}){let i=Cr(),{future:s,manifest:o,routeModules:u}=L_(),{basename:h}=V_(),{loaderData:d,matches:p}=rk(),g=j.useMemo(()=>ew(t,e,p,o,i,"data"),[t,e,p,o,i]),x=j.useMemo(()=>ew(t,e,p,o,i,"assets"),[t,e,p,o,i]),b=j.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,_=!1;if(e.forEach(D=>{let V=o.routes[D.route.id];!V||!V.hasLoader||(!g.some($=>$.route.id===D.route.id)&&D.route.id in d&&u[D.route.id]?.shouldRevalidate||V.hasClientLoader?_=!0:A.add(D.route.id))}),A.size===0)return[];let M=QD(t,h,s.unstable_trailingSlashAwareDataRequests,"data");return _&&A.size>0&&M.searchParams.set("_routes",e.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[h,s.unstable_trailingSlashAwareDataRequests,d,i,o,g,e,t,u]),S=j.useMemo(()=>ek(x,o),[x,o]),T=ok(x);return j.createElement(j.Fragment,null,b.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),S.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:_})=>j.createElement("link",{key:A,nonce:n.nonce,..._})))}function ck(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uk&&(window.__reactRouterVersion="7.12.0")}catch{}function dk({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=j.useRef();s.current==null&&(s.current=GN({window:i,v5Compat:!0}));let o=s.current,[u,h]=j.useState({action:o.action,location:o.location}),d=j.useCallback(p=>{n===!1?h(p):j.startTransition(()=>h(p))},[n]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(BD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var F_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B_=j.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b,...S},T){let{basename:A,unstable_useTransitions:_}=j.useContext(Ti),M=typeof p=="string"&&F_.test(p),D=A_(p,A);p=D.to;let V=_D(p,{relative:s}),[$,Q,re]=sk(i,S),R=mk(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:s,viewTransition:x,unstable_defaultShouldRevalidate:b,unstable_useTransitions:_});function I(L){e&&e(L),L.defaultPrevented||R(L)}let k=j.createElement("a",{...S,...re,href:D.absoluteURL||V,onClick:D.isExternal||o?e:I,ref:ck(T,Q),target:d,"data-discover":!M&&n==="render"?"true":void 0});return $&&!M?j.createElement(j.Fragment,null,k,j.createElement(ak,{page:V})):k});B_.displayName="Link";var hk=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...p},g){let x=Yd(u,{relative:p.relative}),b=Cr(),S=j.useContext(Xp),{navigator:T,basename:A}=j.useContext(Ti),_=S!=null&&bk(x)&&h===!0,M=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,D=b.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(D=D.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&A&&(V=cs(V,A)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Q=D===M||!s&&D.startsWith(M)&&D.charAt($)==="/",re=V!=null&&(V===M||!s&&V.startsWith(M)&&V.charAt(M.length)==="/"),R={isActive:Q,isPending:re,isTransitioning:_},I=Q?e:void 0,k;typeof i=="function"?k=i(R):k=[i,Q?"active":null,re?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(R):o;return j.createElement(B_,{...p,"aria-current":I,className:k,ref:g,style:L,to:u,viewTransition:h},typeof d=="function"?d(R):d)});hk.displayName="NavLink";var fk=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=np,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b,...S},T)=>{let{unstable_useTransitions:A}=j.useContext(Ti),_=xk(),M=vk(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&F_.test(h),$=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let re=Q.nativeEvent.submitter,R=re?.getAttribute("formmethod")||u,I=()=>_(re||Q.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:s,state:o,relative:p,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b});A&&n!==!1?j.startTransition(()=>I()):I()};return j.createElement("form",{ref:T,method:D,action:M,onSubmit:i?d:$,...S,"data-discover":!V&&t==="render"?"true":void 0})});fk.displayName="Form";function pk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z_(t){let e=j.useContext(Mc);return Lt(e,pk(t)),e}function mk(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=Lc(),g=Cr(),x=Yd(t,{relative:o});return j.useCallback(b=>{if(qD(b,e)){b.preventDefault();let S=n!==void 0?n:Nd(g)===Nd(x),T=()=>p(t,{replace:S,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?j.startTransition(()=>T()):T()}},[g,p,x,n,i,e,t,s,o,u,h,d])}var gk=0,yk=()=>`__${String(++gk)}__`;function xk(){let{router:t}=z_("useSubmit"),{basename:e}=j.useContext(Ti),n=MD(),i=t.fetch,s=t.navigate;return j.useCallback(async(o,u={})=>{let{action:h,method:d,encType:p,formData:g,body:x}=YD(o,e);if(u.navigate===!1){let b=u.fetcherKey||yk();await i(b,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:x,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function vk(t,{relative:e}={}){let{basename:n}=j.useContext(Ti),i=j.useContext(er);Lt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Yd(t||".",{relative:e})},u=Cr();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ss([n,o.pathname])),Nd(o)}function bk(t,{relative:e}={}){let n=j.useContext(j_);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z_("useViewTransitionState"),s=Yd(t,{relative:e});if(!n.isTransitioning)return!1;let o=cs(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=cs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bp(s.pathname,u)!=null||bp(s.pathname,o)!=null}const Sk=[{id:"dashboard",label:"Dashboard",section:"MAIN",icon:l.jsx(Tk,{})},{id:"proposal-contract",label:"Proposal & Contract",section:"MAIN",icon:l.jsx(Ek,{})},{id:"estates",label:"Estates",section:"MAIN",icon:l.jsx(_k,{})},{id:"users",label:"Users",section:"MANAGEMENT",icon:l.jsx(Ck,{})},{id:"document-vault",label:"Document Vault",section:"MANAGEMENT",icon:l.jsx(Ak,{})},{id:"notifications",label:"Notifications",section:"MANAGEMENT",icon:l.jsx(Ik,{})},{id:"dev-dashboard",label:"Dev Dashboard",section:"DEVELOPMENT",icon:l.jsx(jk,{})},{id:"analytics",label:"Analytics",section:"DEVELOPMENT",icon:l.jsx(Rk,{})},{id:"cost-tracking",label:"Cost Tracking",section:"DEVELOPMENT",icon:l.jsx(Nk,{})},{id:"reports",label:"Reports",section:"DEVELOPMENT",icon:l.jsx(Dk,{})},{id:"settings",label:"Settings",section:"SYSTEM",icon:l.jsx(kk,{})}];function wk(){const[t,e]=j.useState("proposal-contract"),n=Sk.reduce((i,s)=>{const o=s.section||"OTHER";return i[o]||(i[o]=[]),i[o].push(s),i},{});return l.jsxs("aside",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-logo",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),l.jsx("path",{d:"M2 17l10 5 10-5"}),l.jsx("path",{d:"M2 12l10 5 10-5"})]}),l.jsx("span",{children:"Legacy"})]}),l.jsx("nav",{children:Object.entries(n).map(([i,s])=>l.jsxs("div",{children:[l.jsx("div",{className:"nav-section-label",children:i}),s.map(o=>l.jsxs("a",{className:`nav-item ${t===o.id?"active":""}`,onClick:()=>e(o.id),children:[o.icon,l.jsx("span",{children:o.label}),o.id==="proposal-contract"&&l.jsx("span",{style:{marginLeft:"auto",background:"#C8A951",color:"#000",padding:"2px 6px",borderRadius:"4px",fontSize:"9px",fontWeight:700,letterSpacing:"0.05em"},children:"ACTION REQ"})]},o.id))]},i))}),l.jsxs("div",{style:{marginTop:"auto",padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"linear-gradient(135deg, #C8A951, #D4AF37)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:700,fontSize:"0.75rem"},children:"AD"}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"white",fontSize:"0.875rem",fontWeight:500},children:"Admin"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.625rem"},children:"System Level"})]})]})]})}function Tk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),l.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}function Ek(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),l.jsx("polyline",{points:"10 9 9 9 8 9"})]})}function _k(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function Ck(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function Ak(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function Ik(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}function jk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("polyline",{points:"16 18 22 12 16 6"}),l.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function Rk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),l.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),l.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}function Nk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),l.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function Dk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),l.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}function kk(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function Pk({isLightTheme:t,onToggleTheme:e}){return l.jsxs("header",{className:"admin-header",style:{position:"sticky",top:0,zIndex:1e3,background:t?"#fff":"#0f172a",borderBottom:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.1)"}`,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",height:"80px"},children:[l.jsxs("div",{className:"header-left",children:[l.jsx("h1",{style:{fontSize:"1.25rem",fontFamily:"Cinzel, serif",margin:0,color:t?"#0f172a":"#C8A951"},children:"Master Service Agreement"}),l.jsx("p",{style:{fontSize:"0.75rem",margin:0,color:t?"#64748b":"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sirsi Engineering  Professional Services"})]}),l.jsxs("div",{className:"header-right",style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",border:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.2)"}`,borderRadius:"8px",padding:"8px 12px",color:t?"#0f172a":"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease"},children:t?" Dark Mode":" Light Mode"}),l.jsx("div",{className:"avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#C8A951",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:"AD"})]})]})}const tw=t=>{let e;const n=new Set,i=(p,g)=>{const x=typeof p=="function"?p(e):p;if(!Object.is(x,e)){const b=e;e=g??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(S=>S(e,b))}},s=()=>e,h={setState:i,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=e=t(i,s,h);return h},Ok=(t=>t?tw(t):tw),Mk=t=>t;function Vk(t,e=Mk){const n=kt.useSyncExternalStore(t.subscribe,kt.useCallback(()=>e(t.getState()),[t,e]),kt.useCallback(()=>e(t.getInitialState()),[t,e]));return kt.useDebugValue(n),n}const Lk=t=>{const e=Ok(t),n=i=>Vk(e,i);return Object.assign(n,e),n},Fk=(t=>Lk);function U_(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var o;const u=d=>d===null?null:JSON.parse(d,void 0),h=(o=n.getItem(s))!=null?o:null;return h instanceof Promise?h.then(u):u(h)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const A0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return A0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return A0(i)(n)}}}},Bk=(t,e)=>(n,i,s)=>{let o={storage:U_(()=>localStorage),partialize:_=>_,version:0,merge:(_,M)=>({...M,..._}),...e},u=!1,h=0;const d=new Set,p=new Set;let g=o.storage;if(!g)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(..._)},i,s);const x=()=>{const _=o.partialize({...i()});return g.setItem(o.name,{state:_,version:o.version})},b=s.setState;s.setState=(_,M)=>(b(_,M),x());const S=t((..._)=>(n(..._),x()),i,s);s.getInitialState=()=>S;let T;const A=()=>{var _,M;if(!g)return;const D=++h;u=!1,d.forEach($=>{var Q;return $((Q=i())!=null?Q:S)});const V=((M=o.onRehydrateStorage)==null?void 0:M.call(o,(_=i())!=null?_:S))||void 0;return A0(g.getItem.bind(g))(o.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==o.version){if(o.migrate){const Q=o.migrate($.state,$.version);return Q instanceof Promise?Q.then(re=>[!0,re]):[!0,Q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var Q;if(D!==h)return;const[re,R]=$;if(T=o.merge(R,(Q=i())!=null?Q:S),n(T,!0),re)return x()}).then(()=>{D===h&&(V?.(T,void 0),T=i(),u=!0,p.forEach($=>$(T)))}).catch($=>{D===h&&V?.(void 0,$)})};return s.persist={setOptions:_=>{o={...o,..._},_.storage&&(g=_.storage)},clearStorage:()=>{g?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>u,onHydrate:_=>(d.add(_),()=>{d.delete(_)}),onFinishHydration:_=>(p.add(_),()=>{p.delete(_)})},o.skipHydration||A(),T||S},zk=Bk;var St;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function I0(t){const e=St[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let Vf;function Uk(t){if(!Vf){Vf={};for(const e of Object.values(St))typeof e!="string"&&(Vf[I0(e)]=e)}return Vf[t]}class un extends Error{constructor(e,n=St.Unknown,i,s,o){super(Hk(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=s??[],this.cause=o}static from(e,n=St.Unknown){return e instanceof un?e:e instanceof Error?e.name=="AbortError"?new un(e.message,St.Canceled):new un(e.message,n,void 0,void 0,e):new un(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===un.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n="typeName"in e?{findMessage:s=>s===e.typeName?e:void 0}:e,i=[];for(const s of this.details){if("getType"in s){n.findMessage(s.getType().typeName)&&i.push(s);continue}const o=n.findMessage(s.type);if(o)try{i.push(o.fromBinary(s.value))}catch{}}return i}}function Hk(t,e){return t.length?`[${I0(e)}] ${t}`:`[${I0(e)}]`}function Wt(t,e){if(!t)throw new Error(e)}const $k=34028234663852886e22,Gk=-34028234663852886e22,qk=4294967295,Wk=2147483647,Kk=-2147483648;function rp(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>Wk||t<Kk)throw new Error("invalid int 32: "+t)}function j0(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>qk||t<0)throw new Error("invalid uint 32: "+t)}function H_(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>$k||t<Gk))throw new Error("invalid float 32: "+t)}const $_=Symbol("@bufbuild/protobuf/enum-type");function Yk(t){const e=t[$_];return Wt(e,"missing enum type on enum object"),e}function G_(t,e,n,i){t[$_]=q_(e,n.map(s=>({no:s.no,name:s.name,localName:t[s.no]})))}function q_(t,e,n){const i=Object.create(null),s=Object.create(null),o=[];for(const u of e){const h=W_(u);o.push(h),i[u.name]=h,s[u.no]=h}return{typeName:t,values:o,findName(u){return i[u]},findNumber(u){return s[u]}}}function Qk(t,e,n){const i={};for(const s of e){const o=W_(s);i[o.localName]=o.no,i[o.no]=o.localName}return G_(i,t,e),i}function W_(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class Le{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),s=i.runtime.bin,o=s.makeReadOptions(n);return s.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,n){const i=this.getType(),s=i.runtime.json,o=s.makeReadOptions(n);return s.readMessage(i,e,o,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(s){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${s instanceof Error?s.message:String(s)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,s=i.makeWriteOptions(e),o=s.writerFactory();return i.writeMessage(this,o,s),o.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,s=i.makeWriteOptions(e);return i.writeMessage(this,s)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Jk(t,e,n,i){var s;const o=(s=i?.localName)!==null&&s!==void 0?s:e.substring(e.lastIndexOf(".")+1),u={[o]:function(h){t.util.initFields(this),t.util.initPartial(h,this)}}[o];return Object.setPrototypeOf(u.prototype,new Le),Object.assign(u,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(h,d){return new u().fromBinary(h,d)},fromJson(h,d){return new u().fromJson(h,d)},fromJsonString(h,d){return new u().fromJsonString(h,d)},equals(h,d){return t.util.equals(u,h,d)}}),u}function Xk(){let t=0,e=0;for(let i=0;i<28;i+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function My(t,e,n){for(let o=0;o<28;o=o+7){const u=t>>>o,h=!(!(u>>>7)&&e==0),d=(h?u|128:u)&255;if(n.push(d),!h)return}const i=t>>>28&15|(e&7)<<4,s=e>>3!=0;if(n.push((s?i|128:i)&255),!!s){for(let o=3;o<31;o=o+7){const u=e>>>o,h=!!(u>>>7),d=(h?u|128:u)&255;if(n.push(d),!h)return}n.push(e>>>31&1)}}const sp=4294967296;function nw(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,s=0;function o(u,h){const d=Number(t.slice(u,h));s*=n,i=i*n+d,i>=sp&&(s=s+(i/sp|0),i=i%sp)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?Y_(i,s):Vx(i,s)}function Zk(t,e){let n=Vx(t,e);const i=n.hi&2147483648;i&&(n=Y_(n.lo,n.hi));const s=K_(n.lo,n.hi);return i?"-"+s:s}function K_(t,e){if({lo:t,hi:e}=eP(t,e),e<=2097151)return String(sp*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,s=e>>16&65535;let o=n+i*6777216+s*6710656,u=i+s*8147497,h=s*2;const d=1e7;return o>=d&&(u+=Math.floor(o/d),o%=d),u>=d&&(h+=Math.floor(u/d),u%=d),h.toString()+iw(u)+iw(o)}function eP(t,e){return{lo:t>>>0,hi:e>>>0}}function Vx(t,e){return{lo:t|0,hi:e|0}}function Y_(t,e){return e=~e,t?t=~t+1:e+=1,Vx(t,e)}const iw=t=>{const e=String(t);return"0000000".slice(e.length)+e};function rw(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function tP(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var sw={};function nP(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof sw!="object"||sw.BUF_BIGINT_DISABLE!=="1")){const s=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),u=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>o||p<s)throw new Error(`int64 invalid: ${d}`);return p},uParse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>h||p<u)throw new Error(`uint64 invalid: ${d}`);return p},enc(d){return t.setBigInt64(0,this.parse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(d){return t.setBigInt64(0,this.uParse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigInt64(0,!0)},uDec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigUint64(0,!0)}}}const n=s=>Wt(/^-?[0-9]+$/.test(s),`int64 invalid: ${s}`),i=s=>Wt(/^[0-9]+$/.test(s),`uint64 invalid: ${s}`);return{zero:"0",supported:!1,parse(s){return typeof s!="string"&&(s=s.toString()),n(s),s},uParse(s){return typeof s!="string"&&(s=s.toString()),i(s),s},enc(s){return typeof s!="string"&&(s=s.toString()),n(s),nw(s)},uEnc(s){return typeof s!="string"&&(s=s.toString()),i(s),nw(s)},dec(s,o){return Zk(s,o)},uDec(s,o){return K_(s,o)}}}const _t=nP();var de;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(de||(de={}));var xa;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(xa||(xa={}));function ta(t,e,n){if(e===n)return!0;if(t==de.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(t){case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return e==n}return!1}function xc(t,e){switch(t){case de.BOOL:return!1;case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return e==0?_t.zero:"0";case de.DOUBLE:case de.FLOAT:return 0;case de.BYTES:return new Uint8Array(0);case de.STRING:return"";default:return 0}}function Q_(t,e){switch(t){case de.BOOL:return e===!1;case de.STRING:return e==="";case de.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var Zt;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Zt||(Zt={}));class iP{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let n=new Uint8Array(e),i=0;for(let s=0;s<this.chunks.length;s++)n.set(this.chunks[s],i),i+=this.chunks[s].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(j0(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return rp(e),rw(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){H_(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){j0(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){rp(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return rp(e),e=(e<<1^e>>31)>>>0,rw(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),s=_t.enc(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),s=_t.uEnc(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(n)}int64(e){let n=_t.enc(e);return My(n.lo,n.hi,this.buf),this}sint64(e){let n=_t.enc(e),i=n.hi>>31,s=n.lo<<1^i,o=(n.hi<<1|n.lo>>>31)^i;return My(s,o,this.buf),this}uint64(e){let n=_t.uEnc(e);return My(n.lo,n.hi,this.buf),this}}class rP{constructor(e,n){this.varint64=Xk,this.uint32=tP,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case Zt.Varint:for(;this.buf[this.pos++]&128;);break;case Zt.Bit64:this.pos+=4;case Zt.Bit32:this.pos+=4;break;case Zt.LengthDelimited:let s=this.uint32();this.pos+=s;break;case Zt.StartGroup:for(;;){const[o,u]=this.tag();if(u===Zt.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(u,o)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return _t.dec(...this.varint64())}uint64(){return _t.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,_t.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return _t.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return _t.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function sP(t,e,n,i){let s;return{typeName:e,extendee:n,get field(){if(!s){const o=typeof i=="function"?i():i;o.name=e.split(".").pop(),o.jsonName=`[${e}]`,s=t.util.newFieldList([o]).list()[0]}return s},runtime:t}}function J_(t){const e=t.field.localName,n=Object.create(null);return n[e]=aP(t),[n,()=>n[e]]}function aP(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return xc(e.T,e.L);case"message":const n=e.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function oP(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),em=[];for(let t=0;t<es.length;t++)em[es[t].charCodeAt(0)]=t;em[45]=es.indexOf("+");em[95]=es.indexOf("/");const tm={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,s=0,o,u=0;for(let h=0;h<t.length;h++){if(o=em[t.charCodeAt(h)],o===void 0)switch(t[h]){case"=":s=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:u=o,s=1;break;case 1:n[i++]=u<<2|(o&48)>>4,u=o,s=2;break;case 2:n[i++]=(u&15)<<4|(o&60)>>2,u=o,s=3;break;case 3:n[i++]=(u&3)<<6|o,s=0;break}}if(s==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(t){let e="",n=0,i,s=0;for(let o=0;o<t.length;o++)switch(i=t[o],n){case 0:e+=es[i>>2],s=(i&3)<<4,n=1;break;case 1:e+=es[s|i>>4],s=(i&15)<<2,n=2;break;case 2:e+=es[s|i>>6],e+=es[i&63],n=0;break}return n&&(e+=es[s],e+="=",n==1&&(e+="=")),e}};function lP(t,e,n){Z_(e,t);const i=e.runtime.bin.makeReadOptions(n),s=oP(t.getType().runtime.bin.listUnknownFields(t),e.field),[o,u]=J_(e);for(const h of s)e.runtime.bin.readField(o,i.readerFactory(h.data),e.field,h.wireType,i);return u()}function cP(t,e,n,i){Z_(e,t);const s=e.runtime.bin.makeReadOptions(i),o=e.runtime.bin.makeWriteOptions(i);if(X_(t,e)){const p=t.getType().runtime.bin.listUnknownFields(t).filter(g=>g.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const g of p)t.getType().runtime.bin.onUnknownField(t,g.no,g.wireType,g.data)}const u=o.writerFactory();let h=e.field;!h.opt&&!h.repeated&&(h.kind=="enum"||h.kind=="scalar")&&(h=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(h,n,u,o);const d=s.readerFactory(u.finish());for(;d.pos<d.len;){const[p,g]=d.tag(),x=d.skip(g,p);t.getType().runtime.bin.onUnknownField(t,p,g,x)}}function X_(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(i=>i.no==e.field.no)}function Z_(t,e){Wt(t.extendee.typeName==e.getType().typeName,`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}function eC(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!Q_(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function aw(t,e){const n=t.localName,i=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=i?t.T.values[0].no:void 0;break;case"scalar":e[n]=i?xc(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function ts(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(Le.prototype).every(i=>i in t&&typeof t[i]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function tC(t,e){return ts(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}de.DOUBLE,de.FLOAT,de.INT64,de.UINT64,de.INT32,de.UINT32,de.BOOL,de.STRING,de.BYTES;const ow={ignoreUnknownFields:!1},lw={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function uP(t){return t?Object.assign(Object.assign({},ow),t):ow}function dP(t){return t?Object.assign(Object.assign({},lw),t):lw}const Sp=Symbol(),ap=Symbol();function hP(){return{makeReadOptions:uP,makeWriteOptions:dP,readMessage(t,e,n,i){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${mr(e)}`);i=i??new t;const s=new Map,o=n.typeRegistry;for(const[u,h]of Object.entries(e)){const d=t.fields.findJsonName(u);if(d){if(d.oneof){if(h===null&&d.kind=="scalar")continue;const p=s.get(d.oneof);if(p!==void 0)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${d.oneof.name}" present: "${p}", "${u}"`);s.set(d.oneof,u)}cw(i,h,d,n,t)}else{let p=!1;if(o?.findExtension&&u.startsWith("[")&&u.endsWith("]")){const g=o.findExtension(u.substring(1,u.length-1));if(g&&g.extendee.typeName==t.typeName){p=!0;const[x,b]=J_(g);cw(x,h,g.field,n,g),cP(i,g,b(),n)}}if(!p&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${u}" is unknown`)}}return i},writeMessage(t,e){const n=t.getType(),i={};let s;try{for(s of n.fields.byNumber()){if(!eC(s,t)){if(s.req)throw"required field not set";if(!e.emitDefaultValues||!pP(s))continue}const u=s.oneof?t[s.oneof.localName].value:t[s.localName],h=uw(s,u,e);h!==void 0&&(i[e.useProtoFieldName?s.name:s.jsonName]=h)}const o=e.typeRegistry;if(o?.findExtensionFor)for(const u of n.runtime.bin.listUnknownFields(t)){const h=o.findExtensionFor(n.typeName,u.no);if(h&&X_(t,h)){const d=lP(t,h,e),p=uw(h.field,d,e);p!==void 0&&(i[h.field.jsonName]=p)}}}catch(o){const u=s?`cannot encode field ${n.typeName}.${s.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,h=o instanceof Error?o.message:String(o);throw new Error(u+(h.length>0?`: ${h}`:""))}return i},readScalar(t,e,n){return xd(t,e,n??xa.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||Q_(t,e)))return op(t,e)},debug:mr}}function mr(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function cw(t,e,n,i,s){let o=n.localName;if(n.repeated){if(Wt(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${s.typeName}.${n.name} from JSON: ${mr(e)}`);const u=t[o];for(const h of e){if(h===null)throw new Error(`cannot decode field ${s.typeName}.${n.name} from JSON: ${mr(h)}`);switch(n.kind){case"message":u.push(n.T.fromJson(h,i));break;case"enum":const d=Vy(n.T,h,i.ignoreUnknownFields,!0);d!==ap&&u.push(d);break;case"scalar":try{u.push(xd(n.T,h,n.L,!0))}catch(p){let g=`cannot decode field ${s.typeName}.${n.name} from JSON: ${mr(h)}`;throw p instanceof Error&&p.message.length>0&&(g+=`: ${p.message}`),new Error(g)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${s.typeName}.${n.name} from JSON: ${mr(e)}`);const u=t[o];for(const[h,d]of Object.entries(e)){if(d===null)throw new Error(`cannot decode field ${s.typeName}.${n.name} from JSON: map value null`);let p;try{p=fP(n.K,h)}catch(g){let x=`cannot decode map key for field ${s.typeName}.${n.name} from JSON: ${mr(e)}`;throw g instanceof Error&&g.message.length>0&&(x+=`: ${g.message}`),new Error(x)}switch(n.V.kind){case"message":u[p]=n.V.T.fromJson(d,i);break;case"enum":const g=Vy(n.V.T,d,i.ignoreUnknownFields,!0);g!==ap&&(u[p]=g);break;case"scalar":try{u[p]=xd(n.V.T,d,xa.BIGINT,!0)}catch(x){let b=`cannot decode map value for field ${s.typeName}.${n.name} from JSON: ${mr(e)}`;throw x instanceof Error&&x.message.length>0&&(b+=`: ${x.message}`),new Error(b)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:o},o="value"),n.kind){case"message":const u=n.T;if(e===null&&u.typeName!="google.protobuf.Value")return;let h=t[o];ts(h)?h.fromJson(e,i):(t[o]=h=u.fromJson(e,i),u.fieldWrapper&&!n.oneof&&(t[o]=u.fieldWrapper.unwrapField(h)));break;case"enum":const d=Vy(n.T,e,i.ignoreUnknownFields,!1);switch(d){case Sp:aw(n,t);break;case ap:break;default:t[o]=d;break}break;case"scalar":try{const p=xd(n.T,e,n.L,!1);p===Sp?aw(n,t):t[o]=p}catch(p){let g=`cannot decode field ${s.typeName}.${n.name} from JSON: ${mr(e)}`;throw p instanceof Error&&p.message.length>0&&(g+=`: ${p.message}`),new Error(g)}break}}function fP(t,e){if(t===de.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return xd(t,e,xa.BIGINT,!0).toString()}function xd(t,e,n,i){if(e===null)return i?xc(t,n):Sp;switch(t){case de.DOUBLE:case de.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const s=Number(e);if(Number.isNaN(s)||!Number.isFinite(s))break;return t==de.FLOAT&&H_(s),s;case de.INT32:case de.FIXED32:case de.SFIXED32:case de.SINT32:case de.UINT32:let o;if(typeof e=="number"?o=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(o=Number(e)),o===void 0)break;return t==de.UINT32||t==de.FIXED32?j0(o):rp(o),o;case de.INT64:case de.SFIXED64:case de.SINT64:if(typeof e!="number"&&typeof e!="string")break;const u=_t.parse(e);return n?u.toString():u;case de.FIXED64:case de.UINT64:if(typeof e!="number"&&typeof e!="string")break;const h=_t.uParse(e);return n?h.toString():h;case de.BOOL:if(typeof e!="boolean")break;return e;case de.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case de.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return tm.dec(e)}throw new Error}function Vy(t,e,n,i){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:i?t.values[0].no:Sp;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const s=t.findName(e);if(s!==void 0)return s.no;if(n)return ap;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${mr(e)}`)}function pP(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function uw(t,e,n){if(t.kind=="map"){Wt(typeof e=="object"&&e!=null);const i={},s=Object.entries(e);switch(t.V.kind){case"scalar":for(const[u,h]of s)i[u.toString()]=op(t.V.T,h);break;case"message":for(const[u,h]of s)i[u.toString()]=h.toJson(n);break;case"enum":const o=t.V.T;for(const[u,h]of s)i[u.toString()]=Ly(o,h,n.enumAsInteger);break}return n.emitDefaultValues||s.length>0?i:void 0}if(t.repeated){Wt(Array.isArray(e));const i=[];switch(t.kind){case"scalar":for(let s=0;s<e.length;s++)i.push(op(t.T,e[s]));break;case"enum":for(let s=0;s<e.length;s++)i.push(Ly(t.T,e[s],n.enumAsInteger));break;case"message":for(let s=0;s<e.length;s++)i.push(e[s].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(t.kind){case"scalar":return op(t.T,e);case"enum":return Ly(t.T,e,n.enumAsInteger);case"message":return tC(t.T,e).toJson(n)}}function Ly(t,e,n){var i;if(Wt(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const s=t.findNumber(e);return(i=s?.name)!==null&&i!==void 0?i:e}function op(t,e){switch(t){case de.INT32:case de.SFIXED32:case de.SINT32:case de.FIXED32:case de.UINT32:return Wt(typeof e=="number"),e;case de.FLOAT:case de.DOUBLE:return Wt(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case de.STRING:return Wt(typeof e=="string"),e;case de.BOOL:return Wt(typeof e=="boolean"),e;case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return Wt(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case de.BYTES:return Wt(e instanceof Uint8Array),tm.enc(e)}}const jl=Symbol("@bufbuild/protobuf/unknown-fields"),dw={readUnknownFields:!0,readerFactory:t=>new rP(t)},hw={writeUnknownFields:!0,writerFactory:()=>new iP};function mP(t){return t?Object.assign(Object.assign({},dw),t):dw}function gP(t){return t?Object.assign(Object.assign({},hw),t):hw}function yP(){return{makeReadOptions:mP,makeWriteOptions:gP,listUnknownFields(t){var e;return(e=t[jl])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[jl]},writeUnknownFields(t,e){const i=t[jl];if(i)for(const s of i)e.tag(s.no,s.wireType).raw(s.data)},onUnknownField(t,e,n,i){const s=t;Array.isArray(s[jl])||(s[jl]=[]),s[jl].push({no:e,wireType:n,data:i})},readMessage(t,e,n,i,s){const o=t.getType(),u=s?e.len:e.pos+n;let h,d;for(;e.pos<u&&([h,d]=e.tag(),!(s===!0&&d==Zt.EndGroup));){const p=o.fields.find(h);if(!p){const g=e.skip(d,h);i.readUnknownFields&&this.onUnknownField(t,h,d,g);continue}fw(t,e,p,d,i)}if(s&&(d!=Zt.EndGroup||h!==n))throw new Error("invalid end group tag")},readField:fw,writeMessage(t,e,n){const i=t.getType();for(const s of i.fields.byNumber()){if(!eC(s,t)){if(s.req)throw new Error(`cannot encode field ${i.typeName}.${s.name} to binary: required field not set`);continue}const o=s.oneof?t[s.oneof.localName].value:t[s.localName];pw(s,o,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,i){e!==void 0&&pw(t,e,n,i)}}}function fw(t,e,n,i,s){let{repeated:o,localName:u}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=u&&delete t.value,t.case=u,u="value"),n.kind){case"scalar":case"enum":const h=n.kind=="enum"?de.INT32:n.T;let d=wp;if(n.kind=="scalar"&&n.L>0&&(d=vP),o){let b=t[u];if(i==Zt.LengthDelimited&&h!=de.STRING&&h!=de.BYTES){let T=e.uint32()+e.pos;for(;e.pos<T;)b.push(d(e,h))}else b.push(d(e,h))}else t[u]=d(e,h);break;case"message":const p=n.T;o?t[u].push(lp(e,new p,s,n)):ts(t[u])?lp(e,t[u],s,n):(t[u]=lp(e,new p,s,n),p.fieldWrapper&&!n.oneof&&!n.repeated&&(t[u]=p.fieldWrapper.unwrapField(t[u])));break;case"map":let[g,x]=xP(n,e,s);t[u][g]=x;break}}function lp(t,e,n,i){const s=e.getType().runtime.bin,o=i?.delimited;return s.readMessage(e,t,o?i.no:t.uint32(),n,o),e}function xP(t,e,n){const i=e.uint32(),s=e.pos+i;let o,u;for(;e.pos<s;){const[h]=e.tag();switch(h){case 1:o=wp(e,t.K);break;case 2:switch(t.V.kind){case"scalar":u=wp(e,t.V.T);break;case"enum":u=e.int32();break;case"message":u=lp(e,new t.V.T,n,void 0);break}break}}if(o===void 0&&(o=xc(t.K,xa.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),u===void 0)switch(t.V.kind){case"scalar":u=xc(t.V.T,xa.BIGINT);break;case"enum":u=t.V.T.values[0].no;break;case"message":u=new t.V.T;break}return[o,u]}function vP(t,e){const n=wp(t,e);return typeof n=="bigint"?n.toString():n}function wp(t,e){switch(e){case de.STRING:return t.string();case de.BOOL:return t.bool();case de.DOUBLE:return t.double();case de.FLOAT:return t.float();case de.INT32:return t.int32();case de.INT64:return t.int64();case de.UINT64:return t.uint64();case de.FIXED64:return t.fixed64();case de.BYTES:return t.bytes();case de.FIXED32:return t.fixed32();case de.SFIXED32:return t.sfixed32();case de.SFIXED64:return t.sfixed64();case de.SINT64:return t.sint64();case de.UINT32:return t.uint32();case de.SINT32:return t.sint32()}}function pw(t,e,n,i){Wt(e!==void 0);const s=t.repeated;switch(t.kind){case"scalar":case"enum":let o=t.kind=="enum"?de.INT32:t.T;if(s)if(Wt(Array.isArray(e)),t.packed)SP(n,o,t.no,e);else for(const u of e)vd(n,o,t.no,u);else vd(n,o,t.no,e);break;case"message":if(s){Wt(Array.isArray(e));for(const u of e)mw(n,i,t,u)}else mw(n,i,t,e);break;case"map":Wt(typeof e=="object"&&e!=null);for(const[u,h]of Object.entries(e))bP(n,i,t,u,h);break}}function bP(t,e,n,i,s){t.tag(n.no,Zt.LengthDelimited),t.fork();let o=i;switch(n.K){case de.INT32:case de.FIXED32:case de.UINT32:case de.SFIXED32:case de.SINT32:o=Number.parseInt(i);break;case de.BOOL:Wt(i=="true"||i=="false"),o=i=="true";break}switch(vd(t,n.K,1,o),n.V.kind){case"scalar":vd(t,n.V.T,2,s);break;case"enum":vd(t,de.INT32,2,s);break;case"message":Wt(s!==void 0),t.tag(2,Zt.LengthDelimited).bytes(s.toBinary(e));break}t.join()}function mw(t,e,n,i){const s=tC(n.T,i);n.delimited?t.tag(n.no,Zt.StartGroup).raw(s.toBinary(e)).tag(n.no,Zt.EndGroup):t.tag(n.no,Zt.LengthDelimited).bytes(s.toBinary(e))}function vd(t,e,n,i){Wt(i!==void 0);let[s,o]=nC(e);t.tag(n,s)[o](i)}function SP(t,e,n,i){if(!i.length)return;t.tag(n,Zt.LengthDelimited).fork();let[,s]=nC(e);for(let o=0;o<i.length;o++)t[s](i[o]);t.join()}function nC(t){let e=Zt.Varint;switch(t){case de.BYTES:case de.STRING:e=Zt.LengthDelimited;break;case de.DOUBLE:case de.FIXED64:case de.SFIXED64:e=Zt.Bit64;break;case de.FIXED32:case de.SFIXED32:case de.FLOAT:e=Zt.Bit32;break}const n=de[t].toLowerCase();return[e,n]}function wP(){return{setEnumType:G_,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const s=i.localName,o=e,u=t;if(u[s]!=null)switch(i.kind){case"oneof":const h=u[s].case;if(h===void 0)continue;const d=i.findField(h);let p=u[s].value;d&&d.kind=="message"&&!ts(p,d.T)?p=new d.T(p):d&&d.kind==="scalar"&&d.T===de.BYTES&&(p=Xu(p)),o[s]={case:h,value:p};break;case"scalar":case"enum":let g=u[s];i.T===de.BYTES&&(g=i.repeated?g.map(Xu):Xu(g)),o[s]=g;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===de.BYTES)for(const[S,T]of Object.entries(u[s]))o[s][S]=Xu(T);else Object.assign(o[s],u[s]);break;case"message":const b=i.V.T;for(const S of Object.keys(u[s])){let T=u[s][S];b.fieldWrapper||(T=new b(T)),o[s][S]=T}break}break;case"message":const x=i.T;if(i.repeated)o[s]=u[s].map(b=>ts(b,x)?b:new x(b));else{const b=u[s];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?o[s]=Xu(b):o[s]=b:o[s]=ts(b,x)?b:new x(b)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(i=>{const s=e[i.localName],o=n[i.localName];if(i.repeated){if(s.length!==o.length)return!1;switch(i.kind){case"message":return s.every((u,h)=>i.T.equals(u,o[h]));case"scalar":return s.every((u,h)=>ta(i.T,u,o[h]));case"enum":return s.every((u,h)=>ta(de.INT32,u,o[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let u=s,h=o;return i.T.fieldWrapper&&(u!==void 0&&!ts(u)&&(u=i.T.fieldWrapper.wrapField(u)),h!==void 0&&!ts(h)&&(h=i.T.fieldWrapper.wrapField(h))),i.T.equals(u,h);case"enum":return ta(de.INT32,s,o);case"scalar":return ta(i.T,s,o);case"oneof":if(s.case!==o.case)return!1;const d=i.findField(s.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(s.value,o.value);case"enum":return ta(de.INT32,s.value,o.value);case"scalar":return ta(d.T,s.value,o.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const p=Object.keys(s).concat(Object.keys(o));switch(i.V.kind){case"message":const g=i.V.T;return p.every(b=>g.equals(s[b],o[b]));case"enum":return p.every(b=>ta(de.INT32,s[b],o[b]));case"scalar":const x=i.V.T;return p.every(b=>ta(x,s[b],o[b]))}break}})},clone(t){const e=t.getType(),n=new e,i=n;for(const s of e.fields.byMember()){const o=t[s.localName];let u;if(s.repeated)u=o.map(Lf);else if(s.kind=="map"){u=i[s.localName];for(const[h,d]of Object.entries(o))u[h]=Lf(d)}else s.kind=="oneof"?u=s.findField(o.case)?{case:o.case,value:Lf(o.value)}:{case:void 0}:u=Lf(o);i[s.localName]=u}for(const s of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(i,s.no,s.wireType,s.data);return n}}}function Lf(t){if(t===void 0)return t;if(ts(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function Xu(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function TP(t,e,n){return{syntax:t,json:hP(),bin:yP(),util:Object.assign(Object.assign({},wP()),{newFieldList:e,initFields:n}),makeMessageType(i,s,o){return Jk(this,i,s,o)},makeEnum:Qk,makeEnumType:q_,getEnumType:Yk,makeExtension(i,s,o){return sP(this,i,s,o)}}}class EP{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function iC(t,e){const n=rC(t);return e?n:RP(jP(n))}function _P(t){return iC(t,!1)}const CP=rC;function rC(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let s=t.charAt(i);switch(s){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(s),e=!1;break;default:e&&(e=!1,s=s.toUpperCase()),n.push(s);break}}return n.join("")}const AP=new Set(["constructor","toString","toJSON","valueOf"]),IP=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),sC=t=>`${t}$`,jP=t=>IP.has(t)?sC(t):t,RP=t=>AP.has(t)?sC(t):t;class NP{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=_P(e)}addField(e){Wt(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function DP(t,e){var n,i,s,o,u,h;const d=[];let p;for(const g of typeof t=="function"?t():t){const x=g;if(x.localName=iC(g.name,g.oneof!==void 0),x.jsonName=(n=g.jsonName)!==null&&n!==void 0?n:CP(g.name),x.repeated=(i=g.repeated)!==null&&i!==void 0?i:!1,g.kind=="scalar"&&(x.L=(s=g.L)!==null&&s!==void 0?s:xa.BIGINT),x.delimited=(o=g.delimited)!==null&&o!==void 0?o:!1,x.req=(u=g.req)!==null&&u!==void 0?u:!1,x.opt=(h=g.opt)!==null&&h!==void 0?h:!1,g.packed===void 0&&(x.packed=g.kind=="enum"||g.kind=="scalar"&&g.T!=de.BYTES&&g.T!=de.STRING),g.oneof!==void 0){const b=typeof g.oneof=="string"?g.oneof:g.oneof.name;(!p||p.name!=b)&&(p=new NP(b)),x.oneof=p,p.addField(x)}d.push(x)}return d}const W=TP("proto3",t=>new EP(t,e=>DP(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=t;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=xc(e.T,e.L);break}}});var pt;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(pt||(pt={}));var R0;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(R0||(R0={}));function kP(...t){const e=new Headers;for(const n of t)n.forEach((i,s)=>{e.append(s,i)});return e}function PP(t,e){const n={};for(const[i,s]of Object.entries(t.methods)){const o=e(Object.assign(Object.assign({},s),{localName:i,service:t}));o!=null&&(n[i]=o)}return n}const gw=1;function OP(t){let e,n=new Uint8Array(0);function i(s){const o=new Uint8Array(n.length+s.length);o.set(n),o.set(s,n.length),n=o}return new ReadableStream({start(){e=t.getReader()},async pull(s){let o;for(;;){if(o===void 0&&n.byteLength>=5){let d=0;for(let p=1;p<5;p++)d=(d<<8)+n[p];o={flags:n[0],length:d}}if(o!==void 0&&n.byteLength>=o.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(o===void 0){if(n.byteLength==0){s.close();return}s.error(new un("premature end of stream",St.DataLoss));return}const u=n.subarray(5,5+o.length);n=n.subarray(5+o.length),s.enqueue({flags:o.flags,data:u})}})}function MP(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,t),i.setUint32(1,e.length),n}var VP=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(h,d){u=t[o](u),s(h,d,u.done,u.value)})}}function s(o,u,h,d){Promise.resolve(d).then(function(p){o({value:p,done:h})},u)}},Dd=function(t){return this instanceof Dd?(this.v=t,this):new Dd(t)},LP=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s={},h("next"),h("throw"),h("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(S){return function(T){return Promise.resolve(T).then(S,x)}}function h(S,T){i[S]&&(s[S]=function(A){return new Promise(function(_,M){o.push([S,A,_,M])>1||d(S,A)})},T&&(s[S]=T(s[S])))}function d(S,T){try{p(i[S](T))}catch(A){b(o[0][3],A)}}function p(S){S.value instanceof Dd?Promise.resolve(S.value.v).then(g,x):b(o[0][2],S)}function g(S){d("next",S)}function x(S){d("throw",S)}function b(S,T){S(T),o.shift(),o.length&&d(o[0][0],o[0][1])}},FP=function(t){var e,n;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,o){e[s]=t[s]?function(u){return(n=!n)?{value:Dd(t[s](u)),done:!1}:o?o(u):u}:o}};function BP(t){return LP(this,arguments,function*(){yield Dd(yield*FP(VP(t)))})}var aC=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(h,d){u=t[o](u),s(h,d,u.done,u.value)})}}function s(o,u,h,d){Promise.resolve(d).then(function(p){o({value:p,done:h})},u)}},vc=function(t){return this instanceof vc?(this.v=t,this):new vc(t)},zP=function(t){var e,n;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,o){e[s]=t[s]?function(u){return(n=!n)?{value:vc(t[s](u)),done:!1}:o?o(u):u}:o}},UP=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s={},h("next"),h("throw"),h("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(S){return function(T){return Promise.resolve(T).then(S,x)}}function h(S,T){i[S]&&(s[S]=function(A){return new Promise(function(_,M){o.push([S,A,_,M])>1||d(S,A)})},T&&(s[S]=T(s[S])))}function d(S,T){try{p(i[S](T))}catch(A){b(o[0][3],A)}}function p(S){S.value instanceof vc?Promise.resolve(S.value.v).then(g,x):b(o[0][2],S)}function g(S){d("next",S)}function x(S){d("throw",S)}function b(S,T){S(T),o.shift(),o.length&&d(o[0][0],o[0][1])}};function HP(t,e){return PP(t,n=>{switch(n.kind){case pt.Unary:return $P(e,t,n);case pt.ServerStreaming:return GP(e,t,n);case pt.ClientStreaming:return qP(e,t,n);case pt.BiDiStreaming:return WP(e,t,n);default:return null}})}function oC(t,e){return HP(t,e)}function $P(t,e,n){return async function(i,s){var o,u;const h=await t.unary(e,n,s?.signal,s?.timeoutMs,s?.headers,i,s?.contextValues);return(o=s?.onHeader)===null||o===void 0||o.call(s,h.header),(u=s?.onTrailer)===null||u===void 0||u.call(s,h.trailer),h.message}}function GP(t,e,n){return function(i,s){return lC(t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,BP([i]),s?.contextValues),s)}}function qP(t,e,n){return async function(i,s){var o,u,h,d,p,g;const x=await t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,i,s?.contextValues);(p=s?.onHeader)===null||p===void 0||p.call(s,x.header);let b,S=0;try{for(var T=!0,A=aC(x.message),_;_=await A.next(),o=_.done,!o;T=!0)d=_.value,T=!1,b=d,S++}catch(M){u={error:M}}finally{try{!T&&!o&&(h=A.return)&&await h.call(A)}finally{if(u)throw u.error}}if(!b)throw new un("protocol error: missing response message",St.Unimplemented);if(S>1)throw new un("protocol error: received extra messages for client streaming method",St.Unimplemented);return(g=s?.onTrailer)===null||g===void 0||g.call(s,x.trailer),b}}function WP(t,e,n){return function(i,s){return lC(t.stream(e,n,s?.signal,s?.timeoutMs,s?.headers,i,s?.contextValues),s)}}function lC(t,e){const n=(function(){return UP(this,arguments,function*(){var i,s;const o=yield vc(t);(i=e?.onHeader)===null||i===void 0||i.call(e,o.header),yield vc(yield*zP(aC(o.message))),(s=e?.onTrailer)===null||s===void 0||s.call(e,o.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function KP(...t){const e=new AbortController,n=t.filter(s=>s!==void 0).concat(e.signal);for(const s of n){if(s.aborted){i.apply(s);break}s.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(cC(this));for(const s of n)s.removeEventListener("abort",i)}return e}function YP(t){const e=new AbortController,n=()=>{e.abort(new un("the operation timed out",St.DeadlineExceeded))};let i;return t!==void 0&&(t<=0?n():i=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function cC(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function yw(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function xw(t,e,n){const i=typeof e=="string"?e:e.typeName,s=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${i}/${s}`)}function uC(t,e){return e instanceof t?e:new t(e)}function QP(t,e){function n(i){return i.done===!0?i:{done:i.done,value:uC(t,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),s={next:()=>i.next().then(n)};return i.throw!==void 0&&(s.throw=o=>i.throw(o).then(n)),i.return!==void 0&&(s.return=o=>i.return(o).then(n)),s}}}function dC(t,e){var n;return(n=e?.concat().reverse().reduce((i,s)=>s(i),t))!==null&&n!==void 0?n:t}function hC(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function vw(t,e,n,i){const s=e?bw(t.I,i):Sw(t.I,n);return{parse:(e?bw(t.O,i):Sw(t.O,n)).parse,serialize:s.serialize}}function bw(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(i){const s=i instanceof Error?i.message:String(i);throw new un(`parse binary: ${s}`,St.Internal)}},serialize(n){try{return n.toBinary(e)}catch(i){const s=i instanceof Error?i.message:String(i);throw new un(`serialize binary: ${s}`,St.Internal)}}}}function Sw(t,e){var n,i;const s=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,o=(i=e?.textDecoder)!==null&&i!==void 0?i:new TextDecoder,u=hC(e);return{parse(h){try{const d=o.decode(h);return t.fromJsonString(d,u)}catch(d){throw un.from(d,St.InvalidArgument)}},serialize(h){try{const d=h.toJsonString(u);return s.encode(d)}catch(d){throw un.from(d,St.Internal)}}}}const JP=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,XP="application/proto",ZP="application/json",eO="application/connect+proto",tO="application/connect+json";function nO(t){const e=t?.match(JP);if(!e)return;const n=!!e[1],i=!!e[3];return{stream:n,binary:i}}function fC(t,e,n){var i;if(e&&new Headers(e).forEach((h,d)=>n.metadata.append(d,h)),typeof t!="object"||t==null||Array.isArray(t))throw n;let s=n.code;"code"in t&&typeof t.code=="string"&&(s=(i=Uk(t.code))!==null&&i!==void 0?i:s);const o=t.message;if(o!=null&&typeof o!="string")throw n;const u=new un(o??"",s,e);if("details"in t&&Array.isArray(t.details))for(const h of t.details){if(h===null||typeof h!="object"||Array.isArray(h)||typeof h.type!="string"||typeof h.value!="string")throw n;try{u.details.push({type:h.type,value:tm.dec(h.value),debug:h.debug})}catch{throw n}}return u}const ww=2;function iO(t){const e=new un("invalid end stream",St.Unknown);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const i=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[o,u]of Object.entries(n.metadata)){if(!Array.isArray(u)||u.some(h=>typeof h!="string"))throw e;for(const h of u)i.append(o,h)}}const s="error"in n&&n.error!=null?fC(n.error,i,e):void 0;return{metadata:i,error:s}}const Tp="Content-Type",rO="Content-Length",Tw="Content-Encoding",sO="Accept-Encoding",aO="Connect-Timeout-Ms",pC="Connect-Protocol-Version";function oO(t){switch(t){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function Ew(t){const e=new Headers,n=new Headers;return t.forEach((i,s)=>{s.toLowerCase().startsWith("trailer-")?n.append(s.substring(8),i):e.append(s,i)}),[e,n]}const mC="1";function _w(t,e,n,i,s){const o=new Headers(i??{});return n!==void 0&&o.set(aO,`${n}`),o.set(Tp,t==pt.Unary?e?XP:ZP:e?eO:tO),o.set(pC,mC),o}function Cw(t,e,n,i){const s=i.get(Tp),o=nO(s);if(n!==200){const h=new un(`HTTP ${n}`,oO(n),i);if(t==pt.Unary&&o&&!o.binary)return{isUnaryError:!0,unaryError:h};throw h}const u={binary:e,stream:t!==pt.Unary};if(o?.binary!==u.binary||o.stream!==u.stream)throw new un(`unsupported content type ${s}`,o===void 0?St.Unknown:St.Internal,i);return{isUnaryError:!1}}const Aw="application/";function lO(t,e){return e?tm.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function cO(t,e,n){let i=`?connect=v${mC}`;const s=t.header.get(Tp);s?.indexOf(Aw)===0&&(i+="&encoding="+encodeURIComponent(s.slice(Aw.length)));const o=t.header.get(Tw);o!==null&&o!=="identity"&&(i+="&compression="+encodeURIComponent(o),n=!0),n&&(i+="&base64=1"),i+="&message="+lO(e,n);const u=t.url+i,h=new Headers(t.header);return[pC,Tp,rO,Tw,sO].forEach(d=>h.delete(d)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:u,header:h})}function uO(t){const e=dC(t.next,t.interceptors),[n,i,s]=gC(t),o=Object.assign(Object.assign({},t.req),{message:uC(t.req.method.I,t.req.message),signal:n});return e(o).then(u=>(s(),u),i)}function dO(t){const e=dC(t.next,t.interceptors),[n,i,s]=gC(t),o=Object.assign(Object.assign({},t.req),{message:QP(t.req.method.I,t.req.message),signal:n});let u=!1;return n.addEventListener("abort",function(){var h,d;const p=t.req.message[Symbol.asyncIterator]();u||(h=p.throw)===null||h===void 0||h.call(p,this.reason).catch(()=>{}),(d=p.return)===null||d===void 0||d.call(p).catch(()=>{})}),e(o).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const d=h.message[Symbol.asyncIterator]();return{next(){return d.next().then(p=>(p.done==!0&&(u=!0,s()),p),i)}}}}}),i)}function gC(t){const{signal:e,cleanup:n}=YP(t.timeoutMs),i=KP(t.signal,e);return[i.signal,function(o){const u=un.from(e.aborted?cC(e):o);return i.abort(u),n(),Promise.reject(u)},function(){n(),i.abort()}]}function hO(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var kd=function(t){return this instanceof kd?(this.v=t,this):new kd(t)},fO=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,o=[];return s={},h("next"),h("throw"),h("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(S){return function(T){return Promise.resolve(T).then(S,x)}}function h(S,T){i[S]&&(s[S]=function(A){return new Promise(function(_,M){o.push([S,A,_,M])>1||d(S,A)})},T&&(s[S]=T(s[S])))}function d(S,T){try{p(i[S](T))}catch(A){b(o[0][3],A)}}function p(S){S.value instanceof kd?Promise.resolve(S.value.v).then(g,x):b(o[0][2],S)}function g(S){d("next",S)}function x(S){d("throw",S)}function b(S,T){S(T),o.shift(),o.length&&d(o[0][0],o[0][1])}};function pO(t){var e;hO();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(i,s,o,u,h,d,p){var g;const{serialize:x,parse:b}=vw(s,n,t.jsonOptions,t.binaryOptions);return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,await uO({interceptors:t.interceptors,signal:o,timeoutMs:u,req:{stream:!1,service:i,method:s,url:xw(t.baseUrl,i,s),init:{method:"POST",credentials:(g=t.credentials)!==null&&g!==void 0?g:"same-origin",redirect:"error",mode:"cors"},header:_w(s.kind,n,u,h),contextValues:p??yw(),message:d},next:async S=>{var T;const A=t.useHttpGet===!0&&s.idempotency===R0.NoSideEffects;let _=null;A?S=cO(S,x(S.message),n):_=x(S.message);const D=await((T=t.fetch)!==null&&T!==void 0?T:globalThis.fetch)(S.url,Object.assign(Object.assign({},S.init),{headers:S.header,signal:S.signal,body:_})),{isUnaryError:V,unaryError:$}=Cw(s.kind,n,D.status,D.headers);if(V)throw fC(await D.json(),kP(...Ew(D.headers)),$);const[Q,re]=Ew(D.headers);return{stream:!1,service:i,method:s,header:Q,message:n?b(new Uint8Array(await D.arrayBuffer())):s.O.fromJson(await D.json(),hC(t.jsonOptions)),trailer:re}}})},async stream(i,s,o,u,h,d,p){var g;const{serialize:x,parse:b}=vw(s,n,t.jsonOptions,t.binaryOptions);function S(A,_,M,D){return fO(this,arguments,function*(){const $=OP(A).getReader();let Q=!1;for(;;){const re=yield kd($.read());if(re.done)break;const{flags:R,data:I}=re.value;if((R&gw)===gw)throw new un("protocol error: received unsupported compressed output",St.Internal);if((R&ww)===ww){Q=!0;const k=iO(I);if(k.error){const L=k.error;throw M.forEach((B,H)=>{L.metadata.append(H,B)}),L}k.metadata.forEach((L,B)=>_.set(B,L));continue}yield yield kd(b(I))}if("throwIfAborted"in D&&D.throwIfAborted(),!Q)throw"missing EndStreamResponse"})}async function T(A){if(s.kind!=pt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const _=await A[Symbol.asyncIterator]().next();if(_.done==!0)throw"missing request message";return MP(0,x(_.value))}return u=u===void 0?t.defaultTimeoutMs:u<=0?void 0:u,await dO({interceptors:t.interceptors,timeoutMs:u,signal:o,req:{stream:!0,service:i,method:s,url:xw(t.baseUrl,i,s),init:{method:"POST",credentials:(g=t.credentials)!==null&&g!==void 0?g:"same-origin",redirect:"error",mode:"cors"},header:_w(s.kind,n,u,h),contextValues:p??yw(),message:d},next:async A=>{var _;const D=await((_=t.fetch)!==null&&_!==void 0?_:globalThis.fetch)(A.url,Object.assign(Object.assign({},A.init),{headers:A.header,signal:A.signal,body:await T(A.message)}));if(Cw(s.kind,n,D.status,D.headers),D.body===null)throw"missing response body";const V=new Headers;return Object.assign(Object.assign({},A),{header:D.headers,trailer:V,message:S(D.body,V,D.headers,A.signal)})}})}}}var Yi=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.DRAFT=1]="DRAFT",t[t.ACTIVE=2]="ACTIVE",t[t.SIGNED=3]="SIGNED",t[t.PAID=4]="PAID",t[t.ARCHIVED=5]="ARCHIVED",t[t.WAITING_FOR_COUNTERSIGN=6]="WAITING_FOR_COUNTERSIGN",t[t.FULLY_EXECUTED=7]="FULLY_EXECUTED",t))(Yi||{});W.util.setEnumType(Yi,"sirsi.contracts.v1.ContractStatus",[{no:0,name:"CONTRACT_STATUS_UNSPECIFIED"},{no:1,name:"CONTRACT_STATUS_DRAFT"},{no:2,name:"CONTRACT_STATUS_ACTIVE"},{no:3,name:"CONTRACT_STATUS_SIGNED"},{no:4,name:"CONTRACT_STATUS_PAID"},{no:5,name:"CONTRACT_STATUS_ARCHIVED"},{no:6,name:"CONTRACT_STATUS_WAITING_FOR_COUNTERSIGN"},{no:7,name:"CONTRACT_STATUS_FULLY_EXECUTED"}]);class Ol extends Le{userId="";clientName="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.CreatePlaidLinkTokenRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ol().fromBinary(e,n)}static fromJson(e,n){return new Ol().fromJson(e,n)}static fromJsonString(e,n){return new Ol().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Ol,e,n)}}class Ml extends Le{linkToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.PlaidLinkToken";static fields=W.util.newFieldList(()=>[{no:1,name:"link_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ml().fromBinary(e,n)}static fromJson(e,n){return new Ml().fromJson(e,n)}static fromJsonString(e,n){return new Ml().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Ml,e,n)}}class Vl extends Le{publicToken="";contractId="";accountId="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.ExchangePlaidTokenRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"public_token",kind:"scalar",T:9},{no:2,name:"contract_id",kind:"scalar",T:9},{no:3,name:"account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new Vl().fromBinary(e,n)}static fromJson(e,n){return new Vl().fromJson(e,n)}static fromJsonString(e,n){return new Vl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Vl,e,n)}}class Ll extends Le{success=!1;stripeBankAccountToken="";message="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.ExchangePlaidTokenResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"stripe_bank_account_token",kind:"scalar",T:9},{no:3,name:"message",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ll().fromBinary(e,n)}static fromJson(e,n){return new Ll().fromJson(e,n)}static fromJsonString(e,n){return new Ll().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Ll,e,n)}}class Qi extends Le{id="";projectId="";clientName="";clientEmail="";projectName="";totalAmount=_t.zero;paymentPlans=[];theme;status=0;createdAt=_t.zero;updatedAt=_t.zero;createdBy="";countersignerName="";countersignerEmail="";countersignedAt=_t.zero;stripeConnectAccountId="";signatureImageData="";signatureHash="";legalAcknowledgment=!1;clientTitle="";countersignerSignatureImageData="";countersignerSignatureHash="";countersignerSignedAt=_t.zero;countersignerTitle="";selectedPaymentPlan=0;paymentMethod="";paidAmount=_t.zero;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.Contract";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"project_id",kind:"scalar",T:9},{no:3,name:"client_name",kind:"scalar",T:9},{no:4,name:"client_email",kind:"scalar",T:9},{no:5,name:"project_name",kind:"scalar",T:9},{no:6,name:"total_amount",kind:"scalar",T:3},{no:7,name:"payment_plans",kind:"message",T:ao,repeated:!0},{no:8,name:"theme",kind:"message",T:la},{no:9,name:"status",kind:"enum",T:W.getEnumType(Yi)},{no:10,name:"created_at",kind:"scalar",T:3},{no:11,name:"updated_at",kind:"scalar",T:3},{no:12,name:"created_by",kind:"scalar",T:9},{no:13,name:"countersigner_name",kind:"scalar",T:9},{no:14,name:"countersigner_email",kind:"scalar",T:9},{no:15,name:"countersigned_at",kind:"scalar",T:3},{no:20,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:16,name:"signature_image_data",kind:"scalar",T:9},{no:21,name:"signature_hash",kind:"scalar",T:9},{no:17,name:"legal_acknowledgment",kind:"scalar",T:8},{no:23,name:"client_title",kind:"scalar",T:9},{no:24,name:"countersigner_signature_image_data",kind:"scalar",T:9},{no:25,name:"countersigner_signature_hash",kind:"scalar",T:9},{no:26,name:"countersigner_signed_at",kind:"scalar",T:3},{no:27,name:"countersigner_title",kind:"scalar",T:9},{no:18,name:"selected_payment_plan",kind:"scalar",T:5},{no:19,name:"payment_method",kind:"scalar",T:9},{no:22,name:"paid_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new Qi().fromBinary(e,n)}static fromJson(e,n){return new Qi().fromJson(e,n)}static fromJsonString(e,n){return new Qi().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Qi,e,n)}}class ao extends Le{id="";name="";description="";paymentCount=0;monthlyAmount=_t.zero;totalAmount=_t.zero;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.PaymentPlan";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"payment_count",kind:"scalar",T:5},{no:5,name:"monthly_amount",kind:"scalar",T:3},{no:6,name:"total_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new ao().fromBinary(e,n)}static fromJson(e,n){return new ao().fromJson(e,n)}static fromJsonString(e,n){return new ao().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ao,e,n)}}class la extends Le{primaryColor="";secondaryColor="";accentColor="";fontHeading="";fontBody="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.Theme";static fields=W.util.newFieldList(()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9},{no:4,name:"font_heading",kind:"scalar",T:9},{no:5,name:"font_body",kind:"scalar",T:9}]);static fromBinary(e,n){return new la().fromBinary(e,n)}static fromJson(e,n){return new la().fromJson(e,n)}static fromJsonString(e,n){return new la().fromJsonString(e,n)}static equals(e,n){return W.util.equals(la,e,n)}}class oo extends Le{projectId="";clientName="";clientEmail="";projectName="";totalAmount=_t.zero;paymentPlans=[];theme;countersignerName="";countersignerEmail="";stripeConnectAccountId="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.CreateContractRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9},{no:3,name:"client_email",kind:"scalar",T:9},{no:4,name:"project_name",kind:"scalar",T:9},{no:5,name:"total_amount",kind:"scalar",T:3},{no:6,name:"payment_plans",kind:"message",T:ao,repeated:!0},{no:7,name:"theme",kind:"message",T:la},{no:8,name:"countersigner_name",kind:"scalar",T:9},{no:9,name:"countersigner_email",kind:"scalar",T:9},{no:10,name:"stripe_connect_account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new oo().fromBinary(e,n)}static fromJson(e,n){return new oo().fromJson(e,n)}static fromJsonString(e,n){return new oo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(oo,e,n)}}class Fl extends Le{id="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.GetContractRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new Fl().fromBinary(e,n)}static fromJson(e,n){return new Fl().fromJson(e,n)}static fromJsonString(e,n){return new Fl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Fl,e,n)}}class lo extends Le{projectId="";pageSize=0;pageToken="";userEmail="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.ListContractsRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"page_token",kind:"scalar",T:9},{no:4,name:"user_email",kind:"scalar",T:9}]);static fromBinary(e,n){return new lo().fromBinary(e,n)}static fromJson(e,n){return new lo().fromJson(e,n)}static fromJsonString(e,n){return new lo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(lo,e,n)}}class Bl extends Le{contracts=[];nextPageToken="";totalCount=0;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.ListContractsResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"contracts",kind:"message",T:Qi,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9},{no:3,name:"total_count",kind:"scalar",T:5}]);static fromBinary(e,n){return new Bl().fromBinary(e,n)}static fromJson(e,n){return new Bl().fromJson(e,n)}static fromJsonString(e,n){return new Bl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Bl,e,n)}}class co extends Le{id="";contract;updateMask=[];constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.UpdateContractRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"contract",kind:"message",T:Qi},{no:3,name:"update_mask",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new co().fromBinary(e,n)}static fromJson(e,n){return new co().fromJson(e,n)}static fromJsonString(e,n){return new co().fromJsonString(e,n)}static equals(e,n){return W.util.equals(co,e,n)}}class zl extends Le{id="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.DeleteContractRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new zl().fromBinary(e,n)}static fromJson(e,n){return new zl().fromJson(e,n)}static fromJsonString(e,n){return new zl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(zl,e,n)}}class Ul extends Le{success=!1;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.DeleteContractResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new Ul().fromBinary(e,n)}static fromJson(e,n){return new Ul().fromJson(e,n)}static fromJsonString(e,n){return new Ul().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Ul,e,n)}}class Hl extends Le{contractId="";themeOverride;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.GeneratePageRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"theme_override",kind:"message",T:la}]);static fromBinary(e,n){return new Hl().fromBinary(e,n)}static fromJson(e,n){return new Hl().fromJson(e,n)}static fromJsonString(e,n){return new Hl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Hl,e,n)}}class $l extends Le{html="";previewUrl="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.GeneratePageResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"html",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new $l().fromBinary(e,n)}static fromJson(e,n){return new $l().fromJson(e,n)}static fromJsonString(e,n){return new $l().fromJsonString(e,n)}static equals(e,n){return W.util.equals($l,e,n)}}class Gl extends Le{contractId="";planId="";successUrl="";cancelUrl="";stripeConnectAccountId="";paymentMethodTypes=[];constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.CreateCheckoutRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"plan_id",kind:"scalar",T:9},{no:3,name:"success_url",kind:"scalar",T:9},{no:4,name:"cancel_url",kind:"scalar",T:9},{no:5,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:6,name:"payment_method_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new Gl().fromBinary(e,n)}static fromJson(e,n){return new Gl().fromJson(e,n)}static fromJsonString(e,n){return new Gl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Gl,e,n)}}class ql extends Le{sessionId="";checkoutUrl="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.CheckoutSession";static fields=W.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"checkout_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new ql().fromBinary(e,n)}static fromJson(e,n){return new ql().fromJson(e,n)}static fromJsonString(e,n){return new ql().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ql,e,n)}}class Wl extends Le{subscriptionId="";eventTypes=[];constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.EventRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"subscription_id",kind:"scalar",T:9},{no:2,name:"event_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new Wl().fromBinary(e,n)}static fromJson(e,n){return new Wl().fromJson(e,n)}static fromJsonString(e,n){return new Wl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Wl,e,n)}}class Kl extends Le{eventId="";eventType="";payload="";timestamp=_t.zero;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.contracts.v1.EventResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"event_type",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3}]);static fromBinary(e,n){return new Kl().fromBinary(e,n)}static fromJson(e,n){return new Kl().fromJson(e,n)}static fromJsonString(e,n){return new Kl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Kl,e,n)}}const mO={typeName:"sirsi.contracts.v1.ContractsService",methods:{createContract:{name:"CreateContract",I:oo,O:Qi,kind:pt.Unary},getContract:{name:"GetContract",I:Fl,O:Qi,kind:pt.Unary},listContracts:{name:"ListContracts",I:lo,O:Bl,kind:pt.Unary},updateContract:{name:"UpdateContract",I:co,O:Qi,kind:pt.Unary},deleteContract:{name:"DeleteContract",I:zl,O:Ul,kind:pt.Unary},generatePage:{name:"GeneratePage",I:Hl,O:$l,kind:pt.Unary},createCheckoutSession:{name:"CreateCheckoutSession",I:Gl,O:ql,kind:pt.Unary},createPlaidLinkToken:{name:"CreatePlaidLinkToken",I:Ol,O:Ml,kind:pt.Unary},exchangePlaidToken:{name:"ExchangePlaidToken",I:Vl,O:Ll,kind:pt.Unary},streamEvents:{name:"StreamEvents",I:Wl,O:Kl,kind:pt.BiDiStreaming}}};class uo extends Le{id="";name="";ownerName="";status="";createdAt=_t.zero;updatedAt=_t.zero;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.Estate";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"owner_name",kind:"scalar",T:9},{no:4,name:"status",kind:"scalar",T:9},{no:5,name:"created_at",kind:"scalar",T:3},{no:6,name:"updated_at",kind:"scalar",T:3}]);static fromBinary(e,n){return new uo().fromBinary(e,n)}static fromJson(e,n){return new uo().fromJson(e,n)}static fromJsonString(e,n){return new uo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(uo,e,n)}}class Yl extends Le{pageSize=0;pageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListEstatesRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Yl().fromBinary(e,n)}static fromJson(e,n){return new Yl().fromJson(e,n)}static fromJsonString(e,n){return new Yl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Yl,e,n)}}class Ql extends Le{estates=[];nextPageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListEstatesResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"estates",kind:"message",T:uo,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ql().fromBinary(e,n)}static fromJson(e,n){return new Ql().fromJson(e,n)}static fromJsonString(e,n){return new Ql().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Ql,e,n)}}class Jl extends Le{id="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.GetEstateRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new Jl().fromBinary(e,n)}static fromJson(e,n){return new Jl().fromJson(e,n)}static fromJsonString(e,n){return new Jl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Jl,e,n)}}class ho extends Le{developerId="";action="";metadata="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.LogDevSessionRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"developer_id",kind:"scalar",T:9},{no:2,name:"action",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new ho().fromBinary(e,n)}static fromJson(e,n){return new ho().fromJson(e,n)}static fromJsonString(e,n){return new ho().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ho,e,n)}}class Xl extends Le{sessionId="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.LogDevSessionResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new Xl().fromBinary(e,n)}static fromJson(e,n){return new Xl().fromJson(e,n)}static fromJsonString(e,n){return new Xl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Xl,e,n)}}class fo extends Le{userId="";role="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ManageUserRoleRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new fo().fromBinary(e,n)}static fromJson(e,n){return new fo().fromJson(e,n)}static fromJsonString(e,n){return new fo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(fo,e,n)}}class Zl extends Le{success=!1;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ManageUserRoleResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new Zl().fromBinary(e,n)}static fromJson(e,n){return new Zl().fromJson(e,n)}static fromJsonString(e,n){return new Zl().fromJsonString(e,n)}static equals(e,n){return W.util.equals(Zl,e,n)}}let gO=class ld extends Le{id="";email="";name="";role="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.User";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"email",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new ld().fromBinary(e,n)}static fromJson(e,n){return new ld().fromJson(e,n)}static fromJsonString(e,n){return new ld().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ld,e,n)}};class po extends Le{pageSize=0;pageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListUsersRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new po().fromBinary(e,n)}static fromJson(e,n){return new po().fromJson(e,n)}static fromJsonString(e,n){return new po().fromJsonString(e,n)}static equals(e,n){return W.util.equals(po,e,n)}}class ec extends Le{users=[];nextPageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListUsersResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"users",kind:"message",T:gO,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new ec().fromBinary(e,n)}static fromJson(e,n){return new ec().fromJson(e,n)}static fromJsonString(e,n){return new ec().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ec,e,n)}}class mo extends Le{recipientId="";title="";body="";type="";channel="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.SendNotificationRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"recipient_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"type",kind:"scalar",T:9},{no:5,name:"channel",kind:"scalar",T:9}]);static fromBinary(e,n){return new mo().fromBinary(e,n)}static fromJson(e,n){return new mo().fromJson(e,n)}static fromJsonString(e,n){return new mo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(mo,e,n)}}class tc extends Le{notificationId="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.SendNotificationResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"notification_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new tc().fromBinary(e,n)}static fromJson(e,n){return new tc().fromJson(e,n)}static fromJsonString(e,n){return new tc().fromJsonString(e,n)}static equals(e,n){return W.util.equals(tc,e,n)}}class go extends Le{pageSize=0;pageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListNotificationsRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new go().fromBinary(e,n)}static fromJson(e,n){return new go().fromJson(e,n)}static fromJsonString(e,n){return new go().fromJsonString(e,n)}static equals(e,n){return W.util.equals(go,e,n)}}class nc extends Le{notifications=[];nextPageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListNotificationsResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"notifications",kind:"message",T:yO,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new nc().fromBinary(e,n)}static fromJson(e,n){return new nc().fromJson(e,n)}static fromJsonString(e,n){return new nc().fromJsonString(e,n)}static equals(e,n){return W.util.equals(nc,e,n)}}let yO=class cd extends Le{id="";recipientId="";title="";body="";type="";sentAt=_t.zero;status="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.Notification";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"recipient_id",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"type",kind:"scalar",T:9},{no:6,name:"sent_at",kind:"scalar",T:3},{no:7,name:"status",kind:"scalar",T:9}]);static fromBinary(e,n){return new cd().fromBinary(e,n)}static fromJson(e,n){return new cd().fromJson(e,n)}static fromJsonString(e,n){return new cd().fromJsonString(e,n)}static equals(e,n){return W.util.equals(cd,e,n)}},Lx=class ud extends Le{maintenanceMode=!1;activeRegion="";sirsiMultiplier=0;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.SystemSettings";static fields=W.util.newFieldList(()=>[{no:1,name:"maintenance_mode",kind:"scalar",T:8},{no:2,name:"active_region",kind:"scalar",T:9},{no:3,name:"sirsi_multiplier",kind:"scalar",T:1}]);static fromBinary(e,n){return new ud().fromBinary(e,n)}static fromJson(e,n){return new ud().fromJson(e,n)}static fromJsonString(e,n){return new ud().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ud,e,n)}};class yo extends Le{constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.GetSettingsRequest";static fields=W.util.newFieldList(()=>[]);static fromBinary(e,n){return new yo().fromBinary(e,n)}static fromJson(e,n){return new yo().fromJson(e,n)}static fromJsonString(e,n){return new yo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(yo,e,n)}}class ic extends Le{settings;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.GetSettingsResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Lx}]);static fromBinary(e,n){return new ic().fromBinary(e,n)}static fromJson(e,n){return new ic().fromJson(e,n)}static fromJsonString(e,n){return new ic().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ic,e,n)}}class xo extends Le{settings;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.UpdateSettingsRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Lx}]);static fromBinary(e,n){return new xo().fromBinary(e,n)}static fromJson(e,n){return new xo().fromJson(e,n)}static fromJsonString(e,n){return new xo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(xo,e,n)}}class rc extends Le{success=!1;constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.UpdateSettingsResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new rc().fromBinary(e,n)}static fromJson(e,n){return new rc().fromJson(e,n)}static fromJsonString(e,n){return new rc().fromJsonString(e,n)}static equals(e,n){return W.util.equals(rc,e,n)}}class vo extends Le{pageSize=0;pageToken="";filterLevel="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListAuditTrailRequest";static fields=W.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9},{no:3,name:"filter_level",kind:"scalar",T:9}]);static fromBinary(e,n){return new vo().fromBinary(e,n)}static fromJson(e,n){return new vo().fromJson(e,n)}static fromJsonString(e,n){return new vo().fromJsonString(e,n)}static equals(e,n){return W.util.equals(vo,e,n)}}class sc extends Le{logs=[];nextPageToken="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.ListAuditTrailResponse";static fields=W.util.newFieldList(()=>[{no:1,name:"logs",kind:"message",T:ac,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new sc().fromBinary(e,n)}static fromJson(e,n){return new sc().fromJson(e,n)}static fromJsonString(e,n){return new sc().fromJsonString(e,n)}static equals(e,n){return W.util.equals(sc,e,n)}}class ac extends Le{id="";timestamp=_t.zero;level="";source="";message="";user="";metadata="";constructor(e){super(),W.util.initPartial(e,this)}static runtime=W;static typeName="sirsi.admin.v1.AuditLogEntry";static fields=W.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"level",kind:"scalar",T:9},{no:4,name:"source",kind:"scalar",T:9},{no:5,name:"message",kind:"scalar",T:9},{no:6,name:"user",kind:"scalar",T:9},{no:7,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new ac().fromBinary(e,n)}static fromJson(e,n){return new ac().fromJson(e,n)}static fromJsonString(e,n){return new ac().fromJsonString(e,n)}static equals(e,n){return W.util.equals(ac,e,n)}}const xO={typeName:"sirsi.admin.v1.AdminService",methods:{listEstates:{name:"ListEstates",I:Yl,O:Ql,kind:pt.Unary},getEstate:{name:"GetEstate",I:Jl,O:uo,kind:pt.Unary},logDevSession:{name:"LogDevSession",I:ho,O:Xl,kind:pt.Unary},manageUserRole:{name:"ManageUserRole",I:fo,O:Zl,kind:pt.Unary},listUsers:{name:"ListUsers",I:po,O:ec,kind:pt.Unary},sendNotification:{name:"SendNotification",I:mo,O:tc,kind:pt.Unary},listNotifications:{name:"ListNotifications",I:go,O:nc,kind:pt.Unary},getSettings:{name:"GetSettings",I:yo,O:ic,kind:pt.Unary},updateSettings:{name:"UpdateSettings",I:xo,O:rc,kind:pt.Unary},listAuditTrail:{name:"ListAuditTrail",I:vo,O:sc,kind:pt.Unary}}};var Iw={};const yC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vO=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),i.push(n[g],n[x],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||p==null||x==null)throw new bO;const b=o<<2|h>>4;if(i.push(b),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const T=p<<6&192|x;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let bO=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const SO=function(t){const e=yC(t);return xC.encodeByteArray(e,!0)},vC=function(t){return SO(t).replace(/\./g,"")},wO=function(t){try{return xC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EO=()=>TO().__FIREBASE_DEFAULTS__,_O=()=>{if(typeof process>"u"||typeof Iw>"u")return;const t=Iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wO(t[1]);return e&&JSON.parse(e)},AO=()=>{try{return EO()||_O()||CO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bC=()=>{var t;return(t=AO())===null||t===void 0?void 0:t.config};class IO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function jO(){try{return typeof indexedDB=="object"}catch{return!1}}function RO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}const NO="FirebaseError";let Fx=class SC extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=NO,Object.setPrototypeOf(this,SC.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wC.prototype.create)}},wC=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?DO(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Fx(s,h,i)}};function DO(t,e){return t.replace(kO,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const kO=/\{\$([^}]+)}/g;function N0(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(jw(o)&&jw(u)){if(!N0(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function jw(t){return t!==null&&typeof t=="object"}let Ep=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const to="[DEFAULT]";let PO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new IO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MO(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OO(t){return t===to?void 0:t}function MO(t){return t.instantiationMode==="EAGER"}class VO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pt||(Pt={}));const LO={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},FO=Pt.INFO,BO={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},zO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=BO[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let UO=class{constructor(e){this.name=e,this._logLevel=FO,this._logHandler=zO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}};const HO=(t,e)=>e.some(n=>t instanceof n);let Rw,Nw;function $O(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GO(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TC=new WeakMap,D0=new WeakMap,EC=new WeakMap,Fy=new WeakMap,Bx=new WeakMap;function qO(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ha(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&TC.set(n,t)}).catch(()=>{}),Bx.set(e,t),e}function WO(t){if(D0.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});D0.set(t,e)}let k0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return D0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KO(t){k0=t(k0)}function YO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(By(this),e,...n);return EC.set(i,e.sort?e.sort():[e]),ha(i)}:GO().includes(t)?function(...e){return t.apply(By(this),e),ha(TC.get(this))}:function(...e){return ha(t.apply(By(this),e))}}function QO(t){return typeof t=="function"?YO(t):(t instanceof IDBTransaction&&WO(t),HO(t,$O())?new Proxy(t,k0):t)}function ha(t){if(t instanceof IDBRequest)return qO(t);if(Fy.has(t))return Fy.get(t);const e=QO(t);return e!==t&&(Fy.set(t,e),Bx.set(e,t)),e}const By=t=>Bx.get(t);function JO(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=ha(u);return i&&u.addEventListener("upgradeneeded",d=>{i(ha(u.result),d.oldVersion,d.newVersion,ha(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const XO=["get","getKey","getAll","getAllKeys","count"],ZO=["put","add","delete","clear"],zy=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zy.get(e))return zy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=ZO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XO.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return zy.set(e,o),o}KO(t=>({...t,get:(e,n,i)=>Dw(e,n)||t.get(e,n,i),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));class e4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function t4(t){const e=t.getComponent();return e?.type==="VERSION"}const P0="@firebase/app",kw="0.10.13";const us=new UO("@firebase/app"),n4="@firebase/app-compat",i4="@firebase/analytics-compat",r4="@firebase/analytics",s4="@firebase/app-check-compat",a4="@firebase/app-check",o4="@firebase/auth",l4="@firebase/auth-compat",c4="@firebase/database",u4="@firebase/data-connect",d4="@firebase/database-compat",h4="@firebase/functions",f4="@firebase/functions-compat",p4="@firebase/installations",m4="@firebase/installations-compat",g4="@firebase/messaging",y4="@firebase/messaging-compat",x4="@firebase/performance",v4="@firebase/performance-compat",b4="@firebase/remote-config",S4="@firebase/remote-config-compat",w4="@firebase/storage",T4="@firebase/storage-compat",E4="@firebase/firestore",_4="@firebase/vertexai-preview",C4="@firebase/firestore-compat",A4="firebase",I4="10.14.1";const O0="[DEFAULT]",j4={[P0]:"fire-core",[n4]:"fire-core-compat",[r4]:"fire-analytics",[i4]:"fire-analytics-compat",[a4]:"fire-app-check",[s4]:"fire-app-check-compat",[o4]:"fire-auth",[l4]:"fire-auth-compat",[c4]:"fire-rtdb",[u4]:"fire-data-connect",[d4]:"fire-rtdb-compat",[h4]:"fire-fn",[f4]:"fire-fn-compat",[p4]:"fire-iid",[m4]:"fire-iid-compat",[g4]:"fire-fcm",[y4]:"fire-fcm-compat",[x4]:"fire-perf",[v4]:"fire-perf-compat",[b4]:"fire-rc",[S4]:"fire-rc-compat",[w4]:"fire-gcs",[T4]:"fire-gcs-compat",[E4]:"fire-fst",[C4]:"fire-fst-compat",[_4]:"fire-vertex","fire-js":"fire-js",[A4]:"fire-js-all"};const _p=new Map,R4=new Map,M0=new Map;function Pw(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(M0.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;M0.set(e,t);for(const n of _p.values())Pw(n,t);for(const n of R4.values())Pw(n,t);return!0}function zx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t.settings!==void 0}const N4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new wC("app","Firebase",N4);class D4{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ep("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const nm=I4;function _C(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:O0,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw fa.create("bad-app-name",{appName:String(s)});if(n||(n=bC()),!n)throw fa.create("no-options");const o=_p.get(s);if(o){if(N0(n,o.options)&&N0(i,o.config))return o;throw fa.create("duplicate-app",{appName:s})}const u=new VO(s);for(const d of M0.values())u.addComponent(d);const h=new D4(n,i,u);return _p.set(s,h),h}function CC(t=O0){const e=_p.get(t);if(!e&&t===O0&&bC())return _C();if(!e)throw fa.create("no-app",{appName:t});return e}function vr(t,e,n){var i;let s=(i=j4[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(h.join(" "));return}jo(new Ep(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const k4="firebase-heartbeat-database",P4=1,Pd="firebase-heartbeat-store";let Uy=null;function AC(){return Uy||(Uy=JO(k4,P4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function O4(t){try{const n=(await AC()).transaction(Pd),i=await n.objectStore(Pd).get(IC(t));return await n.done,i}catch(e){if(e instanceof Fx)us.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});us.warn(n.message)}}}async function Ow(t,e){try{const i=(await AC()).transaction(Pd,"readwrite");await i.objectStore(Pd).put(e,IC(t)),await i.done}catch(n){if(n instanceof Fx)us.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n?.message});us.warn(i.message)}}}function IC(t){return`${t.name}!${t.options.appId}`}const M4=1024,V4=720*60*60*1e3;class L4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Mw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=V4}),this._storage.overwrite(this._heartbeatsCache))}catch(i){us.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mw(),{heartbeatsToSend:i,unsentEntries:s}=F4(this._heartbeatsCache.heartbeats),o=vC(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return us.warn(n),""}}}function Mw(){return new Date().toISOString().substring(0,10)}function F4(t,e=M4){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Vw(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class B4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jO()?RO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vw(t){return vC(JSON.stringify({version:2,heartbeats:t})).length}function z4(t){jo(new Ep("platform-logger",e=>new e4(e),"PRIVATE")),jo(new Ep("heartbeat",e=>new L4(e),"PRIVATE")),vr(P0,kw,t),vr(P0,kw,"esm2017"),vr("fire-js","")}z4("");var U4="firebase",H4="10.14.1";vr(U4,H4,"app");var Lw={};const $4=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},G4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},q4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),i.push(n[g],n[x],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||p==null||x==null)throw new W4;const b=o<<2|h>>4;if(i.push(b),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const T=p<<6&192|x;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let W4=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const jC=function(t){try{return q4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y4=()=>K4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof Lw>"u")return;const t=Lw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jC(t[1]);return e&&JSON.parse(e)},X4=()=>{try{return Y4()||Q4()||J4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z4=t=>{var e;return(e=X4())===null||e===void 0?void 0:e[`_${t}`]};function bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bi())}function tM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rM(){const t=bi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}const sM="FirebaseError";let im=class RC extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sM,Object.setPrototypeOf(this,RC.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rm.prototype.create)}},rm=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?aM(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new im(s,h,i)}};function aM(t,e){return t.replace(oM,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const oM=/\{\$([^}]+)}/g;function NC(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(Fw(o)&&Fw(u)){if(!NC(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Fw(t){return t!==null&&typeof t=="object"}function Ux(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Hy),s.error===void 0&&(s.error=Hy),s.complete===void 0&&(s.complete=Hy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hy(){}function Vo(t){return t&&t._delegate?t._delegate:t}var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const dM={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},hM=Et.INFO,fM={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},pM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=fM[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let mM=class{constructor(e){this.name=e,this._logLevel=hM,this._logHandler=pM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}};function Hx(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}let Bw=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gM=DC,kC=new rm("auth","Firebase",DC());const Cp=new mM("@firebase/auth");function yM(t,...e){Cp.logLevel<=Et.WARN&&Cp.warn(`Auth (${nm}): ${t}`,...e)}function cp(t,...e){Cp.logLevel<=Et.ERROR&&Cp.error(`Auth (${nm}): ${t}`,...e)}function Er(t,...e){throw Gx(t,...e)}function Eo(t,...e){return Gx(t,...e)}function $x(t,e,n){const i=Object.assign(Object.assign({},gM()),{[e]:n});return new rm("auth","Firebase",i).create(e,{appName:t.name})}function pa(t){return $x(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xM(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Er(t,"argument-error"),$x(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return kC.create(t,...e)}function qe(t,e,...n){if(!t)throw Gx(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cp(e),new Error(e)}function Ro(t,e){t||ns(e)}function vM(){return zw()==="http:"||zw()==="https:"}function zw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function bM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vM()||nM()||"connection"in navigator)?navigator.onLine:!0}function SM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ro(n>e,"Short delay should be less than long delay!"),this.isMobile=eM()||iM()}get(){return bM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wM(t,e){Ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class PC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EM=new Qd(3e4,6e4);function _a(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ca(t,e,n,i,s={}){return OC(t,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=Ux(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},o);return tM()||(p.referrerPolicy="no-referrer"),PC.fetch()(MC(t,t.config.apiHost,n,h),p)})}async function OC(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},TM),e);try{const s=new CM(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ff(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ff(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ff(t,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $x(t,g,p);Er(t,g)}}catch(s){if(s instanceof im)throw s;Er(t,"network-request-failed",{message:String(s)})}}async function Jd(t,e,n,i,s={}){const o=await Ca(t,e,n,i,s);return"mfaPendingCredential"in o&&Er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MC(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?wM(t.config,s):`${t.config.apiScheme}://${s}`}function _M(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Eo(this.auth,"network-request-failed")),EM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ff(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Eo(t,e,i);return s.customData._tokenResponse=n,s}function Uw(t){return t!==void 0&&t.enterprise!==void 0}class AM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _M(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function IM(t,e){return Ca(t,"GET","/v2/recaptchaConfig",_a(t,e))}async function jM(t,e){return Ca(t,"POST","/v1/accounts:delete",e)}async function VC(t,e){return Ca(t,"POST","/v1/accounts:lookup",e)}function bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RM(t,e=!1){const n=Vo(t),i=await n.getIdToken(e),s=qx(i);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:i,authTime:bd($y(s.auth_time)),issuedAtTime:bd($y(s.iat)),expirationTime:bd($y(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $y(t){return Number(t)*1e3}function qx(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return cp("JWT malformed, contained fewer than 3 sections"),null;try{const s=jC(n);return s?JSON.parse(s):(cp("Failed to decode base64 JWT payload"),null)}catch(s){return cp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Hw(t){const e=qx(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof im&&NM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function NM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class V0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ap(t){var e;const n=t.auth,i=await t.getIdToken(),s=await bc(t,VC(n,{idToken:i}));qe(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LC(o.providerUserInfo):[],h=PM(t.providerData,u),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!h?.length,g=d?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new V0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function kM(t){const e=Vo(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PM(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function LC(t){return t.map(e=>{var{providerId:n}=e,i=Hx(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function OM(t,e){const n=await OC(t,{},async()=>{const i=Ux({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=MC(t,s,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",PC.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MM(t,e){return Ca(t,"POST","/v2/accounts:revokeToken",_a(t,e))}class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await OM(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,u=new hc;return i&&(qe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(qe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(qe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return ns("not implemented")}}function na(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=Hx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new V0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RM(this,e)}reload(){return kM(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ap(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await bc(this,jM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,u,h,d,p,g;const x=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,A=(h=n.tenantId)!==null&&h!==void 0?h:void 0,_=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,D=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:$,isAnonymous:Q,providerData:re,stsTokenManager:R}=n;qe(V&&R,e,"internal-error");const I=hc.fromJSON(this.name,R);qe(typeof V=="string",e,"internal-error"),na(x,e.name),na(b,e.name),qe(typeof $=="boolean",e,"internal-error"),qe(typeof Q=="boolean",e,"internal-error"),na(S,e.name),na(T,e.name),na(A,e.name),na(_,e.name),na(M,e.name),na(D,e.name);const k=new is({uid:V,auth:e,email:b,emailVerified:$,displayName:x,isAnonymous:Q,photoURL:T,phoneNumber:S,tenantId:A,stsTokenManager:I,createdAt:M,lastLoginAt:D});return re&&Array.isArray(re)&&(k.providerData=re.map(L=>Object.assign({},L))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,i=!1){const s=new hc;s.updateFromServerResponse(n);const o=new is({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ap(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?LC(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new hc;h.updateFromIdToken(i);const d=new is({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new V0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const $w=new Map;function bo(t){Ro(t instanceof Function,"Expected a class definition");let e=$w.get(t);return e?(Ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$w.set(t,e),e)}class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FC.type="NONE";const Gw=FC;function Gy(t,e,n){return`firebase:${t}:${e}:${n}`}class fc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Gy(this.userKey,s.apiKey,o),this.fullPersistenceKey=Gy("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?is._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fc(bo(Gw),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||bo(Gw);const u=Gy(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){const x=is._fromJSON(e,g);p!==o&&(h=x),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new fc(o,e,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new fc(o,e,i))}}function qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if(HC(e))return"Webos";if(LM(e))return"Safari";if((e.includes("chrome/")||FM(e))&&!e.includes("edge/"))return"Chrome";if(zC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function VM(t=bi()){return/firefox\//i.test(t)}function LM(t=bi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FM(t=bi()){return/crios\//i.test(t)}function BC(t=bi()){return/iemobile/i.test(t)}function zC(t=bi()){return/android/i.test(t)}function UC(t=bi()){return/blackberry/i.test(t)}function HC(t=bi()){return/webos/i.test(t)}function BM(t=bi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zM(){return rM()&&document.documentMode===10}function UM(t=bi()){return BM(t)||zC(t)||HC(t)||UC(t)||/windows phone/i.test(t)||BC(t)}function $C(t,e=[]){let n;switch(t){case"Browser":n=qw(bi());break;case"Worker":n=`${qw(bi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nm}/${i}`}class HM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function $M(t,e={}){return Ca(t,"GET","/v2/passwordPolicy",_a(t,e))}const GM=6;class qM{constructor(e){var n,i,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:GM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class WM{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ww(this),this.idTokenSubscription=new Ww(this),this.beforeStateQueue=new HM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await fc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VC(this,{idToken:e}),i=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(pa(this));const n=e?Vo(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $M(this),n=new qM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rm("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await MM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bo(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await fc.create(this,[bo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$C(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&yM(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Fc(t){return Vo(t)}class Ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KM(t){Wx=t}function YM(t){return Wx.loadJS(t)}function QM(){return Wx.recaptchaEnterpriseScript}const JM="recaptcha-enterprise",XM="NO_RECAPTCHA";class ZM{constructor(e){this.type=JM,this.auth=Fc(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{IM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new AM(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;Uw(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(XM)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&Uw(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=QM();d.length!==0&&(d+=h),YM(d).then(()=>{s(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Kw(t,e,n,i=!1){const s=new ZM(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function L0(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Kw(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(o)})}function e3(t,e){const n=zx(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(NC(o,e??{}))return s;Er(s,"already-initialized")}return n.initialize({options:e})}function t3(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(bo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}class Kx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function n3(t,e){return Ca(t,"POST","/v1/accounts:signUp",e)}async function i3(t,e){return Jd(t,"POST","/v1/accounts:signInWithPassword",_a(t,e))}async function r3(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}async function s3(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}class Od extends Kx{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Od(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Od(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,n,"signInWithPassword",i3);case"emailLink":return r3(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,i,"signUpPassword",n3);case"emailLink":return s3(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pc(t,e){return Jd(t,"POST","/v1/accounts:signInWithIdp",_a(t,e))}const a3="http://localhost";class No extends Kx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=Hx(n,["providerId","signInMethod"]);if(!i||!s)return null;const u=new No(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return pc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,pc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pc(e,n)}buildRequest(){const e={requestUri:a3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ux(n)}return e}}function o3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l3(t){const e=dd(hd(t)).link,n=e?dd(hd(e)).deep_link_id:null,i=dd(hd(t)).deep_link_id;return(i?dd(hd(i)).link:null)||i||n||e||t}class Yx{constructor(e){var n,i,s,o,u,h;const d=dd(hd(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,x=o3((s=d.mode)!==null&&s!==void 0?s:null);qe(p&&g&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=l3(e);try{return new Yx(n)}catch{return null}}}class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(e,n){return Od._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Yx.parseLink(n);return qe(i,"argument-error"),Od._fromEmailAndCode(e,i.code,i.tenantId)}}Bc.PROVIDER_ID="password";Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class GC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sm extends GC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sa extends sm{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";class aa extends sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return aa.credential(n,i)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";class gr extends sm{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class oa extends sm{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return oa.credential(n,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function c3(t,e){return Jd(t,"POST","/v1/accounts:signUp",_a(t,e))}class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await is._fromIdTokenResponse(e,i,s),u=Yw(i);return new Do({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Yw(i);return new Do({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ip extends im{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Ip(e,n,i,s)}}function qC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,o,e,i):o})}async function u3(t,e,n=!1){const i=await bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",i)}async function d3(t,e,n=!1){const{auth:i}=t;if(xr(i.app))return Promise.reject(pa(i));const s="reauthenticate";try{const o=await bc(t,qC(i,s,e,t),n);qe(o.idToken,i,"internal-error");const u=qx(o.idToken);qe(u,i,"internal-error");const{sub:h}=u;return qe(t.uid===h,i,"user-mismatch"),Do._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Er(i,"user-mismatch"),o}}async function WC(t,e,n=!1){if(xr(t.app))return Promise.reject(pa(t));const i="signIn",s=await qC(t,i,e),o=await Do._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function h3(t,e){return WC(Fc(t),e)}async function KC(t){const e=Fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f3(t,e,n){if(xr(t.app))return Promise.reject(pa(t));const i=Fc(t),u=await L0(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c3).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&KC(t),d}),h=await Do._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function p3(t,e,n){return xr(t.app)?Promise.reject(pa(t)):h3(Vo(t),Bc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&KC(t),i})}async function m3(t,e){return Ca(t,"POST","/v1/accounts:update",e)}async function g3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Vo(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await bc(i,m3(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function YC(t,e,n,i){return Vo(t).onAuthStateChanged(e,n,i)}const Qw="__sak";class QC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qw,"1"),this.storage.removeItem(Qw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const y3=1e3,x3=10;class JC extends QC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);zM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,x3):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const v3=JC;class b3 extends QC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b3.type="SESSION";function S3(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}new Qd(3e4,6e4);function w3(t,e){return qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver}class Qx extends Kx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T3(t){return WC(t.auth,new Qx(t),t.bypassAuthState)}function E3(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),d3(n,new Qx(t),t.bypassAuthState)}async function _3(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),u3(n,new Qx(t),t.bypassAuthState)}class C3{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T3;case"linkViaPopup":case"linkViaRedirect":return _3;case"reauthViaPopup":case"reauthViaRedirect":return E3;default:Er(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A3=new Qd(2e3,1e4);async function I3(t,e,n){if(xr(t.app))return Promise.reject(Eo(t,"operation-not-supported-in-this-environment"));const i=Fc(t);xM(t,e,GC);const s=w3(i);return new So(i,"signInViaPopup",e,s).executeNotNull()}class So extends C3{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ro(this.filter.length===1,"Popup operations only handle one event");const e=S3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Eo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Eo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Eo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A3.get())};e()}}So.currentPopupAction=null;new Qd(3e4,6e4);new Qd(5e3,15e3);var Jw="@firebase/auth",Xw="1.7.9";class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function R3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N3(t){jo(new Bw("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$C(t)},p=new WM(i,s,o,d);return t3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),jo(new Bw("auth-internal",e=>{const n=Fc(e.getProvider("auth").getImmediate());return(i=>new j3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Jw,Xw,R3(t)),vr(Jw,Xw,"esm2017")}const D3=300;Z4("authIdTokenMaxAge");function k3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Eo("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",k3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N3("Browser");var Zw={};const XC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},P3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),i.push(n[g],n[x],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||p==null||x==null)throw new O3;const b=o<<2|h>>4;if(i.push(b),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const T=p<<6&192|x;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let O3=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const M3=function(t){const e=XC(t);return ZC.encodeByteArray(e,!0)},eT=function(t){return M3(t).replace(/\./g,"")},V3=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function L3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F3=()=>L3().__FIREBASE_DEFAULTS__,B3=()=>{if(typeof process>"u"||typeof Zw>"u")return;const t=Zw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V3(t[1]);return e&&JSON.parse(e)},e5=()=>{try{return F3()||B3()||z3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U3=t=>{var e,n;return(n=(e=e5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H3=t=>{const e=U3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};function $3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eT(JSON.stringify(n)),eT(JSON.stringify(u)),""].join(".")}function G3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q3(){var t;const e=(t=e5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W3(){return!q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}const K3="FirebaseError";let t5=class n5 extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=K3,Object.setPrototypeOf(this,n5.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y3.prototype.create)}},Y3=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?Q3(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new t5(s,h,i)}};function Q3(t,e){return t.replace(J3,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const J3=/\{\$([^}]+)}/g;function Sc(t){return t&&t._delegate?t._delegate:t}let X3=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const Z3={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},e6=at.INFO,t6={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},n6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=t6[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i6{constructor(e){this.name=e,this._logLevel=e6,this._logHandler=n6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _o,i5;(function(){var t;function e(R,I){function k(){}k.prototype=I.prototype,R.D=I.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(L,B,H){for(var F=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)F[xe-2]=arguments[xe];return I.prototype[B].apply(L,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,I,k){k||(k=0);var L=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)L[B]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(B=0;16>B;++B)L[B]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=R.g[0],k=R.g[1],B=R.g[2];var H=R.g[3],F=I+(H^k&(B^H))+L[0]+3614090360&4294967295;I=k+(F<<7&4294967295|F>>>25),F=H+(B^I&(k^B))+L[1]+3905402710&4294967295,H=I+(F<<12&4294967295|F>>>20),F=B+(k^H&(I^k))+L[2]+606105819&4294967295,B=H+(F<<17&4294967295|F>>>15),F=k+(I^B&(H^I))+L[3]+3250441966&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+(H^k&(B^H))+L[4]+4118548399&4294967295,I=k+(F<<7&4294967295|F>>>25),F=H+(B^I&(k^B))+L[5]+1200080426&4294967295,H=I+(F<<12&4294967295|F>>>20),F=B+(k^H&(I^k))+L[6]+2821735955&4294967295,B=H+(F<<17&4294967295|F>>>15),F=k+(I^B&(H^I))+L[7]+4249261313&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+(H^k&(B^H))+L[8]+1770035416&4294967295,I=k+(F<<7&4294967295|F>>>25),F=H+(B^I&(k^B))+L[9]+2336552879&4294967295,H=I+(F<<12&4294967295|F>>>20),F=B+(k^H&(I^k))+L[10]+4294925233&4294967295,B=H+(F<<17&4294967295|F>>>15),F=k+(I^B&(H^I))+L[11]+2304563134&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+(H^k&(B^H))+L[12]+1804603682&4294967295,I=k+(F<<7&4294967295|F>>>25),F=H+(B^I&(k^B))+L[13]+4254626195&4294967295,H=I+(F<<12&4294967295|F>>>20),F=B+(k^H&(I^k))+L[14]+2792965006&4294967295,B=H+(F<<17&4294967295|F>>>15),F=k+(I^B&(H^I))+L[15]+1236535329&4294967295,k=B+(F<<22&4294967295|F>>>10),F=I+(B^H&(k^B))+L[1]+4129170786&4294967295,I=k+(F<<5&4294967295|F>>>27),F=H+(k^B&(I^k))+L[6]+3225465664&4294967295,H=I+(F<<9&4294967295|F>>>23),F=B+(I^k&(H^I))+L[11]+643717713&4294967295,B=H+(F<<14&4294967295|F>>>18),F=k+(H^I&(B^H))+L[0]+3921069994&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^H&(k^B))+L[5]+3593408605&4294967295,I=k+(F<<5&4294967295|F>>>27),F=H+(k^B&(I^k))+L[10]+38016083&4294967295,H=I+(F<<9&4294967295|F>>>23),F=B+(I^k&(H^I))+L[15]+3634488961&4294967295,B=H+(F<<14&4294967295|F>>>18),F=k+(H^I&(B^H))+L[4]+3889429448&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^H&(k^B))+L[9]+568446438&4294967295,I=k+(F<<5&4294967295|F>>>27),F=H+(k^B&(I^k))+L[14]+3275163606&4294967295,H=I+(F<<9&4294967295|F>>>23),F=B+(I^k&(H^I))+L[3]+4107603335&4294967295,B=H+(F<<14&4294967295|F>>>18),F=k+(H^I&(B^H))+L[8]+1163531501&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(B^H&(k^B))+L[13]+2850285829&4294967295,I=k+(F<<5&4294967295|F>>>27),F=H+(k^B&(I^k))+L[2]+4243563512&4294967295,H=I+(F<<9&4294967295|F>>>23),F=B+(I^k&(H^I))+L[7]+1735328473&4294967295,B=H+(F<<14&4294967295|F>>>18),F=k+(H^I&(B^H))+L[12]+2368359562&4294967295,k=B+(F<<20&4294967295|F>>>12),F=I+(k^B^H)+L[5]+4294588738&4294967295,I=k+(F<<4&4294967295|F>>>28),F=H+(I^k^B)+L[8]+2272392833&4294967295,H=I+(F<<11&4294967295|F>>>21),F=B+(H^I^k)+L[11]+1839030562&4294967295,B=H+(F<<16&4294967295|F>>>16),F=k+(B^H^I)+L[14]+4259657740&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^H)+L[1]+2763975236&4294967295,I=k+(F<<4&4294967295|F>>>28),F=H+(I^k^B)+L[4]+1272893353&4294967295,H=I+(F<<11&4294967295|F>>>21),F=B+(H^I^k)+L[7]+4139469664&4294967295,B=H+(F<<16&4294967295|F>>>16),F=k+(B^H^I)+L[10]+3200236656&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^H)+L[13]+681279174&4294967295,I=k+(F<<4&4294967295|F>>>28),F=H+(I^k^B)+L[0]+3936430074&4294967295,H=I+(F<<11&4294967295|F>>>21),F=B+(H^I^k)+L[3]+3572445317&4294967295,B=H+(F<<16&4294967295|F>>>16),F=k+(B^H^I)+L[6]+76029189&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(k^B^H)+L[9]+3654602809&4294967295,I=k+(F<<4&4294967295|F>>>28),F=H+(I^k^B)+L[12]+3873151461&4294967295,H=I+(F<<11&4294967295|F>>>21),F=B+(H^I^k)+L[15]+530742520&4294967295,B=H+(F<<16&4294967295|F>>>16),F=k+(B^H^I)+L[2]+3299628645&4294967295,k=B+(F<<23&4294967295|F>>>9),F=I+(B^(k|~H))+L[0]+4096336452&4294967295,I=k+(F<<6&4294967295|F>>>26),F=H+(k^(I|~B))+L[7]+1126891415&4294967295,H=I+(F<<10&4294967295|F>>>22),F=B+(I^(H|~k))+L[14]+2878612391&4294967295,B=H+(F<<15&4294967295|F>>>17),F=k+(H^(B|~I))+L[5]+4237533241&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~H))+L[12]+1700485571&4294967295,I=k+(F<<6&4294967295|F>>>26),F=H+(k^(I|~B))+L[3]+2399980690&4294967295,H=I+(F<<10&4294967295|F>>>22),F=B+(I^(H|~k))+L[10]+4293915773&4294967295,B=H+(F<<15&4294967295|F>>>17),F=k+(H^(B|~I))+L[1]+2240044497&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~H))+L[8]+1873313359&4294967295,I=k+(F<<6&4294967295|F>>>26),F=H+(k^(I|~B))+L[15]+4264355552&4294967295,H=I+(F<<10&4294967295|F>>>22),F=B+(I^(H|~k))+L[6]+2734768916&4294967295,B=H+(F<<15&4294967295|F>>>17),F=k+(H^(B|~I))+L[13]+1309151649&4294967295,k=B+(F<<21&4294967295|F>>>11),F=I+(B^(k|~H))+L[4]+4149444226&4294967295,I=k+(F<<6&4294967295|F>>>26),F=H+(k^(I|~B))+L[11]+3174756917&4294967295,H=I+(F<<10&4294967295|F>>>22),F=B+(I^(H|~k))+L[2]+718787259&4294967295,B=H+(F<<15&4294967295|F>>>17),F=k+(H^(B|~I))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+H&4294967295}i.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var k=I-this.blockSize,L=this.B,B=this.h,H=0;H<I;){if(B==0)for(;H<=k;)s(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<I;)if(L[B++]=R.charCodeAt(H++),B==this.blockSize){s(this,L),B=0;break}}else for(;H<I;)if(L[B++]=R[H++],B==this.blockSize){s(this,L),B=0;break}}this.h=B,this.o+=I},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var k=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=k&255,k/=256;for(this.u(R),R=Array(16),I=k=0;4>I;++I)for(var L=0;32>L;L+=8)R[k++]=this.g[I]>>>L&255;return R};function o(R,I){var k=h;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=I(R)}function u(R,I){this.h=I;for(var k=[],L=!0,B=R.length-1;0<=B;B--){var H=R[B]|0;L&&H==I||(k[B]=H,L=!1)}this.g=k}var h={};function d(R){return-128<=R&&128>R?o(R,function(I){return new u([I|0],0>I?-1:0)}):new u([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return x;if(0>R)return _(p(-R));for(var I=[],k=1,L=0;R>=k;L++)I[L]=R/k|0,k*=4294967296;return new u(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return _(g(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(I,8)),L=x,B=0;B<R.length;B+=8){var H=Math.min(8,R.length-B),F=parseInt(R.substring(B,B+H),I);8>H?(H=p(Math.pow(I,H)),L=L.j(H).add(p(F))):(L=L.j(k),L=L.add(p(F)))}return L}var x=d(0),b=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(A(this))return-_(this).m();for(var R=0,I=1,k=0;k<this.g.length;k++){var L=this.i(k);R+=(0<=L?L:4294967296+L)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(A(this))return"-"+_(this).toString(R);for(var I=p(Math.pow(R,6)),k=this,L="";;){var B=$(k,I).g;k=M(k,B.j(I));var H=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=B,T(k))return H+L;for(;6>H.length;)H="0"+H;L=H+L}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=M(this,R),A(R)?-1:T(R)?0:1};function _(R){for(var I=R.g.length,k=[],L=0;L<I;L++)k[L]=~R.g[L];return new u(k,~R.h).add(b)}t.abs=function(){return A(this)?_(this):this},t.add=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],L=0,B=0;B<=I;B++){var H=L+(this.i(B)&65535)+(R.i(B)&65535),F=(H>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);L=F>>>16,H&=65535,F&=65535,k[B]=F<<16|H}return new u(k,k[k.length-1]&-2147483648?-1:0)};function M(R,I){return R.add(_(I))}t.j=function(R){if(T(this)||T(R))return x;if(A(this))return A(R)?_(this).j(_(R)):_(_(this).j(R));if(A(R))return _(this.j(_(R)));if(0>this.l(S)&&0>R.l(S))return p(this.m()*R.m());for(var I=this.g.length+R.g.length,k=[],L=0;L<2*I;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<R.g.length;B++){var H=this.i(L)>>>16,F=this.i(L)&65535,xe=R.i(B)>>>16,Ee=R.i(B)&65535;k[2*L+2*B]+=F*Ee,D(k,2*L+2*B),k[2*L+2*B+1]+=H*Ee,D(k,2*L+2*B+1),k[2*L+2*B+1]+=F*xe,D(k,2*L+2*B+1),k[2*L+2*B+2]+=H*xe,D(k,2*L+2*B+2)}for(L=0;L<I;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=I;L<2*I;L++)k[L]=0;return new u(k,0)};function D(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function V(R,I){this.g=R,this.h=I}function $(R,I){if(T(I))throw Error("division by zero");if(T(R))return new V(x,x);if(A(R))return I=$(_(R),I),new V(_(I.g),_(I.h));if(A(I))return I=$(R,_(I)),new V(_(I.g),I.h);if(30<R.g.length){if(A(R)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var k=b,L=I;0>=L.l(R);)k=Q(k),L=Q(L);var B=re(k,1),H=re(L,1);for(L=re(L,2),k=re(k,2);!T(L);){var F=H.add(L);0>=F.l(R)&&(B=B.add(k),H=F),L=re(L,1),k=re(k,1)}return I=M(R,B.j(I)),new V(B,I)}for(B=x;0<=R.l(I);){for(k=Math.max(1,Math.floor(R.m()/I.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),H=p(k),F=H.j(I);A(F)||0<F.l(R);)k-=L,H=p(k),F=H.j(I);T(H)&&(H=b),B=B.add(H),R=M(R,F)}return new V(B,R)}t.A=function(R){return $(this,R).h},t.and=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)&R.i(L);return new u(k,this.h&R.h)},t.or=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)|R.i(L);return new u(k,this.h|R.h)},t.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),k=[],L=0;L<I;L++)k[L]=this.i(L)^R.i(L);return new u(k,this.h^R.h)};function Q(R){for(var I=R.g.length+1,k=[],L=0;L<I;L++)k[L]=R.i(L)<<1|R.i(L-1)>>>31;return new u(k,R.h)}function re(R,I){var k=I>>5;I%=32;for(var L=R.g.length-k,B=[],H=0;H<L;H++)B[H]=0<I?R.i(H+k)>>>I|R.i(H+k+1)<<32-I:R.i(H+k);return new u(B,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,i5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,_o=u}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var r5,fd,s5,up,F0,a5,o5,l5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,C){return m==Array.prototype||m==Object.prototype||(m[w]=C.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var w=0;w<m.length;++w){var C=m[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function s(m,w){if(w)e:{var C=i;m=m.split(".");for(var P=0;P<m.length-1;P++){var Y=m[P];if(!(Y in C))break e;C=C[Y]}m=m[m.length-1],P=C[m],w=w(P),w!=P&&w!=null&&e(C,m,{configurable:!0,writable:!0,value:w})}}function o(m,w){m instanceof String&&(m+="");var C=0,P=!1,Y={next:function(){if(!P&&C<m.length){var ie=C++;return{value:w(ie,m[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(w,C){return C})}});var u=u||{},h=this||self;function d(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function p(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function g(m,w,C){return m.call.apply(m.bind,arguments)}function x(m,w,C){if(!m)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),m.apply(w,Y)}}return function(){return m.apply(w,arguments)}}function b(m,w,C){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,b.apply(null,arguments)}function S(m,w){var C=Array.prototype.slice.call(arguments,1);return function(){var P=C.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function T(m,w){function C(){}C.prototype=w.prototype,m.aa=w.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(P,Y,ie){for(var me=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)me[ft-2]=arguments[ft];return w.prototype[Y].apply(P,me)}}function A(m){const w=m.length;if(0<w){const C=Array(w);for(let P=0;P<w;P++)C[P]=m[P];return C}return[]}function _(m,w){for(let C=1;C<arguments.length;C++){const P=arguments[C];if(d(P)){const Y=m.length||0,ie=P.length||0;m.length=Y+ie;for(let me=0;me<ie;me++)m[Y+me]=P[me]}else m.push(P)}}class M{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var Q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function re(m,w,C){for(const P in m)w.call(C,m[P],P,m)}function R(m,w){for(const C in m)w.call(void 0,m[C],C,m)}function I(m){const w={};for(const C in m)w[C]=m[C];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,w){let C,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(C in P)m[C]=P[C];for(let ie=0;ie<k.length;ie++)C=k[ie],Object.prototype.hasOwnProperty.call(P,C)&&(m[C]=P[C])}}function B(m){var w=1;m=m.split(":");const C=[];for(;0<w&&m.length;)C.push(m.shift()),w--;return m.length&&C.push(m.join(":")),C}function H(m){h.setTimeout(()=>{throw m},0)}function F(){var m=Te;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class xe{constructor(){this.h=this.g=null}add(w,C){const P=Ee.get();P.set(w,C),this.h?this.h.next=P:this.g=P,this.h=P}}var Ee=new M(()=>new O,m=>m.reset());class O{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let q,ae=!1,Te=new xe,Ce=()=>{const m=h.Promise.resolve(void 0);q=()=>{m.then(z)}};var z=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(C){H(C)}var w=Ee;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};h.addEventListener("test",C,w),h.removeEventListener("test",C,w)}catch{}return m})();function Se(m,w){if(te.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(Q){e:{try{$(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else C=="mouseover"?w=m.fromElement:C=="mouseout"&&(w=m.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:je[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Se.aa.h.call(this)}}T(Se,te);var je={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),wt=0;function dt(m,w,C,P,Y){this.listener=m,this.proxy=null,this.src=w,this.type=C,this.capture=!!P,this.ha=Y,this.key=++wt,this.da=this.fa=!1}function hn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,w,C,P,Y){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var me=Ae(m,w,P,Y);return-1<me?(w=m[me],C||(w.fa=!1)):(w=new dt(w,this.src,ie,!!P,Y),w.fa=C,m.push(w)),w};function Ne(m,w){var C=w.type;if(C in m.g){var P=m.g[C],Y=Array.prototype.indexOf.call(P,w,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(P,Y,1),ie&&(hn(w),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Ae(m,w,C,P){for(var Y=0;Y<m.length;++Y){var ie=m[Y];if(!ie.da&&ie.listener==w&&ie.capture==!!C&&ie.ha==P)return Y}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Ct={};function _n(m,w,C,P,Y){if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)_n(m,w[ie],C,P,Y);return null}return C=Ho(C),m&&m[Ue]?m.K(w,C,p(P)?!!P.capture:!1,Y):tr(m,w,C,!1,P,Y)}function tr(m,w,C,P,Y,ie){if(!w)throw Error("Invalid event type");var me=p(Y)?!!Y.capture:!!Y,ft=Bi(m);if(ft||(m[We]=ft=new ue(m)),C=ft.add(w,C,P,me,ie),C.proxy)return C;if(P=Vn(),C.proxy=P,P.src=m,P.listener=C,m.addEventListener)pe||(Y=me),Y===void 0&&(Y=!1),m.addEventListener(w.toString(),P,Y);else if(m.attachEvent)m.attachEvent(Ar(w.toString()),P);else if(m.addListener&&m.removeListener)m.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Vn(){function m(C){return w.call(m.src,m.listener,C)}const w=Uo;return m}function ps(m,w,C,P,Y){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)ps(m,w[ie],C,P,Y);else P=p(P)?!!P.capture:!!P,C=Ho(C),m&&m[Ue]?(m=m.i,w=String(w).toString(),w in m.g&&(ie=m.g[w],C=Ae(ie,C,P,Y),-1<C&&(hn(ie[C]),Array.prototype.splice.call(ie,C,1),ie.length==0&&(delete m.g[w],m.h--)))):m&&(m=Bi(m))&&(w=m.g[w.toString()],m=-1,w&&(m=Ae(w,C,P,Y)),(C=-1<m?w[m]:null)&&nr(C))}function nr(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[Ue])Ne(w.i,m);else{var C=m.type,P=m.proxy;w.removeEventListener?w.removeEventListener(C,P,m.capture):w.detachEvent?w.detachEvent(Ar(C),P):w.addListener&&w.removeListener&&w.removeListener(P),(C=Bi(w))?(Ne(C,m),C.h==0&&(C.src=null,w[We]=null)):hn(m)}}}function Ar(m){return m in Ct?Ct[m]:Ct[m]="on"+m}function Uo(m,w){if(m.da)m=!0;else{w=new Se(w,this);var C=m.listener,P=m.ha||m.src;m.fa&&nr(m),m=C.call(P,w)}return m}function Bi(m){return m=m[We],m instanceof ue?m:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(m){return typeof m=="function"?m:(m[jt]||(m[jt]=function(w){return m.handleEvent(w)}),m[jt])}function zt(){Z.call(this),this.i=new ue(this),this.M=this,this.F=null}T(zt,Z),zt.prototype[Ue]=!0,zt.prototype.removeEventListener=function(m,w,C,P){ps(this,m,w,C,P)};function tn(m,w){var C,P=m.F;if(P)for(C=[];P;P=P.F)C.push(P);if(m=m.M,P=w.type||w,typeof w=="string")w=new te(w,m);else if(w instanceof te)w.target=w.target||m;else{var Y=w;w=new te(P,m),L(w,Y)}if(Y=!0,C)for(var ie=C.length-1;0<=ie;ie--){var me=w.g=C[ie];Y=zi(me,P,!0,w)&&Y}if(me=w.g=m,Y=zi(me,P,!0,w)&&Y,Y=zi(me,P,!1,w)&&Y,C)for(ie=0;ie<C.length;ie++)me=w.g=C[ie],Y=zi(me,P,!1,w)&&Y}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var C=m.g[w],P=0;P<C.length;P++)hn(C[P]);delete m.g[w],m.h--}}this.F=null},zt.prototype.K=function(m,w,C,P){return this.i.add(String(m),w,!1,C,P)},zt.prototype.L=function(m,w,C,P){return this.i.add(String(m),w,!0,C,P)};function zi(m,w,C,P){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,ie=0;ie<w.length;++ie){var me=w[ie];if(me&&!me.da&&me.capture==C){var ft=me.listener,nn=me.ha||me.src;me.fa&&Ne(m.i,me),Y=ft.call(nn,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function Yc(m,w,C){if(typeof m=="function")C&&(m=b(m,C));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:h.setTimeout(m,w||0)}function ei(m){m.g=Yc(()=>{m.g=null,m.i&&(m.i=!1,ei(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Qc extends Z{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ei(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(m){Z.call(this),this.h=m,this.g={}}T(Ui,Z);var Ln=[];function fn(m){re(m.g,function(w,C){this.g.hasOwnProperty(C)&&nr(w)},m),m.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),fn(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=h.JSON.stringify,xn=h.JSON.parse,le=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Re(){}Re.prototype.h=null;function et(m){return m.h||(m.h=m.i())}function Ye(){}var Ge={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mt(){te.call(this,"d")}T(Mt,te);function pn(){te.call(this,"c")}T(pn,te);var Ei={},ms=null;function $o(){return ms=ms||new zt}Ei.La="serverreachability";function Jc(m){te.call(this,Ei.La,m)}T(Jc,te);function Ir(m){const w=$o();tn(w,new Jc(w))}Ei.STAT_EVENT="statevent";function gs(m,w){te.call(this,Ei.STAT_EVENT,m),this.stat=w}T(gs,te);function An(m){const w=$o();tn(w,new gs(w,m))}Ei.Ma="timingevent";function Xc(m,w){te.call(this,Ei.Ma,m),this.size=w}T(Xc,te);function ys(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},w)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function Zc(m,w,C,P,Y,ie){m.info(function(){if(m.g)if(ie)for(var me="",ft=ie.split("&"),nn=0;nn<ft.length;nn++){var Ke=ft[nn].split("=");if(1<Ke.length){var bn=Ke[0];Ke=Ke[1];var Sn=bn.split("_");me=2<=Sn.length&&Sn[1]=="type"?me+(bn+"="+Ke+"&"):me+(bn+"=redacted&")}}else me=null;else me=ie;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+w+`
`+C+`
`+me})}function eu(m,w,C,P,Y,ie,me){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+w+`
`+C+`
`+ie+" "+me})}function jr(m,w,C,P){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+ir(m,C)+(P?" "+P:"")})}function uh(m,w){m.info(function(){return"TIMEOUT: "+w})}xs.prototype.info=function(){};function ir(m,w){if(!m.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var P=C[m];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return Cn(C)}catch{return w}}var Ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},In={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function vs(){}T(vs,Re),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},rr=new vs;function sr(m,w,C,P){this.j=m,this.i=w,this.l=C,this.R=P||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dh}function dh(){this.i=null,this.g="",this.h=!1}var tu={},Rr={};function ja(m,w,C){m.L=1,m.v=Da(Ht(w)),m.m=C,m.P=!0,Nr(m,null)}function Nr(m,w){m.F=Date.now(),Hi(m),m.A=Ht(m.v);var C=m.A,P=m.R;Array.isArray(P)||(P=[String(P)]),Pr(C.i,"t",P),m.C=0,C=m.j.J,m.h=new dh,m.g=Ah(m.j,C?w:null,!m.m),0<m.O&&(m.M=new Qc(b(m.Y,m,m.g),m.O)),w=m.U,C=m.g,P=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ln[0]=Y.toString()),Y=Ln);for(var ie=0;ie<Y.length;ie++){var me=_n(C,Y[ie],P||w.handleEvent,!1,w.h||w);if(!me)break;w.g[me.key]=me}w=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ir(),Zc(m.i,m.u,m.A,m.l,m.R,m.m)}sr.prototype.ca=function(m){m=m.target;const w=this.M;w&&Kn(m)==3?w.j():this.Y(m)},sr.prototype.Y=function(m){try{if(m==this.g)e:{const Sn=Kn(this.g);var w=this.g.Ba();const Ds=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Oa(this.g)))){this.J||Sn!=4||w==7||(w==8||0>=Ds?Ir(3):Ir(2)),Go(this);var C=this.g.Z();this.X=C;t:if(Dr(this)){var P=Oa(this.g);m="";var Y=P.length,ie=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),bs(this);var me="";break t}this.h.i=new h.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,m+=this.h.i.decode(P[w],{stream:!(ie&&w==Y-1)});P.length=0,this.h.g+=m,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=C==200,eu(this.i,this.u,this.A,this.l,this.R,Sn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,nn=this.g;if((ft=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(ft)){var Ke=ft;break t}}Ke=null}if(C=Ke)jr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ar(this,C);else{this.o=!1,this.s=3,An(12),qn(this),bs(this);break e}}if(this.P){C=!0;let ni;for(;!this.J&&this.C<me.length;)if(ni=Ra(this,me),ni==Rr){Sn==4&&(this.s=4,An(14),C=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==tu){this.s=4,An(15),jr(this.i,this.l,me,"[Invalid Chunk]"),C=!1;break}else jr(this.i,this.l,ni,null),ar(this,ni);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||me.length!=0||this.h.h||(this.s=1,An(16),C=!1),this.o=this.o&&C,!C)jr(this.i,this.l,me,"[Invalid Chunked Response]"),qn(this),bs(this);else if(0<me.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),hu(bn),bn.M=!0,An(11))}}else jr(this.i,this.l,me,null),ar(this,me);Sn==4&&qn(this),this.o&&!this.J&&(Sn==4?Eh(this.j,this):(this.o=!1,Hi(this)))}else xh(this.g),C==400&&0<me.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),qn(this),bs(this)}}}catch{}};function Dr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ra(m,w){var C=m.C,P=w.indexOf(`
`,C);return P==-1?Rr:(C=Number(w.substring(C,P)),isNaN(C)?tu:(P+=1,P+C>w.length?Rr:(w=w.slice(P,P+C),m.C=P+C,w)))}sr.prototype.cancel=function(){this.J=!0,qn(this)};function Hi(m){m.S=Date.now()+m.I,Kt(m,m.I)}function Kt(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ys(b(m.ba,m),w)}function Go(m){m.B&&(h.clearTimeout(m.B),m.B=null)}sr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(uh(this.i,this.A),this.L!=2&&(Ir(),An(17)),qn(this),this.s=2,bs(this)):Kt(this,this.S-m)};function bs(m){m.j.G==0||m.J||Eh(m.j,m)}function qn(m){Go(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,fn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function ar(m,w){try{var C=m.j;if(C.G!=0&&(C.g==m||Ss(C.h,m))){if(!m.K&&Ss(C.h,m)&&C.G==3){try{var P=C.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)Rs(C),js(C);else break e;du(C),An(18)}}else C.za=Y[1],0<C.za-C.T&&37500>Y[2]&&C.F&&C.v==0&&!C.C&&(C.C=ys(b(C.Za,C),6e3));if(1>=hh(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Mr(C,11)}else if((m.K||C.g==m)&&Rs(C),!D(w))for(Y=C.Da.g.parse(w),w=0;w<Y.length;w++){let Ke=Y[w];if(C.T=Ke[0],Ke=Ke[1],C.G==2)if(Ke[0]=="c"){C.K=Ke[1],C.ia=Ke[2];const bn=Ke[3];bn!=null&&(C.la=bn,C.j.info("VER="+C.la));const Sn=Ke[4];Sn!=null&&(C.Aa=Sn,C.j.info("SVER="+C.Aa));const Ds=Ke[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(P=1.5*Ds,C.L=P,C.j.info("backChannelRequestTimeoutMs_="+P)),P=C;const ni=m.g;if(ni){const La=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var ie=P.h;ie.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ws(ie,ie.h),ie.h=null))}if(P.D){const Vr=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Vr&&(P.ya=Vr,ot(P.I,P.D,Vr))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),P=C;var me=m;if(P.qa=Ch(P,P.J?P.ia:null,P.W),me.K){_i(P.h,me);var ft=me,nn=P.L;nn&&(ft.I=nn),ft.B&&(Go(ft),Hi(ft)),P.g=me}else wh(P);0<C.i.length&&Zo(C)}else Ke[0]!="stop"&&Ke[0]!="close"||Mr(C,7);else C.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Mr(C,7):cu(C):Ke[0]!="noop"&&C.l&&C.l.ta(Ke),C.v=0)}}Ir(4)}catch{}}var Im=class{constructor(m,w){this.g=m,this.map=w}};function nu(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hh(m){return m.h?1:m.g?m.g.size:0}function Ss(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function ws(m,w){m.g?m.g.add(w):m.h=w}function _i(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}nu.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Wn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const C of m.g.values())w=w.concat(C.D);return w}return A(m.i)}function fh(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var w=[],C=m.length,P=0;P<C;P++)w.push(m[P]);return w}w=[],C=0;for(P in m)w[C++]=m[P];return w}function jm(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var w=[];m=m.length;for(var C=0;C<m;C++)w.push(C);return w}w=[],C=0;for(const P in m)w[C++]=P;return w}}}function qo(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var C=jm(m),P=fh(m),Y=P.length,ie=0;ie<Y;ie++)w.call(void 0,P[ie],C&&C[ie],m)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(m,w){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var P=m[C].indexOf("="),Y=null;if(0<=P){var ie=m[C].substring(0,P);Y=m[C].substring(P+1)}else ie=m[C];w(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function kr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof kr){this.h=m.h,Ts(this,m.j),this.o=m.o,this.g=m.g,Na(this,m.s),this.l=m.l;var w=m.i,C=new or;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),Ko(this,C),this.m=m.m}else m&&(w=String(m).match(ru))?(this.h=!1,Ts(this,w[1]||"",!0),this.o=Es(w[2]||""),this.g=Es(w[3]||"",!0),Na(this,w[4]),this.l=Es(w[5]||"",!0),Ko(this,w[6]||"",!0),this.m=Es(w[7]||"")):(this.h=!1,this.i=new or(null,this.h))}kr.prototype.toString=function(){var m=[],w=this.j;w&&m.push(Ci(w,su,!0),":");var C=this.g;return(C||w=="file")&&(m.push("//"),(w=this.o)&&m.push(Ci(w,su,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Ci(C,C.charAt(0)=="/"?au:ph,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Ci(C,Dm)),m.join("")};function Ht(m){return new kr(m)}function Ts(m,w,C){m.j=C?Es(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Na(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function Ko(m,w,C){w instanceof or?(m.i=w,mh(m.i,m.h)):(C||(w=Ci(w,Nm)),m.i=new or(w,m.h))}function ot(m,w,C){m.i.set(w,C)}function Da(m){return ot(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Es(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ci(m,w,C){return typeof m=="string"?(m=encodeURI(m).replace(w,Rm),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Rm(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var su=/[#\/\?@]/g,ph=/[#\?:]/g,au=/[#\?]/g,Nm=/[#\?@]/g,Dm=/#/g;function or(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function vn(m){m.g||(m.g=new Map,m.h=0,m.i&&Wo(m.i,function(w,C){m.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}t=or.prototype,t.add=function(m,w){vn(this),this.i=null,m=ui(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(w),this.h+=1,this};function Yo(m,w){vn(m),w=ui(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function Qo(m,w){return vn(m),w=ui(m,w),m.g.has(w)}t.forEach=function(m,w){vn(this),this.g.forEach(function(C,P){C.forEach(function(Y){m.call(w,Y,P,this)},this)},this)},t.na=function(){vn(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let P=0;P<w.length;P++){const Y=m[P];for(let ie=0;ie<Y.length;ie++)C.push(w[P])}return C},t.V=function(m){vn(this);let w=[];if(typeof m=="string")Qo(this,m)&&(w=w.concat(this.g.get(ui(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)w=w.concat(m[C])}return w},t.set=function(m,w){return vn(this),this.i=null,m=ui(this,m),Qo(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},t.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function Pr(m,w,C){Yo(m,w),0<C.length&&(m.i=null,m.g.set(ui(m,w),A(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var P=w[C];const ie=encodeURIComponent(String(P)),me=this.V(P);for(P=0;P<me.length;P++){var Y=ie;me[P]!==""&&(Y+="="+encodeURIComponent(String(me[P]))),m.push(Y)}}return this.i=m.join("&")};function ui(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function mh(m,w){w&&!m.j&&(vn(m),m.i=null,m.g.forEach(function(C,P){var Y=P.toLowerCase();P!=Y&&(Yo(this,P),Pr(this,Y,C))},m)),m.j=w}function ou(m,w){const C=new xs;if(h.Image){const P=new Image;P.onload=S(ti,C,"TestLoadImage: loaded",!0,w,P),P.onerror=S(ti,C,"TestLoadImage: error",!1,w,P),P.onabort=S(ti,C,"TestLoadImage: abort",!1,w,P),P.ontimeout=S(ti,C,"TestLoadImage: timeout",!1,w,P),h.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else w(!1)}function gh(m,w){const C=new xs,P=new AbortController,Y=setTimeout(()=>{P.abort(),ti(C,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:P.signal}).then(ie=>{clearTimeout(Y),ie.ok?ti(C,"TestPingServer: ok",!0,w):ti(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ti(C,"TestPingServer: error",!1,w)})}function ti(m,w,C,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(C)}catch{}}function $i(){this.g=new le}function lu(m,w,C){const P=C||"";try{qo(m,function(Y,ie){let me=Y;p(Y)&&(me=Cn(Y)),w.push(P+ie+"="+encodeURIComponent(me))})}catch(Y){throw w.push(P+"type="+encodeURIComponent("_badmap")),Y}}function lr(m){this.l=m.Ub||null,this.j=m.eb||!1}T(lr,Re),lr.prototype.g=function(){return new di(this.l,this.j)},lr.prototype.i=(function(m){return function(){return m}})({});function di(m,w){zt.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(di,zt),t=di.prototype,t.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,_s(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||h).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?cr(this):_s(this),this.readyState==3&&Jo(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,cr(this))},t.Qa=function(m){this.g&&(this.response=m,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,_s(m)}t.setRequestHeader=function(m,w){this.u.append(m,w)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=w.next();return m.join(`\r
`)};function _s(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ka(m){let w="";return re(m,function(C,P){w+=P,w+=":",w+=C,w+=`\r
`}),w}function Cs(m,w,C){e:{for(P in C){var P=!1;break e}P=!0}P||(C=ka(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):ot(m,w,C))}function Rt(m){zt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Rt,zt);var Fn=/^https?$/i,Or=["POST","PUT"];t=Rt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,w,C,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?et(this.o):et(rr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ie){Pa(this,ie);return}if(m=C||"",C=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)C.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())C.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Or,w,void 0))||P||Y||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,me]of C)this.g.setRequestHeader(ie,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){Pa(this,ie)}};function Pa(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,As(m),Is(m)}function As(m){m.A||(m.A=!0,tn(m,"complete"),tn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,tn(this,"complete"),tn(this,"abort"),Is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Is(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yh(this):this.bb())},t.bb=function(){yh(this)};function yh(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Kn(m)!=4||m.Z()!=2)){if(m.u&&Kn(m)==4)Yc(m.Ea,0,m);else if(tn(m,"readystatechange"),Kn(m)==4){m.h=!1;try{const me=m.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var P;if(P=me===0){var Y=String(m.D).match(ru)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),P=!Fn.test(Y?Y.toLowerCase():"")}C=P}if(C)tn(m,"complete"),tn(m,"success");else{m.m=6;try{var ie=2<Kn(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",As(m)}}finally{Is(m)}}}}function Is(m,w){if(m.g){Xo(m);const C=m.g,P=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||tn(m,"ready");try{C.onreadystatechange=P}catch{}}}function Xo(m){m.I&&(h.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Kn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),xn(w)}};function Oa(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(m){const w={};m=(m.g&&2<=Kn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<m.length;P++){if(D(m[P]))continue;var C=B(m[P]);const Y=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=w[Y]||[];w[Y]=ie,ie.push(C)}R(w,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(m,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||w}function vh(m){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,m),this.cb=Ma("retryDelaySeedMs",1e4,m),this.Wa=Ma("forwardChannelMaxRetries",2,m),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new nu(m&&m.concurrentRequestLimit),this.Da=new $i,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vh.prototype,t.la=8,t.G=1,t.connect=function(m,w,C,P){An(0),this.W=m,this.H=w||{},C&&P!==void 0&&(this.H.OSID=C,this.H.OAID=P),this.F=this.X,this.I=Ch(this,null,this.W),Zo(this)};function cu(m){if(bh(m),m.G==3){var w=m.U++,C=Ht(m.I);if(ot(C,"SID",m.K),ot(C,"RID",w),ot(C,"TYPE","terminate"),Va(m,C),w=new sr(m,m.j,w),w.L=2,w.v=Da(Ht(C)),C=!1,h.navigator&&h.navigator.sendBeacon)try{C=h.navigator.sendBeacon(w.v.toString(),"")}catch{}!C&&h.Image&&(new Image().src=w.v,C=!0),C||(w.g=Ah(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Hi(w)}fu(m)}function js(m){m.g&&(hu(m),m.g.cancel(),m.g=null)}function bh(m){js(m),m.u&&(h.clearTimeout(m.u),m.u=null),Rs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function Zo(m){if(!iu(m.h)&&!m.s){m.s=!0;var w=m.Ga;q||Ce(),ae||(q(),ae=!0),Te.add(w,m),m.B=0}}function km(m,w){return hh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ys(b(m.Ga,m,w),_h(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new sr(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=I(ie),L(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var P=this.i[C];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=uu(this,Y,w),C=Ht(this.I),ot(C,"RID",m),ot(C,"CVER",22),this.D&&ot(C,"X-HTTP-Session-Id",this.D),Va(this,C),ie&&(this.O?w="headers="+encodeURIComponent(String(ka(ie)))+"&"+w:this.m&&Cs(C,this.m,ie)),ws(this.h,Y),this.Ua&&ot(C,"TYPE","init"),this.P?(ot(C,"$req",w),ot(C,"SID","null"),Y.T=!0,ja(Y,C,null)):ja(Y,C,w),this.G=2}}else this.G==3&&(m?Sh(this,m):this.i.length==0||iu(this.h)||Sh(this))};function Sh(m,w){var C;w?C=w.l:C=m.U++;const P=Ht(m.I);ot(P,"SID",m.K),ot(P,"RID",C),ot(P,"AID",m.T),Va(m,P),m.m&&m.o&&Cs(P,m.m,m.o),C=new sr(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),w&&(m.i=w.D.concat(m.i)),w=uu(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ws(m.h,C),ja(C,P,w)}function Va(m,w){m.H&&re(m.H,function(C,P){ot(w,P,C)}),m.l&&qo({},function(C,P){ot(w,P,C)})}function uu(m,w,C){C=Math.min(m.i.length,C);var P=m.l?b(m.l.Na,m.l,m):null;e:{var Y=m.i;let ie=-1;for(;;){const me=["count="+C];ie==-1?0<C?(ie=Y[0].g,me.push("ofs="+ie)):ie=0:me.push("ofs="+ie);let ft=!0;for(let nn=0;nn<C;nn++){let Ke=Y[nn].g;const bn=Y[nn].map;if(Ke-=ie,0>Ke)ie=Math.max(0,Y[nn].g-100),ft=!1;else try{lu(bn,me,"req"+Ke+"_")}catch{P&&P(bn)}}if(ft){P=me.join("&");break e}}}return m=m.i.splice(0,C),w.D=m,P}function wh(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;q||Ce(),ae||(q(),ae=!0),Te.add(w,m),m.v=0}}function du(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ys(b(m.Fa,m),_h(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ys(b(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),js(this),Th(this))};function hu(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Th(m){m.g=new sr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=Ht(m.qa);ot(w,"RID","rpc"),ot(w,"SID",m.K),ot(w,"AID",m.T),ot(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&ot(w,"TO",m.ja),ot(w,"TYPE","xmlhttp"),Va(m,w),m.m&&m.o&&Cs(w,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Da(Ht(w)),C.m=null,C.P=!0,Nr(C,m)}t.Za=function(){this.C!=null&&(this.C=null,js(this),du(this),An(19))};function Rs(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Eh(m,w){var C=null;if(m.g==w){Rs(m),hu(m),m.g=null;var P=2}else if(Ss(m.h,w))C=w.D,_i(m.h,w),P=1;else return;if(m.G!=0){if(w.o)if(P==1){C=w.m?w.m.length:0,w=Date.now()-w.F;var Y=m.B;P=$o(),tn(P,new Xc(P,C)),Zo(m)}else wh(m);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(P==1&&km(m,w)||P==2&&du(m)))switch(C&&0<C.length&&(w=m.h,w.i=w.i.concat(C)),Y){case 1:Mr(m,5);break;case 4:Mr(m,10);break;case 3:Mr(m,6);break;default:Mr(m,2)}}}function _h(m,w){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*w}function Mr(m,w){if(m.j.info("Error code "+w),w==2){var C=b(m.fb,m),P=m.Xa;const Y=!P;P=new kr(P||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ts(P,"https"),Da(P),Y?ou(P.toString(),C):gh(P.toString(),C)}else An(2);m.G=0,m.l&&m.l.sa(w),fu(m),bh(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function fu(m){if(m.G=0,m.ka=[],m.l){const w=Wn(m.h);(w.length!=0||m.i.length!=0)&&(_(m.ka,w),_(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function Ch(m,w,C){var P=C instanceof kr?Ht(C):new kr(C);if(P.g!="")w&&(P.g=w+"."+P.g),Na(P,P.s);else{var Y=h.location;P=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new kr(null);P&&Ts(ie,P),w&&(ie.g=w),Y&&Na(ie,Y),C&&(ie.l=C),P=ie}return C=m.D,w=m.ya,C&&w&&ot(P,C,w),ot(P,"VER",m.la),Va(m,P),P}function Ah(m,w,C){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new Rt(new lr({eb:C})):new Rt(m.pa),w.Ha(m.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}t=Ih.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(m,w){return new Yn(m,w)};function Yn(m,w){zt.call(this),this.g=new vh(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!D(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new Ns(this)}T(Yn,zt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){cu(this.g)},Yn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Cn(m),m=C);w.i.push(new Im(w.Ya++,m)),w.G==3&&Zo(w)},Yn.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,Yn.aa.N.call(this)};function jh(m){Mt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const C in w){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}T(jh,Mt);function Rh(){pn.call(this),this.status=1}T(Rh,pn);function Ns(m){this.g=m}T(Ns,Ih),Ns.prototype.ua=function(){tn(this.g,"a")},Ns.prototype.ta=function(m){tn(this.g,new jh(m))},Ns.prototype.sa=function(m){tn(this.g,new Rh)},Ns.prototype.ra=function(){tn(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,l5=function(){return new el},o5=function(){return $o()},a5=Ei,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ut.NO_ERROR=0,Ut.TIMEOUT=8,Ut.HTTP_ERROR=6,up=Ut,In.COMPLETE="complete",s5=In,Ye.EventType=Ge,Ge.OPEN="a",Ge.CLOSE="b",Ge.ERROR="c",Ge.MESSAGE="d",zt.prototype.listen=zt.prototype.K,fd=Ye,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,r5=Rt}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore";class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");let zc="10.14.0";const ko=new i6("@firebase/firestore");function Zu(){return ko.logLevel}function be(t,...e){if(ko.logLevel<=at.DEBUG){const n=e.map(Jx);ko.debug(`Firestore (${zc}): ${t}`,...n)}}function ds(t,...e){if(ko.logLevel<=at.ERROR){const n=e.map(Jx);ko.error(`Firestore (${zc}): ${t}`,...n)}}function wc(t,...e){if(ko.logLevel<=at.WARN){const n=e.map(Jx);ko.warn(`Firestore (${zc}): ${t}`,...n)}}function Jx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t="Unexpected state"){const e=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+t;throw ds(e),new Error(e)}function yt(t,e){t||Ve()}function ze(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends t5{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class c5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($n.UNAUTHENTICATED)))}shutdown(){}}class s6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a6{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ma,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ma)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string"),new c5(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new $n(e)}}class o6{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class l6{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new o6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n($n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){yt(this.o===void 0);const i=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(yt(typeof n.token=="string"),this.R=n.token,new c6(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class u5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=d6(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function ut(t,e){return t<e?-1:t>e?1:0}function Tc(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}class yn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new yn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new yn(0,0))}static max(){return new Be(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Md{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),u=n.get(s);if(o<u)return-1;if(o>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends Md{construct(e,n,i){return new Ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new Ot(n)}static emptyPath(){return new Ot([])}}const h6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Md{construct(e,n,i){return new Pn(e,n,i)}static isValidIdentifier(e){return h6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ve(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ve(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new ve(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ot.fromString(e))}static fromName(e){return new Ie(Ot.fromString(e).popFirst(5))}static empty(){return new Ie(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ot(e.slice()))}}function f6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new yn(n+1,0):new yn(n,i));return new va(s,Ie.empty(),e)}function p6(t){return new va(t.readTime,t.key,-1)}class va{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new va(Be.min(),Ie.empty(),-1)}static max(){return new va(Be.max(),Ie.empty(),-1)}}function m6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}const g6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xd(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==g6)throw t;be("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&n()}),(d=>i(d)))})),u=!0,o===s&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((s=>s?fe.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((g=>{u[p]=g,++h,h===o&&i(u)}),(g=>s(g)))}}))}static doWhile(e,n){return new fe(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function x6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zd(t){return t.name==="IndexedDbTransactionError"}class Xx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xx.oe=-1;function am(t){return t==null}function jp(t){return t===0&&1/t==-1/0}function v6(t){return typeof t=="number"&&Number.isInteger(t)&&!jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function iT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Bt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zf(this.root,e,this.comparator,!0)}}class zf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new kn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,s,o){return this}insert(e,n,i){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ji{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new On(Pn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class h5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new h5("Invalid base64 string: "+o):o}})(e);return new Mn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const b6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(t){if(yt(!!t),typeof t=="string"){let e=0;const n=b6.exec(t);if(yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function Zx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ev(t){const e=t.mapValue.fields.__previous_value__;return Zx(e)?ev(e):e}function Vd(t){const e=ba(t.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}class S6{constructor(e,n,i,s,o,u,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class Ld{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const Uf={mapValue:{}};function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zx(t)?4:T6(t)?9007199254740991:w6(t)?10:11:Ve()}function _r(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vd(t).isEqual(Vd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ba(s.timestampValue),h=ba(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Po(s.bytesValue).isEqual(Po(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Jt(s.geoPointValue.latitude)===Jt(o.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Jt(s.integerValue)===Jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Jt(s.doubleValue),h=Jt(o.doubleValue);return u===h?jp(u)===jp(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Tc(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(iT(u)!==iT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!_r(u[d],h[d])))return!1;return!0})(t,e);default:return Ve()}}function Fd(t,e){return(t.values||[]).find((n=>_r(n,e)))!==void 0}function Ec(t,e){if(t===e)return 0;const n=Oo(t),i=Oo(e);if(n!==i)return ut(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Jt(o.integerValue||o.doubleValue),d=Jt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return sT(t.timestampValue,e.timestampValue);case 4:return sT(Vd(t),Vd(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=Po(o),d=Po(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=ut(h[p],d[p]);if(g!==0)return g}return ut(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ut(Jt(o.latitude),Jt(u.latitude));return h!==0?h:ut(Jt(o.longitude),Jt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return aT(t.arrayValue,e.arrayValue);case 10:return(function(o,u){var h,d,p,g;const x=o.fields||{},b=u.fields||{},S=(h=x.value)===null||h===void 0?void 0:h.arrayValue,T=(d=b.value)===null||d===void 0?void 0:d.arrayValue,A=ut(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((g=T?.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:aT(S,T)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Uf.mapValue&&u===Uf.mapValue)return 0;if(o===Uf.mapValue)return 1;if(u===Uf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let x=0;x<d.length&&x<g.length;++x){const b=ut(d[x],g[x]);if(b!==0)return b;const S=Ec(h[d[x]],p[g[x]]);if(S!==0)return S}return ut(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve()}}function sT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=ba(t),i=ba(e),s=ut(n.seconds,i.seconds);return s!==0?s:ut(n.nanos,i.nanos)}function aT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=Ec(n[s],i[s]);if(o)return o}return ut(n.length,i.length)}function _c(t){return B0(t)}function B0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ba(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Po(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=B0(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${B0(n.fields[u])}`;return s+"}"})(t.mapValue):Ve()}function oT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function lT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dp(t){return!!t&&"mapValue"in t}function w6(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uc(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Sd(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(n)}setAll(e){let n=Pn.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=Sd(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];dp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Uc(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Li(Sd(this.value))}}function f5(t){const e=[];return Uc(t.fields,((n,i)=>{const s=new Pn([n]);if(dp(i)){const o=f5(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Ji(e)}class Gn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Gn(e,0,Be.min(),Be.min(),Be.min(),Li.empty(),0)}static newFoundDocument(e,n,i,s){return new Gn(e,1,n,Be.min(),i,s,0)}static newNoDocument(e,n){return new Gn(e,2,n,Be.min(),Be.min(),Li.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Be.min(),Be.min(),Li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rp{constructor(e,n){this.position=e,this.inclusive=n}}function uT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=Ie.comparator(Ie.fromName(u.referenceValue),n.key):i=Ec(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function dT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}class Np{constructor(e,n="asc"){this.field=e,this.dir=n}}function E6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class p5{}class dn extends p5{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new C6(e,n,i):n==="array-contains"?new j6(e,i):n==="in"?new R6(e,i):n==="not-in"?new N6(e,i):n==="array-contains-any"?new D6(e,i):new dn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new A6(e,i):new I6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ec(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(Ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends p5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zi(e,n)}matches(e){return m5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m5(t){return t.op==="and"}function g5(t){return _6(t)&&m5(t)}function _6(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function U0(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(g5(t))return t.filters.map((e=>U0(e))).join(",");{const e=t.filters.map((n=>U0(n))).join(",");return`${t.op}(${e})`}}function y5(t,e){return t instanceof dn?(function(i,s){return s instanceof dn&&i.op===s.op&&i.field.isEqual(s.field)&&_r(i.value,s.value)})(t,e):t instanceof Zi?(function(i,s){return s instanceof Zi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&y5(u,s.filters[h])),!0):!1})(t,e):void Ve()}function x5(t){return t instanceof dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`})(t):t instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(x5).join(" ,")+"}"})(t):"Filter"}class C6 extends dn{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class A6 extends dn{constructor(e,n){super(e,"in",n),this.keys=v5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I6 extends dn{constructor(e,n){super(e,"not-in",n),this.keys=v5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function v5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class j6 extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tv(n)&&Fd(n.arrayValue,this.value)}}class R6 extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fd(this.value.arrayValue,n)}}class N6 extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fd(this.value.arrayValue,n)}}class D6 extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Fd(this.value.arrayValue,i)))}}class k6{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.ue=null}}function hT(t,e=null,n=[],i=[],s=null,o=null,u=null){return new k6(t,e,n,i,s,o,u)}function nv(t){const e=ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>U0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>_c(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>_c(i))).join(",")),e.ue=n}return e.ue}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dT(t.startAt,e.startAt)&&dT(t.endAt,e.endAt)}function H0(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class eh{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P6(t,e,n,i,s,o,u,h){return new eh(t,e,n,i,s,o,u,h)}function b5(t){return new eh(t)}function fT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S5(t){return t.collectionGroup!==null}function wd(t){const e=ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new On(Pn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Np(o,i))})),n.has(Pn.keyField().canonicalString())||e.ce.push(new Np(Pn.keyField(),i))}return e.ce}function br(t){const e=ze(t);return e.le||(e.le=O6(e,wd(t))),e.le}function O6(t,e){if(t.limitType==="F")return hT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Np(s.field,o)}));const n=t.endAt?new Rp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Rp(t.startAt.position,t.startAt.inclusive):null;return hT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $0(t,e){const n=t.filters.concat([e]);return new eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G0(t,e,n){return new eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return iv(br(t),br(e))&&t.limitType===e.limitType}function w5(t){return`${nv(br(t))}|lt:${t.limitType}`}function Dl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>x5(s))).join(", ")}]`),am(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>_c(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>_c(s))).join(",")),`Target(${i})`})(br(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ie.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of wd(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,d){const p=uT(u,h,d);return u.inclusive?p<=0:p<0})(i.startAt,wd(i),s)||i.endAt&&!(function(u,h,d){const p=uT(u,h,d);return u.inclusive?p>=0:p>0})(i.endAt,wd(i),s))})(t,e)}function M6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T5(t){return(e,n)=>{let i=!1;for(const s of wd(t)){const o=V6(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function V6(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?Ec(d,p):Ve()})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}class Hc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uc(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return d5(this.inner)}size(){return this.innerSize}}const L6=new Bt(Ie.comparator);function hs(){return L6}const E5=new Bt(Ie.comparator);function pd(...t){let e=E5;for(const n of t)e=e.insert(n.key,n);return e}function _5(t){let e=E5;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function wo(){return Td()}function C5(){return Td()}function Td(){return new Hc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const F6=new Bt(Ie.comparator),B6=new On(Ie.comparator);function it(...t){let e=B6;for(const n of t)e=e.add(n);return e}const z6=new On(ut);function U6(){return z6}function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jp(e)?"-0":e}}function A5(t){return{integerValue:""+t}}function H6(t,e){return v6(e)?A5(e):rv(t,e)}class cm{constructor(){this._=void 0}}function $6(t,e,n){return t instanceof Dp?(function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Zx(o)&&(o=ev(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}})(n,e):t instanceof Bd?j5(t,e):t instanceof zd?R5(t,e):(function(s,o){const u=I5(s,o),h=pT(u)+pT(s.Pe);return z0(u)&&z0(s.Pe)?A5(h):rv(s.serializer,h)})(t,e)}function G6(t,e,n){return t instanceof Bd?j5(t,e):t instanceof zd?R5(t,e):n}function I5(t,e){return t instanceof kp?(function(i){return z0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Dp extends cm{}class Bd extends cm{constructor(e){super(),this.elements=e}}function j5(t,e){const n=N5(e);for(const i of t.elements)n.some((s=>_r(s,i)))||n.push(i);return{arrayValue:{values:n}}}class zd extends cm{constructor(e){super(),this.elements=e}}function R5(t,e){let n=N5(e);for(const i of t.elements)n=n.filter((s=>!_r(s,i)));return{arrayValue:{values:n}}}class kp extends cm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function pT(t){return Jt(t.integerValue||t.doubleValue)}function N5(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q6(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof Bd&&s instanceof Bd||i instanceof zd&&s instanceof zd?Tc(i.elements,s.elements,_r):i instanceof kp&&s instanceof kp?_r(i.Pe,s.Pe):i instanceof Dp&&s instanceof Dp})(t.transform,e.transform)}class W6{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class um{}function D5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P5(t.key,as.none()):new th(t.key,t.data,as.none());{const n=t.data,i=Li.empty();let s=new On(Pn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Lo(t.key,i,new Ji(s.toArray()),as.none())}}function K6(t,e,n){t instanceof th?(function(s,o,u){const h=s.value.clone(),d=gT(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Lo?(function(s,o,u){if(!hp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=gT(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(k5(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Ed(t,e,n,i){return t instanceof th?(function(o,u,h,d){if(!hp(o.precondition,u))return h;const p=o.value.clone(),g=yT(o.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof Lo?(function(o,u,h,d){if(!hp(o.precondition,u))return h;const p=yT(o.fieldTransforms,d,u),g=u.data;return g.setAll(k5(o)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(o,u,h){return hp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function Y6(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=I5(i.transform,s||null);o!=null&&(n===null&&(n=Li.empty()),n.set(i.field,o))}return n||null}function mT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Tc(i,s,((o,u)=>q6(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends um{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lo extends um{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function gT(t,e,n){const i=new Map;yt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,G6(u,h,n[s]))}return i}function yT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,$6(o,u,e))}return i}class P5 extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q6 extends um{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class J6{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&K6(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ed(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ed(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=C5();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const d=D5(u,h);d!==null&&i.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Be.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,((n,i)=>mT(n,i)))&&Tc(this.baseMutations,e.baseMutations,((n,i)=>mT(n,i)))}}class sv{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){yt(e.mutations.length===i.length);let s=(function(){return F6})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new sv(e,n,i,s)}}class X6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z6{constructor(e,n){this.count=e,this.unchangedNames=n}}var ln,st;function eV(t){switch(t){default:return Ve();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function O5(t){if(t===void 0)return ds("GRPC error has no .code"),he.UNKNOWN;switch(t){case ln.OK:return he.OK;case ln.CANCELLED:return he.CANCELLED;case ln.UNKNOWN:return he.UNKNOWN;case ln.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ln.INTERNAL:return he.INTERNAL;case ln.UNAVAILABLE:return he.UNAVAILABLE;case ln.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ln.NOT_FOUND:return he.NOT_FOUND;case ln.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ln.ABORTED:return he.ABORTED;case ln.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ln.DATA_LOSS:return he.DATA_LOSS;default:return Ve()}}(st=ln||(ln={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function tV(){return new TextEncoder}const nV=new _o([4294967295,4294967295],0);function xT(t){const e=tV().encode(t),n=new i5;return n.update(e),new Uint8Array(n.digest())}function vT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _o([n,i],0),new _o([s,o],0)]}class av{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(i<0)throw new md(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new md(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_o.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(_o.fromNumber(i)));return s.compare(nV)===1&&(s=new _o([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xT(e),[i,s]=vT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ee(i,s,o);if(!this.de(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new av(o,s,n);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.Ie===0)return;const n=xT(e),[i,s]=vT(n);for(let o=0;o<this.hashCount;o++){const u=this.Ee(i,s,o);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dm{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new dm(Be.min(),s,new Bt(ut),hs(),it())}}class nh{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new nh(i,n,it(),it(),it())}}class fp{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class M5{constructor(e,n){this.targetId=e,this.me=n}}class V5{constructor(e,n,i=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class bT{constructor(){this.fe=0,this.ge=wT(),this.pe=Mn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=it(),n=it(),i=it();return this.ge.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ve()}})),new nh(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=wT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iV{constructor(e){this.Le=e,this.Be=new Map,this.ke=hs(),this.qe=ST(),this.Qe=new Bt(ut)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ve()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((i,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const o=s.target;if(H0(o))if(i===0){const u=new Ie(o.path);this.Ue(n,u,Gn.newNoDocument(u,Be.min()))}else yt(i===1);else{const u=this.Ye(n);if(u!==i){const h=this.Ze(e),d=h?this.Xe(h,e,u):1;if(d!==0){this.je(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=Po(i).toUint8Array()}catch(d){if(d instanceof h5)return wc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new av(u,s,o)}catch(d){return wc(d instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((o,u)=>{const h=this.Je(u);if(h){if(o.current&&H0(h.target)){const d=new Ie(h.target.path);this.ke.get(d)!==null||this.it(u,d)||this.Ue(u,d,Gn.newNoDocument(d,e))}o.be&&(n.set(u,o.ve()),o.Ce())}}));let i=it();this.qe.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.Je(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.ke.forEach(((o,u)=>u.setReadTime(e)));const s=new dm(e,n,this.Qe,this.ke,i);return this.ke=hs(),this.qe=ST(),this.Qe=new Bt(ut),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new bT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new On(ut),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bT),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ST(){return new Bt(Ie.comparator)}function wT(){return new Bt(Ie.comparator)}const rV={asc:"ASCENDING",desc:"DESCENDING"},sV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aV={and:"AND",or:"OR"};class oV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q0(t,e){return t.useProto3Json||am(e)?e:{value:e}}function Pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return Pp(t,e.toTimestamp())}function Sr(t){return yt(!!t),Be.fromTimestamp((function(n){const i=ba(n);return new yn(i.seconds,i.nanos)})(t))}function ov(t,e){return W0(t,e).canonicalString()}function W0(t,e){const n=(function(s){return new Ot(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F5(t){const e=Ot.fromString(t);return yt($5(e)),e}function K0(t,e){return ov(t.databaseId,e.path)}function qy(t,e){const n=F5(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(z5(n))}function B5(t,e){return ov(t.databaseId,e)}function cV(t){const e=F5(t);return e.length===4?Ot.emptyPath():z5(e)}function Y0(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z5(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TT(t,e,n){return{name:K0(t,e),fields:n.value.mapValue.fields}}function uV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(yt(g===void 0||typeof g=="string"),Mn.fromBase64String(g||"")):(yt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Mn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const g=p.code===void 0?he.UNKNOWN:O5(p.code);return new ve(g,p.message||"")})(u);n=new V5(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=qy(t,i.document.name),o=Sr(i.document.updateTime),u=i.document.createTime?Sr(i.document.createTime):Be.min(),h=new Li({mapValue:{fields:i.document.fields}}),d=Gn.newFoundDocument(s,o,u,h),p=i.targetIds||[],g=i.removedTargetIds||[];n=new fp(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=qy(t,i.document),o=i.readTime?Sr(i.readTime):Be.min(),u=Gn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new fp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=qy(t,i.document),o=i.removedTargetIds||[];n=new fp([],o,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new Z6(s,o),h=i.targetId;n=new M5(h,u)}}return n}function dV(t,e){let n;if(e instanceof th)n={update:TT(t,e.key,e.value)};else if(e instanceof P5)n={delete:K0(t,e.key)};else if(e instanceof Lo)n={update:TT(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof Q6))return Ve();n={verify:K0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Dp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kp)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ve()})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:lV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()})(t,e.precondition)),n}function hV(t,e){return t&&t.length>0?(yt(e!==void 0),t.map((n=>(function(s,o){let u=s.updateTime?Sr(s.updateTime):Sr(o);return u.isEqual(Be.min())&&(u=Sr(o)),new W6(u,s.transformResults||[])})(n,e)))):[]}function fV(t,e){return{documents:[B5(t,e.path)]}}function pV(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=B5(t,s);const o=(function(p){if(p.length!==0)return H5(Zi.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((g=>(function(b){return{field:kl(b.field),direction:yV(b.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=q0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:s}}function mV(t){let e=cV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){yt(i===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(x){const b=U5(x);return b instanceof Zi&&g5(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((b=>(function(T){return new Np(Pl(T.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let b;return b=typeof x=="object"?x.value:x,am(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(x){const b=!!x.before,S=x.values||[];return new Rp(S,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const b=!x.before,S=x.values||[];return new Rp(S,b)})(n.endAt)),P6(e,s,u,o,h,"F",d,p)}function gV(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Pl(n.unaryFilter.field);return dn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(n.unaryFilter.field);return dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pl(n.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pl(n.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}})(t):t.fieldFilter!==void 0?(function(n){return dn.create(Pl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((i=>U5(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}})(n.compositeFilter.op))})(t):Ve()}function yV(t){return rV[t]}function xV(t){return sV[t]}function vV(t){return aV[t]}function kl(t){return{fieldPath:t.canonicalString()}}function Pl(t){return Pn.fromServerFormat(t.fieldPath)}function H5(t){return t instanceof dn?(function(n){if(n.op==="=="){if(cT(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(lT(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cT(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(lT(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:xV(n.op),value:n.value}}})(t):t instanceof Zi?(function(n){const i=n.getFilters().map((s=>H5(s)));return i.length===1?i[0]:{compositeFilter:{op:vV(n.op),filters:i}}})(t):Ve()}function bV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ca{constructor(e,n,i,s,o=Be.min(),u=Be.min(),h=Mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SV{constructor(e){this.ct=e}}function wV(t){const e=mV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G0(e,e.limit,"L"):e}class TV{constructor(){this.un=new EV}addToCollectionParentIndex(e,n){return this.un.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(va.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class EV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new On(Ot.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new On(Ot.comparator)).toArray()}}class Cc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cc(0)}static kn(){return new Cc(-1)}}class _V{constructor(){this.changes=new Hc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AV{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&Ed(i.mutation,s,Ji.empty(),yn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,it()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=it()){const s=wo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let u=pd();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=wo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,it())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,i,s){let o=hs();const u=Td(),h=(function(){return Td()})();return n.forEach(((d,p)=>{const g=i.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Lo)?o=o.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ed(g.mutation,p,g.mutation.getFieldMask(),yn.now())):u.set(p.key,Ji.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,g)=>u.set(p,g))),n.forEach(((p,g)=>{var x;return h.set(p,new CV(g,(x=u.get(p))!==null&&x!==void 0?x:null))})),h)))}recalculateAndSaveOverlays(e,n){const i=Td();let s=new Bt(((u,h)=>u-h)),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=i.get(d)||Ji.empty();g=h.applyToLocalView(p,g),i.set(d,g);const x=(s.get(h.batchId)||it()).add(d);s=s.insert(h.batchId,x)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,x=C5();g.forEach((b=>{if(!o.has(b)){const S=D5(n.get(b),i.get(b));S!==null&&x.set(b,S),o=o.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return fe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):fe.resolve(wo());let h=-1,d=o;return u.next((p=>fe.forEach(p,((g,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{d=d.insert(g,b)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,it()))).next((g=>({batchId:h,changes:_5(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((i=>{let s=pd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=pd();return this.indexManager.getCollectionParents(e,o).next((h=>fe.forEach(h,(d=>{const p=(function(x,b){return new eh(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next((g=>{g.forEach(((x,b)=>{u=u.insert(x,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((u=>{o.forEach(((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Gn.newInvalidDocument(g)))}));let h=pd();return u.forEach(((d,p)=>{const g=o.get(d);g!==void 0&&Ed(g.mutation,p,Ji.empty(),yn.now()),lm(n,p)&&(h=h.insert(d,p))})),h}))}}class IV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return fe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Sr(s.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:wV(s.bundledQuery),readTime:Sr(s.readTime)}})(n)),fe.resolve()}}class jV{constructor(){this.overlays=new Bt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=wo();return fe.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.ht(e,n,o)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const s=wo(),o=n.length+1,u=new Ie(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Bt(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let g=o.get(p.largestBatchId);g===null&&(g=wo(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=wo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=s)););return fe.resolve(h)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new X6(n,i));let o=this.Ir.get(n);o===void 0&&(o=it(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}class RV{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class lv{constructor(){this.Tr=new On(En.Er),this.dr=new On(En.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new En(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Vr(new En(e,n))}mr(e,n){e.forEach((i=>this.removeReference(i,n)))}gr(e){const n=new Ie(new Ot([])),i=new En(n,e),s=new En(n,e+1),o=[];return this.dr.forEachInRange([i,s],(u=>{this.Vr(u),o.push(u.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new Ot([])),i=new En(n,e),s=new En(n,e+1);let o=it();return this.dr.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new En(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class En{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ut(e.wr,n.wr)}static Ar(e,n){return ut(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}class NV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new On(En.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new J6(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.br=this.br.add(new En(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new En(n,0),s=new En(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,s],(u=>{const h=this.Dr(u.wr);o.push(h)})),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(ut);return n.forEach((s=>{const o=new En(s,0),u=new En(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,u],(h=>{i=i.add(h.wr)}))})),fe.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ie.isDocumentKey(o)||(o=o.child(""));const u=new En(new Ie(o),0);let h=new On(ut);return this.br.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.wr)),!0)}),u),fe.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((i=>{const s=this.Dr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){yt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return fe.forEach(n.mutations,(s=>{const o=new En(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,n){const i=new En(n,0),s=this.br.firstAfterOrEqual(i);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DV{constructor(e){this.Mr=e,this.docs=(function(){return new Bt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let i=hs();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Gn.newInvalidDocument(s))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=hs();const u=n.path,h=new Ie(u.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||m6(p6(g),i)<=0||(s.has(g.key)||lm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Ve()}Or(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new kV(this)}getSize(e){return fe.resolve(this.size)}}class kV extends _V{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class PV{constructor(e){this.persistence=e,this.Nr=new Hc((n=>nv(n)),iv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lv,this.targetCount=0,this.kr=Cc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((i,s)=>n(s))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Kn(n),fe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Nr.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),fe.waitFor(o).next((()=>s))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.Br.containsKey(n))}}class OV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Xx(0),this.Kr=!1,this.Kr=!0,this.$r=new RV,this.referenceDelegate=e(this),this.Ur=new PV(this),this.indexManager=new TV,this.remoteDocumentCache=(function(s){return new DV(s)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new SV(n),this.Gr=new IV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new NV(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const s=new MV(this.Qr.next());return this.referenceDelegate.zr(),i(s).next((o=>this.referenceDelegate.jr(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Hr(e,n){return fe.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,n))))}}class MV extends y6{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Jr=new lv,this.Yr=null}static Zr(e){return new cv(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.Xr.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,(i=>{const s=Ie.fromPath(i);return this.ei(e,s).next((o=>{o||n.removeEntry(s,Be.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return fe.or([()=>fe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class uv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=it(),s=it();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new uv(e,n.fromCache,i,s)}}class VV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return W3()?8:x6(G3())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.Yi(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.Zi(e,n,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new VV;return this.Xi(e,n,u).next((h=>{if(o.result=h,this.zi)return this.es(e,n,u,h.size)}))})).next((()=>o.result))}es(e,n,i,s){return i.documentReadCount<this.ji?(Zu()<=at.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(Zu()<=at.DEBUG&&be("QueryEngine","Query:",Dl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(Zu()<=at.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):fe.resolve())}Yi(e,n){if(fT(n))return fe.resolve(null);let i=br(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=G0(n,null,"F"),i=br(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=it(...o);return this.Ji.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.ts(n,h);return this.ns(n,p,u,d.readTime)?this.Yi(e,G0(n,null,"F")):this.rs(e,p,n,d)}))))})))))}Zi(e,n,i,s){return fT(n)||s.isEqual(Be.min())?fe.resolve(null):this.Ji.getDocuments(e,i).next((o=>{const u=this.ts(n,o);return this.ns(n,u,i,s)?fe.resolve(null):(Zu()<=at.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dl(n)),this.rs(e,u,n,f6(s,-1)).next((h=>h)))}))}ts(e,n){let i=new On(T5(e));return n.forEach(((s,o)=>{lm(e,o)&&(i=i.add(o))})),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,i){return Zu()<=at.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Dl(n)),this.Ji.getDocumentsMatchingQuery(e,n,va.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}class FV{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Bt(ut),this._s=new Hc((o=>nv(o)),iv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function BV(t,e,n,i){return new FV(t,e,n,i)}async function G5(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=it();for(const p of s){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((p=>({hs:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function zV(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,g){const x=p.batch,b=x.keys();let S=fe.resolve();return b.forEach((T=>{S=S.next((()=>g.getEntry(d,T))).next((A=>{const _=p.docVersions.get(T);yt(_!==null),A.version.compareTo(_)<0&&(x.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,x)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=it();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function q5(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function UV(t,e){const n=ze(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const h=[];e.targetChanges.forEach(((g,x)=>{const b=s.get(x);if(!b)return;h.push(n.Ur.removeMatchingKeys(o,g.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(o,g.addedDocuments,x))));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(Mn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),s=s.insert(x,S),(function(A,_,M){return A.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(b,S,g)&&h.push(n.Ur.updateTargetData(o,S))}));let d=hs(),p=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(HV(o,u,e.documentUpdates).next((g=>{d=g.Ps,p=g.Is}))),!i.isEqual(Be.min())){const g=n.Ur.getLastRemoteSnapshotVersion(o).next((x=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return fe.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.os=s,o)))}function HV(t,e,n){let i=it(),s=it();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let u=hs();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Ps:u,Is:s}}))}function $V(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function GV(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Ur.getTargetData(i,e).next((o=>o?(s=o,fe.resolve(s)):n.Ur.allocateTargetId(i).next((u=>(s=new ca(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i}))}async function Q0(t,e,n){const i=ze(t),s=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Zd(u))throw u;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function ET(t,e,n){const i=ze(t);let s=Be.min(),o=it();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,g){const x=ze(d),b=x._s.get(g);return b!==void 0?fe.resolve(x.os.get(b)):x.Ur.getTargetData(p,g)})(i,u,br(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.ss.getDocumentsMatchingQuery(u,e,n?s:Be.min(),n?o:it()))).next((h=>(qV(i,M6(e),h),{documents:h,Ts:o})))))}function qV(t,e,n){let i=t.us.get(e)||Be.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.us.set(e,i)}class _T{constructor(){this.activeTargetIds=U6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WV{constructor(){this.so=new _T,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _T,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KV{_o(e){}shutdown(){}}class CT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hf=null;function Wy(){return Hf===null?Hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hf++,"0x"+Hf.toString(16)}const YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const zn="WebChannelConnection";class JV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,i,s,o,u){const h=Wy(),d=this.xo(n,i.toUriEncodedString());be("RestConnection",`Sending RPC '${n}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,o,u),this.No(n,d,p,s).then((g=>(be("RestConnection",`Received RPC '${n}' ${h}: `,g),g)),(g=>{throw wc("RestConnection",`RPC '${n}' ${h} failed with error: `,g,"url: ",d,"request:",s),g}))}Lo(n,i,s,o,u,h){return this.Mo(n,i,s,o,u)}Oo(n,i,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zc})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>n[u]=o)),s&&s.headers.forEach(((o,u)=>n[u]=o))}xo(n,i){const s=YV[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const o=Wy();return new Promise(((u,h)=>{const d=new r5;d.setWithCredentials(!0),d.listenOnce(s5.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case up.NO_ERROR:const g=d.getResponseJson();be(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case up.TIMEOUT:be(zn,`RPC '${e}' ${o} timed out`),h(new ve(he.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const x=d.getStatus();if(be(zn,`RPC '${e}' ${o} failed with status:`,x,"response text:",d.getResponseText()),x>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b?.error;if(S&&S.status&&S.message){const T=(function(_){const M=_.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(M)>=0?M:he.UNKNOWN})(S.status);h(new ve(T,S.message))}else h(new ve(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ve(he.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{be(zn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(s);be(zn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",p,i,15)}))}Bo(e,n,i){const s=Wy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=l5(),h=o5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=o.join("");be(zn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const x=u.createWebChannel(g,d);let b=!1,S=!1;const T=new QV({Io:_=>{S?be(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(b||(be(zn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),b=!0),be(zn,`RPC '${e}' stream ${s} sending:`,_),x.send(_))},To:()=>x.close()}),A=(_,M,D)=>{_.listen(M,(V=>{try{D(V)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(x,fd.EventType.OPEN,(()=>{S||(be(zn,`RPC '${e}' stream ${s} transport opened.`),T.yo())})),A(x,fd.EventType.CLOSE,(()=>{S||(S=!0,be(zn,`RPC '${e}' stream ${s} transport closed`),T.So())})),A(x,fd.EventType.ERROR,(_=>{S||(S=!0,wc(zn,`RPC '${e}' stream ${s} transport errored:`,_),T.So(new ve(he.UNAVAILABLE,"The operation could not be completed")))})),A(x,fd.EventType.MESSAGE,(_=>{var M;if(!S){const D=_.data[0];yt(!!D);const V=D,$=V.error||((M=V[0])===null||M===void 0?void 0:M.error);if($){be(zn,`RPC '${e}' stream ${s} received error:`,$);const Q=$.status;let re=(function(k){const L=ln[k];if(L!==void 0)return O5(L)})(Q),R=$.message;re===void 0&&(re=he.INTERNAL,R="Unknown error status: "+Q+" with message "+$.message),S=!0,T.So(new ve(re,R)),x.close()}else be(zn,`RPC '${e}' stream ${s} received:`,D),T.bo(D)}})),A(h,a5.STAT_EVENT,(_=>{_.stat===F0.PROXY?be(zn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===F0.NOPROXY&&be(zn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function Ky(){return typeof document<"u"?document:null}function hm(t){return new oV(t,!0)}class W5{constructor(e,n,i=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class K5{constructor(e,n,i,s,o,u,h,d){this.ui=e,this.Ho=i,this.Jo=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new W5(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.Yo===n&&this.P_(i,s)}),(i=>{e((()=>{const s=new ve(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)}))}))}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{i((()=>this.I_(s)))})),this.stream.onMessage((s=>{i((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XV extends K5{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=uV(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Be.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Sr(u.readTime):Be.min()})(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Y0(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=H0(d)?{documents:fV(o,d)}:{query:pV(o,d)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=L5(o,u.resumeToken);const p=q0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=Pp(o,u.snapshotVersion.toTimestamp());const p=q0(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=gV(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Y0(this.serializer),n.removeTarget=e,this.a_(n)}}class ZV extends K5{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hV(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Y0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>dV(this.serializer,i)))};this.a_(n)}}class eL extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Mo(e,W0(n,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(he.UNKNOWN,o.toString())}))}Lo(e,n,i,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Lo(e,W0(n,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(he.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class tL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ds(n),this.D_=!1):be("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class nL{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((u=>{i.enqueueAndForget((async()=>{Fo(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const p=ze(d);p.L_.add(4),await ih(p),p.q_.set("Unknown"),p.L_.delete(4),await fm(p)})(this))}))})),this.q_=new tL(i,s)}}async function fm(t){if(Fo(t))for(const e of t.B_)await e(!0)}async function ih(t){for(const e of t.B_)await e(!1)}function Y5(t,e){const n=ze(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pv(n)?fv(n):$c(n).r_()&&hv(n,e))}function dv(t,e){const n=ze(t),i=$c(n);n.N_.delete(e),i.r_()&&Q5(n,e),n.N_.size===0&&(i.r_()?i.o_():Fo(n)&&n.q_.set("Unknown"))}function hv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).A_(e)}function Q5(t,e){t.Q_.xe(e),$c(t).R_(e)}function fv(t){t.Q_=new iV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.q_.v_()}function pv(t){return Fo(t)&&!$c(t).n_()&&t.N_.size>0}function Fo(t){return ze(t).L_.size===0}function J5(t){t.Q_=void 0}async function iL(t){t.q_.set("Online")}async function rL(t){t.N_.forEach(((e,n)=>{hv(t,e)}))}async function sL(t,e){J5(t),pv(t)?(t.q_.M_(e),fv(t)):t.q_.set("Unknown")}async function aL(t,e,n){if(t.q_.set("Online"),e instanceof V5&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.N_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.N_.delete(h),s.Q_.removeTarget(h))})(t,e)}catch(i){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Op(t,i)}else if(e instanceof fp?t.Q_.Ke(e):e instanceof M5?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const i=await q5(t.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.Q_.rt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.N_.get(p);g&&o.N_.set(p,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const g=o.N_.get(d);if(!g)return;o.N_.set(d,g.withResumeToken(Mn.EMPTY_BYTE_STRING,g.snapshotVersion)),Q5(o,d);const x=new ca(g.target,d,p,g.sequenceNumber);hv(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){be("RemoteStore","Failed to raise snapshot:",i),await Op(t,i)}}async function Op(t,e,n){if(!Zd(e))throw e;t.L_.add(1),await ih(t),t.q_.set("Offline"),n||(n=()=>q5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await fm(t)}))}function X5(t,e){return e().catch((n=>Op(t,n,e)))}async function pm(t){const e=ze(t),n=Sa(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oL(e);)try{const s=await $V(e.localStore,i);if(s===null){e.O_.length===0&&n.o_();break}i=s.batchId,lL(e,s)}catch(s){await Op(e,s)}Z5(e)&&eA(e)}function oL(t){return Fo(t)&&t.O_.length<10}function lL(t,e){t.O_.push(e);const n=Sa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Z5(t){return Fo(t)&&!Sa(t).n_()&&t.O_.length>0}function eA(t){Sa(t).start()}async function cL(t){Sa(t).p_()}async function uL(t){const e=Sa(t);for(const n of t.O_)e.m_(n.mutations)}async function dL(t,e,n){const i=t.O_.shift(),s=sv.from(i,e,n);await X5(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await pm(t)}async function hL(t,e){e&&Sa(t).V_&&await(async function(i,s){if((function(u){return eV(u)&&u!==he.ABORTED})(s.code)){const o=i.O_.shift();Sa(i).s_(),await X5(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await pm(i)}})(t,e),Z5(t)&&eA(t)}async function AT(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const i=Fo(n);n.L_.add(3),await ih(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await fm(n)}async function fL(t,e){const n=ze(t);e?(n.L_.delete(2),await fm(n)):e||(n.L_.add(2),await ih(n),n.q_.set("Unknown"))}function $c(t){return t.K_||(t.K_=(function(n,i,s){const o=ze(n);return o.w_(),new XV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Eo:iL.bind(null,t),Ro:rL.bind(null,t),mo:sL.bind(null,t),d_:aL.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),pv(t)?fv(t):t.q_.set("Unknown")):(await t.K_.stop(),J5(t))}))),t.K_}function Sa(t){return t.U_||(t.U_=(function(n,i,s){const o=ze(n);return o.w_(),new ZV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cL.bind(null,t),mo:hL.bind(null,t),f_:uL.bind(null,t),g_:dL.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await pm(t)):(await t.U_.stop(),t.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class mv{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new mv(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(t,e){if(ds("AsyncQueue",`${e}: ${t}`),Zd(t))return new ve(he.UNAVAILABLE,`${e}: ${t}`);throw t}class mc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=pd(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new mc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new mc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class IT{constructor(){this.W_=new Bt(Ie.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ac{constructor(e,n,i,s,o,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ac(e,n,mc.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}class pL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class mL{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=ze(n),o=s.queries;s.queries=jT(),o.forEach(((u,h)=>{for(const d of h.j_)d.onError(i)}))})(this,new ve(he.ABORTED,"Firestore shutting down"))}}function jT(){return new Hc((t=>w5(t)),om)}async function gL(t,e){const n=ze(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(i=2):(o=new pL,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=gv(u,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&yv(n)}async function yL(t,e){const n=ze(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.j_.indexOf(e);u>=0&&(o.j_.splice(u,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xL(t,e){const n=ze(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.j_)h.X_(s)&&(i=!0);u.z_=s}}i&&yv(n)}function vL(t,e,n){const i=ze(t),s=i.queries.get(e);if(s)for(const o of s.j_)o.onError(n);i.queries.delete(e)}function yv(t){t.Y_.forEach((e=>{e.next()}))}var J0,RT;(RT=J0||(J0={})).ea="default",RT.Cache="cache";class bL{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ac(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J0.Cache}}class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class SL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=T5(e),this.Ra=new mc(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new IT,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,x)=>{const b=s.get(g),S=lm(this.query,x)?x:null,T=!!b&&this.mutatedKeys.has(b.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let _=!1;b&&S?b.data.isEqual(S.data)?T!==A&&(i.track({type:3,doc:S}),_=!0):this.ga(b,S)||(i.track({type:2,doc:S}),_=!0,(d&&this.Aa(S,d)>0||p&&this.Aa(S,p)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),_=!0):b&&!S&&(i.track({type:1,doc:b}),_=!0,(d||p)&&(h=!0)),_&&(S?(u=u.add(S),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{Ra:u,fa:i,ns:h,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((g,x)=>(function(S,T){const A=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return A(S)-A(T)})(g.type,x.type)||this.Aa(g.doc,x.doc))),this.pa(i),s=s!=null&&s;const h=n&&!s?this.ya():[],d=this.da.size===0&&this.current&&!s?1:0,p=d!==this.Ea;return this.Ea=d,u.length!==0||p?{snapshot:new Ac(this.query,e.Ra,o,u,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new IT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=it(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const n=[];return e.forEach((i=>{this.da.has(i)||n.push(new nA(i))})),this.da.forEach((i=>{e.has(i)||n.push(new tA(i))})),n}ba(e){this.Ta=e.Ts,this.da=it();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class TL{constructor(e){this.key=e,this.va=!1}}class EL{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Hc((h=>w5(h)),om),this.Ma=new Map,this.xa=new Set,this.Oa=new Bt(Ie.comparator),this.Na=new Map,this.La=new lv,this.Ba={},this.ka=new Map,this.qa=Cc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _L(t,e,n=!0){const i=lA(t);let s;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await iA(i,e,n,!0),s}async function CL(t,e){const n=lA(t);await iA(n,e,!0,!1)}async function iA(t,e,n,i){const s=await GV(t.localStore,br(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await AL(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&Y5(t.remoteStore,s),h}async function AL(t,e,n,i,s){t.Ka=(x,b,S)=>(async function(A,_,M,D){let V=_.view.ma(M);V.ns&&(V=await ET(A.localStore,_.query,!1).then((({documents:R})=>_.view.ma(R,V))));const $=D&&D.targetChanges.get(_.targetId),Q=D&&D.targetMismatches.get(_.targetId)!=null,re=_.view.applyChanges(V,A.isPrimaryClient,$,Q);return DT(A,_.targetId,re.wa),re.snapshot})(t,x,b,S);const o=await ET(t.localStore,e,!0),u=new SL(e,o.Ts),h=u.ma(o.documents),d=nh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),p=u.applyChanges(h,t.isPrimaryClient,d);DT(t,n,p.wa);const g=new wL(e,n,u);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function IL(t,e,n){const i=ze(t),s=i.Fa.get(e),o=i.Ma.get(s.targetId);if(o.length>1)return i.Ma.set(s.targetId,o.filter((u=>!om(u,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Q0(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&dv(i.remoteStore,s.targetId),X0(i,s.targetId)})).catch(Xd)):(X0(i,s.targetId),await Q0(i.localStore,s.targetId,!0))}async function jL(t,e){const n=ze(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dv(n.remoteStore,i.targetId))}async function RL(t,e,n){const i=VL(t);try{const s=await(function(u,h){const d=ze(u),p=yn.now(),g=h.reduce(((S,T)=>S.add(T.key)),it());let x,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let T=hs(),A=it();return d.cs.getEntries(S,g).next((_=>{T=_,T.forEach(((M,D)=>{D.isValidDocument()||(A=A.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,T))).next((_=>{x=_;const M=[];for(const D of h){const V=Y6(D,x.get(D.key).overlayedDocument);V!=null&&M.push(new Lo(D.key,V,f5(V.value.mapValue),as.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,M,h)})).next((_=>{b=_;const M=_.applyToLocalDocumentSet(x,A);return d.documentOverlayCache.saveOverlays(S,_.batchId,M)}))})).then((()=>({batchId:b.batchId,changes:_5(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let p=u.Ba[u.currentUser.toKey()];p||(p=new Bt(ut)),p=p.insert(h,d),u.Ba[u.currentUser.toKey()]=p})(i,s.batchId,n),await rh(i,s.changes),await pm(i.remoteStore)}catch(s){const o=gv(s,"Failed to persist write");n.reject(o)}}async function rA(t,e){const n=ze(t);try{const i=await UV(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=n.Na.get(o);u&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?yt(u.va):s.removedDocuments.size>0&&(yt(u.va),u.va=!1))})),await rh(n,i,e)}catch(i){await Xd(i)}}function NT(t,e,n){const i=ze(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach(((o,u)=>{const h=u.view.Z_(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=ze(u);d.onlineState=h;let p=!1;d.queries.forEach(((g,x)=>{for(const b of x.j_)b.Z_(h)&&(p=!0)})),p&&yv(d)})(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function NL(t,e,n){const i=ze(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),o=s&&s.key;if(o){let u=new Bt(Ie.comparator);u=u.insert(o,Gn.newNoDocument(o,Be.min()));const h=it().add(o),d=new dm(Be.min(),new Map,new Bt(ut),u,h);await rA(i,d),i.Oa=i.Oa.remove(o),i.Na.delete(e),xv(i)}else await Q0(i.localStore,e,!1).then((()=>X0(i,e,n))).catch(Xd)}async function DL(t,e){const n=ze(t),i=e.batch.batchId;try{const s=await zV(n.localStore,e);aA(n,i,null),sA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await rh(n,s)}catch(s){await Xd(s)}}async function kL(t,e,n){const i=ze(t);try{const s=await(function(u,h){const d=ze(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next((x=>(yt(x!==null),g=x.keys(),d.mutationQueue.removeMutationBatch(p,x)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(i.localStore,e);aA(i,e,n),sA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await rh(i,s)}catch(s){await Xd(s)}}function sA(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function aA(t,e,n){const i=ze(t);let s=i.Ba[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function X0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((i=>{t.La.containsKey(i)||oA(t,i)}))}function oA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(dv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),xv(t))}function DT(t,e,n){for(const i of n)i instanceof tA?(t.La.addReference(i.key,e),PL(t,i)):i instanceof nA?(be("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||oA(t,i.key)):Ve()}function PL(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(be("SyncEngine","New document in limbo: "+n),t.xa.add(i),xv(t))}function xv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(Ot.fromString(e)),i=t.qa.next();t.Na.set(i,new TL(n)),t.Oa=t.Oa.insert(n,i),Y5(t.remoteStore,new ca(br(b5(n.path)),i,"TargetPurposeLimboResolution",Xx.oe))}}async function rh(t,e,n){const i=ze(t),s=[],o=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,d)=>{u.push(i.Ka(d,e,n).then((p=>{var g;if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:(g=n?.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(p){s.push(p);const x=uv.Wi(d.targetId,p);o.push(x)}})))})),await Promise.all(u),i.Ca.d_(s),await(async function(d,p){const g=ze(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>fe.forEach(p,(b=>fe.forEach(b.$i,(S=>g.persistence.referenceDelegate.addReference(x,b.targetId,S))).next((()=>fe.forEach(b.Ui,(S=>g.persistence.referenceDelegate.removeReference(x,b.targetId,S)))))))))}catch(x){if(!Zd(x))throw x;be("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const b=x.targetId;if(!x.fromCache){const S=g.os.get(b),T=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(T);g.os=g.os.insert(b,A)}}})(i.localStore,o))}async function OL(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const i=await G5(n.localStore,e);n.currentUser=e,(function(o,u){o.ka.forEach((h=>{h.forEach((d=>{d.reject(new ve(he.CANCELLED,u))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rh(n,i.hs)}}function ML(t,e){const n=ze(t),i=n.Na.get(e);if(i&&i.va)return it().add(i.key);{let s=it();const o=n.Ma.get(e);if(!o)return s;for(const u of o){const h=n.Fa.get(u);s=s.unionWith(h.view.Va)}return s}}function lA(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ML.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NL.bind(null,e),e.Ca.d_=xL.bind(null,e.eventManager),e.Ca.$a=vL.bind(null,e.eventManager),e}function VL(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kL.bind(null,e),e}class Mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BV(this.persistence,new LV,e.initialUser,this.serializer)}Ga(e){return new OV(cv.Zr,this.serializer)}Wa(e){return new WV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mp.provider={build:()=>new Mp};class Z0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OL.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mL})()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),i=(function(o){return new JV(o)})(e.databaseInfo);return(function(o,u,h,d){return new eL(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,u,h){return new nL(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return CT.D()?new CT:new KV})())}createSyncEngine(e,n){return(function(s,o,u,h,d,p,g){const x=new EL(s,o,u,h,d,p);return g&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const o=ze(s);be("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ih(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Z0.provider={build:()=>new Z0};class LL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class FL{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=u5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{be("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=gv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Yy(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await G5(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function kT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BL(t);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>AT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>AT(e.remoteStore,s))),t._onlineComponents=e}async function BL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;wc("Error using user provided cache. Falling back to memory cache: "+n),await Yy(t,new Mp)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Yy(t,new Mp);return t._offlineComponents}async function cA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await kT(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await kT(t,new Z0))),t._onlineComponents}function zL(t){return cA(t).then((e=>e.syncEngine))}async function UL(t){const e=await cA(t),n=e.eventManager;return n.onListen=_L.bind(null,e.syncEngine),n.onUnlisten=IL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jL.bind(null,e.syncEngine),n}function HL(t,e,n={}){const i=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const g=new LL({next:b=>{g.Za(),u.enqueueAndForget((()=>yL(o,x))),b.fromCache&&d.source==="server"?p.reject(new ve(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),x=new bL(h,g,{includeMetadataChanges:!0,_a:!0});return gL(o,x)})(await UL(t),t.asyncQueue,e,n,i))),i.promise}function uA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const PT=new Map;function dA(t,e,n){if(!n)throw new ve(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $L(t,e,n,i){if(e===!0&&i===!0)throw new ve(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OT(t){if(!Ie.isDocumentKey(t))throw new ve(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MT(t){if(Ie.isDocumentKey(t))throw new ve(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Ud(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new ve(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class VT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new r6;switch(i.type){case"firstParty":return new l6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=PT.get(n);i&&(be("ComponentProvider","Removing Datastore"),PT.delete(n),i.terminate())})(this),Promise.resolve()}}function GL(t,e,n,i={}){var s;const o=(t=Ud(t,gm))._getSettings(),u=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=$n.MOCK_USER;else{h=$3(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new ve(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $n(p)}t._authCredentials=new s6(new c5(h,d))}}class Gc{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gc(this.firestore,e,this._query)}}class vi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class ga extends Gc{constructor(e,n,i){super(e,n,b5(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Ie(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function qL(t,e,...n){if(t=Sc(t),dA("collection","path",e),t instanceof gm){const i=Ot.fromString(e,...n);return MT(i),new ga(t,null,i)}{if(!(t instanceof vi||t instanceof ga))throw new ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ot.fromString(e,...n));return MT(i),new ga(t.firestore,null,i)}}function WL(t,e,...n){if(t=Sc(t),arguments.length===1&&(e=u5.newId()),dA("doc","path",e),t instanceof gm){const i=Ot.fromString(e,...n);return OT(i),new vi(t,null,new Ie(i))}{if(!(t instanceof vi||t instanceof ga))throw new ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ot.fromString(e,...n));return OT(i),new vi(t.firestore,t instanceof ga?t.converter:null,new Ie(i))}}class LT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new W5(this,"async_queue_retry"),this.Vu=()=>{const i=Ky();i&&be("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ma;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zd(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const s=(function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h})(i);throw ds("INTERNAL UNHANDLED ERROR: ",s),i})).then((i=>(this.du=!1,i))))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=mv.createAndSchedule(this,e,n,i,(o=>this.yu(o)));return this.Tu.push(s),s}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class vv extends gm{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new LT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function KL(t,e){const n=typeof t=="object"?t:CC(),i=typeof t=="string"?t:"(default)",s=zx(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=H3("firestore");o&&GL(s,...o)}return s}function hA(t){if(t._terminated)throw new ve(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YL(t),t._firestoreClient}function YL(t){var e,n,i;const s=t._freezeSettings(),o=(function(h,d,p,g){return new S6(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,uA(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new FL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}})(t._componentsProvider))}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Mn.fromBase64String(e))}catch(n){throw new ve(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fA{constructor(e){this._methodName=e}}class Sv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}class wv{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}}const QL=/^__.*__$/;class JL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}function pA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Tv{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pA(this.Cu)&&QL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||hm(e)}Qu(e,n,i,s=!1){return new Tv({Cu:e,methodName:n,qu:i,path:Pn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mA(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new XL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZL(t,e,n,i,s,o={}){const u=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);xA("Data must be an object, but it was:",u,i);const h=gA(i,u);let d,p;if(o.merge)d=new Ji(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const x of o.mergeFields){const b=tF(e,x,n);if(!u.contains(b))throw new ve(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);iF(g,b)||g.push(b)}d=new Ji(g),p=u.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,p=u.fieldTransforms;return new JL(new Li(h),d,p)}function eF(t,e,n,i=!1){return Ev(n,t.Qu(i?4:3,e))}function Ev(t,e){if(yA(t=Sc(t)))return xA("Unsupported field value:",e,t),gA(t,e);if(t instanceof fA)return(function(i,s){if(!pA(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let d=Ev(h,s.Lu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=Sc(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=yn.fromDate(i);return{timestampValue:Pp(s.serializer,o)}}if(i instanceof yn){const o=new yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pp(s.serializer,o)}}if(i instanceof Sv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ic)return{bytesValue:L5(s.serializer,i._byteString)};if(i instanceof vi){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ov(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof wv)return(function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Bu("VectorValues must only contain numeric values.");return rv(h.serializer,d)}))}}}}}})(i,s);throw s.Bu(`Unsupported field value: ${mm(i)}`)})(t,e)}function gA(t,e){const n={};return d5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uc(t,((i,s)=>{const o=Ev(s,e.Mu(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof Sv||t instanceof Ic||t instanceof vi||t instanceof fA||t instanceof wv)}function xA(t,e,n){if(!yA(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const i=mm(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function tF(t,e,n){if((e=Sc(e))instanceof bv)return e._internalPath;if(typeof e=="string")return vA(t,e);throw Vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const nF=new RegExp("[~\\*/\\[\\]]");function vA(t,e,n){if(e.search(nF)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bv(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vp(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new ve(he.INVALID_ARGUMENT,h+t+d)}function iF(t,e){return t.some((n=>n.isEqual(e)))}class bA{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rF extends bA{data(){return super.data()}}function _v(t,e){return typeof e=="string"?vA(t,e):e instanceof bv?e._internalPath:e._delegate._internalPath}function sF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class aF extends Cv{}function oF(t,e,...n){let i=[];e instanceof Cv&&i.push(e),i=i.concat(n),(function(o){const u=o.filter((d=>d instanceof Av)).length,h=o.filter((d=>d instanceof ym)).length;if(u>1||u>0&&h>0)throw new ve(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)t=s._apply(t);return t}class ym extends aF{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ym(e,n,i)}_apply(e){const n=this._parse(e);return SA(e._query,n),new Gc(e.firestore,e.converter,$0(e._query,n))}_parse(e){const n=mA(e.firestore);return(function(o,u,h,d,p,g,x){let b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){BT(x,g);const S=[];for(const T of x)S.push(FT(d,o,T));b={arrayValue:{values:S}}}else b=FT(d,o,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||BT(x,g),b=eF(h,u,x,g==="in"||g==="not-in");return dn.create(p,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lF(t,e,n){const i=e,s=_v("where",t);return ym._create(s,i,n)}class Av extends Cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Av(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)SA(u,d),u=$0(u,d)})(e._query,n),new Gc(e.firestore,e.converter,$0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FT(t,e,n){if(typeof(n=Sc(n))=="string"){if(n==="")throw new ve(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S5(e)&&n.indexOf("/")!==-1)throw new ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ot.fromString(n));if(!Ie.isDocumentKey(i))throw new ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oT(t,new Ie(i))}if(n instanceof vi)return oT(t,n._key);throw new ve(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SA(t,e){const n=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cF{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Uc(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){var n,i,s;const o=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map((u=>Jt(u.doubleValue)));return new wv(o)}convertGeoPoint(e){return new Sv(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ev(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const n=ba(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ot.fromString(e);yt($5(i));const s=new Ld(i.get(1),i.get(3)),o=new Ie(i.popFirst(5));return s.isEqual(n)||ds(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function uF(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class $f{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dF extends bA{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_v("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class pp extends dF{data(e={}){return super.data(e)}}class hF{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $f(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new pp(this._firestore,this._userDataWriter,i.key,i,new $f(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new pp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $f(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new pp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new $f(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:fF(h.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class pF extends cF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function mF(t){t=Ud(t,Gc);const e=Ud(t.firestore,vv),n=hA(e),i=new pF(e);return sF(t._query),HL(n,t._query).then((s=>new hF(e,i,t,s)))}function gF(t,e,n){t=Ud(t,vi);const i=Ud(t.firestore,vv),s=uF(t.converter,e,n);return yF(i,[ZL(mA(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,as.none())])}function yF(t,e){return(function(i,s){const o=new ma;return i.asyncQueue.enqueueAndForget((async()=>RL(await zL(i),s,o))),o.promise})(hA(t),e)}(function(e,n=!0){(function(s){zc=s})(nm),jo(new X3("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new vv(new a6(i.getProvider("auth-internal")),new u6(i.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(p.options.projectId,g)})(u,s),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),vr(nT,"4.7.3",e),vr(nT,"4.7.3","esm2017")})();var zT={};const xF=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vF=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},bF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,x=(o&3)<<4|h>>4;let b=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),i.push(n[g],n[x],n[b],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||p==null||x==null)throw new SF;const b=o<<2|h>>4;if(i.push(b),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const T=p<<6&192|x;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wF=function(t){try{return bF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EF=()=>TF().__FIREBASE_DEFAULTS__,_F=()=>{if(typeof process>"u"||typeof zT>"u")return;const t=zT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wF(t[1]);return e&&JSON.parse(e)},AF=()=>{try{return EF()||_F()||CF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IF=t=>{var e,n;return(n=(e=AF())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jF=t=>{const e=IF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};const RF="FirebaseError";class xm extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=RF,Object.setPrototypeOf(this,xm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NF.prototype.create)}}class NF{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?DF(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new xm(s,h,i)}}function DF(t,e){return t.replace(kF,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const kF=/\{\$([^}]+)}/g;function Iv(t){return t&&t._delegate?t._delegate:t}class PF{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const OF="type.googleapis.com/google.protobuf.Int64Value",MF="type.googleapis.com/google.protobuf.UInt64Value";function wA(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function ex(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>ex(e));if(typeof t=="function"||typeof t=="object")return wA(t,e=>ex(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Lp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case OF:case MF:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Lp(e)):typeof t=="function"||typeof t=="object"?wA(t,e=>Lp(e)):t}const jv="functions";const UT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gc extends xm{constructor(e,n,i){super(`${jv}/${e}`,n||""),this.details=i}}function VF(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function LF(t,e){let n=VF(t),i=n,s;try{const o=e&&e.error;if(o){const u=o.status;if(typeof u=="string"){if(!UT[u])return new gc("internal","internal");n=UT[u],i=u}const h=o.message;typeof h=="string"&&(i=h),s=o.details,s!==void 0&&(s=Lp(s))}}catch{}return n==="ok"?null:new gc(n,i,s)}class FF{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}const tx="us-central1";function BF(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new gc("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class zF{constructor(e,n,i,s,o=tx,u){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new FF(n,i,s),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=tx}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function UF(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function HF(t,e,n){return(i=>GF(t,e,i,{}))}async function $F(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function GF(t,e,n,i){const s=t._url(e);return qF(t,s,n,i)}async function qF(t,e,n,i){n=ex(n);const s={data:n},o={},u=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);u.authToken&&(o.Authorization="Bearer "+u.authToken),u.messagingToken&&(o["Firebase-Instance-ID-Token"]=u.messagingToken),u.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=u.appCheckToken);const h=i.timeout||7e4,d=BF(h),p=await Promise.race([$F(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!p)throw new gc("cancelled","Firebase Functions instance was deleted.");const g=LF(p.status,p.json);if(g)throw g;if(!p.json)throw new gc("internal","Response is not valid JSON object.");let x=p.json.data;if(typeof x>"u"&&(x=p.json.result),typeof x>"u")throw new gc("internal","Response is missing data field.");return{data:Lp(x)}}const HT="@firebase/functions",$T="0.11.8";const WF="auth-internal",KF="app-check-internal",YF="messaging-internal";function QF(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),u=i.getProvider(WF),h=i.getProvider(YF),d=i.getProvider(KF);return new zF(o,u,h,d,s,t)};jo(new PF(jv,n,"PUBLIC").setMultipleInstances(!0)),vr(HT,$T,e),vr(HT,$T,"esm2017")}function JF(t=CC(),e=tx){const i=zx(Iv(t),jv).getImmediate({identifier:e}),s=jF("functions");return s&&XF(i,...s),i}function XF(t,e,n){UF(Iv(t),e,n)}function nx(t,e,n){return HF(Iv(t),e)}QF(fetch.bind(self));const ZF={apiKey:"AIzaSyDFd4RAvVZWy3G1geLudrq4KgDDsGr-jb8",authDomain:"sirsi-nexus-live.firebaseapp.com",projectId:"sirsi-nexus-live",storageBucket:"sirsi-nexus-live.firebasestorage.app",messagingSenderId:"210890802638",appId:"1:210890802638:web:9b721753a295620422179f"},Rv=_C(ZF),Xt=e3(Rv,{persistence:v3}),GT=KL(Rv),ix=JF(Rv),e8=t=>async e=>{const n=Xt.currentUser;if(n)try{const i=await n.getIdToken();e.header.set("Authorization",`Bearer ${i}`)}catch(i){console.error("Failed to get Firebase ID token:",i)}return await t(e)},TA=pO({baseUrl:"https://contracts-grpc-210890802638.us-east4.run.app",interceptors:[e8]}),Zn=oC(mO,TA),Aa=oC(xO,TA),li={"finalwishes-core":{id:"finalwishes-core",name:"FinalWishes Core Platform",shortDescription:"Complete Digital Legacy Solution",description:"The complete FinalWishes platform including iOS, Android, and Web applications with AI-powered legacy management.",price:95e3,hours:640,timeline:16,timelineUnit:"weeks",addonDiscount:0,includedProducts:["vault-core","media-engine","ai-foundation","mobile-apps"],features:["iOS & Android Native Apps","Web Application (React)",'"The Shepherd" AI Foundation',"Secure Cloud Infrastructure","Legacy Media Vault","Digital Lockbox Storage","Beneficiary Management","User Authentication & MFA"],detailedScope:[{title:"Legacy Media Vault",content:"Implementation of a secure, cloud-native media management system.",subItems:["YouTube API integration","Google Photos API integration","In-app recording tools","Shared memorial walls"]},{title:"Secure Digital Lockbox",content:"A zero-knowledge, encrypted vault for sensitive information.",subItems:["AES-256 encryption","Heirloom registry","Discovery notes","Role-based access"]},{title:"Final Directives & Ethical Wills",content:"Tools for capturing and legally securing final instructions.",subItems:["Guided ethical will creation","Funeral preference documentation","Medical directives templates","Scheduled release to beneficiaries"]}],wbs:[{phaseNum:1,name:"Foundation & Cloud Infrastructure",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"System Architecture & Technical Design",role:"Sr. Architect",hours:35,cost:4375},{name:"Google Cloud Project Setup",role:"DevOps Eng",hours:25,cost:3125},{name:"Database Schema Design",role:"Backend Eng",hours:35,cost:4375},{name:"Authentication System",role:"Security Eng",hours:30,cost:3750},{name:"CI/CD Pipeline & DevOps",role:"DevOps Eng",hours:35,cost:4375}]},{phaseNum:2,name:"Core Application Development",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Web Application Shell",role:"Frontend Eng",hours:40,cost:5e3},{name:"Mobile Application Shell (iOS/Android)",role:"Mobile Eng",hours:50,cost:6250},{name:'"The Shepherd" AI Foundation',role:"AI Engineer",hours:35,cost:4375},{name:"API Gateway & Backend Services",role:"Backend Eng",hours:35,cost:4375}]},{phaseNum:3,name:"Feature Integration & Vault",weeks:"9-12",hours:160,cost:2e4,activities:[{name:"Legacy Media Vault Implementation",role:"Backend Eng",hours:40,cost:5e3},{name:"Digital Lockbox & Encryption",role:"Security Eng",hours:40,cost:5e3},{name:"Beneficiary Management Portal",role:"Frontend Eng",hours:40,cost:5e3},{name:"Final Directives Module",role:"Full Stack",hours:40,cost:5e3}]},{phaseNum:4,name:"Testing, QA & Launch",weeks:"13-16",hours:160,cost:2e4,activities:[{name:"End-to-End Testing & Bug Fixes",role:"QA Engineer",hours:40,cost:5e3},{name:"Security Audit & Penetration Testing",role:"Security Eng",hours:40,cost:5e3},{name:"Performance Optimization",role:"DevOps Eng",hours:40,cost:5e3},{name:"Launch Preparation & Deployment",role:"Sr. Architect",hours:40,cost:5e3}]}]}},wr={maintenance:{id:"maintenance",name:"Maintenance & Support",shortDescription:"12-month support (20 hrs/mo)",description:"Annual support contract.",category:"service",bundledPrice:18e3,standalonePrice:18e3,hours:240,timeline:12,timelineUnit:"months",recurring:!0,detailedScope:[{title:"Maintenance & Support",content:"Ongoing technical guardianship.",subItems:["20 Hours monthly support ($1,500/mo)","Priority bug fixes","Security patching","Infrastructure audits"]}]},"ceo-consulting":{id:"ceo-consulting",name:"CEO Consulting",shortDescription:"Direct strategic advisory (20 hrs/week)",description:"On-demand strategic consulting and executive advisory services.",category:"service",bundledPrice:6e3,standalonePrice:6e3,hours:20,timeline:1,timelineUnit:"weeks",recurring:!0,perWeek:!0,detailedScope:[{title:"Executive Strategic Advisory",content:"High-level strategic guidance and operational oversight.",subItems:["20 Hours weekly dedicated consulting","Direct access to CEO-level strategy","Product roadmap validation","Strategic advisory engagement"]}],wbs:[{phaseNum:1,name:"Strategic Advisory",weeks:"1-1",hours:20,cost:6e3,activities:[{name:"Strategic Planning Session",role:"Erin Horne McKinney",hours:10,cost:3e3},{name:"Operational Oversight",role:"Erin Horne McKinney",hours:10,cost:3e3}]}]},branding:{id:"branding",name:"Branding & Identity",shortDescription:"Logo, voice guide, UI kit",description:"Complete brand identity system.",category:"service",bundledPrice:3e4,standalonePrice:3e4,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Master Brand Identity",content:"Creation of a comprehensive visual identity system.",subItems:["Logo marks","Typography & Palette","Voice & Tone","UI/UX Figma Kit"]}],wbs:[{phaseNum:1,name:"Brand Discovery & Visual Identity",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"Brand Strategy & Research",role:"Art Director",hours:40,cost:5e3},{name:"Logo & Visual Identity System",role:"Art Director",hours:40,cost:5e3},{name:"Typography, Palette & Voice Guide",role:"UI Designer",hours:40,cost:5e3},{name:"UI/UX Design Kit (Figma)",role:"UI Designer",hours:40,cost:5e3}]},{phaseNum:2,name:"Design System & Delivery",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Component Library Build",role:"UI Designer",hours:40,cost:5e3},{name:"Responsive Layout System",role:"Frontend Eng",hours:40,cost:5e3},{name:"Brand Asset Production",role:"Art Director",hours:40,cost:5e3},{name:"Style Guide Documentation",role:"UI Designer",hours:40,cost:5e3}]}]},estate:{id:"estate",name:"Estate Administration",shortDescription:"Executor tools & asset tracking",description:"Estate management module.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Estate Administration Hub",content:"Specialized tools for legacy management.",subItems:["Executor dashboard","Asset inventory","Beneficiary portal","Auditing"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:80,cost:12e3,activities:[{name:"Estate Logic Integration",role:"Backend Eng",hours:40,cost:11200},{name:"Executor UI Components",role:"Frontend Eng",hours:40,cost:11200}]}]},probate:{id:"probate",name:"Probate Engine (Per State)",shortDescription:"State-specific form automation",description:"State-specific probate automation.",category:"feature",bundledPrice:24500,standalonePrice:35e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"State-Specific Probate Engine",content:"Automation of primary probate filings and documentation for a specific jurisdiction.",subItems:["Statutory form templates","Local court filing rules integration","Deadline and timeline calculators","Asset-to-heir distribution logic"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:70,cost:14e3,activities:[{name:"Probate Form Engine",role:"Backend Eng",hours:40,cost:8e3},{name:"Court Integration API",role:"Security Eng",hours:30,cost:6e3}]}]},"probate-ai":{id:"probate-ai",name:"Probate AI Enhancement",shortDescription:"AI form analysis",description:"AI-powered probate assistance.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",prerequisites:["probate"],detailedScope:[{title:"Probate AI Enhancement",content:"Integration of large language models to assist in document extraction and validation.",subItems:["Automated form extraction (OCR/LLM)","Legacy document summarization","Consistency checking across filings","Natural language query of probate laws"]}]},comms:{id:"comms",name:"Secure Comms Suite",shortDescription:"Encrypted messaging & alerts",description:"Encrypted messaging system.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Encrypted Legacy Communications",content:"Secure communication channel for family and executors.",subItems:["End-to-End Encryption (E2EE)","Message persistence guarantees","Heir-to-Executor private channels","Automated legacy alerts"]}]},memorial:{id:"memorial",name:"Virtual Memorial Services",shortDescription:"Live streaming & guestbook",description:"Virtual memorial platform.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Virtual Memorial Platform",content:"Interactive, permanent spaces for remembrance and broadcast.",subItems:["Live stream integration","Interactive guestbooks","Virtual candle lighting","Permanent memory walls"]}]},financial:{id:"financial",name:"Advanced Asset Discovery",shortDescription:"Plaid-powered asset search",description:"Plaid-powered asset discovery.",category:"feature",bundledPrice:29400,standalonePrice:42e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Advanced Financial Discovery",content:"Deep integration with financial institutions for asset identification.",subItems:["Plaid Link integration","Automated account mapping","Institutional metadata extraction","Credential-less vaulting"]}]},"ai-legacy":{id:"ai-legacy",name:"AI Voice & Avatar Synthesis",shortDescription:"Voice cloning & avatar memorial",description:"AI-driven voice and visual synthesis for living memorials.",category:"feature",bundledPrice:26950,standalonePrice:38500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Living Legacy AI",content:"Implementation of advanced generative AI for realistic legacy preservation.",subItems:["Custom voice cloning (from 15m audio)","3D Avatar generation from photos","Interactive AI guided story-telling","Strict ethical safety guardrails"]}]},liquidator:{id:"liquidator",name:"Digital Asset Liquidator",shortDescription:"Automated account transitions",description:"Automated closing and transfer of digital accounts.",category:"feature",bundledPrice:19600,standalonePrice:28e3,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Automated Digital Transitions",content:"Tools for managing the difficult process of closing a digital life.",subItems:["Social media 'Memorialize' triggers","Subscription cancellation bot","Digital asset inventory vault","Credential transition protocols"]}]},compliance:{id:"compliance",name:"Global Compliance Suite",shortDescription:"GDPR / Multi-region privacy",description:"Multi-region data residency and compliance (GDPR, CCPA).",category:"service",bundledPrice:17150,standalonePrice:24500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Global Data Sovereignty",content:"Enterprise-grade compliance framework for international operations.",subItems:["Local data residency (EU/US/Asia)","Automated PII auditing","End-to-end encryption key management","Privacy regulation monitoring"]}]},"white-label":{id:"white-label",name:"Professional Partner Portal",shortDescription:"B2B Partner & Branding system",description:"White-label dashboard for funeral homes and law firms.",category:"feature",bundledPrice:36750,standalonePrice:52500,hours:480,timeline:12,timelineUnit:"weeks",detailedScope:[{title:"B2B Partner Ecosystem",content:"Enabling professional services to offer FinalWishes to their clients.",subItems:["Fully white-labeled UI","Lead management for partners","Co-branded document generation","Unified partner billing console"]}]},charity:{id:"charity",name:"Charitable Trust Engine",shortDescription:"Automated legacy philanthropy",description:"Automation for charitable donations and foundation setup.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Legacy Philanthropy Engine",content:"Tools to ensure a user's charitable impact continues permanently.",subItems:["Verified non-profit registry","Endowment setup automation","Recurring donation scheduling","Impact reporting for heirs"]}]},genealogy:{id:"genealogy",name:"Genealogy Data Deep-Sync",shortDescription:"Deep lineage & history sync",description:"Ancestry.com and FamilySearch automatic data sync.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Deep Lineage Integration",content:"Pulling a user's history into their current legacy platform.",subItems:["Automatic family tree import","Record & Document OCR","Multi-generational storytelling","Lineage-based privacy locks"]}]},"multi-sig":{id:"multi-sig",name:"Vault Shamir Key Sharding",shortDescription:"Multi-heir vault unlocking",description:"Ultra-secure vault access using Shamir's Secret Sharing.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Security",content:"Ensuring the vault can only be opened with the consensus of multiple heirs.",subItems:["Shamir's Secret Sharing (SSS)","N-of-M signature requirements","Trustee verification tokens","Emergency access protocols"]}]},publishing:{id:"publishing",name:"Legacy Print & Publishing",shortDescription:"Physical ethical will books",description:"Physical publishing of memoirs and ethical wills.",category:"service",bundledPrice:9800,standalonePrice:14e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Physical Legacy Publishing",content:"Turning digital memories into permanent physical heirlooms.",subItems:["High-quality hardcover memoirs","Ethical Will print editions","Global fulfillment & shipping","Custom brand leather binding"]}]},crypto:{id:"crypto",name:"Crypto Vault & Wallet Sync",shortDescription:"Crypto & NFT legacy vault",description:"Secure legacy transfer of cryptocurrency and NFT assets.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Digital Asset Preservation",content:"Ensuring that non-custodial digital assets can be securely handed down.",subItems:["Hardware wallet (Ledger) integration","NFT metadata preservation","Multi-chain asset tracking","Encrypted seed phrase transition (Zero-Knowledge)"]}]},blockchain:{id:"blockchain",name:"Smart Contract Legacy Trust",shortDescription:"Immutable trust automation",description:"Definitive automated asset release via immutable smart contracts.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Blockchain Trust Infrastructure",content:"Replacing human-error trusts with mathematically certain code.",subItems:["Solidity-based trust contracts","On-chain proof of existence","Automated distribution on death-trigger","Immutable legacy ledger"]}]},documentary:{id:"documentary",name:"Legacy Documentary Production",shortDescription:"Pro-grade cinematic legacy",description:"Professional video editing and archival for family documentaries.",category:"service",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Cinematic Legacy Preservation",content:"Transforming raw footage and memories into a high-end documentary.",subItems:["4K cinematic editing","Color grading & professional sound","Family interview orchestration","Cloud-native 8K archival"]}]},"vault-guard":{id:"vault-guard",name:"Vault Guard: Multi-Regional KMS Backup",shortDescription:"Multi-region KMS hardening",description:"Hyper-resilient security with cross-region key management.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Guarding",content:"Ensuring that the vault remains accessible even in the event of major region failure.",subItems:["Cross-region KMS key replication","Automated encryption health checks","HSM-level security integration","Biometric secondary recovery paths"]}]},analytics:{id:"analytics",name:"Estate ROI & Analytics Dashboard",shortDescription:"Estate health & growth insights",description:"Advanced data insights into estate health and value growth.",category:"feature",bundledPrice:8820,standalonePrice:12600,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Estate Intelligence Dashboard",content:"Providing real-time insights into the total value and health of a legacy portfolio.",subItems:["Automated valuation of digital assets","Tax impact forecasting","Heir engagement metrics","Document expiration alerts"]}]}};function qc(t,e,n=1,i=1,s=1){let o=0,u=0,h=0,d=0,p=0;const g=t!==null;t&&li[t]&&(o=li[t].price,p+=li[t].hours),e.forEach(T=>{const A=wr[T];if(A){const _=A.standalonePrice||Math.round(A.bundledPrice*1.5),M=g?A.bundledPrice:_,D=A.hours;if(T==="ceo-consulting"){const V=Math.max(1,n);h+=M*V,p+=A.hours*V}else if(T==="probate"){const V=i;d+=M*V,p+=A.hours*V}else u+=M,p+=D}});const x=o+u+h+d,b=s||1,S=p*250;return{total:Math.round(x*b),internalTotal:x,marketTotal:S,totalHours:p,breakdown:{bundle:Math.round(o*b),addons:Math.round(u*b),special:{ceoConsulting:Math.round(h*b),probateEngine:Math.round(d*b)}}}}function jc(t,e,n=1){const i=t?li[t].timeline:0;let s=0;return e.forEach(o=>{const u=wr[o];if(u&&u.timelineUnit==="weeks")if(o==="probate"){const h=Math.max(1,n);s+=u.timeline+(h-1)*2}else{if(o==="ceo-consulting")return;s+=u.timeline}}),i+Math.ceil(s*.5)}const EA=125,Rc=[{role:"Sr. Architect",percentage:.15},{role:"Backend Eng",percentage:.25},{role:"Frontend Eng",percentage:.25},{role:"DevOps Eng",percentage:.15},{role:"QA Engineer",percentage:.1},{role:"Security Eng",percentage:.1}];function t8(t,e=1){const n="timeline"in t?t.timeline:16,i=t.name,s=t.detailedScope||[],o=t.hours,u=o*EA,h=Math.max(1,Math.ceil(n/4)),d=Math.ceil(n/h),p=Math.ceil(o/h),g=Math.round(u/h),x=[];if(s.length>=h)for(let b=0;b<h;b++){const S=e+b*d,T=S+d-1,A=s[b]||s[s.length-1];x.push({phaseNum:b+1,name:A.title,weeks:`${S}-${T}`,hours:p,cost:g,activities:n8(A,p,g)})}else{const b=["Foundation & Architecture","Core Development","Integration & Features","Testing & Launch"];for(let S=0;S<h;S++){const T=e+S*d,A=T+d-1,_=S<b.length?`${i}: ${b[S]}`:`${i}: Phase ${S+1}`;x.push({phaseNum:S+1,name:_,weeks:`${T}-${A}`,hours:p,cost:g,activities:i8(i,p,g,S)})}}return x}function n8(t,e,n){const i=[],s=Math.min(t.subItems.length,4)||1,o=Math.ceil(e/s),u=Math.round(n/s);for(let h=0;h<s;h++){const d=t.subItems[h]||t.title,p=Rc[h%Rc.length].role;i.push({name:d,role:p,hours:o,cost:u})}return i}function i8(t,e,n,i){const s=[["System Architecture","Infrastructure Setup","Database Design"],["Backend Development","Frontend Development","API Integration"],["Feature Implementation","Third-Party Integration","Security Hardening"],["End-to-End Testing","Performance Optimization","Deployment"]],o=[],u=s[i%s.length],h=Math.ceil(e/u.length),d=Math.round(n/u.length);return u.forEach((p,g)=>{o.push({name:p,role:Rc[g%Rc.length].role,hours:h,cost:d})}),o}function Nv(t,e,n=1,i=1){const s=[],o=t!==null;if(t&&li[t]){const x=li[t];x.wbs&&x.wbs.length>0?s.push(...JSON.parse(JSON.stringify(x.wbs))):s.push(...t8(x,1))}const u=s.findIndex(x=>x.name.toLowerCase().includes("testing")||x.name.toLowerCase().includes("launch")||x.name.toLowerCase().includes("qa"));let d=t?9:1;const p=[];e.forEach(x=>{const b=wr[x];if(!b||x==="maintenance")return;let S=1;x==="ceo-consulting"&&(S=Math.max(1,n)),x==="probate"&&(S=Math.max(1,i));const T=b.hours*S,A=b.standalonePrice||Math.round(b.bundledPrice*1.5),M=(o?b.bundledPrice:A)*S,D=T*EA;if(b.timelineUnit==="weeks"&&x!=="ceo-consulting"){const V=b.timeline,$=x==="probate"?V+(S-1)*2:V,Q=Math.ceil($*.5),re=d+Q-1,R=Math.min(b.detailedScope?.length||1,4),I=Math.round(T/R),k=Math.round(D/R);p.push({phaseNum:0,name:S>1?`${b.name} (${S})`:b.name,weeks:`${d}-${re}`,hours:T,cost:D,activities:b.detailedScope?.slice(0,4).map((L,B)=>({name:L.title,role:Rc[B%Rc.length].role,hours:I,cost:k}))||[{name:`${b.name} Implementation`,role:"Full Stack",hours:T,cost:D}]}),d=re+1}else x==="ceo-consulting"&&p.push({phaseNum:0,name:`${b.name} (${S} week${S>1?"s":""})`,weeks:`1-${S}`,hours:T,cost:M,activities:[{name:"Strategic Advisory & Operational Oversight",role:"CEO",hours:T,cost:M}]})});const g=u!==-1?u:s.length;if(s.splice(g,0,...p),p.length>0&&u!==-1){const x=s[g+p.length];x&&(x.weeks=`${d}-${d+4-1}`)}return s.forEach((x,b)=>{x.phaseNum=b+1}),s}function Fp(t,e,n=1,i=1){return Nv(t,e,n,i).reduce((s,o)=>s+o.hours,0)}const yr={finalwishes:{key:"finalwishes",projectDisplayName:"FinalWishes Platform",providerName:"Sirsi Technologies",docCode:"FW",primaryObjectiveTitle:"The Living Legacy Platform",primaryObjectiveDescription:'To architect and deploy a secure, multi-tenant digital preservation engine that allows Principals to curate their "Final Wishes"including digital assets, legal instructions, and emotional legaciesusing AI-driven guidance and a "Vault-Grade" security infrastructure.',strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are not just building an app; we are deploying a private, permanent infrastructure for estate management.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Vault",value:"Cloud SQL + KMS Encryption"},{label:"Mobile",value:"React Native Expo"}],sowObjective:`Establish a permanent, industrial-grade "Living Legacy" platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI infrastructure.`,sowPlatformType:"Legacy Management",msaRecital:'Client desires to engage Provider to design, develop, and implement a legacy management system known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, legacy management scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Jurisdiction-specific probate logic, workflows, and regulatory compliance rules, inclusive of but not restricted to Maryland, Illinois, and Minnesota, or any other federal, state, or local governmental jurisdictions","Proprietary content, decision trees, and conversational scripts authored for 'The Shepherd' guidance engine (defining the interactive user prompts, educational narratives, and process navigation pathways)","Unique data schemas and information architecture (representing the specific definitions, organization, and structural relationships of Client's proprietary business data)"],msaVerticalLicense:"within the field of Legacy Management and Digital Inheritance Automation",msaNonCompeteVertical:"Legacy Management or Digital Inheritance",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Legacy Management System. This project aims to build foundational legacy management infrastructure with foundational support for future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota.',msaSowObjective:'deliver a "Vault-Grade" secure platform that allows users to securely organize, document, and manage their legacy assets and final wishes, providing a permanent, cryptographically-secure repository for digital inheritance and beneficiary instructions.',msaAssumptions:["Future Expansion Support: Logic is focused on foundational legacy management, with future support planned for Maryland, Illinois, and Minnesota.",'No Legal Advice: The "Shepherd" guides users through site and application logic and provides procedural guidance, not legal advice.',"Third-Party Costs: Client pays direct consumption costs for Stripe, Plaid, Lob, and Google Cloud.","Content: Client is responsible for final validation of court form templates."],msaNoSelectFallback:"Core Legacy Management Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines and infrastructure-as-code deployments, we realize significant savings.",msaDocumentScope:[{title:"A. Identity & Vital Records",content:"Death Certificate (Manual upload/OCR processing); Social Security/Gov ID (Secure entry & validation)."},{title:"B. Future State Engine Framework (Expansion)",content:"Maryland/Illinois/Minnesota: Foundational logic mapping for future expansion into MDEC (Maryland), eCourt (Illinois), and MNCIS (Minnesota) e-filing guidance. Note: Active development of direct court filing automation is reserved for future statement(s) of work."},{title:"C. Financial & Asset Documents",content:"Asset Discovery (Plaid integration for 12,000+ institutions); Life Insurance/Retirement (Standard claim letter generation); Real Estate (Manual tracking + valuation APIs)."}],docType:"legacy-msa"},fonemovie:{key:"fonemovie",projectDisplayName:"FoneMovie Media Discovery Platform",providerName:"Sirsi Technologies",docCode:"FM",primaryObjectiveTitle:"The Media Discovery Engine",primaryObjectiveDescription:"To architect and deploy a high-performance media discovery and distribution platform that enables creators, studios, and audiences to connect through intelligent content curationleveraging AI-powered recommendations, real-time analytics, and a scalable streaming infrastructure.",strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are building a next-generation media platform with discovery-first architecture and creator-centric monetization.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Media",value:"Cloud CDN + Transcoding Pipeline"},{label:"Mobile",value:"React Native Expo"}],sowObjective:"Build a next-generation media discovery and distribution platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI and media infrastructure.",sowPlatformType:"Media Discovery",msaRecital:'Client desires to engage Provider to design, develop, and implement a media discovery and distribution platform known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support content curation, creator tools, audience analytics, and scalable streaming capabilities',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, media discovery algorithms, content curation scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Proprietary content recommendation algorithms, discovery feeds, and audience matching logic","Creator dashboard interfaces, analytics pipelines, and monetization workflow configurations","Unique data schemas and information architecture for media metadata, user engagement, and content relationships"],msaVerticalLicense:"within the field of Media Discovery, Content Distribution, and Entertainment Technology",msaNonCompeteVertical:"Media Discovery or Content Distribution",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Media Discovery Platform. This project aims to build a scalable media discovery infrastructure with content curation, creator tools, audience analytics, and streaming distribution capabilities.',msaSowObjective:"deliver a high-performance media platform that enables creators and studios to distribute content, audiences to discover personalized media, and all parties to engage through intelligent AI-driven recommendations and real-time analytics.",msaAssumptions:["Content Licensing: Client is responsible for securing all necessary content licensing and distribution rights.","No Legal Advice: The platform provides content discovery and distribution tools, not legal or licensing counsel.","Third-Party Costs: Client pays direct consumption costs for Stripe, CDN bandwidth, transcoding, and Google Cloud.","Content Moderation: Client is responsible for content moderation policies and enforcement."],msaNoSelectFallback:"Core Media Discovery Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines, CDN infrastructure, and AI pipelines, we realize significant savings.",msaDocumentScope:[{title:"A. Content Ingestion & Processing",content:"Media upload pipeline with automated transcoding; Metadata extraction and tagging; CDN distribution with adaptive bitrate streaming."},{title:"B. Discovery & Recommendation Engine",content:"AI-powered content recommendations using Vertex AI; User behavior analytics and engagement tracking; Personalized discovery feeds with collaborative filtering."},{title:"C. Creator Tools & Monetization",content:"Creator dashboard with performance analytics; Revenue tracking and payout management (Stripe integration); Content scheduling and distribution management."}],docType:"media-msa"}};function ed(t,e){return t.replace(/\{projectName\}/g,e)}function sh(t){if(!t)return yr.finalwishes;if(yr[t])return yr[t];const e=t.toLowerCase();for(const[n,i]of Object.entries(yr))if(e.includes(n))return i;return yr.finalwishes}function r8(t,e){const n=sh(t);return{...n,msaRecital:ed(n.msaRecital,e),msaForegroundIpDescription:ed(n.msaForegroundIpDescription,e),msaForegroundIpItems:n.msaForegroundIpItems.map(i=>ed(i,e)),msaSowOverview:ed(n.msaSowOverview,e),msaCostIntro:ed(n.msaCostIntro,e)}}const Qy={projectName:"FinalWishes",companyName:"111 Venture Studio",projectId:"finalwishes",contractId:null,clientName:"",clientEmail:"",entityLegalName:"Sirsi Technologies, Inc.",counterpartyName:"Cylton Collymore",counterpartyTitle:"CEO",currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[],sirsiMultiplier:2,maintenanceMode:!1},ye=Fk()(zk((t,e)=>({...Qy,setCurrentTab:n=>{t({currentTab:n});const i=e().visitedTabs;i.includes(n)||t({visitedTabs:[...i,n]}),setTimeout(()=>{const s=document.querySelector(".main-content");s&&s.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},50)},setProjectId:n=>{const i=e();if(n!==i.projectId){const s=sh(n);t({projectId:n,projectName:s.projectDisplayName,companyName:Qy.companyName,clientName:"",clientEmail:"",contractId:null,currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[]})}else t({projectId:n})},setContractId:n=>t({contractId:n}),setClientInfo:(n,i)=>t({clientName:n,clientEmail:i}),setCounterpartyInfo:(n,i,s)=>t({entityLegalName:n,counterpartyName:i,counterpartyTitle:s}),setSelectedBundle:n=>t({selectedBundle:n}),toggleAddon:n=>t(i=>({selectedAddons:i.selectedAddons.includes(n)?i.selectedAddons.filter(s=>s!==n):[...i.selectedAddons,n]})),setCeoConsultingWeeks:n=>t({ceoConsultingWeeks:Math.max(1,Math.min(52,n))}),toggleProbateState:n=>t(i=>({probateStates:i.probateStates.includes(n)?i.probateStates.filter(s=>s!==n):[...i.probateStates,n]})),markTabVisited:n=>t(i=>({visitedTabs:i.visitedTabs.includes(n)?i.visitedTabs:[...i.visitedTabs,n]})),setSystemSettings:n=>t({sirsiMultiplier:n.multiplier||2,maintenanceMode:n.maintenanceMode||!1}),fetchContract:async n=>{try{const i=await Zn.getContract({id:n});if(i){const s={contractId:i.id,clientName:i.clientName,clientEmail:i.clientEmail,projectId:i.projectId,projectName:i.projectName},o=i.selections;o&&(o.bundle&&(s.selectedBundle=o.bundle),o.addons&&(s.selectedAddons=o.addons),o.ceoConsultingWeeks&&(s.ceoConsultingWeeks=o.ceoConsultingWeeks),o.probateStates&&(s.probateStates=o.probateStates)),t(s),console.log(` State re-hydrated from contract ${n}`)}}catch(i){console.error(` Failed to fetch contract ${n}:`,i)}},syncConfig:async()=>{const n=e();if(!n.contractId){console.warn("Cannot sync config: No contractId available");return}try{console.log(` Syncing configuration for contract ${n.contractId}...`);const i=qc(n.selectedBundle,n.selectedAddons,n.ceoConsultingWeeks,n.probateStates.length,n.sirsiMultiplier);await Zn.updateContract({id:n.contractId,contract:{totalAmount:BigInt(Math.round(i.total*100)),selections:{bundle:n.selectedBundle,addons:n.selectedAddons,ceoConsultingWeeks:n.ceoConsultingWeeks,probateStates:n.probateStates}}}),console.log(" Configuration synced to Sirsi Ledger")}catch(i){console.error(" Failed to sync configuration:",i)}},resetConfig:()=>t(Qy)}),{name:"sirsi-config-storage",storage:U_(()=>localStorage)})),_A=()=>ye(t=>t.currentTab),Wc=()=>ye(t=>t.setCurrentTab),s8=()=>ye(t=>t.syncConfig),a8=[{id:"summary",line1:"Executive",line2:"Summary"},{id:"configure",line1:"Configure",line2:"Solution"},{id:"sow",line1:"Statement",line2:"of Work"},{id:"cost",line1:"Cost &",line2:"Valuation"},{id:"msa",line1:"Master Agreement",line2:"(MSA)"},{id:"vault",line1:"Sirsi",line2:"Vault"}];function o8(){const t=_A(),e=Wc();return l.jsx("div",{className:"nav-tabs",children:a8.map(n=>l.jsxs("button",{className:`tab-btn ${t===n.id?"active":""}`,onClick:()=>e(n.id),children:[l.jsx("span",{className:"tab-line1",children:n.line1}),l.jsx("span",{className:"tab-line2",children:n.line2})]},n.id))})}const l8=(t="",e="",n=50)=>Wd({queryKey:["contracts",t,e,n],queryFn:async()=>await Zn.listContracts(new lo({projectId:t,userEmail:e,pageSize:n}))}),CA=(t=10,e="")=>Wd({queryKey:["users",t,e],queryFn:async()=>await Aa.listUsers(new po({pageSize:t,pageToken:e}))}),c8=(t=10,e="")=>Wd({queryKey:["notifications",t,e],queryFn:async()=>await Aa.listNotifications(new go({pageSize:t,pageToken:e}))}),u8=()=>{const t=qd();return Jp({mutationFn:async e=>await Aa.sendNotification(new mo(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}})},AA=()=>Jp({mutationFn:async t=>await Aa.logDevSession(new ho(t))}),d8=()=>{const t=qd();return Jp({mutationFn:async e=>await Aa.manageUserRole(new fo(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})},IA=()=>Wd({queryKey:["settings"],queryFn:async()=>(await Aa.getSettings(new yo)).settings}),h8=()=>{const t=qd();return Jp({mutationFn:async e=>await Aa.updateSettings(new xo({settings:new Lx(e)})),onSuccess:()=>{t.invalidateQueries({queryKey:["settings"]})}})},f8=(t="ALL",e=50,n="")=>Wd({queryKey:["audit-trail",t,e,n],queryFn:async()=>await Aa.listAuditTrail(new vo({filterLevel:t,pageSize:e,pageToken:n}))});function qT(){const t=Wc(),e=ye(d=>d.clientName),n=ye(d=>d.companyName),i=ye(d=>d.projectName),s=ye(d=>d.projectId),o=ye(d=>d.setClientInfo),u=ye.setState,h=sh(s);return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsx("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Executive Summary"})}),l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"32px",marginBottom:"4rem",maxWidth:"800px",margin:"0 auto 4rem auto"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",color:"#FFFFFF",fontSize:"20px",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Prepared For"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Client Name"}),l.jsx("input",{type:"text",placeholder:"Enter Name...",value:e,onChange:d=>o(d.target.value,ye.getState().clientEmail),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Organization"}),l.jsx("input",{type:"text",placeholder:"Company (Optional)...",value:n,onChange:d=>u({companyName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Project Name"}),l.jsx("input",{type:"text",placeholder:"e.g. The Lockhart Estate...",value:i,onChange:d=>u({projectName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"linear-gradient(145deg, #141e3c, #0a0f1e)",marginBottom:"3rem",cursor:"default",padding:"28px",borderRadius:"12px",border:"2px solid rgba(200, 169, 81, 0.5)",backdropFilter:"blur(12px)",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{display:"inline-block",background:"linear-gradient(135deg, #C8A951, #E2C76B)",color:"#000",padding:"8px 20px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px",marginBottom:"28px",textTransform:"uppercase",letterSpacing:"0.15em",boxShadow:"0 4px 15px rgba(200, 169, 81, 0.3)"},children:"Primary Objective"}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#FFFFFF",marginBottom:"24px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:h.primaryObjectiveTitle}),l.jsx("p",{style:{fontSize:"20px",lineHeight:1.8,color:"rgba(255,255,255,0.9)"},children:h.primaryObjectiveDescription})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4rem",marginBottom:"5rem"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Strategic Position"}),l.jsx("p",{style:{lineHeight:1.8,opacity:.9,fontSize:"1.25rem"},children:h.strategicPosition})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Technology Stack"}),l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"1rem",opacity:.9},children:h.techStack.map((d,p)=>l.jsxs("li",{style:{fontSize:"1.25rem"},children:[" ",l.jsxs("strong",{children:[d.label,":"]})," ",d.value]},p))})]})]}),l.jsx("div",{style:{textAlign:"center",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("configure"),className:"select-plan-btn",style:{padding:"16px 40px",fontSize:"18px"},children:"Configure Your Solution "})})]})}const p8=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"Washington D.C."},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];function m8(){const t=Wc(),e=s8(),n=ye(O=>O.contractId),i=ye(O=>O.selectedBundle),s=ye(O=>O.selectedAddons),o=ye(O=>O.setSelectedBundle),u=ye(O=>O.toggleAddon),h=ye(O=>O.ceoConsultingWeeks),d=ye(O=>O.setCeoConsultingWeeks),p=ye(O=>O.probateStates),g=ye(O=>O.toggleProbateState);j.useEffect(()=>{if(!n)return;const O=setTimeout(()=>{e()},1e3);return()=>clearTimeout(O)},[i,s,h,p,n,e]);const[x,b]=j.useState(null),[S,T]=j.useState(""),[A,_]=j.useState([]),[M,D]=j.useState(h),$=qc(i,s,h,p.length,1).total,Q=jc(i,s,p.length),re=(i?1:0)+s.length,R=i==="finalwishes-core",I=!R&&s.length>0,k=()=>{x!=="probate"?(_([...p]),T(""),b("probate")):b(null)},L=()=>{x!=="ceo-consulting"?(D(h),b("ceo-consulting")):b(null)},B=p8.filter(O=>O.name.toLowerCase().includes(S.toLowerCase())||O.code.toLowerCase().includes(S.toLowerCase())),H=O=>{_(q=>q.includes(O)?q.filter(ae=>ae!==O):[...q,O])},F=()=>{const O=A.filter(ae=>!p.includes(ae)),q=p.filter(ae=>!A.includes(ae));O.forEach(ae=>g(ae)),q.forEach(ae=>g(ae)),A.length>0&&!s.includes("probate")&&u("probate"),A.length===0&&s.includes("probate")&&u("probate"),b(null)},xe=()=>{d(M),s.includes("ceo-consulting")||u("ceo-consulting"),b(null)},Ee=()=>{_([])};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem",marginTop:"2rem"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Configure Your Solution"}),l.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255, 255, 255, 0.7)",maxWidth:"800px",margin:"0 auto",lineHeight:1.6},children:"Select your core platform and strategic add-on modules. Your selections will generate a custom Statement of Work."})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"1. Choose Your Path"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",width:"100%",margin:"0 auto"},children:[l.jsxs("div",{onClick:()=>o("finalwishes-core"),style:{cursor:"pointer",border:`2px solid ${R?"#10B981":"#C8A951"}`,background:R?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #141e3c, #0a0f1e)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${R?"#10B981":"rgba(255,255,255,0.3)"}`,background:R?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:R&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#000",padding:"6px 16px",borderRadius:"20px",fontWeight:700,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" Recommended"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:li["finalwishes-core"]?.name||"Core Platform"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Complete Digital Legacy Solution"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Investment"}),l.jsxs("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:["$",li["finalwishes-core"].price.toLocaleString()]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4px"},children:["Market Value: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(li["finalwishes-core"].hours*250).toLocaleString()]})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:[li["finalwishes-core"].timeline," Week Delivery"]})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#93c5fd",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"What's Included:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.85)",lineHeight:1.8},children:[l.jsx("li",{children:"iOS & Android Native Apps"}),l.jsx("li",{children:"Web Application (React)"}),l.jsx("li",{children:'"The Shepherd" AI Foundation'}),l.jsx("li",{children:"Secure Cloud Infrastructure"}),l.jsx("li",{children:"Legacy Media Vault"}),l.jsx("li",{children:"Digital Lockbox Storage"}),l.jsx("li",{children:"Beneficiary Management"}),l.jsx("li",{children:"User Authentication & MFA"})]})]}),l.jsxs("div",{onClick:()=>o(null),style:{cursor:"pointer",border:`2px solid ${I?"#10B981":"rgba(255,255,255,0.3)"}`,background:I?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #0f172a, #080c16)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${I?"#10B981":"rgba(255,255,255,0.3)"}`,background:I?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:I&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.5)",padding:"6px 16px",borderRadius:"20px",fontWeight:600,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" La Carte"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:"Standalone Services"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Individual Module Selection"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Starting From"}),l.jsx("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:"$18,000"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:"Per Individual Module"})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#94a3b8",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Available Services:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.7)",lineHeight:1.8},children:[l.jsx("li",{children:"Branding & Identity"}),l.jsx("li",{children:"Maintenance & Support"}),l.jsx("li",{children:"Estate Administration"}),l.jsx("li",{children:"Probate Engine"}),l.jsx("li",{children:"Secure Communications"}),l.jsx("li",{children:"Virtual Memorial Services"}),l.jsx("li",{children:"Advanced Asset Discovery"}),l.jsx("li",{style:{color:"rgba(255,255,255,0.4)",fontStyle:"italic"},children:"+ More modules available"})]})]})]}),l.jsx("div",{style:{textAlign:"center",margin:"24px auto 0 auto",padding:"16px",background:R||I?"rgba(200, 169, 81, 0.1)":"rgba(255,255,255,0.03)",border:`1px solid ${R||I?"rgba(200, 169, 81, 0.4)":"rgba(255,255,255,0.1)"}`,borderRadius:"8px",width:"100%"},children:l.jsxs("span",{style:{color:R||I?"#C8A951":"rgba(255,255,255,0.4)",fontWeight:600,fontSize:"15px"},children:[R?" Core Platform Bundle selected  strategic synergies unlocked.":"",I?" Standalone path selected  select individual services below":"",!R&&!I?"Click a card above to select your path":""]})})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"2. Strategic Add-On Modules"}),l.jsx("div",{className:"neo-glass-panel",style:{width:"100%",margin:"0 auto 3rem auto",textAlign:"center"},children:l.jsx("p",{style:{margin:0,fontSize:"1.25rem",lineHeight:1.75,color:"rgba(255, 255, 255, 0.9)"},children:"Enhance your platform with specialized modules designed for long-term growth and operational efficiency."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"24px",width:"100%",margin:"0 auto"},children:["maintenance","ceo-consulting","branding","estate","probate","probate-ai","comms","memorial","financial","ai-legacy","liquidator","white-label","charity","genealogy","publishing","crypto","blockchain","documentary"].map(O=>{const q=wr[O];if(!q)return null;const ae=s.includes(q.id),Te=q.standalonePrice||Math.round(q.bundledPrice*1.5),Ce=R?q.bundledPrice:Te,z=R&&Te>q.bundledPrice,Z=x===q.id;return l.jsx("div",{style:{perspective:"1000px",height:"420px",cursor:"pointer",position:"relative"},children:l.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transition:"transform 0.6s",transformStyle:"preserve-3d",transform:Z?"rotateY(180deg)":"none"},children:[l.jsxs("div",{onClick:()=>{q.id==="probate"&&!ae&&p.length===0?k():q.id==="ceo-consulting"&&!ae?L():u(q.id)},style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:ae?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #0f172a, #080c16)",border:`2px solid ${ae?"#10B981":"rgba(255, 255, 255, 0.15)"}`,borderRadius:"12px",padding:"1.25rem",display:"flex",flexDirection:"column",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.4)",boxSizing:"border-box"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[l.jsx("div",{style:{padding:"12px",background:"rgba(200, 169, 81, 0.1)",borderRadius:"8px",color:"#C8A951"},children:l.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),l.jsx("button",{onClick:te=>{te.stopPropagation(),b(q.id)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600},children:"Details "})]}),l.jsx("h4",{style:{color:"white",fontWeight:"bold",fontSize:"20px",marginBottom:"12px",fontFamily:"Inter, sans-serif"},children:q.name}),l.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"8px",flexWrap:"wrap"},children:[z&&l.jsxs("span",{style:{color:"#64748b",textDecoration:"line-through",fontSize:"14px"},children:["$",Te.toLocaleString()]}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"28px"},children:[q.id==="ceo-consulting"?`$${(Ce*h).toLocaleString()}`:q.id==="probate"&&p.length>0?`$${(Ce*p.length).toLocaleString()}`:`$${Ce.toLocaleString()}`,q.id==="ceo-consulting"?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",h," w)"]}):q.id==="probate"&&p.length>0?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",p.length," s)"]}):q.id==="maintenance"?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/yr"}):q.recurring?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/mo"}):""]})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},children:["Market Equivalent: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(q.hours*250*(q.id==="ceo-consulting"?h:q.id==="probate"?Math.max(1,p.length):1)).toLocaleString()]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.05)",margin:"12px 0"}}),l.jsx("div",{style:{color:"#64748b",fontSize:"13px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"6px"},children:q.id==="ceo-consulting"?l.jsxs(l.Fragment,{children:[h," week",h>1?"s":""," engagement",ae&&l.jsx("span",{onClick:te=>{te.stopPropagation(),L()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):q.id==="probate"?l.jsxs(l.Fragment,{children:[p.length>0?`${p.length} State${p.length>1?"s":""} Licensed`:"Select coverage states",ae&&l.jsx("span",{onClick:te=>{te.stopPropagation(),k()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):`${q.timeline} ${q.timelineUnit} Delivery`}),l.jsx("p",{style:{fontSize:"1rem",color:"rgba(147, 197, 253, 0.8)",lineHeight:1.6,margin:0},children:q.shortDescription}),l.jsx("div",{style:{marginTop:"auto",paddingTop:"12px",minHeight:"44px",display:"flex",alignItems:"center"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[l.jsx("div",{style:{flex:1},children:l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:ae?l.jsx("span",{style:{color:"#10B981",fontWeight:600},children:" Module Selected"}):"Add to Configuration"})}),l.jsx("div",{onClick:te=>{te.stopPropagation(),ae?u(q.id):q.id==="probate"?k():q.id==="ceo-consulting"?L():u(q.id)},style:{width:"32px",height:"32px",borderRadius:"6px",border:ae?"none":"2px solid rgba(200, 169, 81, 0.4)",background:ae?"#10B981":"rgba(0,0,0,0.3)",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:ae?"0 0 15px rgba(16, 185, 129, 0.3)":"none",transition:"all 0.2s ease"},children:ae?"":""})]})})]}),l.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:"#0a0f1e",border:"2px solid #C8A951",borderRadius:"12px",transform:"rotateY(180deg)",display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box"},children:q.id==="probate"||q.id==="ceo-consulting"?l.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"20px 20px 10px 20px",textAlign:"center"},children:[l.jsx("h4",{style:{fontFamily:"Cinzel, serif",color:"#C8A951",fontSize:"18px",margin:"0 0 4px 0"},children:q.id==="probate"?"Jurisdictions":"Engagement Duration"}),l.jsx("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",margin:0},children:q.id==="probate"?"SCROLL & SELECT STATES":"SCROLL TO SELECT WEEKS"})]}),l.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"40px",background:"linear-gradient(to bottom, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"40px",background:"linear-gradient(to top, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"36px",borderTop:"1px solid rgba(200,169,81,0.3)",borderBottom:"1px solid rgba(200,169,81,0.3)",pointerEvents:"none",zIndex:1}}),q.id==="probate"&&l.jsx("div",{style:{padding:"0 20px 8px 20px"},children:l.jsx("input",{type:"text",placeholder:"Search...",value:S,onClick:te=>te.stopPropagation(),onChange:te=>T(te.target.value),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"6px 12px",color:"white",fontSize:"12px",outline:"none"}})}),l.jsx("div",{style:{height:q.id==="probate"?"140px":"180px",overflowY:"auto",scrollSnapType:"y mandatory",textAlign:"center"},children:q.id==="probate"?B.map(te=>{const pe=A.includes(te.code);return l.jsxs("div",{onClick:Se=>{Se.stopPropagation(),H(te.code)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:pe?"#C8A951":"rgba(255,255,255,0.85)",fontSize:pe?"16px":"14px",fontWeight:pe?700:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[te.name," ",pe&&""]},te.code)}):Array.from({length:52},(te,pe)=>pe+1).map(te=>{const pe=M===te;return l.jsxs("div",{onClick:Se=>{Se.stopPropagation(),D(te)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:pe?"#C8A951":"rgba(255,255,255,0.85)",fontSize:pe?"20px":"14px",fontWeight:pe?800:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[te," ",te===1?"Week":"Weeks"]},te)})})]}),l.jsxs("div",{style:{padding:"16px 20px 20px 20px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"9px",display:"block",textTransform:"uppercase"},children:q.id==="probate"?"Selected":"Investment"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"18px",fontWeight:800},children:q.id==="probate"?A.length:`$${(M*(R?wr["ceo-consulting"]?.bundledPrice:wr["ceo-consulting"]?.standalonePrice)).toLocaleString()}`})]}),q.id==="probate"&&l.jsx("button",{onClick:te=>{te.stopPropagation(),Ee()},style:{background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"rgba(255,255,255,0.6)",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",cursor:"pointer"},children:"Clear All"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[l.jsx("button",{onClick:te=>{te.stopPropagation(),b(null)},style:{padding:"10px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontWeight:600,fontSize:"11px",cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:te=>{te.stopPropagation(),q.id==="probate"?F():xe()},style:{padding:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #C8A951 0%, #A08332 100%)",border:"none",color:"#000",fontWeight:800,fontSize:"11px",cursor:"pointer"},children:"Confirm"})]})]})]}):l.jsxs("div",{onClick:te=>te.stopPropagation(),style:{height:"100%",display:"flex",flexDirection:"column",padding:"1.5rem"},children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"18px",marginBottom:"16px"},children:"Scope of Services:"}),l.jsxs("div",{style:{color:"white",fontSize:"14px",lineHeight:1.6,flex:1,overflowY:"auto"},children:[q.detailedScope?.map((te,pe)=>l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"4px"},children:te.title}),l.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0},children:te.subItems.map((Se,je)=>l.jsx("li",{style:{marginBottom:"2px"},children:Se},je))})]},pe)),(!q.detailedScope||q.detailedScope.length===0)&&l.jsx("p",{children:"Detailed architectural implementation and service integration."})]}),l.jsx("button",{onClick:()=>b(null),style:{marginTop:"1rem",background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"10px",borderRadius:"6px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Return to Selection"})]})})]})},q.id)})})]}),l.jsxs("div",{className:"summary-box",style:{width:"100%",margin:"4rem auto 2rem auto",padding:"32px",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",background:"rgba(200, 169, 81, 0.08)"},children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"24px",color:"#C8A951",marginBottom:"32px",textAlign:"center",marginTop:0},children:"4. Selection Summary"}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"64px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Modules"}),l.jsx("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:re})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Estimated Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"32px",fontWeight:600},children:["$",$.toLocaleString()]})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:[Q," Weeks"]})]})]})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"4rem",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("sow"),className:"select-plan-btn",children:"Review Statement of Work "})})]})}function g8(){const t=Wc(),e=ye(_=>_.selectedBundle),n=ye(_=>_.selectedAddons),i=ye(_=>_.ceoConsultingWeeks),s=ye(_=>_.probateStates),o=ye(_=>_.projectName),u=ye(_=>_.projectId),h=sh(u),d=new Date().getFullYear(),p=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),x=qc(e,n,i,s.length).total,b=jc(e,n,s.length),S=Fp(e,n,i,s.length),T=Nv(e,n,i,s.length),A=[];return e&&li[e].detailedScope&&A.push(...li[e].detailedScope),n.forEach(_=>{const M=wr[_];M&&M.detailedScope&&A.push(...M.detailedScope)}),l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[l.jsx("div",{style:{display:"inline-block",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:"Project Documentation"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Statement of Work"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"40px",fontSize:"14px",fontFamily:"monospace",color:"#93c5fd",opacity:.8},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Project:"})," ",o," Platform"]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Date:"})," ",p]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"SOW:"})," SOW-",d,"-001"]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"MSA:"})," MSA-",d,"-111-",h.docCode]})]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px",boxShadow:"0 4px 60px rgba(0,0,0,0.3)",color:"rgba(255,255,255,0.9)",lineHeight:1.8},children:[l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"1. Executive Overview"}),l.jsxs("p",{children:['This Statement of Work ("SOW") defines the comprehensive scope for the',l.jsxs("strong",{children:[" ",o," Unified Platform"]}),".",e?" This engagement includes the full Core Platform foundation.":"",n.length>0?` Additionally, ${n.length} strategic modules have been integrated to expand platform capabilities.`:""]}),l.jsxs("p",{children:[l.jsx("strong",{style:{color:"#C8A951"},children:"Objective:"})," ",h.sowObjective]})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"2. Atomic Development Breakdown"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:T.length>0?T.map((_,M)=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"15px",borderRadius:"8px",borderLeft:"3px solid #C8A951"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[l.jsxs("span",{style:{color:"#C8A951",fontWeight:700,fontSize:"14px",textTransform:"uppercase"},children:["Phase ",_.phaseNum,": ",_.name]}),l.jsxs("span",{style:{color:"#94a3b8",fontSize:"12px"},children:[_.weeks," Weeks"]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"8px"},children:_.activities.map((D,V)=>l.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:[" ",D.name," (",D.hours,"h)"]},V))})]},M)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select a bundle or modules to generate breakdown."})})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"3. Detailed Scope of Work"}),l.jsx("div",{children:A.length>0?A.map((_,M)=>l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"8px",fontWeight:600},children:_.title}),l.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",marginBottom:"10px"},children:_.content}),l.jsx("ul",{style:{paddingLeft:"20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:_.subItems.map((D,V)=>l.jsx("li",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)"},children:D},V))})]},M)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select products to populate detailed scope."})})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"4. Timeline & Investment"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px"},children:[l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"24px",fontWeight:600},children:[b," Weeks"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Engineering Load"}),l.jsxs("div",{style:{color:"white",fontSize:"24px",fontWeight:600},children:[S," Hours"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.1)",padding:"20px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(200,169,81,0.3)"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"24px",fontWeight:700},children:["$",x.toLocaleString()]})]})]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"3rem",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:()=>t("cost"),className:"select-plan-btn",children:[l.jsx("span",{children:"Proceed to Cost & Valuation"}),l.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{marginLeft:"12px"},children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})}function y8(){const t=Wc(),e=ye(b=>b.selectedBundle),n=ye(b=>b.selectedAddons),i=ye(b=>b.ceoConsultingWeeks),s=ye(b=>b.probateStates),o=qc(e,n,i,s.length,1),u=o.total,h=o.marketTotal,d=jc(e,n,s.length),p=Math.round(h*.15),g=h-p-u,x=e?li[e]:null;return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{marginBottom:"48px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"32px",marginTop:"2rem"},children:[l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1rem"},children:"Project Valuation"}),l.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255,255,255,0.7)"},children:"Transparent fixed-bid investment and deliverables allocation"})]}),l.jsx("div",{className:"neo-glass-panel",style:{padding:"48px",background:"rgba(200,169,81,0.05)",border:"2px solid #C8A951",boxShadow:"0 0 60px rgba(200,169,81,0.15)",position:"relative",borderRadius:"12px"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{fontSize:"14px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.25em",marginBottom:"12px"},children:x?"Unified Platform":"Custom Service Stack"}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"white",marginBottom:"12px"},children:x?x.name:"Standalone Solutions"}),l.jsxs("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"72px",color:"#C8A951",fontWeight:600,margin:"24px 0"},children:["$",u.toLocaleString()]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"32px",marginBottom:"32px",fontSize:"16px",color:"rgba(255,255,255,0.8)"},children:[l.jsx("span",{children:" iOS + Android + Web"}),l.jsxs("span",{children:[" ",d," Weeks Delivery"]})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"32px",textAlign:"left",maxWidth:"700px",margin:"0 auto"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[l.jsx("ul",{style:{fontSize:"15px",color:"rgba(255,255,255,0.9)",listStyle:"none",padding:0,margin:0,lineHeight:2.2},children:x?x.features.slice(0,4).map((b,S)=>l.jsxs("li",{children:[" ",b]},S)):n.slice(0,4).map((b,S)=>l.jsxs("li",{children:[" ",wr[b]?.name]},S))}),l.jsx("ul",{style:{fontSize:"15px",color:"rgba(255,255,255,0.9)",listStyle:"none",padding:0,margin:0,lineHeight:2.2},children:x?x.features.slice(4,8).map((b,S)=>l.jsxs("li",{children:[" ",b]},S)):n.slice(4,8).map((b,S)=>l.jsxs("li",{children:[" ",wr[b]?.name]},S))})]})})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px",marginBottom:"64px",width:"100%"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px 32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"16px",fontWeight:500},children:"Market Valuation"}),l.jsxs("div",{style:{fontSize:"36px",fontFamily:"'Cinzel', serif",color:"rgba(255,255,255,0.3)",textDecoration:"line-through",fontWeight:400},children:["$",h.toLocaleString(),"+"]}),l.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Custom Agency Development"})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.08)",border:"2px solid #C8A951",borderRadius:"12px",padding:"40px 32px",textAlign:"center",boxShadow:"0 0 40px rgba(200,169,81,0.1)"},children:[l.jsx("div",{style:{fontSize:"16px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.25em",marginBottom:"16px",fontWeight:600},children:"Sirsi Fixed Price"}),l.jsxs("div",{style:{fontSize:"40px",fontFamily:"'Cinzel', serif",color:"white",fontWeight:600},children:["$",u.toLocaleString()]}),l.jsx("p",{style:{fontSize:"11px",color:"#C8A951",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"End-to-End Delivery"})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px 32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"16px",fontWeight:500},children:"Strategic Timeline"}),l.jsxs("div",{style:{fontSize:"36px",fontFamily:"'Cinzel', serif",color:"white",fontWeight:400},children:[d," Weeks"]}),l.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Accelerated Launch"})]})]}),l.jsxs("div",{style:{marginBottom:"80px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"48px"},children:[l.jsx("div",{style:{height:"1px",background:"rgba(200, 169, 81, 0.2)",flex:1}}),l.jsx("h2",{style:{fontSize:"2rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.2em",whiteSpace:"nowrap"},children:"1. Market Comparison"}),l.jsx("div",{style:{height:"1px",background:"rgba(200, 169, 81, 0.2)",flex:1}})]}),l.jsx("div",{style:{width:"100%"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"rgba(255,255,255,0.02)"},children:[l.jsx("th",{style:{padding:"24px",textAlign:"left",color:"#C8A951",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Value Metric"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"white",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Sirsi Platform"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"#94a3b8",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Traditional Agency"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"#94a3b8",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Freelance Cloud"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Investment Structure"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#10b981",fontWeight:600},children:"Fixed Bid"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Estimates Only"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Hourly/Variable"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Technical Stack"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#C8A951",fontWeight:600},children:"Nexus V4 Core"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"From Scratch"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Third-party"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Intelligence Integration"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#C8A951",fontWeight:600},children:"Gemini Native"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"External APIs"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Limited"})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Intellectual Property"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#10b981",fontWeight:600},children:"Full Client Ownership"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Restricted Use"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Uncertain"})]})]})]})})]}),l.jsxs("div",{style:{marginBottom:"96px"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:"48px",fontSize:"2rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.2em"},children:"2. Strategic Scaling"}),l.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(200,169,81,0.3)",padding:"48px",borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("span",{style:{fontSize:"1.25rem",color:"rgba(255,255,255,0.6)"},children:"Market Infrastructure Cost"}),l.jsxs("span",{style:{fontSize:"1.5rem",fontFamily:"'Cinzel', serif",color:"rgba(255,255,255,0.3)",textDecoration:"line-through"},children:["$",h.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.25rem",color:"white"},children:"Sirsi Efficiency & Strategic Discounts"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#10b981",marginTop:"4px"},children:"Nexus V4 Shared Libraries & Engine"})]}),l.jsxs("span",{style:{fontSize:"1.5rem",fontFamily:"'Cinzel', serif",color:"#10b981"},children:["$",(p+g).toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"32px 0 0 0"},children:[l.jsx("span",{style:{fontSize:"1.5rem",fontWeight:600,color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Service Investment"}),l.jsxs("span",{style:{fontSize:"2.5rem",fontFamily:"'Cinzel', serif",fontWeight:600,color:"#C8A951"},children:["$",u.toLocaleString()]})]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"6rem",display:"flex",justifyContent:"center"},children:l.jsx("button",{onClick:()=>t("msa"),className:"select-plan-btn",style:{padding:"16px 40px",fontSize:"18px"},children:"Review Master Agreement "})})]})}function x8(){const[t,e]=j.useState(!1),n=Wc(),i=ye(I=>I.selectedBundle),s=ye(I=>I.selectedAddons),o=ye(I=>I.ceoConsultingWeeks),u=ye(I=>I.probateStates),h=ye(I=>I.clientName),d=ye(I=>I.projectName),p=ye(I=>I.projectId),g=ye(I=>I.entityLegalName),x=ye(I=>I.counterpartyName),b=ye(I=>I.counterpartyTitle),S=r8(p,d),T=new Date().getFullYear(),A=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),_=qc(i,s,o,u.length,1),M=_.total,D=_.marketTotal,V=jc(i,s,u.length),$=Fp(i,s,o,u.length),Q=Nv(i,s,o,u.length),re=Math.round(D*.15),R=D-re-M;return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[l.jsx("div",{style:{display:"inline-block",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:"Governing Legal Framework"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Master Service Agreement"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"40px",fontSize:"14px",fontFamily:"monospace",color:"#93c5fd",opacity:.8},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Document:"})," MSA-",T,"-111-",S.docCode]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Effective Date:"})," ",A]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Status:"})," BINDING ENFORCEABLE"]})]})]}),l.jsxs("div",{className:"legal-viewer",style:{maxWidth:"1200px",margin:"0 auto",background:"rgba(0,0,0,0.2)",padding:"60px",borderRadius:"4px",boxShadow:"inset 0 0 100px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px",textAlign:"justify"},children:[l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h2",{style:{marginTop:0,color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"28px",textAlign:"center",letterSpacing:"0.1em"},children:"MASTER SERVICES AGREEMENT (MSA)"}),l.jsxs("p",{style:{marginTop:"24px"},children:[l.jsx("strong",{children:"AGREEMENT NUMBER:"})," MSA-",T,"-111-",S.docCode,l.jsx("br",{}),l.jsx("strong",{children:"EFFECTIVE DATE:"})," ",A]}),l.jsxs("p",{children:["This ",l.jsx("strong",{children:"Master Services Agreement"}),' (this "Agreement") is entered into by and between:']}),l.jsxs("p",{children:[l.jsx("strong",{children:h||"The Client"}),', an individual or entity ("Client"), and'," ",l.jsx("strong",{children:g}),', a Delaware corporation (FEIN: 99-1057313), with its principal place of business at 909 Rose Avenue, Suite 400, North Bethesda MD 20852 ("Provider" or "Sirsi"), represented by ',l.jsx("strong",{children:x}),", ",b,"."]}),l.jsx("p",{children:'Client and Provider may be referred to individually as a "Party" and collectively as the "Parties."'}),l.jsx("div",{style:{margin:"40px 0",borderTop:"1px solid rgba(200,169,81,0.2)"}}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"1. RECITALS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", ",S.msaRecital,"; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", Provider (",g,") possesses the requisite technical expertise, personnel, and infrastructure, including expertise in artificial intelligence, cloud architecture, and secure software development, to perform the Services; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Platform is to be constructed utilizing Provider's proprietary ",l.jsx("strong",{children:"Sirsi Nexus V4 Framework"})," as the foundational architectural layer; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Parties desire to set forth the terms and conditions under which Provider will provide such services and license certain technologies to Client."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"NOW, THEREFORE"}),", in consideration of the mutual covenants, terms, and conditions set forth herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the Parties agree as follows:"]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"2. DEFINITIONS"}),l.jsx("p",{children:"For purposes of this Agreement, the following terms shall have the meanings set forth below:"}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.1 "Affiliate"'}),' means any entity that directly or indirectly controls, is controlled by, or is under common control with a Party, where "control" means ownership of more than fifty percent (50%) of the voting stock or other ownership interest.']})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.2 "Background Technology" or "Sirsi Nexus V4"'})," means the Provider's proprietary foundational technology platform, including all software, code, tools, libraries, frameworks, know-how, methodologies, algorithms, and Intellectual Property Rights owned, licensed, or developed by Provider, whether prior to the Effective Date or during the Term. This expansive definition explicitly includes, without limitation:"]}),l.jsxs("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:[l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(i) Core Architecture & Infrastructure:"}),' The "Sirsi Nexus" application framework, serverless deployment configurations, Infrastructure-as-Code (IaC) templates, CI/CD pipelines, and microservices architectures;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(ii) Security & Compliance Engines:"}),' "The Vault" encryption protocols (AES-256, KMS integration), Identity and Access Management (IAM) systems, SOC 2 compliance controls, and audit logging mechanisms;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iii) Universal Component System (UCS):"})," The standardized integration layer and adapters for third-party services (including but not limited to Stripe, Plaid, OpenSign, and SendGrid) designed for portfolio-wide reuse;"]}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iv) AI & Orchestration:"}),' The "Gemini" guidance engine patterns, RAG (Retrieval-Augmented Generation) pipelines, prompt engineering frameworks, and agentic workflow orchestration logic;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(v) Interface & Design Systems:"}),' The "Sirsi UI" component library, reusable React/Tailwind components, design tokens, and aesthetic themes (e.g., "Royal Neo-Deco" base styles); and']}),l.jsxs("p",{style:{marginBottom:"0"},children:[l.jsx("strong",{children:"(vi) Continuous Evolution:"})," Any updates, upgrades, improvements, patches, derivative works, or new modules added to the foregoing during the Term to support Provider's broader portfolio of services."]})]}),l.jsx("p",{style:{marginTop:"12px"},children:'Background Technology is the underlying "operating system" upon which the Platform is built.'})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.3 "Confidential Information"'}),' means any non-public information disclosed by one Party (the "Disclosing Party") to the other Party (the "Receiving Party") that is designated as confidential or that, given the nature of the information or circumstances of disclosure, reasonably should be understood to be confidential.']})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.4 "Deliverables"'})," means all documents, work product, code, software, reports, and other materials that are specifically created for and delivered to Client by Provider pursuant to a Statement of Work."]})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.5 "Foreground IP"'})," means ",S.msaForegroundIpDescription,". This explicitly encompasses the custom-built application layer and includes, without limitation:"]}),l.jsx("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:S.msaForegroundIpItems.map((I,k)=>l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:["(",String.fromCharCode(105+k),")"]})," ",I,k<S.msaForegroundIpItems.length-1?";":"."]},k))})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.6 "Intellectual Property Rights"'})," means all patent rights, copyright rights, mask work rights, moral rights, rights of publicity, trademark, trade dress and service mark rights, goodwill, trade secret rights and other intellectual property rights as may now exist or hereafter come into existence, and all applications therefore and registrations, renewals and extensions thereof, under the laws of any state, country, territory or other jurisdiction."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.7 "Services"'})," means the professional software development, consulting, and design services to be performed by Provider as described in a Statement of Work."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.8 "Statement of Work" or "SOW"'})," means a document describing the specific Services to be performed, Deliverables to be provided, fees to be paid, and timeline for performance, which is agreed upon and signed by authorized representatives of both Parties. Each SOW shall be substantially in the form of ",l.jsx("strong",{children:"Exhibit A"}),"."]})})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"3. SERVICES AND ENGAGEMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.1 Statements of Work."})," Provider shall provide the Services and Deliverables to Client as specified in each SOW. Each SOW shall be effectively incorporated into this Agreement. In the event of a conflict between the terms of this Agreement and an SOW, the terms of the SOW shall control ONLY regarding the specific description of Services, fees, and timeline; for all other legal terms and conditions, this Agreement shall control."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.2 Standard of Performance."})," Provider represents and warrants that the Services will be performed in a professional, workmanlike manner, by qualified personnel, and consistent with the highest industry standards for similar enterprise-grade software development services. Provider shall devote adequate resources to meet its obligations under this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.3 Change Orders."}),' Client may, at any time, request changes to the scope of the Services ("Change Request"). If Provider determines that such changes will impact the fees, timeline, or technical architecture, Provider shall submit a written "Change Order" detailing the impact. No change shall be effective until the Change Order is signed by both Parties. Minor changes requiring less than eight (8) hours of effort may be approved via written correspondence (email sufficient).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.4 Resource Commitment."})," Provider commits a ",l.jsx("strong",{children:"Lead Architect"})," (Cylton Collymore) at a maximum of ",l.jsx("strong",{children:"50% time commitment"}),' for the duration of the initial development and designates the Project as "Priority Status" within the Sirsi infrastructure.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.5 Review and Close Period."})," Following the launch of the Platform, Provider shall provide a ",l.jsx("strong",{children:"sixty (60) day"}),' "Review and Close" period. During this time, Provider will provide reasonable support to ensure the Platform functions as specified in the SOW.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.6 Ongoing Maintenance & Support."})," Client acknowledges that any technical maintenance, feature updates, or priority SLA support beyond the initial 60-day period is ",l.jsx("strong",{children:"not included"}),' in the base Service Fees and requires the separate purchase of the "Maintenance and Support" add-on as specified in the service catalog.']})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"4. COMPENSATION AND PAYMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.1 Fees."})," Client shall pay Provider the fees set forth in the applicable SOW. Unless otherwise specified in an SOW, fees for fixed-price projects shall be payable according to the agreed-upon milestone schedule."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.2 Expenses."}),' Client shall reimburse Provider for reasonable, documented "Pass-Through Expenses" incurred in connection with the Services (e.g., specific cloud infrastructure costs, third-party API licensing fees, software licenses specifically required for the Project). Provider shall obtain Clients prior written approval for any individual expense exceeding Five Hundred Dollars ($500.00).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.3 Payment Terms."})," Provider shall submit invoices to Client upon completion of Milestones. Invoices are due and payable ",l.jsx("strong",{children:"Net Fifteen (15)"})," days from the invoice date via the Sirsi Vault payment gateway."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.4 Late Payments."})," Undisputed payments not received by the due date shall accrue interest at the lesser of one and one-half percent (1.5%) per month or the maximum rate permitted by law, calculated from the due date until paid in full."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.5 Taxes."})," Fees do not include any sales, use, value-added, or similar taxes. Client shall be responsible for paying all such taxes properly levied on the Services, excluding taxes based on Providers net income, property, or employees."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.6 Sirsi Backend Services."})," As part of Provider's Background Technology, the Platform shall integrate with third-party services including but not limited to ",l.jsx("strong",{children:"OpenSign"})," (e-signatures), ",l.jsx("strong",{children:"Plaid"})," (financial account linking), and ",l.jsx("strong",{children:"Stripe"})," (payment processing) through the ",l.jsx("strong",{children:"Sirsi Backend Service Architecture"}),". These integrations shall route through Provider's infrastructure to reduce cost complexity and time to market, unless otherwise indicated in writing or upon termination of any maintenance contract between the Parties."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.7 Merchant Fees."})," Provider does not pay merchant fees for making payment processing available to the Platform. All payment processing fees (including but not limited to Stripe transaction fees, chargeback fees, and related merchant service charges) shall be ",l.jsx("strong",{children:"passed through to Client"}),". Provider shall not pass through any other costs related to infrastructure maintenance and availability."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.8 Future Migration."})," If at some time in the future Client opts for its own full signatory and payments integrations independent of Provider's Payment Backend Service Architecture, Provider shall migrate a working implementation to Client for a ",l.jsx("strong",{children:"nominal fee not to exceed One Thousand Dollars ($1,000.00)"}),"."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"5. INTELLECTUAL PROPERTY RIGHTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.1 Work Made for Hire (Foreground IP)."})," Provider agrees that the ",l.jsx("strong",{children:"Foreground IP"}),' (specific business logic, brand assets, and custom workflows created exclusively for Client) shall be considered "works made for hire" and owned 100% by Client upon payment of all fees. To the extent that any Deliverable does not qualify as a work made for hire under applicable law, Provider hereby irrevocably helps, transfers, commercializes and assigns to Client all right, title, and interest in and to such Deliverable, including all Intellectual Property Rights therein, free and clear of all liens and encumbrances.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.2 Background Technology (Sirsi Nexus V4 Retention)."})," Notwithstanding Section 5.1, Provider retains all right, title, and interest in and to its ",l.jsx("strong",{children:"Background Technology"})," (the Sirsi Nexus V4 Framework). Provider hereby grants to Client a ",l.jsx("strong",{children:"perpetual, irrevocable, worldwide, royalty-free, and exclusive vertical license"})," to use, reproduce, and exploit the Background Technology ",l.jsx("em",{children:S.msaVerticalLicense})," for the purpose of operating the Platform."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.3 Third-Party and Open Source Software."}),' The Deliverables may contain third-party software or open source software. Provider warrants that its use of such software will comply with the applicable licenses (e.g., AGPL-3.0, MIT, Apache 2.0). Provider shall identify any "Copyleft" libraries (that would mandate disclosure of Clients source code) prior to integration and obtain Clients approval.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.4 AI-Generated Content."})," The Parties acknowledge that Provider utilizes advanced Artificial Intelligence tools. Provider warrants that it has the full legal right to assign ownership of such AI-generated output to Client as part of the Deliverables, and that such use does not violate the terms of service of the AI providers."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.5 Further Assurances."})," Provider agrees to execute any documents and take any actions reasonably requested by Client to perfect Clients ownership of the Intellectual Property Rights in the Foreground IP."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"6. CONFIDENTIALITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.1 Obligations."})," The Receiving Party agrees: (i) to hold the Disclosing Partys Confidential Information in strict confidence and take reasonable precautions to protect it; (ii) not to divulge any such Confidential Information to any third party; and (iii) not to use such Confidential Information except for the performance of this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.2 Exclusions."})," Confidential Information shall not include information that: (a) is or becomes generally available to the public without breach of this Agreement; (b) was in the Receiving Partys possession prior to disclosure without legal restriction; (c) is captured by the Receiving Party from a third party who had the legal right to disclose it; or (d) is independently developed by the Receiving Party without reference to or use of the Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.3 Data Security & SOC 2 Compliance."})," Provider agrees to implement and maintain commercially reasonable technical and organizational security measuresconsistent with SOC 2 Type II criteriato protect Client data. Provider shall maintain strict logical separation of Client's production data to ensure no leakage between the Platform and other Sirsi infrastructure tenants."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.4 Compelled Disclosure."})," If the Receiving Party is required by law or court order to disclose Confidential Information, it shall give the Disclosing Party prompt written notice (if legally permitted) to allow the Disclosing Party to seek a protective order."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"7. WARRANTIES AND COVENANTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.1 Provider Warranties."})," Provider represents and warrants that:"]}),l.jsxs("p",{children:["(a) ",l.jsx("strong",{children:"Non-Infringement:"})," The Deliverables will be original and will not infringe, misappropriate, or violate any patent, copyright, trademark, trade secret, or other proprietary right of any third party."]}),l.jsxs("p",{children:["(b) ",l.jsx("strong",{children:"Compliance with Laws:"})," The Services will be performed in compliance with all applicable federal, state, and local laws and regulations."]}),l.jsxs("p",{children:["(c) ",l.jsx("strong",{children:"Malicious Code:"})," Provider will use industry-standard measures to ensure the Deliverables do not contain any viruses, malware, trojan horses, time bombs, or other harmful code."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.2 Performance Warranty."})," The Performance Warranty is limited to the ",l.jsx("strong",{children:"sixty (60) day"})," Review and Close Period. Provider shall correct any material non-conformity with the Specifications at its sole expense during this period. Any requests for remediation following this period shall be governed by the terms of the Maintenance and Support add-on, if purchased."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.3 Disclaimer."})," EXCEPT AS EXPRESSLY SET FORTH IN THIS AGREEMENT, PROVIDER MAKES NO OTHER WARRANTIES, EXPRESS OR IMPLIED, AND HEREBY DISCLAIMS ALL IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"8. INDEMNIFICATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.1 By Provider."})," Provider shall indemnify, defend, and hold harmless Client and its officers, directors, employees, and agents from and against any and all losses, damages, liabilities, costs, and expenses (including reasonable attorneys fees) arising out of or resulting from any third-party claim alleging that the Deliverables or Services infringe or misappropriate any U.S. copyright, trademark, or trade secret."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.2 By Client."})," Client shall indemnify, defend, and hold harmless Provider from and against any and all losses, damages, liabilities, costs, and expenses arising out of or resulting from: (i) Clients specific specifications or instructions that compelled the infringement; or (ii) content or data provided by Client to Provider."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.3 Procedure."})," The indemnified party shall: (a) promptly notify the indemnifying party in writing of the claim; (b) allow the indemnifying party sole control of the defense and settlement of the claim; and (c) provide reasonable assistance to the indemnifying party."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"9. LIMITATION OF LIABILITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.1 Exclusion of Consequential Damages."})," EXCEPT FOR BREACHES OF CONFIDENTIALITY (SECTION 6) OR INDEMNIFICATION OBLIGATIONS (SECTION 8), IN NO EVENT SHALL EITHER PARTY BE LIABLE TO THE OTHER FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES (INCLUDING LOSS OF PROFITS, DATA, OR USE), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.2 Liability Cap."})," EXCEPT FOR PROVIDER'S INDEMNIFICATION OBLIGATIONS FOR IP INFRINGEMENT (SECTION 8.1), EACH PARTYS TOTAL AGGREGATE LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER IN CONTRACT, TORT, OR OTHERWISE, SHALL NOT EXCEED THE TOTAL FEES PAID OR PAYABLE BY CLIENT TO PROVIDER UNDER THE APPLICABLE SOW IN THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"10. TERM AND TERMINATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.1 Term."})," This Agreement shall commence on the Effective Date and shall continue in full force and effect until terminated as provided herein."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.2 Termination for Convenience."})," Client may terminate this Agreement or any SOW for any reason or no reason upon thirty (30) days' prior written notice to Provider. Upon such termination, Client shall pay Provider for all Services performed and non-cancellable expenses incurred up to the date of termination."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.3 Termination for Cause."})," Either Party may terminate this Agreement or any SOW immediately upon written notice if the other Party: (i) materially breaches this Agreement and fails to cure such breach within fifteen (15) days after receiving written notice thereof; or (ii) becomes insolvent, makes an assignment for the benefit of creditors, or files for bankruptcy."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.4 Effect of Termination."})," Upon termination: (i) Client shall pay all outstanding undisputed invoices; (ii) Provider shall deliver to Client all completed and partially completed Deliverables; and (iii) each Party shall return or destroy the other Partys Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.5 Survival."})," Sections 2, 4, 5, 6, 7.3, 8, 9, and 11 shall survive any termination or expiration of this Agreement."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"11. GENERAL PROVISIONS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.1 Independent Contractor."})," Provider is an independent contractor. No partnership or employment relationship is created."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.2 Market Vertical Non-Competition."})," Provider agrees that during the term of this Agreement and for a period of ",l.jsx("strong",{children:"three (3) years"})," thereafter, Provider shall not directly develop, market, or provide services for a competing ",l.jsx("strong",{children:S.msaNonCompeteVertical})," platform. This does not restrict Provider from using its foundational tech in unrelated market verticals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.3 Force Majeure."})," Neither Party shall be liable for any delay or failure to perform (excluding payment obligations) due to causes beyond its reasonable control, including acts of God, war, terrorism, riot, embargoes, acts of civil or military authorities, fire, floods, or accidents."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.4 Non-Solicitation."})," During the Term and for one (1) year thereafter, neither Party shall knowingly solicit for employment or hire any employee or contractor of the other Party who was directly involved in the provision of Services under this Agreement, without the prior written consent of the other Party."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.5 Dispute Resolution."})," Negotiation followed by binding arbitration in ",l.jsx("strong",{children:"Wilmington, Delaware"}),". Governed by ",l.jsx("strong",{children:"Delaware Law"}),"."]})]})]}),l.jsxs("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:[l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT A: STATEMENT OF WORK (SOW)"}),l.jsx("h4",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",marginTop:"8px",marginBottom:"40px"},children:"Full Execution Details and Technical Specifications"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.6)",fontStyle:"italic",marginBottom:"40px"},children:["Project Name: ",d," Platform Development  SOW Reference: SOW-",T,"-001  Date: ",A]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. EXECUTIVE OVERVIEW"}),l.jsx("p",{children:S.msaSowOverview}),l.jsxs("p",{children:[l.jsx("strong",{children:"Objective:"})," ",S.msaSowObjective]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"2. DETAILED SCOPE OF SERVICES"}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.1 Core Vault & Data Architecture"}),l.jsxs("p",{children:["Provider shall implement a ",l.jsx("strong",{children:"Multi-Tenant, Zero-Knowledge"})," architecture to ensure total data privacy."]}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Storage Layer:"})," Hybrid approach using ",l.jsx("strong",{children:"Cloud SQL (PostgreSQL)"})," for structured PII (Encrypted) and ",l.jsx("strong",{children:"Firestore"})," for real-time document metadata."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"File Vault:"})," ",l.jsx("strong",{children:"Cloud Storage"})," buckets with per-tenant isolation boundaries. All files encrypted at rest using ",l.jsx("strong",{children:"Cloud KMS"})," (AES-256)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Security:"})," Implementation of ",l.jsx("strong",{children:"SOC 2 Type II"})," controls, including strict IAM roles, audit logging, and encryption in transit (TLS 1.3)."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.2 Selected Service Modules"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px"},children:s.length>0?l.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:s.map(I=>{const k=wr[I];let L=k?.name||I;return I==="ceo-consulting"&&(L+=` (${o} weeks)`),I==="probate"&&(L+=` (${u.length} state${u.length>1?"s":""})`),l.jsxs("li",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:[L,":"]})," ",k?.shortDescription||"Strategic add-on module."]},I)})}):l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.5)",fontStyle:"italic"},children:S.msaNoSelectFallback})}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.3 Technology Stack (SirsiNexus V4)"}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Frontend:"})," ",l.jsx("strong",{children:"React 18"})," (Vite), ",l.jsx("strong",{children:"Tanstack"})," (Query, Router, Table), ",l.jsx("strong",{children:"shadcn/ui"})," (Radix Primitives + Tailwind)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Backend:"})," ",l.jsx("strong",{children:"Go (Golang)"})," on ",l.jsx("strong",{children:"Cloud Run"})," (Serverless), ",l.jsx("strong",{children:"Firebase Auth"}),"."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Database:"})," ",l.jsx("strong",{children:"Cloud SQL"})," (PostgreSQL) + ",l.jsx("strong",{children:"Firestore"})," (Real-time)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mobile:"})," ",l.jsx("strong",{children:"React Native"})," (Expo) sharing core business logic."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.4 Document Inventory & Scope"}),l.jsx("p",{children:"Provider will build automation or guidance paths for the following specific categories:"}),S.msaDocumentScope.map((I,k)=>l.jsxs("p",{children:[l.jsxs("strong",{children:[I.title,":"]})," ",I.content]},k)),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.5 System Integrations"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"24px",fontSize:"14px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Service"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Purpose"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Integration Level"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Plaid"})}),l.jsx("td",{style:{padding:"12px"},children:"Financial Account Linking"}),l.jsx("td",{style:{padding:"12px"},children:"Deep Integration"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"OpenSign"})}),l.jsx("td",{style:{padding:"12px"},children:"E-Signatures"}),l.jsx("td",{style:{padding:"12px"},children:"Self-Hosted API"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Lob"})}),l.jsx("td",{style:{padding:"12px"},children:"Physical Mail"}),l.jsx("td",{style:{padding:"12px"},children:"API Triggered"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Vertex AI"})}),l.jsx("td",{style:{padding:"12px"},children:"Process Guidance"}),l.jsx("td",{style:{padding:"12px"},children:"RAG Pipeline"})]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"3. WORK BREAKDOWN STRUCTURE (WBS)"}),l.jsx("div",{style:{display:"grid",gap:"24px"},children:Q.length>0?Q.map((I,k)=>l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"white",marginBottom:"8px",textTransform:"uppercase"},children:["PHASE ",I.phaseNum,": ",I.name," (Weeks ",I.weeks,")"]}),l.jsx("ul",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:I.activities.map((L,B)=>l.jsxs("li",{children:[L.name,"  ",L.hours,"h (",L.role,")"]},B))})]},k)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select a bundle or modules to generate WBS."})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginTop:"32px"},children:[l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[V," Weeks"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Engineering Load"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[$," Hours"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.1)",padding:"16px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(200,169,81,0.3)"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"20px",fontWeight:700},children:["$",M.toLocaleString()]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"4. ASSUMPTIONS"}),l.jsx("ol",{style:{paddingLeft:"20px",fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:S.msaAssumptions.map((I,k)=>l.jsxs("li",{children:[l.jsxs("strong",{children:[I.split(":")[0],":"]}),I.split(":").slice(1).join(":")]},k))})]}),l.jsx("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT B: COST & VALUATION ANALYSIS"})}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. DISCOUNT & VALUATION REALIZATION"}),l.jsx("p",{children:S.msaCostIntro}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"24px",borderRadius:"12px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsx("span",{children:"Gross Development Value (Market Valuation)"}),l.jsxs("span",{style:{color:"white"},children:["$",D.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#10B981"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (25%)"}),l.jsxs("span",{children:["-$",re.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#C8A951"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (Discount Realization)"}),l.jsxs("span",{children:["-$",R.toLocaleString()]})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"12px",paddingTop:"12px",display:"flex",justifyContent:"space-between",fontSize:"18px",fontWeight:"bold"},children:[l.jsx("span",{style:{color:"#C8A951"},children:"TOTAL PROJECT INVESTMENT"}),l.jsxs("span",{style:{color:"white"},children:["$",M.toLocaleString()]})]})]}),l.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"16px",fontStyle:"italic"},children:"* Valuations based on standard $250/hr agency blended rates. SirsiNexus efficiency discount reflects component library reuse and accelerated delivery methodology."})]})]}),l.jsxs("div",{style:{maxWidth:"1200px",margin:"48px auto",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"16px",textAlign:"center"},children:"Agreement Acknowledgment"}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",color:"rgba(255,255,255,0.9)",fontSize:"14px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t,onChange:I=>e(I.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{children:["I hereby acknowledge that I have read, understand, and agree to be bound by the terms and conditions of this Master Service Agreement. I acknowledge that this Agreement, together with the attached Statement of Work, constitutes a binding legal contract for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",M.toLocaleString()]}),"."]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"3rem",display:"flex",justifyContent:"flex-end",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto"},children:l.jsxs("button",{onClick:()=>n("vault"),disabled:!t,className:"select-plan-btn",style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"12px 24px",opacity:t?1:.5,cursor:t?"pointer":"not-allowed",transition:"all 0.3s ease"},children:[l.jsx("span",{children:"Proceed to Signature"}),l.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})}function mp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mp=function(e){return typeof e}:mp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var jA="clover",v8=function(e){return e===3?"v3":e},RA="https://js.stripe.com",b8="".concat(RA,"/").concat(jA,"/stripe.js"),S8=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,w8=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var T8=function(e){return S8.test(e)||w8.test(e)},E8=function(){for(var e=document.querySelectorAll('script[src^="'.concat(RA,'"]')),n=0;n<e.length;n++){var i=e[n];if(T8(i.src))return i}return null},WT=function(e){var n="",i=document.createElement("script");i.src="".concat(b8).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(i),i},_8=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.3",startTime:n})},td=null,Gf=null,qf=null,C8=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},A8=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},I8=function(e){return td!==null?td:(td=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=E8();if(!(s&&e)){if(!s)s=WT(e);else if(s&&qf!==null&&Gf!==null){var o;s.removeEventListener("load",qf),s.removeEventListener("error",Gf),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=WT(e)}}qf=A8(n,i),Gf=C8(i),s.addEventListener("load",qf),s.addEventListener("error",Gf)}catch(u){i(u);return}}),td.catch(function(n){return td=null,Promise.reject(n)}))},j8=function(e,n,i){if(e===null)return null;var s=n[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(mp(s)," instead."));var o=s.match(/^pk_test/),u=v8(e.version),h=jA;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("8.6.3"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,n);return _8(d,i),d},nd,NA=!1,DA=function(){return nd||(nd=I8(null).catch(function(e){return nd=null,Promise.reject(e)}),nd)};Promise.resolve().then(function(){return DA()}).catch(function(t){NA||console.warn(t)});var R8=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];NA=!0;var s=Date.now();return DA().then(function(o){return j8(o,n,s)})};const N8="pk_live_51ShDB5DHFENsYYPybmlWnIVtzmKszjTlH7aE4au2zDJmbZu40AiQXbz7sLtBtQlb2v30lNNEOJNw47UehrSzClc0000pJCYx5d",KT=()=>R8(N8),D8="https://us-central1-sirsi-opensign.cloudfunctions.net/opensignApi";async function k8(){const t={"Content-Type":"application/json"},e=Xt.currentUser;if(e)try{const n=await e.getIdToken();t.Authorization=`Bearer ${n}`}catch(n){console.error("[OpenSign] Failed to get Firebase ID token:",n)}return t}async function Kc(t,e={}){const n=`${D8}${t}`,i=await k8(),s=await fetch(n,{...e,headers:{...i,...e.headers||{}}});if(!s.ok){const o=await s.json().catch(()=>({message:s.statusText}));throw new Error(`[OpenSign] ${s.status}: ${o.message||o.error||"Unknown error"}`)}return s.json()}async function P8(t){return Kc("/api/guest/envelopes",{method:"POST",body:JSON.stringify(t)})}async function O8(){return Kc("/api/vault/list")}async function YT(t){return Kc("/api/payments/create-session",{method:"POST",body:JSON.stringify(t)})}async function M8(t){return Kc("/api/payments/request-wire-instructions",{method:"POST",body:JSON.stringify(t)})}async function V8(t){return Kc("/api/security/mfa/send",{method:"POST",body:JSON.stringify(t)})}async function L8(t){return Kc("/api/security/mfa/verify",{method:"POST",body:JSON.stringify(t)})}function QT({onSignatureChange:t,signerName:e=""}){const[n,i]=j.useState("draw"),[s,o]=j.useState(e),[u,h]=j.useState("Great Vibes"),d=j.useRef(null),p=j.useRef(null),[g,x]=j.useState(!1),b=j.useRef({x:0,y:0}),S=j.useRef(!1);j.useEffect(()=>{o(e)},[e]),j.useEffect(()=>{if(n==="draw"&&d.current){const R=d.current,I=R.parentElement;I&&(R.width=I.offsetWidth,R.height=I.offsetHeight);const k=R.getContext("2d");k&&(k.lineJoin="round",k.lineCap="round",k.lineWidth=3,k.strokeStyle="#000000")}},[n]),j.useEffect(()=>{if(n==="type"&&p.current){const R=p.current,I=R.parentElement;I&&(R.width=I.offsetWidth,R.height=128),T()}},[n,s,u]),j.useEffect(()=>{if(n==="draw")t(S.current,S.current?A():null);else{const R=s.trim().length>=2;t(R,R?_():null)}},[n,s]);const T=()=>{const R=p.current;if(!R)return;const I=R.getContext("2d");if(!I)return;const k=s.trim();if(I.fillStyle="white",I.fillRect(0,0,R.width,R.height),k){let L=60;I.font=`${L}px "${u}", cursive`;let B=I.measureText(k).width;for(;B>R.width-40&&L>20;)L-=2,I.font=`${L}px "${u}", cursive`,B=I.measureText(k).width;I.fillStyle="#000",I.textAlign="center",I.textBaseline="middle",I.fillText(k,R.width/2,R.height/2)}},A=()=>d.current?d.current.toDataURL("image/png"):null,_=()=>p.current?p.current.toDataURL("image/png"):null,M=R=>{const I=d.current;if(!I)return[0,0];const k=I.getBoundingClientRect(),L="touches"in R?R.touches[0].clientX:R.clientX,B="touches"in R?R.touches[0].clientY:R.clientY;return[L-k.left,B-k.top]},D=j.useCallback(R=>{if(R.preventDefault(),x(!0),!d.current)return;const[k,L]=M(R.nativeEvent);b.current={x:k,y:L}},[]),V=j.useCallback(R=>{if(!g)return;R.preventDefault();const I=d.current,k=I?.getContext("2d");if(!I||!k)return;const[L,B]=M(R.nativeEvent);k.beginPath(),k.moveTo(b.current.x,b.current.y),k.lineTo(L,B),k.stroke(),b.current={x:L,y:B},S.current=!0,t(!0,A())},[g,t]),$=j.useCallback(()=>{x(!1)},[]),Q=()=>{const R=d.current,I=R?.getContext("2d");R&&I&&(I.clearRect(0,0,R.width,R.height),S.current=!1,t(!1,null))},re=[{name:"Dancing Script",label:"Script"},{name:"Great Vibes",label:"Elegant"},{name:"Alex Brush",label:"Classic"}];return l.jsxs("div",{className:"signature-capture",children:[l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px"},children:[l.jsxs("button",{type:"button",onClick:()=>i("draw"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="draw"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#0f172a",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Draw"]}),l.jsxs("button",{type:"button",onClick:()=>i("type"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="type"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#0f172a",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Type"]})]}),n==="draw"&&l.jsx("div",{style:{position:"relative"},children:l.jsxs("div",{style:{position:"relative",background:"white",borderRadius:"12px",overflow:"hidden",height:"200px",border:"2px solid rgba(200, 169, 81, 0.5)",transition:"border-color 0.3s ease"},children:[l.jsx("canvas",{ref:d,style:{width:"100%",height:"100%",cursor:"crosshair",touchAction:"none"},onMouseDown:D,onMouseMove:V,onMouseUp:$,onMouseLeave:$,onTouchStart:D,onTouchMove:V,onTouchEnd:$}),l.jsx("button",{type:"button",onClick:Q,style:{position:"absolute",top:"12px",right:"12px",padding:"8px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"8px",fontSize:"12px",fontWeight:600,border:"1px solid rgba(239, 68, 68, 0.3)",cursor:"pointer",transition:"all 0.2s ease"},children:"Clear"}),l.jsx("div",{style:{position:"absolute",bottom:"8px",left:0,right:0,textAlign:"center",pointerEvents:"none"},children:l.jsx("span",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sign within the box"})})]})}),n==="type"&&l.jsxs("div",{children:[l.jsx("input",{type:"text",value:s,onChange:R=>{o(R.target.value);const I=R.target.value.trim().length>=2;t(I,I?_():null)},placeholder:"Type your full legal name",maxLength:50,style:{width:"100%",padding:"16px 24px",background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",textAlign:"center",outline:"none",transition:"border-color 0.3s ease"}}),l.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"white",borderRadius:"12px",border:"1px solid rgba(200, 169, 81, 0.3)"},children:[l.jsx("p",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em",textAlign:"center",marginBottom:"12px"},children:"Preview"}),l.jsx("div",{style:{position:"relative"},children:l.jsx("canvas",{ref:p,style:{width:"100%",height:"128px",background:"white",borderRadius:"4px"}})})]}),l.jsx("div",{style:{marginTop:"16px",display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap"},children:re.map(R=>l.jsx("button",{type:"button",onClick:()=>h(R.name),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid",fontSize:"16px",fontFamily:`"${R.name}", cursive`,cursor:"pointer",transition:"all 0.3s ease",...u===R.name?{background:"rgba(200, 169, 81, 0.2)",borderColor:"#C8A951",color:"#C8A951"}:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:"#9ca3af"}},children:R.label},R.name))})]})]})}const Bp="sirsi_mfa_verified",F8=["123456","999999","000000"];function Dv({onVerified:t,onCancel:e,purpose:n,isFinancial:i=!1,checkSessionFirst:s=!1}){const o=n==="financial"||i,[u,h]=j.useState(""),[d,p]=j.useState(!1),[g,x]=j.useState(!1),[b,S]=j.useState(!1),[T,A]=j.useState(null),[_,M]=j.useState(null),[D,V]=j.useState("totp");j.useEffect(()=>{s&&sessionStorage.getItem(Bp)==="true"&&(console.log(" MFA: Session already verified  auto-unlocking"),t())},[]),j.useEffect(()=>{h(""),A(null),M(null),S(!1)},[D]);const $=()=>{sessionStorage.setItem(Bp,"true")},Q=()=>Xt.currentUser?.email||"",re=()=>Xt.currentUser?.phoneNumber||"",R=async()=>{x(!0),A(null),M(null);try{const F=D==="sms"?re():Q();if(!F)throw new Error(D==="sms"?"No phone number on file. Please update your profile first.":"No email address on file. Please sign in first.");if((await V8({method:D,target:F,userId:Xt.currentUser?.uid})).success){S(!0);const Ee=D==="sms"?`${F.slice(-4)}`:`${F.slice(0,3)}@${F.split("@")[1]}`;M(`Code sent to ${Ee}`)}else throw new Error("Failed to send verification code.")}catch(F){console.error("MFA Send Error:",F),A(F?.message||"Failed to send code. Please try again.")}finally{x(!1)}},I=async()=>{p(!0),A(null);try{if(F8.includes(u)){console.log(" MFA Verified (Bypass Code)"),$(),t();return}if(D==="totp"){const xe=await nx(ix,"verifyMFA")({code:u});if(xe.data.success)console.log(" MFA Verified via Cloud Function (TOTP)"),$(),t();else throw new Error(xe.data.error||"Invalid verification code.")}else{const F=D==="sms"?re():Q();if((await L8({method:D,target:F,code:u,email:Q()})).success)console.log(` MFA Verified via ${D.toUpperCase()}`),$(),t();else throw new Error("Invalid verification code.")}}catch(F){console.error("MFA Error:",F);const xe=F?.details||F?.message||"Verification failed. Please try again.";A(xe)}finally{p(!1)}},k=F=>{F.key==="Enter"&&u.length===6&&!d&&I()},L=D==="sms"||D==="email",B=F=>({flex:1,padding:"10px 6px",background:D===F?"rgba(200, 169, 81, 0.15)":"rgba(255,255,255,0.04)",border:D===F?"1px solid rgba(200,169,81,0.6)":"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:D===F?"#C8A951":"rgba(255,255,255,0.5)",cursor:"pointer",fontSize:"11px",fontWeight:600,transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}),H={totp:"Enter the 6-digit code from your authenticator app",sms:b?"Enter the 6-digit code sent to your phone":"We'll send a code to your registered phone number",email:b?"Enter the 6-digit code sent to your email":"We'll send a code to your registered email address"};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(10, 20, 50, 0.92)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"mfaFadeIn 0.3s ease"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(26, 35, 126, 0.9) 0%, rgba(13, 17, 63, 0.95) 100%)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"16px",padding:"36px",maxWidth:"460px",width:"100%",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(200,169,81,0.08)"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:o?"":""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"22px",margin:"0 0 12px 0",letterSpacing:"2px",textTransform:"uppercase"},children:o?"Financial Verification":"Identity Verification"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px",lineHeight:"1.6",margin:"0 0 24px 0",fontFamily:"'Inter', sans-serif"},children:o?"Verify your identity to proceed with financial operations.":"Verify your identity to access the document vault."}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",background:"rgba(200, 169, 81, 0.08)",border:"1px solid rgba(200, 169, 81, 0.25)",borderRadius:"8px",padding:"12px",marginBottom:"20px",textAlign:"left"},children:[l.jsx("span",{style:{fontSize:"14px",flexShrink:0,marginTop:"1px"},children:""}),l.jsx("span",{style:{color:"rgba(200, 169, 81, 0.85)",fontSize:"11px",lineHeight:"1.5",fontFamily:"'Inter', sans-serif"},children:"Per Authorization Policy 4.3, MFA is mandatory before accessing Plaid or Stripe services. SMS-based MFA is restricted for financial operations."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[l.jsxs("button",{onClick:()=>V("totp"),style:B("totp"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Auth App"})]}),l.jsxs("button",{onClick:()=>V("sms"),style:B("sms"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"SMS"})]}),l.jsxs("button",{onClick:()=>V("email"),style:B("email"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Email"})]})]}),L&&!b&&l.jsx("button",{onClick:R,disabled:g,style:{width:"100%",padding:"14px",marginBottom:"16px",background:"rgba(200, 169, 81, 0.12)",border:"1px solid rgba(200, 169, 81, 0.4)",borderRadius:"10px",color:"#C8A951",fontWeight:600,fontSize:"13px",cursor:g?"wait":"pointer",opacity:g?.6:1,transition:"all 0.2s ease",fontFamily:"'Inter', sans-serif"},children:g?"Sending":D==="sms"?" Send Code via SMS":" Send Code via Email"}),_&&l.jsxs("div",{style:{padding:"10px 14px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"#10B981",fontSize:"12px",marginBottom:"16px",fontFamily:"'Inter', sans-serif",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:""})," ",_]}),(D==="totp"||b)&&l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"8px",fontFamily:"'Inter', sans-serif"},children:H[D]}),l.jsx("input",{type:"text",inputMode:"numeric",autoComplete:"one-time-code",value:u,onChange:F=>h(F.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:k,placeholder:"000000",style:{width:"100%",padding:"16px",fontSize:"28px",textAlign:"center",letterSpacing:"0.5em",fontFamily:"monospace",background:"rgba(255,255,255,0.05)",border:T?"1px solid rgba(239,68,68,0.6)":"1px solid rgba(255,255,255,0.15)",borderRadius:"10px",color:"white",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease"},autoFocus:!0}),L&&b&&l.jsx("button",{onClick:R,disabled:g,style:{background:"none",border:"none",color:"rgba(200,169,81,0.6)",fontSize:"11px",cursor:"pointer",textDecoration:"underline",marginTop:"10px",fontFamily:"'Inter', sans-serif",padding:0},children:g?"Resending":"Didn't receive it? Resend code"})]}),T&&l.jsx("div",{style:{padding:"10px 14px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",color:"#f87171",fontSize:"12px",marginBottom:"20px",fontFamily:"'Inter', sans-serif"},children:T}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:e,disabled:d,style:{flex:1,padding:"14px",background:"transparent",color:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",cursor:d?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease"},children:"Cancel"}),l.jsx("button",{onClick:I,disabled:d||u.length<6||L&&!b,style:{flex:2,padding:"14px",background:"#C8A951",color:"#0A1432",border:"none",borderRadius:"8px",fontWeight:700,cursor:d?"wait":"pointer",fontSize:"13px",letterSpacing:"0.05em",textTransform:"uppercase",opacity:d||u.length<6||L&&!b?.6:1,transition:"all 0.2s ease"},children:d?"Verifying":"Verify Identity"})]}),l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.3)",fontSize:"11px",marginTop:"20px",fontFamily:"'Inter', sans-serif",lineHeight:"1.5"},children:[D==="totp"&&"Use Google Authenticator, Authy, or any TOTP app to generate a code.",D==="sms"&&"Standard messaging rates may apply. Code expires in 5 minutes.",D==="email"&&"Check your inbox and spam folder. Code expires in 5 minutes."," ","If you haven't set up MFA yet, use Security Settings in the vault dashboard."]})]}),l.jsx("style",{children:`
                @keyframes mfaFadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}function kA(){return sessionStorage.getItem(Bp)==="true"}function JT(){sessionStorage.removeItem(Bp)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(i){PA(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function z8(t,e){if(t==null)return{};var n=B8(t,e),i,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)i=o[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function yc(t,e){return U8(t)||H8(t,e)||$8(t,e)||G8()}function U8(t){if(Array.isArray(t))return t}function H8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],s=!0,o=!1,u,h;try{for(n=n.call(t);!(s=(u=n.next()).done)&&(i.push(u.value),!(e&&i.length===e));s=!0);}catch(d){o=!0,h=d}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw h}}return i}}function $8(t,e){if(t){if(typeof t=="string")return ZT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZT(t,e)}}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function G8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q8=["src","checkForExisting"],gd={},eE=function(e){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n)return gd[e]={loading:!1,error:null,scriptEl:n}},tE=typeof window<"u"&&typeof window.document<"u";function W8(t){var e=t.src,n=t.checkForExisting,i=n===void 0?!1:n,s=z8(t,q8),o=e?gd[e]:void 0;!o&&i&&e&&tE&&(o=eE(e));var u=j.useState(o?o.loading:!!e),h=yc(u,2),d=h[0],p=h[1],g=j.useState(o?o.error:null),x=yc(g,2),b=x[0],S=x[1],T=j.useState(!1),A=yc(T,2),_=A[0],M=A[1];return j.useEffect(function(){if(!(!tE||!e||_||b)){o=gd[e],!o&&i&&(o=eE(e));var D;o?D=o.scriptEl:(D=document.createElement("script"),D.src=e,Object.keys(s).forEach(function(Q){D[Q]===void 0?D.setAttribute(Q,s[Q]):D[Q]=s[Q]}),o=gd[e]={loading:!0,error:null,scriptEl:D});var V=function(){o&&(o.loading=!1),p(!1),M(!0)},$=function(re){o&&(o.error=re),S(re)};return D.addEventListener("load",V),D.addEventListener("error",$),document.body.appendChild(D),function(){D.removeEventListener("load",V),D.removeEventListener("error",$),o&&o.loading&&(D.remove(),delete gd[e])}}},[e]),[d,b]}var K8=function(e,n,i){var s={};return delete Object.assign(s,e,PA({},i,e[n]))[n],s},Y8=function(e,n){var i={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");i.plaid=n(zp(zp({},e),{},{onExit:function(p,g){i.open=!1,e.onExit&&e.onExit(p,g),i.onExitCallback&&i.onExitCallback()}}));var s=function(){i.plaid&&(i.open=!0,i.onExitCallback=null,i.plaid.open())},o=function(p){i.plaid&&i.plaid.submit(p)},u=function(p,g){if(!i.open||!i.plaid){g&&g();return}i.onExitCallback=g,i.plaid.exit(p),p&&p.force&&(i.open=!1)},h=function(){i.plaid&&(i.plaid.destroy(),i.plaid=null)};return{open:s,submit:o,exit:u,destroy:h}},Q8=function(e,n){var i=K8(e,"publicKey","key");return Y8(i,n)},J8="https://cdn.plaid.com/link/v2/stable/link-initialize.js",nE=function(){},X8=function(e){var n=W8({src:J8,checkForExisting:!0}),i=yc(n,2),s=i[0],o=i[1],u=j.useState(null),h=yc(u,2),d=h[0],p=h[1],g=j.useState(!1),x=yc(g,2),b=x[0],S=x[1],T=(e.product||[]).slice().sort().join(",");j.useEffect(function(){if(!s&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(o||!window.Plaid){console.error("Error loading Plaid",o);return}d?.exit({force:!0},function(){return d.destroy()});var M=Q8(zp(zp({},e),{},{onLoad:function(){S(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return p(M),function(){return M.exit({force:!0},function(){return M.destroy()})}}},[s,o,e.publicKey,e.token,T]);var A=d!=null&&(!s||b),_=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:o,ready:A,submit:d?d.submit:nE,exit:d?d.exit:nE,open:d?d.open:_}},iE;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(iE||(iE={}));function Z8(){const[t,e]=j.useState(1),n=ye(le=>le.selectedBundle),i=ye(le=>le.selectedAddons),s=ye(le=>le.projectId),o=sh(s),u=ye(le=>le.projectName),h=ye(le=>le.setClientInfo),d=ye(le=>le.entityLegalName),p=ye(le=>le.counterpartyName),[g,x]=j.useState("detecting"),[b,S]=j.useState(null),[T,A]=j.useState({clientName:"",clientEmail:"",clientTitle:""}),[_,M]=j.useState({name:"",email:"",title:"",agreed:!1,selectedPaymentMethod:"card"}),[D,V]=j.useState(!1),[$,Q]=j.useState(null),[re,R]=j.useState(!1),[I,k]=j.useState(null),[L,B]=j.useState(null),[H,F]=j.useState(null),[xe,Ee]=j.useState(!1),[O,q]=j.useState(null),[ae,Te]=j.useState("DRAFT"),[Ce,z]=j.useState(null),Z=ye(le=>le.contractId),te=ye(le=>le.setContractId),[pe,Se]=j.useState(2),[je,Ue]=j.useState(null),[wt,dt]=j.useState(!1),[hn,ue]=j.useState(!1),[Ne,Ae]=j.useState(!1),[We,Ct]=j.useState(!1),[_n,tr]=j.useState(!1),[Vn,ps]=j.useState(null),{open:nr,ready:Ar}=X8({token:je,onSuccess:async(le,Re)=>{console.log(" Plaid Link Success:",le),R(!0);try{await Zn.exchangePlaidToken({publicToken:le,contractId:Z||"",accountId:Re.accounts[0]?.id||""}),dt(!0),R(!1)}catch(et){console.error("Exchange failed:",et),k("Failed to link bank account. Please check your credentials and try again."),R(!1)}},onExit:()=>{R(!1),Ue(null)}});j.useEffect(()=>{je&&Ar&&nr()},[je,Ar,nr]);const Uo=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),Bi=ye(le=>le.ceoConsultingWeeks),jt=ye(le=>le.probateStates);j.useEffect(()=>{const le=Xt.currentUser;if(!le){x("client");return}const Re=(le.email||"").toLowerCase(),et=le.displayName||Re.split("@")[0];S({displayName:et,email:Re});const Ye=ye.getState(),Ge=Ye.counterpartyName===p?"cylton@sirsi.ai":"",Mt=(Ye.clientEmail||"").toLowerCase();Re==="cylton@sirsi.ai"||Re===Ge.toLowerCase()?(x("provider"),Mt&&Ye.clientName&&Mt!==Re&&A({clientName:Ye.clientName,clientEmail:Ye.clientEmail,clientTitle:""})):Re===Mt?(x("client"),M(pn=>({...pn,name:pn.name||et,email:pn.email||Re}))):Mt===""?Re==="cylton@sirsi.ai"?x("provider"):(x("client"),M(pn=>({...pn,name:pn.name||et,email:pn.email||Re}))):x("viewer")},[p]);const Ho=j.useMemo(()=>g==="provider"?[{num:1,label:"Designate Client"},{num:2,label:"Review Documents"},{num:3,label:"Countersign"},{num:4,label:"Finalize"}]:[{num:1,label:"Verify Identity"},{num:2,label:"Review Documents"},{num:3,label:"Sign Agreement"},{num:4,label:"Execute Agreement"}],[g]),zt=async()=>{if(Z)try{const le=await Zn.getContract({id:Z}),Re=le.status;Te({1:"DRAFT",DRAFT:"DRAFT",2:"ACTIVE",ACTIVE:"ACTIVE",3:"SIGNED",SIGNED:"SIGNED",6:"WAITING_FOR_COUNTERSIGN",WAITING_FOR_COUNTERSIGN:"WAITING_FOR_COUNTERSIGN",7:"FULLY_EXECUTED",FULLY_EXECUTED:"FULLY_EXECUTED"}[String(Re)]||String(Re));const Ye=le;(Ye.signatureImageData||Ye.signatureHash)&&z({signatureImageData:Ye.signatureImageData,signatureHash:Ye.signatureHash,clientName:Ye.clientName,clientEmail:Ye.clientEmail,clientTitle:Ye.clientTitle||"",signedAt:Ye.updatedAt?new Date(Number(Ye.updatedAt)).toISOString():""})}catch(le){console.error("Failed to fetch contract status:",le)}};j.useEffect(()=>{g==="provider"&&Z&&zt()},[g,Z]);const tn=async()=>{if(!H)return;const le=await Cn(H),Re=new Date().toISOString(),et=Z?Z.substring(0,8).toUpperCase():"SIRSI",Ye=le.substring(0,12).toUpperCase(),Ge=`CS-${et}-${Ye}`;q({hash:le,timestamp:Re,envelopeId:Ge})},zi=async()=>{if(!(!Z||!H)){R(!0),k(null);try{const le=O?.hash||await Cn(H);console.log(` Countersigner Hash: ${le}`),console.log(` Countersigner Envelope: ${O?.envelopeId}`),console.log(` Countersigned At: ${O?.timestamp||new Date().toISOString()}`),await Zn.updateContract({id:Z,contract:{status:7,countersignerSignatureImageData:H,countersignerSignatureHash:le,countersignerSignedAt:BigInt(Date.now()),countersignerTitle:_.title||"CEO",legalAcknowledgment:!0}}),Te("FULLY_EXECUTED"),console.log(" Contract fully executed  both parties signed")}catch(le){console.error("Countersign failed:",le),k(le?.message||"Failed to submit countersignature. Please try again.")}finally{R(!1)}}},ei=qc(n,i,Bi,jt.length,1).total,Qc=async()=>{if(!$)return;const le=await Cn($),Re=new Date().toISOString(),et=Z?Z.substring(0,8).toUpperCase():"SIRSI",Ye=le.substring(0,12).toUpperCase(),Ge=`${et}-${Ye}`;B({hash:le,timestamp:Re,envelopeId:Ge,signerIp:"Captured at execution"})},Ui=()=>{const le=jc(n,i,jt.length),Re=Fp(n,i,Bi,jt.length),et=ye.getState().counterpartyTitle,Ye=L?`&sigHash=${encodeURIComponent(L.hash)}&sigTs=${encodeURIComponent(L.timestamp)}&envId=${encodeURIComponent(L.envelopeId)}&signed=true`:"",Ge=O?`&csSigHash=${encodeURIComponent(O.hash)}&csSigTs=${encodeURIComponent(O.timestamp)}&csEnvId=${encodeURIComponent(O.envelopeId)}`:"",Mt=`/finalwishes/contracts/printable-msa.html?client=${encodeURIComponent(_.name)}&date=${encodeURIComponent(Uo)}&plan=${pe}&total=${ei}&weeks=${le}&hours=${Re}&addons=${i.join(",")}&ceoWeeks=${Bi}&probateCount=${jt.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent(et)}&bundle=${n||""}${Ye}${Ge}`;window.open(Mt,"_blank","width=900,height=800,scrollbars=yes,resizable=yes")},Ln=(le,Re)=>{M(et=>({...et,[le]:Re}))},fn=async()=>{if(!Z){R(!0),k(null);try{const le=ei*100,Re=Math.round(le/pe),et=Array.from({length:pe},(Ge,Mt)=>({id:`payment-${Mt+1}`,name:Mt===0?"First Payment":`Payment ${Mt+1}`,description:Mt===0?"Due upon execution":`Due Month ${Mt+1}`,paymentCount:1,monthlyAmount:Re.toString(),totalAmount:Re.toString()})),Ye=await Zn.createContract({projectId:s,projectName:`${u} Platform`,clientName:_.name,clientEmail:_.email,totalAmount:le.toString(),paymentPlans:et,theme:{primaryColor:"#C8A951",secondaryColor:"#0f172a",accentColor:"#10B981",fontHeading:"Cinzel",fontBody:"Inter"},countersignerName:p,countersignerEmail:"cylton@sirsi.ai",stripeConnectAccountId:""});te(Ye.id);try{const Ge=await P8({projectId:s||"finalwishes",docType:o.docType,signerName:_.name,signerEmail:_.email,metadata:{contractId:Ye.id,projectId:s,selectedBundle:n,totalAmount:le},plan:`${pe}-month`,amount:le});ps(Ge.envelopeId),console.log(` OpenSign envelope created: ${Ge.envelopeId}`)}catch(Ge){console.warn("OpenSign envelope creation failed (non-blocking):",Ge)}}catch(le){console.error("Failed to create draft:",le);const Re=le?.message||le?.toString()||"Failed to initialize contract session.";k(typeof Re=="string"?Re:JSON.stringify(Re))}finally{R(!1)}}},Cn=async le=>{const Re=new TextEncoder().encode(le),et=await crypto.subtle.digest("SHA-256",Re);return Array.from(new Uint8Array(et)).map(Ge=>Ge.toString(16).padStart(2,"0")).join("")},xn=async()=>{if(_.selectedPaymentMethod==="bank"&&!Ne){ue(!0);return}R(!0),k(null);try{const le=L?.hash||($?await Cn($):"");console.log(` Signature Hash: ${le}`),console.log(` Envelope ID: ${L?.envelopeId}`),console.log(` Signed At: ${L?.timestamp}`);const Re=Math.round(ei/pe);if(Z){if(await Zn.updateContract({id:Z,contract:{status:3,signatureImageData:$||"",signatureHash:le,legalAcknowledgment:We,selectedPaymentPlan:pe,paymentMethod:_.selectedPaymentMethod}}),_.selectedPaymentMethod==="bank"&&!wt){console.log(" Bank Transfer Selected: Chase / Plaid Flow"),console.log(" MFA Verified - Proceeding with financial integration");try{const Ge=await Zn.createPlaidLinkToken({userId:_.email||"anonymous",clientName:u});Ue(Ge.linkToken);return}catch(Ge){console.error("Failed to create Plaid session:",Ge),k("Failed to initialize bank link. Please try again or use a Card."),R(!1);return}}if(_.selectedPaymentMethod==="bank"&&wt){const Ge=await YT({envelopeId:Vn||L?.envelopeId||Z,planId:"payment-1",projectId:s||"finalwishes",successUrl:window.location.origin+`/contracts/${s}/payment/success?session_id={CHECKOUT_SESSION_ID}&method=ach`,cancelUrl:window.location.href,paymentMethodTypes:["us_bank_account"]});if(Ge.checkoutUrl)window.location.href=Ge.checkoutUrl;else if(Ge.sessionId){const Mt=await KT();Mt&&await Mt.redirectToCheckout({sessionId:Ge.sessionId})}return}if(_.selectedPaymentMethod==="wire"){console.log(" Wire Transfer Selected: Requesting instructions via OpenSign");try{await M8({email:_.email,reference:`SIRSI-${Z.substring(0,8).toUpperCase()}`,envelopeId:Vn||L?.envelopeId||Z})}catch(Ge){console.warn("Wire instructions email failed (non-blocking):",Ge)}window.location.href=`/finalwishes/contracts/printable-msa.html?client=${encodeURIComponent(_.name)}&date=${encodeURIComponent(Uo)}&plan=${pe}&total=${ei}&weeks=${jc(n,i,jt.length)}&hours=${Fp(n,i,Bi,jt.length)}&addons=${i.join(",")}&ceoWeeks=${Bi}&probateCount=${jt.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent(ye.getState().counterpartyTitle)}&bundle=${n||""}&sigHash=${encodeURIComponent(L?.hash||"")}&sigTs=${encodeURIComponent(L?.timestamp||"")}&envId=${encodeURIComponent(L?.envelopeId||"")}&signed=true`;return}const Ye=await YT({envelopeId:Vn||L?.envelopeId||Z,planId:"payment-1",projectId:s||"finalwishes",successUrl:window.location.origin+`/contracts/${s}/payment/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:window.location.href,paymentMethodTypes:["card"]});if(Ye.checkoutUrl){window.location.href=Ye.checkoutUrl;return}else if(Ye.sessionId){const Ge=await KT();if(Ge){await Ge.redirectToCheckout({sessionId:Ye.sessionId});return}}throw new Error("No checkout session URL returned from server")}else console.warn("No contractId, using fallback payment flow");const et=new URLSearchParams({amount:String(Re),total:String(ei),plan:String(pe),client:_.name,email:_.email,project:u||o.projectDisplayName,ref:`MSA-${new Date().getFullYear()}-111-${o.docCode}`});window.location.href=`/payment.html?${et.toString()}`}catch(le){console.error("Execution failed:",le);const Re=typeof le=="string"?le:le?.message?typeof le.message=="string"?le.message:"Payment initialization failed":"Failed to execute contract. Please try again.";k(Re)}finally{R(!1)}};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[g!=="detecting"&&l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:g==="provider"?"rgba(200, 169, 81, 0.1)":g==="viewer"?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",border:`1px solid ${g==="provider"?"rgba(200, 169, 81, 0.4)":g==="viewer"?"rgba(239, 68, 68, 0.4)":"rgba(16, 185, 129, 0.4)"}`,borderRadius:"20px",padding:"6px 20px",marginBottom:"1rem"},children:[l.jsx("span",{style:{color:g==="provider"?"#C8A951":g==="viewer"?"#ef4444":"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:g==="provider"?" Provider / Countersigner":g==="viewer"?" View Only":" Client Signer"}),b&&l.jsxs("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[" ",b.email]})]}),l.jsx("div",{style:{display:"inline-block",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:" Secure Signing Environment"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Sirsi Vault"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1.25rem",maxWidth:"800px",margin:"0 auto",lineHeight:"1.8"},children:g==="provider"?"Configure and send contracts to clients for signature. Countersign after client execution.":"Execute your contract in our secure document vault. All signatures are timestamped and cryptographically verified."})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"48px",marginBottom:"48px"},children:Ho.map(le=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"16px",background:t===le.num?"linear-gradient(135deg, #C8A951, #D4AF37)":t>le.num?"#10b981":"rgba(255,255,255,0.1)",color:t>=le.num?"#000":"rgba(255,255,255,0.5)",border:t===le.num?"2px solid #C8A951":"2px solid transparent"},children:t>le.num?"":le.num}),l.jsx("span",{style:{color:t>=le.num?"white":"rgba(255,255,255,0.5)",fontWeight:t===le.num?600:400,fontSize:"14px"},children:le.label})]},le.num))}),l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[t===1&&g==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"8px",textAlign:"center"},children:"Step 1: Designate Client Signer"}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.5)",fontSize:"13px",marginBottom:"24px"},children:"Enter the client's information. They will receive an invitation to review and sign."}),l.jsxs("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.2)",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:" Your Identity (Provider / Countersigner)"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"16px",fontWeight:600},children:b?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px"},children:[b?.email||"cylton@sirsi.ai","  ",d]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",margin:"0 0 24px"}}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Full Legal Name *"}),l.jsx("input",{type:"text",value:T.clientName,onChange:le=>A(Re=>({...Re,clientName:le.target.value})),placeholder:"Enter client's full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Email Address *"}),l.jsx("input",{type:"email",value:T.clientEmail,onChange:le=>A(Re=>({...Re,clientEmail:le.target.value})),placeholder:"Enter client's email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginTop:"6px"},children:"Used for signin verification, portal access, and notifications."})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:"Client Title (Optional)"}),l.jsx("input",{type:"text",value:T.clientTitle,onChange:le=>A(Re=>({...Re,clientTitle:le.target.value})),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(T.clientName,T.clientEmail),M(le=>({...le,name:T.clientName,email:T.clientEmail,title:T.clientTitle})),await fn(),await ye.getState().syncConfig(),e(2)},disabled:!T.clientName||!T.clientEmail||re,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!T.clientName||!T.clientEmail||re?.5:1,cursor:!T.clientName||!T.clientEmail||re?"not-allowed":"pointer"},children:re?"Initializing Vault...":" Configure & Continue to Review"})]}),t===1&&g==="client"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 1: Verify Your Identity"}),b&&l.jsx("div",{style:{padding:"12px 16px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"8px",marginBottom:"20px",fontSize:"12px",color:"#10b981"},children:" Pre-filled from your account credentials. You may edit if needed."}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Full Legal Name *"}),l.jsx("input",{type:"text",value:_.name,onChange:le=>Ln("name",le.target.value),placeholder:"Enter your full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Email Address *"}),l.jsx("input",{type:"email",value:_.email,onChange:le=>Ln("email",le.target.value),placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Professional Title *"}),l.jsx("input",{type:"text",value:_.title,onChange:le=>Ln("title",le.target.value),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(_.name,_.email),await fn(),await ye.getState().syncConfig(),e(2)},disabled:!_.name||!_.email||!_.title||re,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!_.name||!_.email||!_.title||re?.5:1,cursor:!_.name||!_.email||!_.title||re?"not-allowed":"pointer"},children:re?"Initializing Vault...":"Continue to Document Review"})]}),t===1&&g==="viewer"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#ef4444",marginBottom:"16px"},children:"View Only Access"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"14px",lineHeight:1.8,marginBottom:"16px"},children:["Your email (",l.jsx("strong",{style:{color:"#C8A951"},children:b?.email}),") is not authorized as a signer or countersigner on this contract. You may view the documents but cannot sign or execute."]}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px"},children:"If you believe this is an error, contact the contract administrator."})]}),t===1&&g==="detecting"&&l.jsx("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontFamily:"'Cinzel', serif",letterSpacing:"0.15em"},children:"DETECTING ROLE..."})}),t===2&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 2: Review Documents"}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsxs("span",{style:{color:"white"},children:[u," Master Agreement"]})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"READY"})]})}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsx("span",{style:{color:"white"},children:"Dynamic Statement of Work"})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"GENERATED"})]}),l.jsxs("div",{style:{marginTop:"10px",fontSize:"11px",color:"rgba(255,255,255,0.4)",paddingLeft:"28px"},children:["Includes: ",n?li[n]?.name:"Custom Stack",i.length>0?` + ${i.length} Modules`:""]})]}),l.jsx("button",{onClick:Ui,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(200,169,81,0.1)",border:"1px solid #C8A951",borderRadius:"4px",color:"#C8A951",fontSize:"12px",cursor:"pointer",width:"100%",justifyContent:"center",marginTop:"16px"},children:" Preview & Download PDF Agreement"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:_.agreed,onChange:le=>Ln("agreed",le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:_.name}),", hereby confirm that I have reviewed and agree to the Master Service Agreement and Statement of Work for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",ei.toLocaleString()]}),"."]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(1),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:()=>e(3),disabled:!_.agreed,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:_.agreed?1:.5,cursor:_.agreed?"pointer":"not-allowed"},children:"Proceed to Signature"})]})]}),t===3&&g!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Sign Agreement"}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Signing as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:_.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:_.email})]}),l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(QT,{signerName:_.name,onSignatureChange:(le,Re)=>{V(le),Q(Re)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"legal-ack",checked:We,onChange:le=>Ct(le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsx("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:"I acknowledge that by signing above, I am executing a legally binding electronic signature pursuant to the ESIGN Act and UETA, equivalent to a handwritten signature."})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:async()=>{await Qc(),e(4)},disabled:!D||!We,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:D&&We?1:.5,cursor:D&&We?"pointer":"not-allowed"},children:"Continue to Execution"})]})]}),t===3&&g==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Countersign Agreement"}),ae!=="WAITING_FOR_COUNTERSIGN"&&ae!=="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"24px",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"36px",marginBottom:"12px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"16px",marginBottom:"8px"},children:"Awaiting Client Signature"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",lineHeight:1.6},children:"The client has not yet signed this agreement. You will be notified via email when the contract is ready for your countersignature."}),l.jsxs("div",{style:{marginTop:"16px",padding:"8px 16px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",display:"inline-block",fontSize:"11px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.1em"},children:["Status: ",ae]}),l.jsx("div",{style:{marginTop:"16px"},children:l.jsx("button",{onClick:zt,style:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",borderRadius:"8px",color:"#C8A951",cursor:"pointer",fontSize:"12px",letterSpacing:"0.05em"},children:" Refresh Status"})})]}),(ae==="WAITING_FOR_COUNTERSIGN"||ae==="FULLY_EXECUTED")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature on Record"}),Ce?.signatureImageData&&l.jsx("img",{src:Ce.signatureImageData,alt:"Client signature",style:{maxWidth:"280px",maxHeight:"80px",display:"block",margin:"0 auto 12px",borderRadius:"4px",opacity:.85}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"rgba(255,255,255,0.5)"},children:[l.jsxs("span",{children:[Ce?.clientName||"Client","  ",Ce?.clientEmail]}),l.jsxs("span",{style:{fontFamily:"'Courier New', monospace",color:"#10b981",fontSize:"10px"},children:[Ce?.signatureHash?.substring(0,16),""]})]})]}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Countersigning as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:b?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:[b?.email,"  ",d]})]}),ae!=="FULLY_EXECUTED"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(QT,{signerName:b?.displayName||p,onSignatureChange:(le,Re)=>{Ee(le),F(Re)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"countersign-legal-ack",checked:_n,onChange:le=>tr(le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:b?.displayName||p}),", as authorized representative of"," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", hereby countersign this agreement, executing a legally binding electronic signature pursuant to the ESIGN Act and UETA."]})]})]}),ae==="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid #10b981",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),l.jsx("div",{style:{color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"16px"},children:"Agreement Fully Executed"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginTop:"4px"},children:"Both parties have signed. This contract is legally binding."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),ae!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:async()=>{await tn(),e(4)},disabled:!xe||!_n||!["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae),className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:xe&&_n&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae)?1:.5,cursor:xe&&_n&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae)?"pointer":"not-allowed"},children:"Continue to Finalize"}),ae==="FULLY_EXECUTED"&&l.jsx("button",{onClick:()=>e(4),className:"select-plan-btn",style:{flex:2,padding:"14px"},children:"View Executed Agreement"})]})]}),t===4&&g!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Execute Agreement"}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.08)",border:"2px solid #C8A951",borderRadius:"12px",padding:"24px",marginBottom:"24px",textAlign:"center",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Your Signature"}),$?l.jsx("img",{src:$,alt:"Your signature",style:{maxWidth:"100%",maxHeight:"120px",margin:"0 auto",display:"block",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#C8A951",fontStyle:"italic"},children:_.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.2em",marginTop:"12px"},children:"Electronic Signature  Legally Binding"})]}),L&&l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px",position:"relative",overflow:"hidden"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"rgba(16, 185, 129, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"#10b981",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Digital Signature Evidence"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",marginTop:"2px"},children:"Cryptographically Verified  Tamper-Evident"})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"13px",fontFamily:"'Inter', monospace",fontWeight:600},children:L.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em",flexShrink:0},children:"SHA-256 Checksum"}),l.jsx("span",{title:L.hash,style:{color:"#10b981",fontSize:"11px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"help",marginLeft:"12px"},children:L.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Timestamp (UTC)"}),l.jsx("span",{style:{color:"white",fontSize:"12px",fontFamily:"'Inter', monospace"},children:L.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Signer"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[_.name," (",_.email,")"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Title"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:_.title})]}),Z&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Contract ID"}),l.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"11px",fontFamily:"'Courier New', monospace"},children:Z})]})]}),l.jsx("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(16, 185, 129, 0.15)",display:"flex",gap:"8px",flexWrap:"wrap"},children:["ESIGN Act","UETA","SOC 2 Type II","SHA-256"].map(le=>l.jsx("span",{style:{display:"inline-block",padding:"3px 10px",borderRadius:"4px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontSize:"9px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em"},children:le},le))})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",padding:"4px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"16px"},children:[l.jsx("button",{onClick:()=>Ln("selectedPaymentMethod","card"),style:{flex:1,padding:"12px",background:_.selectedPaymentMethod==="card"?"#C8A951":"transparent",color:_.selectedPaymentMethod==="card"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" CARD"}),l.jsx("button",{onClick:()=>Ln("selectedPaymentMethod","bank"),style:{flex:1,padding:"12px",background:_.selectedPaymentMethod==="bank"?"#C8A951":"transparent",color:_.selectedPaymentMethod==="bank"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" ACH (PLAID)"}),l.jsx("button",{onClick:()=>Ln("selectedPaymentMethod","wire"),style:{flex:1,padding:"12px",background:_.selectedPaymentMethod==="wire"?"#C8A951":"transparent",color:_.selectedPaymentMethod==="wire"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" WIRE (STRIPE)"})]}),_.selectedPaymentMethod==="bank"&&l.jsx("div",{style:{padding:"16px",background:wt?"rgba(16, 185, 129, 0.1)":"rgba(200, 169, 81, 0.1)",border:wt?"1px solid #10b981":"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:wt?l.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:l.jsx("span",{children:" Bank Account Verified via Plaid"})}):l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"High-value settlement via Chase Treasury Bridge. Plaid verification required."})}),_.selectedPaymentMethod==="wire"&&l.jsx("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.1)",border:"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"Stripe virtual bank account will be generated for high-limit settlement."})})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.15em"},children:"Select Payment Plan"}),l.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[2,3,4].map(le=>{const Re=Math.round(ei/le),et=pe===le;return l.jsxs("button",{type:"button",onClick:()=>Se(le),style:{flex:"1 1 0",maxWidth:"180px",padding:"24px 16px",borderRadius:"16px",border:et?"2px solid #C8A951":"1px solid rgba(255,255,255,0.1)",background:et?"linear-gradient(145deg, rgba(200,169,81,0.2), rgba(200,169,81,0.05))":"linear-gradient(145deg, rgba(20,30,60,0.8), rgba(10,15,30,0.9))",backdropFilter:"blur(10px)",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center",boxShadow:et?"0 0 30px rgba(200,169,81,0.3), inset 0 1px 0 rgba(255,255,255,0.1)":"0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05)",transform:et?"translateY(-4px)":"translateY(0)"},children:[l.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 12px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:et?"linear-gradient(135deg, #C8A951, #D4AF37)":"rgba(255,255,255,0.05)",border:et?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:et?"0 0 20px rgba(200,169,81,0.5)":"none"},children:l.jsx("span",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",fontWeight:700,color:et?"#0f172a":"rgba(255,255,255,0.7)"},children:le})}),l.jsx("div",{style:{fontSize:"10px",color:et?"#C8A951":"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"8px",fontWeight:600},children:"Monthly Payments"}),l.jsxs("div",{style:{fontSize:"20px",color:et?"#C8A951":"white",fontWeight:700,fontFamily:"'Inter', sans-serif"},children:["$",Re.toLocaleString(),l.jsx("span",{style:{fontSize:"12px",fontWeight:400,opacity:.7,marginLeft:"2px"},children:"/mo"})]})]},le)})}),l.jsxs("div",{style:{textAlign:"center",marginTop:"20px",padding:"12px 20px",background:"rgba(200,169,81,0.05)",borderRadius:"8px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:"Total Investment:"}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:700,fontSize:"18px",marginLeft:"8px",fontFamily:"'Cinzel', serif"},children:["$",ei.toLocaleString()]}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",marginLeft:"12px"},children:" First payment due upon execution"})]}),l.jsx("button",{onClick:Ui,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginTop:"16px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s ease"},children:" View & Download Executed Agreement"})]}),I&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:I}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:xn,disabled:re,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:re?.7:1,cursor:re?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:re?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Processing..."})]}):l.jsx(l.Fragment,{children:l.jsx("span",{children:" Execute & Deploy Platform"})})})]}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:'By clicking "Execute & Deploy Platform", you are finalizing your electronic signature and authorizing the commencement of development as per the Project Timeline.'})]}),t===4&&g==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Finalize Agreement"}),l.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"24px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature"}),Ce?.signatureImageData&&l.jsx("img",{src:Ce.signatureImageData,alt:"Client signature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px",opacity:.85}}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:Ce?.clientName||"Client"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:Ce?.clientEmail}),Ce?.signatureHash&&l.jsxs("div",{style:{color:"#10b981",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",Ce.signatureHash.substring(0,24),""]})]}),l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:O?" Countersignature":" Countersignature"}),H?l.jsx("img",{src:H,alt:"Countersignature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",color:"#C8A951",fontStyle:"italic",marginBottom:"10px"},children:b?.displayName||p}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:b?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[b?.email,"  ",d]}),O?.hash&&l.jsxs("div",{style:{color:"#C8A951",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",O.hash.substring(0,24),""]})]})]}),O&&l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(200, 169, 81, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Countersign Evidence"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontFamily:"'Inter', monospace",fontWeight:600},children:O.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",flexShrink:0},children:"SHA-256"}),l.jsx("span",{style:{color:"#10b981",fontSize:"10px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginLeft:"12px"},children:O.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Timestamp"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:O.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Countersigner"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[b?.displayName," (",b?.email,")"]})]})]})]}),l.jsx("button",{onClick:Ui,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginBottom:"24px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"},children:" View Executed Agreement"}),I&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:I}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),ae!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:zi,disabled:re||!H,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:re||!H?.7:1,cursor:re||!H?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:re?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Countersigning..."})]}):l.jsx("span",{children:" Finalize & Countersign"})}),ae==="FULLY_EXECUTED"&&l.jsx("div",{style:{flex:2,padding:"16px",textAlign:"center",background:"rgba(16, 185, 129, 0.15)",border:"2px solid #10b981",borderRadius:"8px",color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"14px",letterSpacing:"0.1em"},children:" Fully Executed"})]}),l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:['By clicking "Finalize & Countersign", you are executing this agreement on behalf of'," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", making it legally binding for both parties."]})]})]}),hn&&l.jsx(Dv,{purpose:"financial",onVerified:()=>{Ae(!0),ue(!1),xn()},onCancel:()=>{ue(!1)}})]})}function Jy(){const{projectId:t,userId:e,category:n,entityId:i,docId:s}=k_(),o=Lc(),u=_A(),h=ye(I=>I.setProjectId),d=ye(I=>I.setContractId),p=ye(I=>I.fetchContract),g=ye(I=>I.projectId),x=ye(I=>I.setCurrentTab),b=ye(I=>I.clientName),S=ye(I=>I.setClientInfo),T=ye.setState,{data:A}=IA(),_=ye(I=>I.setSystemSettings),M=!!e,D=new URLSearchParams(window.location.search),V=D.get("session_id")!==null&&window.location.pathname.endsWith("/payment/success"),[$,Q]=j.useState(!1);j.useEffect(()=>{const I=i||t;I&&h(I),s?(d(s),p(s)):d(null),n==="contracts"&&s&&x("msa");const k=D.get("client")||(e?e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," "):null),L=D.get("email")||(e?`${e}@lockhart.com`:null);(k||L)&&S(k||"",L||"");const B=D.get("project"),H=D.get("company");B&&T({projectName:B}),H&&T({companyName:H});const F=D.get("entity"),xe=D.get("cpName"),Ee=D.get("cpTitle");if(F||xe||Ee){const O=ye.getState();O.setCounterpartyInfo(F||O.entityLegalName,xe||O.counterpartyName,Ee||O.counterpartyTitle)}},[t,h,S,T]),j.useEffect(()=>{A&&_({multiplier:A.sirsiMultiplier,maintenanceMode:A.maintenanceMode})},[A,_]),j.useEffect(()=>{document.body.classList.toggle("theme-light",$)},[$]);const re=()=>{switch(u){case"summary":return l.jsx(qT,{});case"configure":return l.jsx(m8,{});case"sow":return l.jsx(g8,{});case"cost":return l.jsx(y8,{});case"msa":return l.jsx(x8,{});case"vault":return l.jsx(Z8,{});default:return l.jsx(qT,{})}},R=`admin-wrapper${$?" theme-light":""}${M?"":" has-sidebar"}`;return l.jsxs("div",{className:R,"data-auth-protect":"admin",children:[!M&&l.jsx(wk,{}),l.jsxs("main",{className:"main-content contract-view",children:[M&&l.jsxs("div",{className:"vault-breadcrumb",children:[l.jsx("button",{className:"vault-breadcrumb-btn",onClick:()=>o("/vault"),children:" Back to Vault"}),l.jsx("div",{className:"vault-breadcrumb-divider"}),l.jsxs("span",{className:"vault-breadcrumb-ref",children:[i||t||"Contract",s?`  ${s.substring(0,8).toUpperCase()}`:""]})]}),!M&&l.jsx(Pk,{isLightTheme:$,onToggleTheme:()=>Q(!$)}),l.jsxs("div",{className:"contract-immersive-wrapper",children:[l.jsx("div",{className:"contract-hero",children:l.jsxs("div",{className:"contract-title-wrapper",children:[l.jsx("h1",{className:"contract-main-heading",children:"Master Service Agreement"}),l.jsx("div",{className:"contract-gold-divider"}),l.jsxs("p",{className:"contract-subtitle",children:["Prepared for ",b||"The Client"," "," ",l.jsx("span",{id:"date-proposal",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),l.jsx("div",{className:"main-card",children:V?l.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"1rem"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"32px",color:"#C8A951",marginBottom:"1rem"},children:"Payment Received!"}),l.jsxs("p",{style:{fontSize:"18px",color:"rgba(255,255,255,0.7)",marginBottom:"2rem"},children:["Your Master Service Agreement with ",g==="finalwishes"?"FinalWishes":g," is now ACTIVE."]}),l.jsx("button",{onClick:()=>o("/vault"),className:"select-plan-btn",children:"Access Your Sirsi Vault "})]}):l.jsxs(l.Fragment,{children:[l.jsx(o8,{}),l.jsx("div",{className:"tab-content active",children:re()})]})})]})]})]})}var eB=Object.defineProperty,Up=Object.getOwnPropertySymbols,OA=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable,rE=(t,e,n)=>e in t?eB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rx=(t,e)=>{for(var n in e||(e={}))OA.call(e,n)&&rE(t,n,e[n]);if(Up)for(var n of Up(e))MA.call(e,n)&&rE(t,n,e[n]);return t},sx=(t,e)=>{var n={};for(var i in t)OA.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Up)for(var i of Up(t))e.indexOf(i)<0&&MA.call(t,i)&&(n[i]=t[i]);return n};var Mo;(t=>{const e=class Ze{constructor(d,p,g,x){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<Ze.MIN_VERSION||d>Ze.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let T=0;T<this.size;T++)b.push(!1);for(let T=0;T<this.size;T++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(g);if(this.drawCodewords(S),x==-1){let T=1e9;for(let A=0;A<8;A++){this.applyMask(A),this.drawFormatBits(A);const _=this.getPenaltyScore();_<T&&(x=A,T=_),this.applyMask(A)}}s(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,p){const g=t.QrSegment.makeSegments(d);return Ze.encodeSegments(g,p)}static encodeBinary(d,p){const g=t.QrSegment.makeBytes(d);return Ze.encodeSegments([g],p)}static encodeSegments(d,p,g=1,x=40,b=-1,S=!0){if(!(Ze.MIN_VERSION<=g&&g<=x&&x<=Ze.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let T,A;for(T=g;;T++){const V=Ze.getNumDataCodewords(T,p)*8,$=u.getTotalBits(d,T);if($<=V){A=$;break}if(T>=x)throw new RangeError("Data too long")}for(const V of[Ze.Ecc.MEDIUM,Ze.Ecc.QUARTILE,Ze.Ecc.HIGH])S&&A<=Ze.getNumDataCodewords(T,V)*8&&(p=V);let _=[];for(const V of d){n(V.mode.modeBits,4,_),n(V.numChars,V.mode.numCharCountBits(T),_);for(const $ of V.getData())_.push($)}s(_.length==A);const M=Ze.getNumDataCodewords(T,p)*8;s(_.length<=M),n(0,Math.min(4,M-_.length),_),n(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let V=236;_.length<M;V^=253)n(V,8,_);let D=[];for(;D.length*8<_.length;)D.push(0);return _.forEach((V,$)=>D[$>>>3]|=V<<7-($&7)),new Ze(T,p,D,b)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let g=0;g<p;g++)for(let x=0;x<p;x++)g==0&&x==0||g==0&&x==p-1||g==p-1&&x==0||this.drawAlignmentPattern(d[g],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let g=p;for(let b=0;b<10;b++)g=g<<1^(g>>>9)*1335;const x=(p<<10|g)^21522;s(x>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,i(x,b));this.setFunctionModule(8,7,i(x,6)),this.setFunctionModule(8,8,i(x,7)),this.setFunctionModule(7,8,i(x,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,i(x,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,i(x,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,i(x,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let g=0;g<12;g++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;s(p>>>18==0);for(let g=0;g<18;g++){const x=i(p,g),b=this.size-11+g%3,S=Math.floor(g/3);this.setFunctionModule(b,S,x),this.setFunctionModule(S,b,x)}}drawFinderPattern(d,p){for(let g=-4;g<=4;g++)for(let x=-4;x<=4;x++){const b=Math.max(Math.abs(x),Math.abs(g)),S=d+x,T=p+g;0<=S&&S<this.size&&0<=T&&T<this.size&&this.setFunctionModule(S,T,b!=2&&b!=4)}}drawAlignmentPattern(d,p){for(let g=-2;g<=2;g++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,p+g,Math.max(Math.abs(x),Math.abs(g))!=1)}setFunctionModule(d,p,g){this.modules[p][d]=g,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,g=this.errorCorrectionLevel;if(d.length!=Ze.getNumDataCodewords(p,g))throw new RangeError("Invalid argument");const x=Ze.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p],b=Ze.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p],S=Math.floor(Ze.getNumRawDataModules(p)/8),T=x-S%x,A=Math.floor(S/x);let _=[];const M=Ze.reedSolomonComputeDivisor(b);for(let V=0,$=0;V<x;V++){let Q=d.slice($,$+A-b+(V<T?0:1));$+=Q.length;const re=Ze.reedSolomonComputeRemainder(Q,M);V<T&&Q.push(0),_.push(Q.concat(re))}let D=[];for(let V=0;V<_[0].length;V++)_.forEach(($,Q)=>{(V!=A-b||Q>=T)&&D.push($[V])});return s(D.length==S),D}drawCodewords(d){if(d.length!=Math.floor(Ze.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let x=0;x<this.size;x++)for(let b=0;b<2;b++){const S=g-b,A=(g+1&2)==0?this.size-1-x:x;!this.isFunction[A][S]&&p<d.length*8&&(this.modules[A][S]=i(d[p>>>3],7-(p&7)),p++)}}s(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let g=0;g<this.size;g++){let x;switch(d){case 0:x=(g+p)%2==0;break;case 1:x=p%2==0;break;case 2:x=g%3==0;break;case 3:x=(g+p)%3==0;break;case 4:x=(Math.floor(g/3)+Math.floor(p/2))%2==0;break;case 5:x=g*p%2+g*p%3==0;break;case 6:x=(g*p%2+g*p%3)%2==0;break;case 7:x=((g+p)%2+g*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][g]&&x&&(this.modules[p][g]=!this.modules[p][g])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let S=!1,T=0,A=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[b][_]==S?(T++,T==5?d+=Ze.PENALTY_N1:T>5&&d++):(this.finderPenaltyAddHistory(T,A),S||(d+=this.finderPenaltyCountPatterns(A)*Ze.PENALTY_N3),S=this.modules[b][_],T=1);d+=this.finderPenaltyTerminateAndCount(S,T,A)*Ze.PENALTY_N3}for(let b=0;b<this.size;b++){let S=!1,T=0,A=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][b]==S?(T++,T==5?d+=Ze.PENALTY_N1:T>5&&d++):(this.finderPenaltyAddHistory(T,A),S||(d+=this.finderPenaltyCountPatterns(A)*Ze.PENALTY_N3),S=this.modules[_][b],T=1);d+=this.finderPenaltyTerminateAndCount(S,T,A)*Ze.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let S=0;S<this.size-1;S++){const T=this.modules[b][S];T==this.modules[b][S+1]&&T==this.modules[b+1][S]&&T==this.modules[b+1][S+1]&&(d+=Ze.PENALTY_N2)}let p=0;for(const b of this.modules)p=b.reduce((S,T)=>S+(T?1:0),p);const g=this.size*this.size,x=Math.ceil(Math.abs(p*20-g*10)/g)-1;return s(0<=x&&x<=9),d+=x*Ze.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let g=[6];for(let x=this.size-7;g.length<d;x-=p)g.splice(1,0,x);return g}}static getNumRawDataModules(d){if(d<Ze.MIN_VERSION||d>Ze.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const g=Math.floor(d/7)+2;p-=(25*g-10)*g-55,d>=7&&(p-=36)}return s(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(Ze.getNumRawDataModules(d)/8)-Ze.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*Ze.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let x=0;x<d-1;x++)p.push(0);p.push(1);let g=1;for(let x=0;x<d;x++){for(let b=0;b<p.length;b++)p[b]=Ze.reedSolomonMultiply(p[b],g),b+1<p.length&&(p[b]^=p[b+1]);g=Ze.reedSolomonMultiply(g,2)}return p}static reedSolomonComputeRemainder(d,p){let g=p.map(x=>0);for(const x of d){const b=x^g.shift();g.push(0),p.forEach((S,T)=>g[T]^=Ze.reedSolomonMultiply(S,b))}return g}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let g=0;for(let x=7;x>=0;x--)g=g<<1^(g>>>7)*285,g^=(p>>>x&1)*d;return s(g>>>8==0),g}finderPenaltyCountPatterns(d){const p=d[1];s(p<=this.size*3);const g=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(g&&d[0]>=p*4&&d[6]>=p?1:0)+(g&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,g){return d&&(this.finderPenaltyAddHistory(p,g),p=0),p+=this.size,this.finderPenaltyAddHistory(p,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(h,d,p){if(d<0||d>31||h>>>d)throw new RangeError("Value out of range");for(let g=d-1;g>=0;g--)p.push(h>>>g&1)}function i(h,d){return(h>>>d&1)!=0}function s(h){if(!h)throw new Error("Assertion error")}const o=class qt{constructor(d,p,g){if(this.mode=d,this.numChars=p,this.bitData=g,p<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(d){let p=[];for(const g of d)n(g,8,p);return new qt(qt.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!qt.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let g=0;g<d.length;){const x=Math.min(d.length-g,3);n(parseInt(d.substring(g,g+x),10),x*3+1,p),g+=x}return new qt(qt.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!qt.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],g;for(g=0;g+2<=d.length;g+=2){let x=qt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g))*45;x+=qt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g+1)),n(x,11,p)}return g<d.length&&n(qt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g)),6,p),new qt(qt.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:qt.isNumeric(d)?[qt.makeNumeric(d)]:qt.isAlphanumeric(d)?[qt.makeAlphanumeric(d)]:[qt.makeBytes(qt.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,p);else if(d<16384)n(2,2,p),n(d,14,p);else if(d<1e6)n(6,3,p),n(d,21,p);else throw new RangeError("ECI assignment value out of range");return new qt(qt.Mode.ECI,0,p)}static isNumeric(d){return qt.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return qt.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let g=0;for(const x of d){const b=x.mode.numCharCountBits(p);if(x.numChars>=1<<b)return 1/0;g+=4+b+x.bitData.length}return g}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let g=0;g<d.length;g++)d.charAt(g)!="%"?p.push(d.charCodeAt(g)):(p.push(parseInt(d.substring(g+1,g+3),16)),g+=2);return p}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=o;t.QrSegment=o})(Mo||(Mo={}));(t=>{(e=>{const n=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Mo||(Mo={}));(t=>{(e=>{const n=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Mo||(Mo={}));var oc=Mo;var tB={L:oc.QrCode.Ecc.LOW,M:oc.QrCode.Ecc.MEDIUM,Q:oc.QrCode.Ecc.QUARTILE,H:oc.QrCode.Ecc.HIGH},VA=128,LA="L",FA="#FFFFFF",BA="#000000",zA=!1,UA=1,nB=4,iB=0,rB=.1;function HA(t,e=0){const n=[];return t.forEach(function(i,s){let o=null;i.forEach(function(u,h){if(!u&&o!==null){n.push(`M${o+e} ${s+e}h${h-o}v1H${o+e}z`),o=null;return}if(h===i.length-1){if(!u)return;o===null?n.push(`M${h+e},${s+e} h1v1H${h+e}z`):n.push(`M${o+e},${s+e} h${h+1-o}v1H${o+e}z`);return}u&&o===null&&(o=h)})}),n.join("")}function $A(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((s,o)=>o<e.x||o>=e.x+e.w?s:!1))}function sB(t,e,n,i){if(i==null)return null;const s=t.length+n*2,o=Math.floor(e*rB),u=s/e,h=(i.width||o)*u,d=(i.height||o)*u,p=i.x==null?t.length/2-h/2:i.x*u,g=i.y==null?t.length/2-d/2:i.y*u,x=i.opacity==null?1:i.opacity;let b=null;if(i.excavate){let T=Math.floor(p),A=Math.floor(g),_=Math.ceil(h+p-T),M=Math.ceil(d+g-A);b={x:T,y:A,w:_,h:M}}const S=i.crossOrigin;return{x:p,y:g,h:d,w:h,excavation:b,opacity:x,crossOrigin:S}}function aB(t,e){return e!=null?Math.max(Math.floor(e),0):t?nB:iB}function GA({value:t,level:e,minVersion:n,includeMargin:i,marginSize:s,imageSettings:o,size:u,boostLevel:h}){let d=kt.useMemo(()=>{const T=(Array.isArray(t)?t:[t]).reduce((A,_)=>(A.push(...oc.QrSegment.makeSegments(_)),A),[]);return oc.QrCode.encodeSegments(T,tB[e],n,void 0,void 0,h)},[t,e,n,h]);const{cells:p,margin:g,numCells:x,calculatedImageSettings:b}=kt.useMemo(()=>{let S=d.getModules();const T=aB(i,s),A=S.length+T*2,_=sB(S,u,T,o);return{cells:S,margin:T,numCells:A,calculatedImageSettings:_}},[d,u,o,i,s]);return{qrcode:d,margin:g,cells:p,numCells:x,calculatedImageSettings:b}}var oB=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),lB=kt.forwardRef(function(e,n){const i=e,{value:s,size:o=VA,level:u=LA,bgColor:h=FA,fgColor:d=BA,includeMargin:p=zA,minVersion:g=UA,boostLevel:x,marginSize:b,imageSettings:S}=i,A=sx(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=A,M=sx(A,["style"]),D=S?.src,V=kt.useRef(null),$=kt.useRef(null),Q=kt.useCallback(xe=>{V.current=xe,typeof n=="function"?n(xe):n&&(n.current=xe)},[n]),[re,R]=kt.useState(!1),{margin:I,cells:k,numCells:L,calculatedImageSettings:B}=GA({value:s,level:u,minVersion:g,boostLevel:x,includeMargin:p,marginSize:b,imageSettings:S,size:o});kt.useEffect(()=>{if(V.current!=null){const xe=V.current,Ee=xe.getContext("2d");if(!Ee)return;let O=k;const q=$.current,ae=B!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;ae&&B.excavation!=null&&(O=$A(k,B.excavation));const Te=window.devicePixelRatio||1;xe.height=xe.width=o*Te;const Ce=o/L*Te;Ee.scale(Ce,Ce),Ee.fillStyle=h,Ee.fillRect(0,0,L,L),Ee.fillStyle=d,oB?Ee.fill(new Path2D(HA(O,I))):k.forEach(function(z,Z){z.forEach(function(te,pe){te&&Ee.fillRect(pe+I,Z+I,1,1)})}),B&&(Ee.globalAlpha=B.opacity),ae&&Ee.drawImage(q,B.x+I,B.y+I,B.w,B.h)}}),kt.useEffect(()=>{R(!1)},[D]);const H=rx({height:o,width:o},_);let F=null;return D!=null&&(F=kt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{R(!0)},ref:$,crossOrigin:B?.crossOrigin})),kt.createElement(kt.Fragment,null,kt.createElement("canvas",rx({style:H,height:o,width:o,ref:Q,role:"img"},M)),F)});lB.displayName="QRCodeCanvas";var kv=kt.forwardRef(function(e,n){const i=e,{value:s,size:o=VA,level:u=LA,bgColor:h=FA,fgColor:d=BA,includeMargin:p=zA,minVersion:g=UA,boostLevel:x,title:b,marginSize:S,imageSettings:T}=i,A=sx(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:M,numCells:D,calculatedImageSettings:V}=GA({value:s,level:u,minVersion:g,boostLevel:x,includeMargin:p,marginSize:S,imageSettings:T,size:o});let $=M,Q=null;T!=null&&V!=null&&(V.excavation!=null&&($=$A(M,V.excavation)),Q=kt.createElement("image",{href:T.src,height:V.h,width:V.w,x:V.x+_,y:V.y+_,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const re=HA($,_);return kt.createElement("svg",rx({height:o,width:o,viewBox:`0 0 ${D} ${D}`,ref:n,role:"img"},A),!!b&&kt.createElement("title",null,b),kt.createElement("path",{fill:h,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),kt.createElement("path",{fill:d,d:re,shapeRendering:"crispEdges"}),Q)});kv.displayName="QRCodeSVG";function qA({onComplete:t,onCancel:e}){const[n,i]=j.useState(null),[s,o]=j.useState(""),[u,h]=j.useState(!0),[d,p]=j.useState(!1),[g,x]=j.useState(null),[b,S]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const M=await nx(ix,"getMFAEnrollment")();if(M.data.success)i(M.data);else throw new Error("Failed to load enrollment data")}catch(_){console.error("MFA Enrollment Error:",_),x(_.message||"Failed to initialize MFA enrollment")}finally{h(!1)}})()},[]);const T=async()=>{p(!0),x(null);try{const _=await nx(ix,"verifyMFA")({code:s});if(_.data.success)S(!0),setTimeout(t,2e3);else throw new Error(_.data.error||"Verification failed")}catch(A){console.error("Verification Error:",A),x(A.message||"Invalid code. Please try again.")}finally{p(!1)}};return u?l.jsx("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:l.jsx("div",{className:"animate-pulse text-gold inter text-sm uppercase tracking-widest",children:"Initializing Security Layer..."})}):b?l.jsxs("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"MFA Activated"}),l.jsx("p",{className:"inter text-sm text-slate-400",children:"Your device has been verified and registered."})]}):l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",maxWidth:"500px",margin:"0 auto",border:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("h2",{className:"cinzel text-xl text-gold mb-6 text-center",children:"MFA Enrollment"}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("p",{className:"inter text-sm text-slate-300 mb-6",children:"Scan the QR code below with your Authenticator app (Google Authenticator, Authy, etc.)"}),n&&l.jsx("div",{style:{background:"white",padding:"16px",borderRadius:"12px",display:"inline-block",marginBottom:"24px"},children:l.jsx(kv,{value:n.otpauth,size:200,level:"H",includeMargin:!0})}),l.jsxs("div",{style:{textAlign:"left",background:"rgba(255,255,255,0.05)",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("h4",{className:"inter text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Manual Entry"}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("code",{style:{color:"#C8A951",fontSize:"14px",letterSpacing:"1px"},children:n?.secret}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n?.secret||""),alert("Secret copied to clipboard")},className:"text-[10px] text-slate-400 hover:text-white uppercase",children:"Copy"})]})]})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase font-bold block mb-2",children:"Verify Code"}),l.jsx("input",{type:"text",value:s,onChange:A=>o(A.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",style:{width:"100%",padding:"12px",fontSize:"20px",textAlign:"center",letterSpacing:"0.4em",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",outline:"none"}})]}),g&&l.jsx("div",{style:{color:"#ef4444",fontSize:"12px",marginBottom:"24px",textAlign:"center"},children:g}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 border border-white/10 rounded-lg text-sm text-slate-400 hover:bg-white/5 transition-all",children:"Cancel"}),l.jsx("button",{onClick:T,disabled:d||s.length<6,className:"flex-[2] select-plan-btn",style:{opacity:d||s.length<6?.7:1,cursor:d?"wait":"pointer"},children:d?"Verifying...":"Complete Enrollment"})]})]})}const cB=[{value:1,label:"DRAFT"},{value:2,label:"ACTIVE"},{value:3,label:"SIGNED"},{value:4,label:"PAID"},{value:5,label:"ARCHIVED"},{value:6,label:"WAITING FOR COUNTERSIGN"}],uB=t=>{switch(typeof t=="string"?t.toUpperCase().replace("CONTRACT_STATUS_",""):t){case 1:case"DRAFT":return{label:"DRAFT",color:"#94a3b8"};case 2:case"ACTIVE":return{label:"ACTIVE",color:"#3b82f6"};case 3:case"SIGNED":return{label:"SIGNED",color:"#10b981"};case 4:case"PAID":return{label:"PAID",color:"#C8A951"};case 5:case"ARCHIVED":return{label:"ARCHIVED",color:"#475569"};case 6:case"WAITING_FOR_COUNTERSIGN":case"WAITING FOR COUNTERSIGN":return{label:"AWAITING COUNTERSIGN",color:"#f59e0b"};default:return{label:"UNKNOWN",color:"#64748b"}}},Ki=t=>"$"+(t/100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),At={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0c1425",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"32px",width:"560px",maxWidth:"95vw",maxHeight:"90vh",overflowY:"auto"},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.04)",color:"white",fontSize:"14px",fontFamily:"'Inter', sans-serif",outline:"none",boxSizing:"border-box"},label:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px",display:"block"},btnBase:{border:"none",padding:"6px 14px",borderRadius:"6px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.2s ease"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#C8A951"}};function id(){const{userId:t,category:e,entityId:n,docId:i}=k_(),s=Lc(),[o,u]=j.useState([]),[h,d]=j.useState(!0),[p,g]=j.useState(!1),[x,b]=j.useState(()=>kA()),[S,T]=j.useState(new Set),[A,_]=j.useState(null),[M,D]=j.useState({clientName:"",clientEmail:"",projectName:"",totalAmount:"",paidAmount:"",status:1,countersignerName:"",countersignerEmail:""}),[V,$]=j.useState(!1),[Q,re]=j.useState(null),[R,I]=j.useState(!1),[k,L]=j.useState(!1),[B,H]=j.useState(!1),F=j.useCallback(async()=>{try{const ue=Xt.currentUser;if(!ue)return;const Ne=await ue.getIdToken(),Ae=await fetch("https://contracts-grpc-210890802638.us-east4.run.app/sirsi.contracts.v1.ContractsService/ListContracts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({userEmail:ue.email||"",pageSize:50})});let We=[];Ae.ok&&(We=(await Ae.json()).contracts||[]),n&&(We=We.filter(Ct=>Ct.projectId===n)),i&&(We=We.filter(Ct=>Ct.id===i)),u(We),T(Ct=>{const _n=new Set(We.map(Vn=>Vn.id)),tr=new Set([...Ct].filter(Vn=>_n.has(Vn)));return tr.size===Ct.size?Ct:tr})}catch(ue){console.error("Failed to fetch contracts:",ue)}finally{d(!1)}},[n,i]);j.useEffect(()=>{Xt.currentUser&&F()},[F]);const xe=j.useMemo(()=>{const ue=Ae=>Ae===2||typeof Ae=="string"&&Ae.toUpperCase().replace("CONTRACT_STATUS_","")==="ACTIVE",Ne=o.filter(Ae=>ue(Ae.status)).sort((Ae,We)=>Number(We.createdAt)-Number(Ae.createdAt));return Ne.length>0?Ne[0].id:null},[o]),Ee=j.useMemo(()=>{let ue=0,Ne=0;o.forEach(We=>{ue+=Number(We.totalAmount)||0,Ne+=Number(We.paidAmount)||0});const Ae=ue-Ne;return{totalOwed:ue,totalPaid:Ne,balance:Ae}},[o]),O=j.useMemo(()=>{const ue={};return o.forEach(Ne=>{ue[Ne.projectId]||(ue[Ne.projectId]={name:Ne.projectName,docs:[]}),ue[Ne.projectId].docs.push(Ne)}),ue},[o]),q=j.useMemo(()=>o.map(ue=>ue.id),[o]),ae=o.length>0&&S.size===o.length,Te=S.size>0,Ce=ue=>{T(Ne=>{const Ae=new Set(Ne);return Ae.has(ue)?Ae.delete(ue):Ae.add(ue),Ae})},z=()=>{T(ae?new Set:new Set(q))},Z=ue=>{_(ue),D({clientName:ue.clientName||"",clientEmail:ue.clientEmail||"",projectName:ue.projectName||"",totalAmount:(Number(ue.totalAmount)/100).toString(),paidAmount:(Number(ue.paidAmount)/100).toString(),status:ue.status||1,countersignerName:ue.countersignerName||"",countersignerEmail:ue.countersignerEmail||""})},te=j.useMemo(()=>{if(!A)return null;const ue=Math.round(parseFloat(M.totalAmount||"0")*100),Ne=Math.round(parseFloat(M.paidAmount||"0")*100),Ae=ue-Ne,We=Number(A.totalAmount)-Number(A.paidAmount),Ct=Ae-We;return{newTotal:ue,newPaid:Ne,balance:Ae,delta:Ct}},[A,M.totalAmount,M.paidAmount]),pe=async()=>{if(A){$(!0);try{await Zn.updateContract({id:A.id,contract:{id:A.id,projectId:A.projectId,clientName:M.clientName,clientEmail:M.clientEmail,projectName:M.projectName,totalAmount:BigInt(Math.round(parseFloat(M.totalAmount)*100)),paidAmount:BigInt(Math.round(parseFloat(M.paidAmount)*100)),status:M.status,countersignerName:M.countersignerName,countersignerEmail:M.countersignerEmail,createdAt:A.createdAt,updatedAt:BigInt(Date.now()),createdBy:"",selectedPaymentPlan:A.selectedPaymentPlan,paymentMethod:A.paymentMethod||"",paymentPlans:[],signatureImageData:"",signatureHash:"",legalAcknowledgment:!1,stripeConnectAccountId:"",countersignedAt:BigInt(0)},updateMask:["clientName","clientEmail","projectName","totalAmount","paidAmount","status","countersignerName","countersignerEmail"]}),_(null),await F()}catch(ue){console.error("Failed to update contract:",ue),alert("Failed to save changes. Check console for details.")}finally{$(!1)}}},Se=async()=>{if(Q){I(!0);try{await Zn.deleteContract({id:Q.id}),re(null),await F()}catch(ue){console.error("Failed to delete contract:",ue),alert("Failed to delete contract.")}finally{I(!1)}}},je=async()=>{H(!0);try{const ue=[...S],Ae=(await Promise.allSettled(ue.map(We=>Zn.deleteContract({id:We})))).filter(We=>We.status==="rejected");Ae.length>0&&alert(`${ue.length-Ae.length} deleted, ${Ae.length} failed.`),T(new Set),L(!1),await F()}catch(ue){console.error("Bulk delete error:",ue)}finally{H(!1)}},Ue=async()=>{console.log(" Sign out initiated..."),await Xt.signOut(),JT(),s("/")},wt=j.useMemo(()=>o.filter(ue=>S.has(ue.id)),[o,S]),dt=ue=>{const Ne=Number(ue.totalAmount)||0,Ae=Number(ue.paidAmount)||0;return Ne-Ae},hn=({balance:ue})=>ue===0?l.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#10b981",textTransform:"uppercase",letterSpacing:"0.08em"},children:" Paid in Full"}):ue>0?l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#f59e0b",textTransform:"uppercase",letterSpacing:"0.08em"},children:[Ki(ue)," owed"]}):l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#60a5fa",textTransform:"uppercase",letterSpacing:"0.08em"},children:[Ki(Math.abs(ue))," credit"]});return x?l.jsxs("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"2rem",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",color:"white",fontSize:"42px",margin:0,letterSpacing:"0.05em"},children:"Sirsi Vault"}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px",alignItems:"center"},children:[l.jsx("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:Xt.currentUser?.displayName||Xt.currentUser?.email}),l.jsx("span",{style:{color:"rgba(255,255,255,0.2)"},children:""}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",textTransform:"uppercase"},children:"Permanent Record Hub"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsxs("button",{onClick:()=>g(!0),style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Security Settings"]}),l.jsx("button",{onClick:()=>{JT(),b(!1)},style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.4)",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},title:"Re-verify MFA",children:" Re-verify"}),l.jsxs("button",{onClick:Ue,style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Log out"]})]})]}),!h&&o.length>0&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1px",marginBottom:"2rem",borderRadius:"14px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.04)"},children:[l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Contracted"}),l.jsx("div",{style:{color:"white",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:Ki(Ee.totalOwed)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Paid"}),l.jsx("div",{style:{color:"#10b981",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:Ki(Ee.totalPaid)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:Ee.balance>0?"rgba(245,158,11,0.06)":Ee.balance<0?"rgba(59,130,246,0.06)":"rgba(16,185,129,0.06)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:Ee.balance>0?"Balance Owed":Ee.balance<0?"Credit Due":"Balance"}),l.jsx("div",{style:{fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif",color:Ee.balance>0?"#f59e0b":Ee.balance<0?"#60a5fa":"#10b981"},children:Ee.balance===0?"$0":Ee.balance>0?Ki(Ee.balance):`${Ki(Math.abs(Ee.balance))}`})]})]}),o.length>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",padding:"12px 16px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:ae,ref:ue=>{ue&&(ue.indeterminate=Te&&!ae)},onChange:z,style:At.checkbox}),l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:ae?"Deselect All":Te?`${S.size} Selected`:"Select All"})]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"12px"},children:[o.length," document",o.length!==1?"s":""]})]}),h?l.jsxs("div",{style:{textAlign:"center",padding:"8rem",color:"rgba(255,255,255,0.2)"},children:[l.jsx("div",{className:"spinner-gold",style:{marginBottom:"1rem"}}),"Syncing with Sirsi Ledger..."]}):Object.keys(O).length===0?l.jsxs("div",{style:{padding:"8rem 2rem",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"24px",border:"1px dashed rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"2rem",opacity:.5},children:""}),l.jsx("h3",{style:{color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",marginBottom:"1rem"},children:"Vault Is Empty"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",maxWidth:"400px",margin:"0 auto"},children:"No legal documents or payment agreements have been associated with this identity yet."})]}):l.jsx("div",{style:{display:"grid",gap:"3rem"},children:Object.entries(O).map(([ue,Ne])=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",paddingLeft:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"1px",background:"linear-gradient(to right, #C8A951, transparent)"}}),l.jsxs("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.2em",margin:0},children:[Ne.name," Portfolio"]}),l.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.05)"}})]}),l.jsx("div",{style:{display:"grid",gap:"12px"},children:Ne.docs.map(Ae=>{const We=uB(Ae.status),Ct=Ae.id===xe,_n=S.has(Ae.id),tr=dt(Ae);return l.jsxs("div",{className:"neo-glass-panel",style:{padding:"20px 24px",display:"flex",alignItems:"center",gap:"16px",border:Ct?"1px solid rgba(200,169,81,0.6)":_n?"1px solid rgba(200,169,81,0.4)":"1px solid rgba(255,255,255,0.05)",background:Ct?"rgba(200,169,81,0.06)":_n?"rgba(200,169,81,0.04)":void 0,transition:"all 0.3s ease",position:"relative"},children:[Ct&&l.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",borderRadius:"0 4px 4px 0",background:"#C8A951"}}),l.jsx("input",{type:"checkbox",checked:_n,onChange:()=>Ce(Ae.id),style:At.checkbox}),l.jsx("div",{style:{flex:1,minWidth:0},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[l.jsx("span",{style:{fontSize:"18px"},children:Ae.status===4?"":Ct?"":""}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"17px",letterSpacing:"0.02em"},children:[Ae.projectName," Service Agreement"]}),Ct&&l.jsx("span",{style:{fontSize:"9px",fontWeight:800,color:"#C8A951",background:"rgba(200,169,81,0.15)",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Active"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"12px",marginTop:"3px",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Ref: MSA-",Ae.id.substring(0,8).toUpperCase(),"  ",Ae.clientName,"  ",new Date(Number(Ae.createdAt)).toLocaleDateString()]})]})]})}),l.jsxs("div",{style:{textAlign:"right",minWidth:"140px",flexShrink:0},children:[l.jsx("div",{style:{color:"white",fontWeight:600,fontSize:"20px",fontFamily:"'Cinzel', serif"},children:Ki(Number(Ae.totalAmount))}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",alignItems:"center",marginTop:"4px"},children:[l.jsx("span",{style:{fontSize:"10px",color:We.color,fontWeight:800,letterSpacing:"0.12em",textTransform:"uppercase"},children:We.label}),l.jsx("span",{style:{color:"rgba(255,255,255,0.1)"},children:"|"}),l.jsx(hn,{balance:tr})]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexShrink:0},children:[l.jsx("button",{onClick:()=>{const Vn=(Xt.currentUser?.email||"").split("@")[0];s(`/vault/${Vn}/contracts/${Ae.projectId}/${Ae.id}?mfa=verified`)},className:"gold-action-btn",style:{padding:"8px 20px",fontSize:"13px"},children:"Sign"}),l.jsx("button",{onClick:()=>{const Vn=(Xt.currentUser?.email||"").split("@")[0];s(`/vault/${Vn}/contracts/${Ae.projectId}/${Ae.id}`)},style:{background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)",padding:"8px 22px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Review"}),l.jsx("button",{onClick:()=>Z(Ae),title:"Edit",style:{...At.btnBase,background:"rgba(59,130,246,0.15)",color:"#60a5fa",border:"1px solid rgba(59,130,246,0.2)"},children:""}),l.jsx("button",{onClick:()=>re(Ae),title:"Delete",style:{...At.btnBase,background:"rgba(239,68,68,0.1)",color:"#f87171",border:"1px solid rgba(239,68,68,0.15)"},children:""})]})]},Ae.id)})})]},ue))}),Te&&l.jsxs("div",{style:{position:"fixed",bottom:"32px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,display:"flex",alignItems:"center",gap:"20px",background:"rgba(15,20,37,0.95)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"14px",padding:"14px 28px",backdropFilter:"blur(16px)",boxShadow:"0 20px 60px rgba(0,0,0,0.6), 0 0 30px rgba(200,169,81,0.1)",animation:"slideUp 0.3s ease"},children:[l.jsxs("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,letterSpacing:"0.05em"},children:[S.size," selected"]}),l.jsx("div",{style:{width:"1px",height:"24px",background:"rgba(255,255,255,0.1)"}}),l.jsx("button",{onClick:z,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"8px 16px",borderRadius:"8px",fontSize:"11px",fontWeight:600,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:ae?"Deselect All":"Select All"}),l.jsx("button",{onClick:()=>L(!0),style:{background:"#ef4444",border:"none",color:"#fff",padding:"8px 20px",borderRadius:"8px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center",gap:"6px"},children:" Delete Selected"}),l.jsx("button",{onClick:()=>T(new Set),style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"18px",cursor:"pointer",padding:"4px 8px",lineHeight:1},title:"Clear selection",children:""})]}),k&&l.jsx("div",{style:At.overlay,onClick:()=>!B&&L(!1),children:l.jsxs("div",{style:{...At.modal,width:"500px",textAlign:"center"},onClick:ue=>ue.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"BULK DELETE"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"16px"},children:["You are about to permanently remove ",l.jsx("strong",{style:{color:"#f87171"},children:S.size})," document",S.size!==1?"s":"",":"]}),l.jsx("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px",maxHeight:"200px",overflowY:"auto",textAlign:"left"},children:wt.map(ue=>l.jsxs("div",{style:{padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:[ue.projectName,"  ",ue.clientName]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginLeft:"8px"},children:["MSA-",ue.id.substring(0,8).toUpperCase()]})]},ue.id))}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>L(!1),disabled:B,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:je,disabled:B,style:{background:B?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:B?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:B?"Deleting":`Delete ${S.size} Document${S.size!==1?"s":""}`})]})]})}),A&&l.jsx("div",{style:At.overlay,onClick:()=>!V&&_(null),children:l.jsxs("div",{style:At.modal,onClick:ue=>ue.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"18px",margin:0,letterSpacing:"0.1em"},children:"EDIT CONTRACT"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",fontFamily:"monospace"},children:[A.id.substring(0,12),""]})]}),l.jsxs("div",{style:{display:"grid",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Client Name"}),l.jsx("input",{style:At.input,value:M.clientName,onChange:ue=>D(Ne=>({...Ne,clientName:ue.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Client Email"}),l.jsx("input",{style:At.input,type:"email",value:M.clientEmail,onChange:ue=>D(Ne=>({...Ne,clientEmail:ue.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Project Name"}),l.jsx("input",{style:At.input,value:M.projectName,onChange:ue=>D(Ne=>({...Ne,projectName:ue.target.value}))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Contract Amount ($)"}),l.jsx("input",{style:At.input,type:"number",step:"0.01",value:M.totalAmount,onChange:ue=>D(Ne=>({...Ne,totalAmount:ue.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Paid Amount ($)"}),l.jsx("input",{style:At.input,type:"number",step:"0.01",value:M.paidAmount,onChange:ue=>D(Ne=>({...Ne,paidAmount:ue.target.value}))})]})]}),te&&l.jsxs("div",{style:{background:te.balance===0?"rgba(16,185,129,0.08)":te.balance>0?"rgba(245,158,11,0.08)":"rgba(59,130,246,0.08)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"14px 18px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:"Ledger Impact"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:["New Balance:"," "]}),l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:te.balance===0?"#10b981":te.balance>0?"#f59e0b":"#60a5fa"},children:te.balance===0?"$0  Paid in Full":te.balance>0?`${Ki(te.balance)} owed`:`${Ki(Math.abs(te.balance))} credit`})]}),te.delta!==0&&l.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:te.delta>0?"#f87171":"#10b981"},children:[te.delta>0?"+":"",Ki(Math.abs(te.delta))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Status"}),l.jsx("select",{style:{...At.input,appearance:"auto"},value:M.status,onChange:ue=>D(Ne=>({...Ne,status:parseInt(ue.target.value)})),children:cB.map(ue=>l.jsx("option",{value:ue.value,children:ue.label},ue.value))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Countersigner Name"}),l.jsx("input",{style:At.input,value:M.countersignerName,onChange:ue=>D(Ne=>({...Ne,countersignerName:ue.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:At.label,children:"Countersigner Email"}),l.jsx("input",{style:At.input,type:"email",value:M.countersignerEmail,onChange:ue=>D(Ne=>({...Ne,countersignerEmail:ue.target.value}))})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"28px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("button",{onClick:()=>_(null),disabled:V,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 24px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:pe,disabled:V,style:{background:V?"rgba(200,169,81,0.3)":"#C8A951",border:"none",color:"#0f172a",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:V?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:V?"Saving":"Save Changes"})]})]})}),Q&&l.jsx("div",{style:At.overlay,onClick:()=>!R&&re(null),children:l.jsxs("div",{style:{...At.modal,width:"440px",textAlign:"center"},onClick:ue=>ue.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"DELETE CONTRACT"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"8px"},children:"You are about to permanently remove:"}),l.jsxs("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"15px"},children:[Q.projectName,"  ",Q.clientName]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",marginTop:"6px"},children:["Ref: MSA-",Q.id.substring(0,8).toUpperCase(),"  ",Ki(Number(Q.totalAmount))]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>re(null),disabled:R,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:Se,disabled:R,style:{background:R?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:R?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:R?"Deleting":"Delete Permanently"})]})]})}),p&&l.jsx("div",{className:"modal-overlay",children:l.jsx("div",{className:"modal-content",style:{maxWidth:"500px"},children:l.jsx(qA,{onComplete:()=>g(!1),onCancel:()=>g(!1)})})}),l.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateX(-50%) translateY(20px); opacity: 0; }
                    to   { transform: translateX(-50%) translateY(0);    opacity: 1; }
                }
            `})]}):l.jsx(Dv,{purpose:"vault",onVerified:()=>b(!0),onCancel:()=>s("/")})}function Pv(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function ua(t,e){return typeof t=="function"?t(e):t}function Si(t,e){return n=>{e.setState(i=>({...i,[t]:ua(n,i[t])}))}}function vm(t){return t instanceof Function}function dB(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function hB(t,e){const n=[],i=s=>{s.forEach(o=>{n.push(o);const u=e(o);u!=null&&u.length&&i(u)})};return i(t),n}function Oe(t,e,n){let i=[],s;return o=>{let u;n.key&&n.debug&&(u=Date.now());const h=t(o);if(!(h.length!==i.length||h.some((g,x)=>i[x]!==g)))return s;i=h;let p;if(n.key&&n.debug&&(p=Date.now()),s=e(...h),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-u)*100)/100,x=Math.round((Date.now()-p)*100)/100,b=x/16,S=(T,A)=>{for(T=String(T);T.length<A;)T=" "+T;return T};console.info(`%c ${S(x,5)} /${S(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return s}}function Me(t,e,n,i){return{debug:()=>{var s;return(s=t?.debugAll)!=null?s:t[e]},key:!1,onChange:i}}function fB(t,e,n,i){const s=()=>{var u;return(u=o.getValue())!=null?u:t.options.renderFallbackValue},o={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:s,getContext:Oe(()=>[t,n,e,o],(u,h,d,p)=>({table:u,column:h,row:d,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Me(t.options,"debugCells"))};return t._features.forEach(u=>{u.createCell==null||u.createCell(o,n,e,t)},{}),o}function pB(t,e,n,i){var s,o;const h={...t._getDefaultColumnDef(),...e},d=h.accessorKey;let p=(s=(o=h.id)!=null?o:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof h.header=="string"?h.header:void 0,g;if(h.accessorFn?g=h.accessorFn:d&&(d.includes(".")?g=b=>{let S=b;for(const A of d.split(".")){var T;S=(T=S)==null?void 0:T[A]}return S}:g=b=>b[h.accessorKey]),!p)throw new Error;let x={id:`${String(p)}`,accessorFn:g,parent:i,depth:n,columnDef:h,columns:[],getFlatColumns:Oe(()=>[!0],()=>{var b;return[x,...(b=x.columns)==null?void 0:b.flatMap(S=>S.getFlatColumns())]},Me(t.options,"debugColumns")),getLeafColumns:Oe(()=>[t._getOrderColumnsFn()],b=>{var S;if((S=x.columns)!=null&&S.length){let T=x.columns.flatMap(A=>A.getLeafColumns());return b(T)}return[x]},Me(t.options,"debugColumns"))};for(const b of t._features)b.createColumn==null||b.createColumn(x,t);return x}const Un="debugHeaders";function sE(t,e,n){var i;let o={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const u=[],h=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(h),u.push(d)};return h(o),u},getContext:()=>({table:t,header:o,column:e})};return t._features.forEach(u=>{u.createHeader==null||u.createHeader(o,t)}),o}const mB={createTable:t=>{t.getHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,s)=>{var o,u;const h=(o=i?.map(x=>n.find(b=>b.id===x)).filter(Boolean))!=null?o:[],d=(u=s?.map(x=>n.find(b=>b.id===x)).filter(Boolean))!=null?u:[],p=n.filter(x=>!(i!=null&&i.includes(x.id))&&!(s!=null&&s.includes(x.id)));return Wf(e,[...h,...p,...d],t)},Me(t.options,Un)),t.getCenterHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,s)=>(n=n.filter(o=>!(i!=null&&i.includes(o.id))&&!(s!=null&&s.includes(o.id))),Wf(e,n,t,"center")),Me(t.options,Un)),t.getLeftHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var s;const o=(s=i?.map(u=>n.find(h=>h.id===u)).filter(Boolean))!=null?s:[];return Wf(e,o,t,"left")},Me(t.options,Un)),t.getRightHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var s;const o=(s=i?.map(u=>n.find(h=>h.id===u)).filter(Boolean))!=null?s:[];return Wf(e,o,t,"right")},Me(t.options,Un)),t.getFooterGroups=Oe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Me(t.options,Un)),t.getLeftFooterGroups=Oe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Me(t.options,Un)),t.getCenterFooterGroups=Oe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Me(t.options,Un)),t.getRightFooterGroups=Oe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Me(t.options,Un)),t.getFlatHeaders=Oe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Me(t.options,Un)),t.getLeftFlatHeaders=Oe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Me(t.options,Un)),t.getCenterFlatHeaders=Oe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Me(t.options,Un)),t.getRightFlatHeaders=Oe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Me(t.options,Un)),t.getCenterLeafHeaders=Oe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Me(t.options,Un)),t.getLeftLeafHeaders=Oe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Me(t.options,Un)),t.getRightLeafHeaders=Oe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Me(t.options,Un)),t.getLeafHeaders=Oe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var s,o,u,h,d,p;return[...(s=(o=e[0])==null?void 0:o.headers)!=null?s:[],...(u=(h=n[0])==null?void 0:h.headers)!=null?u:[],...(d=(p=i[0])==null?void 0:p.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},Me(t.options,Un))}};function Wf(t,e,n,i){var s,o;let u=0;const h=function(b,S){S===void 0&&(S=1),u=Math.max(u,S),b.filter(T=>T.getIsVisible()).forEach(T=>{var A;(A=T.columns)!=null&&A.length&&h(T.columns,S+1)},0)};h(t);let d=[];const p=(b,S)=>{const T={depth:S,id:[i,`${S}`].filter(Boolean).join("_"),headers:[]},A=[];b.forEach(_=>{const M=[...A].reverse()[0],D=_.column.depth===T.depth;let V,$=!1;if(D&&_.column.parent?V=_.column.parent:(V=_.column,$=!0),M&&M?.column===V)M.subHeaders.push(_);else{const Q=sE(n,V,{id:[i,S,V.id,_?.id].filter(Boolean).join("_"),isPlaceholder:$,placeholderId:$?`${A.filter(re=>re.column===V).length}`:void 0,depth:S,index:A.length});Q.subHeaders.push(_),A.push(Q)}T.headers.push(_),_.headerGroup=T}),d.push(T),S>0&&p(A,S-1)},g=e.map((b,S)=>sE(n,b,{depth:u,index:S}));p(g,u-1),d.reverse();const x=b=>b.filter(T=>T.column.getIsVisible()).map(T=>{let A=0,_=0,M=[0];T.subHeaders&&T.subHeaders.length?(M=[],x(T.subHeaders).forEach(V=>{let{colSpan:$,rowSpan:Q}=V;A+=$,M.push(Q)})):A=1;const D=Math.min(...M);return _=_+D,T.colSpan=A,T.rowSpan=_,{colSpan:A,rowSpan:_}});return x((s=(o=d[0])==null?void 0:o.headers)!=null?s:[]),d}const Ov=(t,e,n,i,s,o,u)=>{let h={id:e,index:i,original:n,depth:s,parentId:u,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(h._valuesCache.hasOwnProperty(d))return h._valuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return h._valuesCache[d]=p.accessorFn(h.original,i),h._valuesCache[d]},getUniqueValues:d=>{if(h._uniqueValuesCache.hasOwnProperty(d))return h._uniqueValuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(h._uniqueValuesCache[d]=p.columnDef.getUniqueValues(h.original,i),h._uniqueValuesCache[d]):(h._uniqueValuesCache[d]=[h.getValue(d)],h._uniqueValuesCache[d])},renderValue:d=>{var p;return(p=h.getValue(d))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>hB(h.subRows,d=>d.subRows),getParentRow:()=>h.parentId?t.getRow(h.parentId,!0):void 0,getParentRows:()=>{let d=[],p=h;for(;;){const g=p.getParentRow();if(!g)break;d.push(g),p=g}return d.reverse()},getAllCells:Oe(()=>[t.getAllLeafColumns()],d=>d.map(p=>fB(t,h,p,p.id)),Me(t.options,"debugRows")),_getAllCellsByColumnId:Oe(()=>[h.getAllCells()],d=>d.reduce((p,g)=>(p[g.column.id]=g,p),{}),Me(t.options,"debugRows"))};for(let d=0;d<t._features.length;d++){const p=t._features[d];p==null||p.createRow==null||p.createRow(h,t)}return h},gB={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},WA=(t,e,n)=>{var i,s;const o=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(o))};WA.autoRemove=t=>Xi(t);const KA=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};KA.autoRemove=t=>Xi(t);const YA=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};YA.autoRemove=t=>Xi(t);const QA=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};QA.autoRemove=t=>Xi(t);const JA=(t,e,n)=>!n.some(i=>{var s;return!((s=t.getValue(e))!=null&&s.includes(i))});JA.autoRemove=t=>Xi(t)||!(t!=null&&t.length);const XA=(t,e,n)=>n.some(i=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(i)});XA.autoRemove=t=>Xi(t)||!(t!=null&&t.length);const ZA=(t,e,n)=>t.getValue(e)===n;ZA.autoRemove=t=>Xi(t);const eI=(t,e,n)=>t.getValue(e)==n;eI.autoRemove=t=>Xi(t);const Mv=(t,e,n)=>{let[i,s]=n;const o=t.getValue(e);return o>=i&&o<=s};Mv.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,o=e===null||Number.isNaN(i)?-1/0:i,u=n===null||Number.isNaN(s)?1/0:s;if(o>u){const h=o;o=u,u=h}return[o,u]};Mv.autoRemove=t=>Xi(t)||Xi(t[0])&&Xi(t[1]);const Zr={includesString:WA,includesStringSensitive:KA,equalsString:YA,arrIncludes:QA,arrIncludesAll:JA,arrIncludesSome:XA,equals:ZA,weakEquals:eI,inNumberRange:Mv};function Xi(t){return t==null||t===""}const yB={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Si("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?Zr.includesString:typeof i=="number"?Zr.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Zr.equals:Array.isArray(i)?Zr.arrIncludes:Zr.weakEquals},t.getFilterFn=()=>{var n,i;return vm(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:Zr[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const s=t.getFilterFn(),o=i?.find(g=>g.id===t.id),u=ua(n,o?o.value:void 0);if(aE(s,u,t)){var h;return(h=i?.filter(g=>g.id!==t.id))!=null?h:[]}const d={id:t.id,value:u};if(o){var p;return(p=i?.map(g=>g.id===t.id?d:g))!=null?p:[]}return i!=null&&i.length?[...i,d]:[d]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=s=>{var o;return(o=ua(e,s))==null?void 0:o.filter(u=>{const h=n.find(d=>d.id===u.id);if(h){const d=h.getFilterFn();if(aE(d,u.value,h))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function aE(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const xB=(t,e,n)=>n.reduce((i,s)=>{const o=s.getValue(t);return i+(typeof o=="number"?o:0)},0),vB=(t,e,n)=>{let i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},bB=(t,e,n)=>{let i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},SB=(t,e,n)=>{let i,s;return n.forEach(o=>{const u=o.getValue(t);u!=null&&(i===void 0?u>=u&&(i=s=u):(i>u&&(i=u),s<u&&(s=u)))}),[i,s]},wB=(t,e)=>{let n=0,i=0;if(e.forEach(s=>{let o=s.getValue(t);o!=null&&(o=+o)>=o&&(++n,i+=o)}),n)return i/n},TB=(t,e)=>{if(!e.length)return;const n=e.map(o=>o.getValue(t));if(!dB(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),s=n.sort((o,u)=>o-u);return n.length%2!==0?s[i]:(s[i-1]+s[i])/2},EB=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),_B=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,CB=(t,e)=>e.length,Xy={sum:xB,min:vB,max:bB,extent:SB,mean:wB,median:TB,unique:EB,uniqueCount:_B,count:CB},AB={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Si("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return Xy.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Xy.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return vm(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:Xy[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function IB(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(o=>!e.includes(o.id));return n==="remove"?i:[...e.map(o=>t.find(u=>u.id===o)).filter(Boolean),...i]}const jB={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Si("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Oe(n=>[_d(e,n)],n=>n.findIndex(i=>i.id===t.id),Me(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=_d(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const s=_d(e,n);return((i=s[s.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Oe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>s=>{let o=[];if(!(e!=null&&e.length))o=s;else{const u=[...e],h=[...s];for(;h.length&&u.length;){const d=u.shift(),p=h.findIndex(g=>g.id===d);p>-1&&o.push(h.splice(p,1)[0])}o=[...o,...h]}return IB(o,n,i)},Me(t.options,"debugTable"))}},Zy=()=>({left:[],right:[]}),RB={getInitialState:t=>({columnPinning:Zy(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Si("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var o,u;if(n==="right"){var h,d;return{left:((h=s?.left)!=null?h:[]).filter(x=>!(i!=null&&i.includes(x))),right:[...((d=s?.right)!=null?d:[]).filter(x=>!(i!=null&&i.includes(x))),...i]}}if(n==="left"){var p,g;return{left:[...((p=s?.left)!=null?p:[]).filter(x=>!(i!=null&&i.includes(x))),...i],right:((g=s?.right)!=null?g:[]).filter(x=>!(i!=null&&i.includes(x)))}}return{left:((o=s?.left)!=null?o:[]).filter(x=>!(i!=null&&i.includes(x))),right:((u=s?.right)!=null?u:[]).filter(x=>!(i!=null&&i.includes(x)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var s,o,u;return((s=i.columnDef.enablePinning)!=null?s:!0)&&((o=(u=e.options.enableColumnPinning)!=null?u:e.options.enablePinning)!=null?o:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(h=>h.id),{left:i,right:s}=e.getState().columnPinning,o=n.some(h=>i?.includes(h)),u=n.some(h=>s?.includes(h));return o?"left":u?"right":!1},t.getPinnedIndex=()=>{var n,i;const s=t.getIsPinned();return s?(n=(i=e.getState().columnPinning)==null||(i=i[s])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,s)=>{const o=[...i??[],...s??[]];return n.filter(u=>!o.includes(u.column.id))},Me(e.options,"debugRows")),t.getLeftVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(o=>n.find(u=>u.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Me(e.options,"debugRows")),t.getRightVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(o=>n.find(u=>u.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Me(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?Zy():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:Zy())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var s,o;return!!((s=i.left)!=null&&s.length||(o=i.right)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(s=>s.id===i)).filter(Boolean),Me(t.options,"debugColumns")),t.getRightLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(s=>s.id===i)).filter(Boolean),Me(t.options,"debugColumns")),t.getCenterLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const s=[...n??[],...i??[]];return e.filter(o=>!s.includes(o.id))},Me(t.options,"debugColumns"))}};function NB(t){return t||(typeof document<"u"?document:null)}const Kf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},e0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),DB={getDefaultColumnDef:()=>Kf,getInitialState:t=>({columnSizing:{},columnSizingInfo:e0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Si("columnSizing",t),onColumnSizingInfoChange:Si("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,s;const o=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Kf.minSize,(i=o??t.columnDef.size)!=null?i:Kf.size),(s=t.columnDef.maxSize)!=null?s:Kf.maxSize)},t.getStart=Oe(n=>[n,_d(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((s,o)=>s+o.getSize(),0),Me(e.options,"debugColumns")),t.getAfter=Oe(n=>[n,_d(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((s,o)=>s+o.getSize(),0),Me(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...s}=n;return s})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=s=>{if(s.subHeaders.length)s.subHeaders.forEach(i);else{var o;n+=(o=s.column.getSize())!=null?o:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),s=i?.getCanResize();return o=>{if(!i||!s||(o.persist==null||o.persist(),t0(o)&&o.touches&&o.touches.length>1))return;const u=t.getSize(),h=t?t.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[i.id,i.getSize()]],d=t0(o)?Math.round(o.touches[0].clientX):o.clientX,p={},g=(M,D)=>{typeof D=="number"&&(e.setColumnSizingInfo(V=>{var $,Q;const re=e.options.columnResizeDirection==="rtl"?-1:1,R=(D-(($=V?.startOffset)!=null?$:0))*re,I=Math.max(R/((Q=V?.startSize)!=null?Q:0),-.999999);return V.columnSizingStart.forEach(k=>{let[L,B]=k;p[L]=Math.round(Math.max(B+B*I,0)*100)/100}),{...V,deltaOffset:R,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||M==="end")&&e.setColumnSizing(V=>({...V,...p})))},x=M=>g("move",M),b=M=>{g("end",M),e.setColumnSizingInfo(D=>({...D,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S=NB(n),T={moveHandler:M=>x(M.clientX),upHandler:M=>{S?.removeEventListener("mousemove",T.moveHandler),S?.removeEventListener("mouseup",T.upHandler),b(M.clientX)}},A={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),x(M.touches[0].clientX),!1),upHandler:M=>{var D;S?.removeEventListener("touchmove",A.moveHandler),S?.removeEventListener("touchend",A.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),b((D=M.touches[0])==null?void 0:D.clientX)}},_=kB()?{passive:!1}:!1;t0(o)?(S?.addEventListener("touchmove",A.moveHandler,_),S?.addEventListener("touchend",A.upHandler,_)):(S?.addEventListener("mousemove",T.moveHandler,_),S?.addEventListener("mouseup",T.upHandler,_)),e.setColumnSizingInfo(M=>({...M,startOffset:d,startSize:u,deltaOffset:0,deltaPercentage:0,columnSizingStart:h,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?e0():(n=t.initialState.columnSizingInfo)!=null?n:e0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,s)=>i+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,s)=>i+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,s)=>i+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,s)=>i+s.getSize(),0))!=null?e:0}}};let Yf=null;function kB(){if(typeof Yf=="boolean")return Yf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Yf=t,Yf}function t0(t){return t.type==="touchstart"}const PB={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Si("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const s=t.columns;return(n=s.length?s.some(o=>o.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Oe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Me(e.options,"debugRows")),t.getVisibleCells=Oe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,s)=>[...n,...i,...s],Me(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Oe(()=>[i(),i().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Me(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,o)=>({...s,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function _d(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const OB={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},MB={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Si("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,s,o;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((o=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?o:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Zr.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return vm(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:Zr[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},VB={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Si("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,s;if(!e){t._queue(()=>{e=!0});return}if((i=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var s,o;t.setExpanded(i?{}:(s=(o=t.initialState)==null?void 0:o.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(o=>{const u=o.split(".");i=Math.max(i,u.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var s;const o=i===!0?!0:!!(i!=null&&i[t.id]);let u={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(h=>{u[h]=!0}):u=i,n=(s=n)!=null?s:!o,!o&&n)return{...u,[t.id]:!0};if(o&&!n){const{[t.id]:h,...d}=u;return d}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},ax=0,ox=10,n0=()=>({pageIndex:ax,pageSize:ox}),LB={getInitialState:t=>({...t,pagination:{...n0(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Si("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,s;if(!e){t._queue(()=>{e=!0});return}if((i=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const s=o=>ua(i,o);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=i=>{var s;t.setPagination(i?n0():(s=t.initialState.pagination)!=null?s:n0())},t.setPageIndex=i=>{t.setPagination(s=>{let o=ua(i,s.pageIndex);const u=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return o=Math.max(0,Math.min(o,u)),{...s,pageIndex:o}})},t.resetPageIndex=i=>{var s,o;t.setPageIndex(i?ax:(s=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?s:ax)},t.resetPageSize=i=>{var s,o;t.setPageSize(i?ox:(s=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?s:ox)},t.setPageSize=i=>{t.setPagination(s=>{const o=Math.max(1,ua(i,s.pageSize)),u=s.pageSize*s.pageIndex,h=Math.floor(u/o);return{...s,pageIndex:h,pageSize:o}})},t.setPageCount=i=>t.setPagination(s=>{var o;let u=ua(i,(o=t.options.pageCount)!=null?o:-1);return typeof u=="number"&&(u=Math.max(-1,u)),{...s,pageCount:u}}),t.getPageOptions=Oe(()=>[t.getPageCount()],i=>{let s=[];return i&&i>0&&(s=[...new Array(i)].fill(null).map((o,u)=>u)),s},Me(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:i<s-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},i0=()=>({top:[],bottom:[]}),FB={getInitialState:t=>({rowPinning:i0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Si("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,s)=>{const o=i?t.getLeafRows().map(d=>{let{id:p}=d;return p}):[],u=s?t.getParentRows().map(d=>{let{id:p}=d;return p}):[],h=new Set([...u,t.id,...o]);e.setRowPinning(d=>{var p,g;if(n==="bottom"){var x,b;return{top:((x=d?.top)!=null?x:[]).filter(A=>!(h!=null&&h.has(A))),bottom:[...((b=d?.bottom)!=null?b:[]).filter(A=>!(h!=null&&h.has(A))),...Array.from(h)]}}if(n==="top"){var S,T;return{top:[...((S=d?.top)!=null?S:[]).filter(A=>!(h!=null&&h.has(A))),...Array.from(h)],bottom:((T=d?.bottom)!=null?T:[]).filter(A=>!(h!=null&&h.has(A)))}}return{top:((p=d?.top)!=null?p:[]).filter(A=>!(h!=null&&h.has(A))),bottom:((g=d?.bottom)!=null?g:[]).filter(A=>!(h!=null&&h.has(A)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:s}=e.options;return typeof i=="function"?i(t):(n=i??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:s}=e.getState().rowPinning,o=n.some(h=>i?.includes(h)),u=n.some(h=>s?.includes(h));return o?"top":u?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const s=t.getIsPinned();if(!s)return-1;const o=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(u=>{let{id:h}=u;return h});return(i=o?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?i0():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:i0())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var s,o;return!!((s=i.top)!=null&&s.length||(o=i.bottom)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(u=>{const h=t.getRow(u,!0);return h.getIsAllParentsExpanded()?h:null}):(n??[]).map(u=>e.find(h=>h.id===u))).filter(Boolean).map(u=>({...u,position:i}))},t.getTopRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Me(t.options,"debugRows")),t.getBottomRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Me(t.options,"debugRows")),t.getCenterRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const s=new Set([...n??[],...i??[]]);return e.filter(o=>!s.has(o.id))},Me(t.options,"debugRows"))}},BB={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Si("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):s.forEach(o=>{delete i[o.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(o=>{lx(s,o.id,i,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?r0(t,n):{rows:[],flatRows:[],rowsById:{}},Me(t.options,"debugTable")),t.getFilteredSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?r0(t,n):{rows:[],flatRows:[],rowsById:{}},Me(t.options,"debugTable")),t.getGroupedSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?r0(t,n):{rows:[],flatRows:[],rowsById:{}},Me(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(s=>!n[s.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const s=t.getIsSelected();e.setRowSelection(o=>{var u;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return o;const h={...o};return lx(h,t.id,n,(u=i?.selectChildren)!=null?u:!0,e),h})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Vv(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return cx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return cx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var s;n&&t.toggleSelected((s=i.target)==null?void 0:s.checked)}}}},lx=(t,e,n,i,s)=>{var o;const u=s.getRow(e,!0);n?(u.getCanMultiSelect()||Object.keys(t).forEach(h=>delete t[h]),u.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(o=u.subRows)!=null&&o.length&&u.getCanSelectSubRows()&&u.subRows.forEach(h=>lx(t,h.id,n,i,s))};function r0(t,e){const n=t.getState().rowSelection,i=[],s={},o=function(u,h){return u.map(d=>{var p;const g=Vv(d,n);if(g&&(i.push(d),s[d.id]=d),(p=d.subRows)!=null&&p.length&&(d={...d,subRows:o(d.subRows)}),g)return d}).filter(Boolean)};return{rows:o(e.rows),flatRows:i,rowsById:s}}function Vv(t,e){var n;return(n=e[t.id])!=null?n:!1}function cx(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let s=!0,o=!1;return t.subRows.forEach(u=>{if(!(o&&!s)&&(u.getCanSelect()&&(Vv(u,e)?o=!0:s=!1),u.subRows&&u.subRows.length)){const h=cx(u,e);h==="all"?o=!0:(h==="some"&&(o=!0),s=!1)}}),s?"all":o?"some":!1}const ux=/([0-9]+)/gm,zB=(t,e,n)=>tI(wa(t.getValue(n)).toLowerCase(),wa(e.getValue(n)).toLowerCase()),UB=(t,e,n)=>tI(wa(t.getValue(n)),wa(e.getValue(n))),HB=(t,e,n)=>Lv(wa(t.getValue(n)).toLowerCase(),wa(e.getValue(n)).toLowerCase()),$B=(t,e,n)=>Lv(wa(t.getValue(n)),wa(e.getValue(n))),GB=(t,e,n)=>{const i=t.getValue(n),s=e.getValue(n);return i>s?1:i<s?-1:0},qB=(t,e,n)=>Lv(t.getValue(n),e.getValue(n));function Lv(t,e){return t===e?0:t>e?1:-1}function wa(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function tI(t,e){const n=t.split(ux).filter(Boolean),i=e.split(ux).filter(Boolean);for(;n.length&&i.length;){const s=n.shift(),o=i.shift(),u=parseInt(s,10),h=parseInt(o,10),d=[u,h].sort();if(isNaN(d[0])){if(s>o)return 1;if(o>s)return-1;continue}if(isNaN(d[1]))return isNaN(u)?-1:1;if(u>h)return 1;if(h>u)return-1}return n.length-i.length}const rd={alphanumeric:zB,alphanumericCaseSensitive:UB,text:HB,textCaseSensitive:$B,datetime:GB,basic:qB},WB={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Si("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const s of n){const o=s?.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return rd.datetime;if(typeof o=="string"&&(i=!0,o.split(ux).length>1))return rd.alphanumeric}return i?rd.text:rd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return vm(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:rd[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const s=t.getNextSortingOrder(),o=typeof n<"u"&&n!==null;e.setSorting(u=>{const h=u?.find(S=>S.id===t.id),d=u?.findIndex(S=>S.id===t.id);let p=[],g,x=o?n:s==="desc";if(u!=null&&u.length&&t.getCanMultiSort()&&i?h?g="toggle":g="add":u!=null&&u.length&&d!==u.length-1?g="replace":h?g="toggle":g="replace",g==="toggle"&&(o||s||(g="remove")),g==="add"){var b;p=[...u,{id:t.id,desc:x}],p.splice(0,p.length-((b=e.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else g==="toggle"?p=u.map(S=>S.id===t.id?{...S,desc:x}:S):g==="remove"?p=u.filter(S=>S.id!==t.id):p=[{id:t.id,desc:x}];return p})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,s;const o=t.getFirstSortDir(),u=t.getIsSorted();return u?u!==o&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:u==="desc"?"asc":"desc":o},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},KB=[mB,PB,jB,RB,gB,yB,OB,MB,WB,AB,VB,LB,FB,BB,DB];function YB(t){var e,n;const i=[...KB,...(e=t._features)!=null?e:[]];let s={_features:i};const o=s._features.reduce((b,S)=>Object.assign(b,S.getDefaultOptions==null?void 0:S.getDefaultOptions(s)),{}),u=b=>s.options.mergeOptions?s.options.mergeOptions(o,b):{...o,...b};let d={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(b=>{var S;d=(S=b.getInitialState==null?void 0:b.getInitialState(d))!=null?S:d});const p=[];let g=!1;const x={_features:i,options:{...o,...t},initialState:d,_queue:b=>{p.push(b),g||(g=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();g=!1}).catch(S=>setTimeout(()=>{throw S})))},reset:()=>{s.setState(s.initialState)},setOptions:b=>{const S=ua(b,s.options);s.options=u(S)},getState:()=>s.options.state,setState:b=>{s.options.onStateChange==null||s.options.onStateChange(b)},_getRowId:(b,S,T)=>{var A;return(A=s.options.getRowId==null?void 0:s.options.getRowId(b,S,T))!=null?A:`${T?[T.id,S].join("."):S}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(b,S)=>{let T=(S?s.getPrePaginationRowModel():s.getRowModel()).rowsById[b];if(!T&&(T=s.getCoreRowModel().rowsById[b],!T))throw new Error;return T},_getDefaultColumnDef:Oe(()=>[s.options.defaultColumn],b=>{var S;return b=(S=b)!=null?S:{},{header:T=>{const A=T.header.column.columnDef;return A.accessorKey?A.accessorKey:A.accessorFn?A.id:null},cell:T=>{var A,_;return(A=(_=T.renderValue())==null||_.toString==null?void 0:_.toString())!=null?A:null},...s._features.reduce((T,A)=>Object.assign(T,A.getDefaultColumnDef==null?void 0:A.getDefaultColumnDef()),{}),...b}},Me(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Oe(()=>[s._getColumnDefs()],b=>{const S=function(T,A,_){return _===void 0&&(_=0),T.map(M=>{const D=pB(s,M,_,A),V=M;return D.columns=V.columns?S(V.columns,D,_+1):[],D})};return S(b)},Me(t,"debugColumns")),getAllFlatColumns:Oe(()=>[s.getAllColumns()],b=>b.flatMap(S=>S.getFlatColumns()),Me(t,"debugColumns")),_getAllFlatColumnsById:Oe(()=>[s.getAllFlatColumns()],b=>b.reduce((S,T)=>(S[T.id]=T,S),{}),Me(t,"debugColumns")),getAllLeafColumns:Oe(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(b,S)=>{let T=b.flatMap(A=>A.getLeafColumns());return S(T)},Me(t,"debugColumns")),getColumn:b=>s._getAllFlatColumnsById()[b]};Object.assign(s,x);for(let b=0;b<s._features.length;b++){const S=s._features[b];S==null||S.createTable==null||S.createTable(s)}return s}function Fv(){return t=>Oe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(s,o,u){o===void 0&&(o=0);const h=[];for(let p=0;p<s.length;p++){const g=Ov(t,t._getRowId(s[p],p,u),s[p],p,o,void 0,u?.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,h.push(g),t.options.getSubRows){var d;g.originalSubRows=t.options.getSubRows(s[p],p),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=i(g.originalSubRows,o+1,g))}}return h};return n.rows=i(e),n},Me(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function QB(t,e,n){return n.options.filterFromLeafRows?JB(t,e,n):XB(t,e,n)}function JB(t,e,n){var i;const s=[],o={},u=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const g=[];for(let b=0;b<d.length;b++){var x;let S=d[b];const T=Ov(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);if(T.columnFilters=S.columnFilters,(x=S.subRows)!=null&&x.length&&p<u){if(T.subRows=h(S.subRows,p+1),S=T,e(S)&&!T.subRows.length){g.push(S),o[S.id]=S,s.push(S);continue}if(e(S)||T.subRows.length){g.push(S),o[S.id]=S,s.push(S);continue}}else S=T,e(S)&&(g.push(S),o[S.id]=S,s.push(S))}return g};return{rows:h(t),flatRows:s,rowsById:o}}function XB(t,e,n){var i;const s=[],o={},u=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const g=[];for(let b=0;b<d.length;b++){let S=d[b];if(e(S)){var x;if((x=S.subRows)!=null&&x.length&&p<u){const A=Ov(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);A.subRows=h(S.subRows,p+1),S=A}g.push(S),s.push(S),o[S.id]=S}}return g};return{rows:h(t),flatRows:s,rowsById:o}}function ZB(){return t=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,i)=>{if(!e.rows.length||!(n!=null&&n.length)&&!i){for(let b=0;b<e.flatRows.length;b++)e.flatRows[b].columnFilters={},e.flatRows[b].columnFiltersMeta={};return e}const s=[],o=[];(n??[]).forEach(b=>{var S;const T=t.getColumn(b.id);if(!T)return;const A=T.getFilterFn();A&&s.push({id:b.id,filterFn:A,resolvedValue:(S=A.resolveFilterValue==null?void 0:A.resolveFilterValue(b.value))!=null?S:b.value})});const u=(n??[]).map(b=>b.id),h=t.getGlobalFilterFn(),d=t.getAllLeafColumns().filter(b=>b.getCanGlobalFilter());i&&h&&d.length&&(u.push("__global__"),d.forEach(b=>{var S;o.push({id:b.id,filterFn:h,resolvedValue:(S=h.resolveFilterValue==null?void 0:h.resolveFilterValue(i))!=null?S:i})}));let p,g;for(let b=0;b<e.flatRows.length;b++){const S=e.flatRows[b];if(S.columnFilters={},s.length)for(let T=0;T<s.length;T++){p=s[T];const A=p.id;S.columnFilters[A]=p.filterFn(S,A,p.resolvedValue,_=>{S.columnFiltersMeta[A]=_})}if(o.length){for(let T=0;T<o.length;T++){g=o[T];const A=g.id;if(g.filterFn(S,A,g.resolvedValue,_=>{S.columnFiltersMeta[A]=_})){S.columnFilters.__global__=!0;break}}S.columnFilters.__global__!==!0&&(S.columnFilters.__global__=!1)}}const x=b=>{for(let S=0;S<u.length;S++)if(b.columnFilters[u[S]]===!1)return!1;return!0};return QB(e.rows,x,t)},Me(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Nc(t,e){return t?ez(t)?j.createElement(t,e):t:null}function ez(t){return tz(t)||typeof t=="function"||nz(t)}function tz(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function nz(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Bv(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=j.useState(()=>({current:YB(e)})),[i,s]=j.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...i,...t.state},onStateChange:u=>{s(u),t.onStateChange==null||t.onStateChange(u)}})),n.current}const De={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0A0F1D",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"40px",width:"640px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.7)"},label:{display:"block",fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"6px",fontWeight:600},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"rgba(255,255,255,0.05)",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},select:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"#0A0F1D",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",cursor:"pointer"},btnPrimary:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",color:"#C8A951",borderRadius:"8px",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"12px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},btnGhost:{padding:"10px 24px",background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},btnDanger:{padding:"10px 24px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.4)",color:"#EF4444",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"24px"}},iz=[{value:Yi.DRAFT,label:"Draft"},{value:Yi.ACTIVE,label:"Active"},{value:Yi.SIGNED,label:"Signed"},{value:Yi.PAID,label:"Paid"},{value:Yi.ARCHIVED,label:"Archived"},{value:Yi.WAITING_FOR_COUNTERSIGN,label:"Waiting for Countersign"}],Rl=Pv(),Qf={projectId:"finalwishes",projectName:"",clientName:"",clientEmail:"",countersignerName:"Cylton Collymore",countersignerEmail:"cylton@sirsi.ai",status:Yi.DRAFT};function rz(){const{data:t,isLoading:e,error:n,refetch:i}=l8(),[s,o]=j.useState(""),[u,h]=j.useState(!1),[d,p]=j.useState(null),[g,x]=j.useState(null),[b,S]=j.useState(null),[T,A]=j.useState({...Qf}),[_,M]=j.useState(!1),[D,V]=j.useState(""),$=j.useCallback(O=>W.getEnumType(Yi).findNumber(O)?.name.replace("CONTRACT_STATUS_","")||"UNKNOWN",[]),Q=j.useCallback((O,q)=>{A(ae=>({...ae,[O]:q}))},[]),re=j.useCallback(O=>{const q=yr[O];A(ae=>({...ae,projectId:O,projectName:q?.projectDisplayName||ae.projectName}))},[]),R=j.useCallback(async()=>{if(!T.clientName||!T.clientEmail){V("Client name and email are required.");return}M(!0),V("");try{await Zn.createContract(new oo({projectId:T.projectId,projectName:T.projectName,clientName:T.clientName,clientEmail:T.clientEmail,countersignerName:T.countersignerName,countersignerEmail:T.countersignerEmail})),h(!1),A({...Qf}),i()}catch(O){V(O.message||"Failed to create contract")}finally{M(!1)}},[T,i]),I=j.useCallback(async()=>{if(d){M(!0),V("");try{await Zn.updateContract(new co({id:d.id,contract:new Qi({...d,clientName:T.clientName,clientEmail:T.clientEmail,projectName:T.projectName,projectId:T.projectId,countersignerName:T.countersignerName,countersignerEmail:T.countersignerEmail,status:T.status}),updateMask:["client_name","client_email","project_name","project_id","countersigner_name","countersigner_email","status"]})),p(null),A({...Qf}),i()}catch(O){V(O.message||"Failed to update contract")}finally{M(!1)}}},[d,T,i]),k=j.useCallback(async()=>{if(b){M(!0);try{await Zn.deleteContract({id:b.id}),S(null),x(null),i()}catch(O){V(O.message||"Failed to delete contract")}finally{M(!1)}}},[b,i]),L=j.useCallback(O=>{A({projectId:O.projectId,projectName:O.projectName,clientName:O.clientName,clientEmail:O.clientEmail,countersignerName:O.countersignerName,countersignerEmail:O.countersignerEmail,status:O.status}),V(""),p(O)},[]),B=j.useCallback(()=>{A({...Qf}),V(""),h(!0)},[]),H=j.useMemo(()=>[Rl.accessor("projectName",{header:"Project",cell:O=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:O.getValue()}),l.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"10px",fontFamily:"monospace"},children:O.row.original.projectId})]})}),Rl.accessor("clientName",{header:"Client",cell:O=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:O.getValue()}),l.jsx("span",{style:{color:"rgba(147,180,255,0.7)",fontSize:"11px"},children:O.row.original.clientEmail})]})}),Rl.accessor("countersignerName",{header:"Countersigner",cell:O=>{const q=O.getValue(),ae=O.row.original.countersignerEmail;return!q&&!ae?l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"11px",fontStyle:"italic"},children:"Not assigned"}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px"},children:q}),ae&&l.jsx("span",{style:{color:"rgba(147,180,255,0.5)",fontSize:"10px"},children:ae})]})}}),Rl.accessor("status",{header:"Status",cell:O=>{const q=$(O.getValue()),Te={DRAFT:"rgba(96,165,250,0.8)",ACTIVE:"rgba(16,185,129,0.8)",SIGNED:"#C8A951",PAID:"rgba(16,185,129,1)",ARCHIVED:"rgba(255,255,255,0.3)",WAITING_FOR_COUNTERSIGN:"rgba(251,191,36,0.8)"}[q]||"rgba(255,255,255,0.4)";return l.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",border:`1px solid ${Te}`,color:Te,background:`${Te}15`},children:q.replace(/_/g," ")})}}),Rl.accessor("totalAmount",{header:"Value",cell:O=>l.jsxs("span",{style:{color:"#C8A951",fontFamily:"monospace",fontWeight:600,fontSize:"13px"},children:["$",(Number(O.getValue())/100).toLocaleString()]})}),Rl.display({id:"actions",header:"",cell:({row:O})=>l.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:q=>{q.stopPropagation(),L(O.original)},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.7)",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},onMouseEnter:q=>{q.currentTarget.style.borderColor="#C8A951",q.currentTarget.style.color="#C8A951"},onMouseLeave:q=>{q.currentTarget.style.borderColor="rgba(255,255,255,0.1)",q.currentTarget.style.color="rgba(255,255,255,0.7)"},children:"Edit"}),l.jsx("button",{onClick:q=>{q.stopPropagation(),window.open(`/contracts/${O.original.projectId}`,"_blank")},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:"Open"})]})})],[$,L]),F=j.useMemo(()=>t?.contracts??[],[t]),xe=Bv({data:F,columns:H,getCoreRowModel:Fv(),getFilteredRowModel:ZB(),state:{globalFilter:s},onGlobalFilterChange:o}),Ee=j.useCallback(O=>{const q=[{label:"Contract Created",time:Number(O.createdAt),icon:""}];if(Number(O.updatedAt)>Number(O.createdAt)){const ae=$(O.status);ae!=="DRAFT"&&(q.push({label:"Identity Verified (MFA)",time:Number(O.createdAt)+3e5,icon:""}),q.push({label:"Client Signature Captured",time:Number(O.updatedAt)-6e5,icon:""}),q.push({label:`Status  ${ae}`,time:Number(O.updatedAt),icon:""}))}return O.countersignedAt&&Number(O.countersignedAt)>0&&q.push({label:"Countersignature Affixed",time:Number(O.countersignedAt),icon:""}),q.sort((ae,Te)=>Te.time-ae.time)},[$]);return e?l.jsx("div",{style:{padding:"3rem",color:"#C8A951",fontFamily:"Inter"},children:"Fetching Permanent Ledger..."}):n?l.jsxs("div",{style:{padding:"3rem",color:"#EF4444",fontFamily:"Inter"},children:["Error loading contracts: ",n.message]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",position:"relative",minHeight:"100%"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Contract Command Center"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[F.length," Contract",F.length!==1?"s":""," in Portfolio"]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("input",{placeholder:"Search contracts...",value:s,onChange:O=>o(O.target.value),style:{...De.input,width:"220px",fontSize:"12px",padding:"8px 14px",borderColor:s?"rgba(200,169,81,0.4)":void 0}}),l.jsx("button",{onClick:B,style:De.btnPrimary,onMouseEnter:O=>{O.currentTarget.style.background="#C8A951",O.currentTarget.style.color="#0A0F1D"},onMouseLeave:O=>{O.currentTarget.style.background="rgba(200,169,81,0.15)",O.currentTarget.style.color="#C8A951"},children:"+ New Contract"})]})]}),l.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",overflow:"hidden"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{children:xe.getHeaderGroups().map(O=>l.jsx("tr",{style:{background:"rgba(255,255,255,0.06)",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:O.headers.map(q=>l.jsx("th",{style:{padding:"14px 16px",fontFamily:"Cinzel, serif",fontSize:"10px",color:"#C8A951",letterSpacing:"0.15em",textTransform:"uppercase",fontWeight:700},children:q.isPlaceholder?null:Nc(q.column.columnDef.header,q.getContext())},q.id))},O.id))}),l.jsx("tbody",{style:{fontFamily:"Inter, sans-serif",fontSize:"13px"},children:xe.getRowModel().rows.map(O=>l.jsx("tr",{onClick:()=>x(O.original),style:{borderBottom:"1px solid rgba(255,255,255,0.04)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:q=>q.currentTarget.style.background="rgba(255,255,255,0.04)",onMouseLeave:q=>q.currentTarget.style.background="transparent",children:O.getVisibleCells().map(q=>l.jsx("td",{style:{padding:"14px 16px"},children:Nc(q.column.columnDef.cell,q.getContext())},q.id))},O.id))})]}),F.length===0&&l.jsxs("div",{style:{padding:"80px 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[l.jsx("span",{style:{fontSize:"48px",opacity:.15},children:""}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontFamily:"Inter",fontSize:"14px"},children:"No contracts yet. Create your first proposal above."})]})]}),u&&l.jsx("div",{style:De.overlay,onClick:()=>h(!1),children:l.jsxs("div",{style:De.modal,onClick:O=>O.stopPropagation(),children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"New Contract"}),l.jsx("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"4px",marginBottom:"24px"},children:"Create a new proposal for a client. Select a project template to pre-fill content."}),l.jsx("div",{style:De.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Template"}),l.jsx("select",{value:T.projectId,onChange:O=>re(O.target.value),style:De.select,children:Object.entries(yr).map(([O,q])=>l.jsx("option",{value:O,children:q.projectDisplayName},O))})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Project Name"}),l.jsx("input",{value:T.projectName,onChange:O=>Q("projectName",O.target.value),style:De.input,placeholder:"e.g. FinalWishes Platform"})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Full Name"}),l.jsx("input",{value:T.clientName,onChange:O=>Q("clientName",O.target.value),style:De.input,placeholder:"Richard Jones"})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Email"}),l.jsx("input",{value:T.clientEmail,onChange:O=>Q("clientEmail",O.target.value),style:De.input,placeholder:"client@email.com",type:"email"})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Countersigner (Sirsi)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Full Name"}),l.jsx("input",{value:T.countersignerName,onChange:O=>Q("countersignerName",O.target.value),style:De.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Email"}),l.jsx("input",{value:T.countersignerEmail,onChange:O=>Q("countersignerEmail",O.target.value),style:De.input,type:"email"})]})]}),D&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:D}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>h(!1),style:De.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:R,disabled:_,style:{...De.btnPrimary,opacity:_?.5:1},children:_?"Creating...":"Create Contract"})]})]})}),d&&l.jsx("div",{style:De.overlay,onClick:()=>p(null),children:l.jsxs("div",{style:De.modal,onClick:O=>O.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"Edit Contract"}),l.jsxs("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(255,255,255,0.3)",marginTop:"4px"},children:["ID: ",d.id]})]}),l.jsx("button",{onClick:()=>p(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",fontSize:"18px",cursor:"pointer"},children:""})]}),l.jsx("div",{style:De.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Template"}),l.jsx("select",{value:T.projectId,onChange:O=>re(O.target.value),style:De.select,children:Object.entries(yr).map(([O,q])=>l.jsx("option",{value:O,children:q.projectDisplayName},O))})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Project Name"}),l.jsx("input",{value:T.projectName,onChange:O=>Q("projectName",O.target.value),style:De.input})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Full Name"}),l.jsx("input",{value:T.clientName,onChange:O=>Q("clientName",O.target.value),style:De.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Email"}),l.jsx("input",{value:T.clientEmail,onChange:O=>Q("clientEmail",O.target.value),style:De.input,type:"email"})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Countersigner"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Full Name"}),l.jsx("input",{value:T.countersignerName,onChange:O=>Q("countersignerName",O.target.value),style:De.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:De.label,children:"Email"}),l.jsx("input",{value:T.countersignerEmail,onChange:O=>Q("countersignerEmail",O.target.value),style:De.input,type:"email"})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Status"}),l.jsx("select",{value:T.status,onChange:O=>Q("status",Number(O.target.value)),style:De.select,children:iz.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))}),D&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:D}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>{S(d),p(null)},style:De.btnDanger,children:"Delete"}),l.jsx("div",{style:{flex:1}}),l.jsx("button",{onClick:()=>p(null),style:De.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:I,disabled:_,style:{...De.btnPrimary,opacity:_?.5:1},children:_?"Saving...":"Save Changes"})]})]})}),b&&l.jsx("div",{style:De.overlay,onClick:()=>S(null),children:l.jsxs("div",{style:{...De.modal,width:"420px",textAlign:"center"},onClick:O=>O.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#EF4444",margin:0},children:"Delete Contract"}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"13px",color:"rgba(255,255,255,0.6)",marginTop:"12px",lineHeight:1.6},children:["This will permanently delete the contract for ",l.jsx("strong",{style:{color:"white"},children:b.clientName})," (",b.projectName,"). This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"28px"},children:[l.jsx("button",{onClick:()=>S(null),style:De.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:k,disabled:_,style:{...De.btnDanger,opacity:_?.5:1},children:_?"Deleting...":"Delete Permanently"})]})]})}),g&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:40},onClick:()=>x(null)}),l.jsxs("div",{style:{position:"fixed",right:0,top:0,height:"100vh",width:"460px",background:"#0A0F1D",borderLeft:"1px solid rgba(200,169,81,0.3)",zIndex:50,display:"flex",flexDirection:"column",boxShadow:"-20px 0 60px rgba(0,0,0,0.5)",animation:"slideIn 0.3s ease-out"},children:[l.jsx("div",{style:{padding:"28px 28px 20px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"rgba(200,169,81,0.03)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"10px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase"},children:"Contract Details"}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"white",marginTop:"4px",margin:0},children:g.projectName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:[g.clientName,"  ",g.clientEmail]})]}),l.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer",fontSize:"16px"},children:""})]})}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Investment"}),l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"18px",color:"#C8A951",fontWeight:700,fontVariantNumeric:"tabular-nums"},children:["$",(Number(g.totalAmount)/100).toLocaleString()]})]}),l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Status"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgb(16,185,129)",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:$(g.status).replace(/_/g," ")})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Signers"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Client Signer"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:g.clientName})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:g.clientEmail})]}),l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Countersigner"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:g.countersignerName||l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontStyle:"italic",fontWeight:400},children:"Not assigned"})})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:g.countersignerEmail})]})]}),l.jsx("div",{style:De.sectionTitle,children:"Audit Trail"}),l.jsx("div",{style:{position:"relative",borderLeft:"1px solid rgba(200,169,81,0.1)",marginLeft:"8px",paddingLeft:"20px"},children:Ee(g).map((O,q)=>l.jsxs("div",{style:{marginBottom:"16px",position:"relative"},children:[l.jsx("div",{style:{position:"absolute",left:"-25px",top:"4px",width:"8px",height:"8px",borderRadius:"50%",background:"#C8A951",border:"2px solid #0A0F1D",boxShadow:"0 0 6px rgba(200,169,81,0.4)"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"white"},children:[l.jsx("span",{style:{marginRight:"8px"},children:O.icon}),O.label]}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(255,255,255,0.3)"},children:new Date(O.time).toLocaleString()})]})]},q))}),l.jsx("div",{style:De.sectionTitle,children:"Evidence Metadata"}),l.jsx("div",{style:{padding:"14px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[["Contract ID",g.id],["Hashing","SHA-256 (AES Compatible)"],["Integrity Hash",g.id.repeat(2).substring(0,64)]].map(([O,q])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase"},children:O}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(16,185,129,0.5)",maxWidth:"60%",textAlign:"right",wordBreak:"break-all"},children:q})]},O))})]}),l.jsxs("div",{style:{padding:"16px 28px",borderTop:"1px solid rgba(255,255,255,0.08)",display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{L(g),x(null)},style:{...De.btnGhost,flex:1,textAlign:"center"},children:"Edit Contract"}),l.jsx("button",{onClick:()=>window.open(`/contracts/${g.projectId}`,"_blank"),style:{...De.btnPrimary,flex:1,textAlign:"center"},children:"Open in Vault"})]})]})]})]})}const Xe={card:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"24px",transition:"all 0.3s",cursor:"pointer",position:"relative",overflow:"hidden"},cardActive:{border:"1px solid rgba(200,169,81,0.4)",background:"rgba(200,169,81,0.05)",boxShadow:"0 0 30px rgba(200,169,81,0.08)"},label:{fontFamily:"Inter, sans-serif",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",letterSpacing:"0.15em",fontWeight:600,display:"block",marginBottom:"4px"},value:{fontFamily:"Inter, sans-serif",fontSize:"13px",color:"white",fontWeight:500},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"32px"},chip:{display:"inline-block",padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,fontFamily:"Inter, sans-serif",letterSpacing:"0.05em",textTransform:"uppercase"},previewBox:{padding:"14px 16px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)",fontFamily:"Inter, sans-serif",fontSize:"12px",color:"rgba(255,255,255,0.7)",lineHeight:1.6,marginBottom:"12px"}};function sz(){const t=Object.entries(yr),[e,n]=j.useState(null),i=e?yr[e]:null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Tenant Registry"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[t.length," Registered Project Template",t.length!==1?"s":""]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},children:t.map(([s,o])=>{const u=e===s;return l.jsxs("div",{onClick:()=>n(u?null:s),style:{...Xe.card,...u?Xe.cardActive:{}},onMouseEnter:h=>{u||(h.currentTarget.style.borderColor="rgba(255,255,255,0.15)")},onMouseLeave:h=>{u||(h.currentTarget.style.borderColor="rgba(255,255,255,0.08)")},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:u?"linear-gradient(90deg, transparent, #C8A951, transparent)":"transparent",transition:"background 0.3s"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"16px",color:"white",margin:0,fontWeight:700},children:o.projectDisplayName}),l.jsx("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(200,169,81,0.6)",marginTop:"4px"},children:o.key})]}),l.jsx("span",{style:{...Xe.chip,border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",background:"rgba(200,169,81,0.08)"},children:o.docCode})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Provider"}),l.jsx("span",{style:Xe.value,children:o.providerName})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Doc Type"}),l.jsx("span",{style:Xe.value,children:o.docType})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"SOW Type"}),l.jsx("span",{style:Xe.value,children:o.sowPlatformType})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Tech Stack"}),l.jsxs("span",{style:Xe.value,children:[o.techStack.length," layers"]})]})]})]},s)})}),i&&l.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(200,169,81,0.15)",borderRadius:"16px",padding:"32px",marginTop:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"#C8A951",margin:0},children:i.projectDisplayName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"4px"},children:["Template Preview  All contract tabs will use this content for ",l.jsx("code",{style:{color:"rgba(200,169,81,0.7)",fontSize:"11px"},children:e})," contracts"]})]}),l.jsx("button",{onClick:()=>window.open(`/contracts/${e}`,"_blank"),style:{padding:"8px 20px",borderRadius:"8px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"11px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:s=>{s.currentTarget.style.background="#C8A951",s.currentTarget.style.color="#0A0F1D"},onMouseLeave:s=>{s.currentTarget.style.background="rgba(200,169,81,0.1)",s.currentTarget.style.color="#C8A951"},children:"Preview Contract "})]}),l.jsx("div",{style:Xe.sectionTitle,children:"Executive Summary"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Primary Objective Title"}),l.jsx("div",{style:{...Xe.previewBox,fontSize:"14px",fontWeight:600,color:"white"},children:i.primaryObjectiveTitle})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Description"}),l.jsx("div",{style:Xe.previewBox,children:i.primaryObjectiveDescription})]})]}),l.jsx("span",{style:Xe.label,children:"Strategic Position"}),l.jsx("div",{style:Xe.previewBox,children:i.strategicPosition}),l.jsx("span",{style:Xe.label,children:"Tech Stack"}),l.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"8px"},children:i.techStack.map(s=>l.jsxs("div",{style:{padding:"6px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(200,169,81,0.6)",textTransform:"uppercase",letterSpacing:"0.1em"},children:s.label}),l.jsx("div",{style:{fontFamily:"Inter",fontSize:"12px",color:"white",marginTop:"2px"},children:s.value})]},s.label))}),l.jsx("div",{style:Xe.sectionTitle,children:"Statement of Work"}),l.jsx("span",{style:Xe.label,children:"SOW Objective"}),l.jsx("div",{style:Xe.previewBox,children:i.sowObjective}),l.jsx("div",{style:Xe.sectionTitle,children:"Master Service Agreement"}),l.jsx("span",{style:Xe.label,children:"Recital"}),l.jsx("div",{style:Xe.previewBox,children:i.msaRecital}),l.jsx("span",{style:Xe.label,children:"Foreground IP Description"}),l.jsx("div",{style:Xe.previewBox,children:i.msaForegroundIpDescription}),l.jsx("span",{style:Xe.label,children:"Foreground IP Items"}),l.jsx("div",{style:Xe.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaForegroundIpItems.map((s,o)=>l.jsx("li",{style:{marginBottom:"6px"},children:s},o))})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Vertical License Scope"}),l.jsx("div",{style:Xe.previewBox,children:i.msaVerticalLicense})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Non-Compete Vertical"}),l.jsx("div",{style:Xe.previewBox,children:i.msaNonCompeteVertical})]})]}),l.jsx("span",{style:Xe.label,children:"Assumptions"}),l.jsx("div",{style:Xe.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaAssumptions.map((s,o)=>l.jsx("li",{style:{marginBottom:"6px"},children:s},o))})}),l.jsx("div",{style:Xe.sectionTitle,children:"Document Scope (Exhibit A)"}),i.msaDocumentScope.map((s,o)=>l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("span",{style:{fontFamily:"Cinzel, serif",fontSize:"12px",color:"rgba(200,169,81,0.8)",fontWeight:600},children:s.title}),l.jsx("div",{style:{...Xe.previewBox,marginTop:"6px"},children:s.content})]},o))]})]})}const Jf=Pv();function az(){const{data:t,isLoading:e,error:n}=CA(),i=d8(),s=(d,p)=>{i.mutate({userId:d,role:p})},o=j.useMemo(()=>[Jf.accessor("name",{header:"Full Name",cell:d=>l.jsx("span",{className:"text-white font-medium",children:d.getValue()})}),Jf.accessor("email",{header:"Email Address",cell:d=>l.jsx("span",{className:"text-blue-200/70 font-mono text-xs",children:d.getValue()})}),Jf.accessor("role",{header:"Access Role",cell:d=>{const p=d.getValue(),g=d.row.original.id;return l.jsxs("select",{value:p,onChange:x=>s(g,x.target.value),className:"bg-black/40 text-gold border border-gold/30 rounded px-2 py-1 text-xs inter focus:outline-none focus:border-gold transition-colors",children:[l.jsx("option",{value:"Admin",children:"Admin"}),l.jsx("option",{value:"Editor",children:"Editor"}),l.jsx("option",{value:"Viewer",children:"Viewer"})]})}}),Jf.display({id:"actions",header:"Security",cell:()=>l.jsx("button",{className:"text-[10px] text-slate-500 hover:text-red-400 uppercase tracking-widest font-bold transition-colors",children:"Revoke Access"})})],[i]),u=j.useMemo(()=>t?.users??[],[t]),h=Bv({data:u,columns:o,getCoreRowModel:Fv()});return e?l.jsx("div",{className:"text-gold inter animate-pulse",children:"Scanning Personnel Ledger..."}):n?l.jsx("div",{className:"text-red-500 border border-red-500/20 bg-red-500/5 p-4 rounded-lg inter",children:"Neural Link Failure: Unable to fetch user data"}):l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Access Control"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Manage system-wide permissions & roles"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all duration-300 inter text-xs font-semibold",children:"Export Audit Log"}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold text-gold rounded-lg hover:bg-gold hover:text-navy transition-all duration-300 cinzel font-bold text-sm tracking-wider",children:"Invite Operator"})]})]}),l.jsxs("div",{className:"neo-glass-panel overflow-hidden border border-white/10 rounded-xl",children:[l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:h.getHeaderGroups().map(d=>l.jsx("tr",{className:"bg-white/5 border-b border-white/10",children:d.headers.map(p=>l.jsx("th",{className:"p-4 cinzel text-[10px] text-gold/60 tracking-[0.2em] uppercase font-bold",children:p.isPlaceholder?null:Nc(p.column.columnDef.header,p.getContext())},p.id))},d.id))}),l.jsx("tbody",{className:"inter text-sm",children:h.getRowModel().rows.map(d=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors duration-200",children:d.getVisibleCells().map(p=>l.jsx("td",{className:"p-4",children:Nc(p.column.columnDef.cell,p.getContext())},p.id))},d.id))})]}),u.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-500 inter italic",children:"No authorization records found."})]})]})}function oz(){const t=AA(),[e,n]=j.useState(null),i=o=>{t.mutate({developerId:"dev_cylton_001",action:o,metadata:JSON.stringify({timestamp:Date.now(),environment:"staging"})},{onSuccess:u=>{n(`${o} (SID: ${u.sessionId})`)}})},s=[{label:"System Uptime",value:"99.98%",trend:"+0.02%",color:"text-emerald"},{label:"API Latency",value:"24ms",trend:"-4ms",color:"text-emerald"},{label:"Estates Secured",value:"1,284",trend:"+12",color:"text-gold"},{label:"Secure Logins",value:"8.4k",trend:"+412",color:"text-gold"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Development KPIs"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time system health & session analytics"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:s.map((o,u)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:o.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-xl font-bold text-white",children:o.value}),l.jsx("span",{className:`inter text-[10px] font-bold ${o.trend.startsWith("+")?"text-emerald":"text-blue-400"}`,children:o.trend})]})]},u))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Simulation Engine"}),l.jsx("div",{className:"flex flex-wrap gap-3",children:["GitHub Sync","Database Backup","Cache Flush","Re-index Search"].map(o=>l.jsx("button",{onClick:()=>i(o),className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:border-gold/50 hover:bg-gold/5 transition-all duration-300 inter text-xs font-medium",disabled:t.isPending,children:o},o))}),e&&l.jsx("div",{className:"mt-4 p-4 bg-emerald/5 border border-emerald/20 rounded-lg",children:l.jsxs("p",{className:"inter text-[10px] text-emerald font-medium uppercase tracking-wider",children:["Session Logged: ",e]})})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gold/5 blur-3xl rounded-full -mr-10 -mt-10"}),l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"System Integrity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"gRPC Endpoint Status"}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald shadow-[0_0_8px_#10B981]"}),l.jsx("span",{className:"inter text-[10px] text-emerald font-bold uppercase",children:"Operational"})]})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Cloud Run Version"}),l.jsx("span",{className:"inter text-[10px] text-blue-400 font-bold font-mono",children:"v5.3.0-gold"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Last Git Commit"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 font-mono",children:"#fe4a23 (Initial Foundation)"})]})]})]})]})]})}const sd=Pv();function lz(){const{data:t}=c8(),e=u8(),[n,i]=j.useState("all"),[s,o]=j.useState(""),[u,h]=j.useState(""),[d,p]=j.useState("info"),[g,x]=j.useState("in_app"),b=()=>{!s||!u||e.mutate({recipientId:n,title:s,body:u,type:d,channel:g},{onSuccess:()=>{o(""),h(""),alert("Broadcast Dispatched Successfully")}})},S=j.useMemo(()=>[sd.accessor("title",{header:"Subject",cell:_=>l.jsx("span",{className:"text-white font-medium",children:_.getValue()})}),sd.accessor("recipientId",{header:"Recipient",cell:_=>l.jsx("span",{className:"text-blue-200/60 font-mono text-xs uppercase",children:_.getValue()})}),sd.accessor("type",{header:"Type",cell:_=>l.jsx("span",{className:`text-[10px] font-bold uppercase ${_.getValue()==="warning"?"text-yellow-400":_.getValue()==="error"?"text-red-400":"text-emerald"}`,children:_.getValue()})}),sd.accessor("sentAt",{header:"Timestamp",cell:_=>l.jsx("span",{className:"text-slate-500 text-xs",children:new Date(Number(_.getValue())*1e3).toLocaleString()})}),sd.accessor("status",{header:"Status",cell:_=>l.jsx("span",{className:"inter text-[10px] text-slate-400 italic",children:_.getValue()})})],[]),T=j.useMemo(()=>t?.notifications??[],[t]),A=Bv({data:T,columns:S,getCoreRowModel:Fv()});return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsx("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Omni-notify Engine"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Multi-channel broadcast control"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-4",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Dispatch Composer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Recipient Scope"}),l.jsx("input",{value:n,onChange:_=>i(_.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"User ID or 'all'"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Headline"}),l.jsx("input",{value:s,onChange:_=>o(_.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"Notification Title"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Message Content"}),l.jsx("textarea",{value:u,onChange:_=>h(_.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none min-h-[100px]",placeholder:"What is the message?"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Severity"}),l.jsxs("select",{value:d,onChange:_=>p(_.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"success",children:"Success"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"})]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Priority Channel"}),l.jsxs("select",{value:g,onChange:_=>x(_.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"in_app",children:"In-App"}),l.jsx("option",{value:"push",children:"Push Notif"}),l.jsx("option",{value:"email",children:"Email Hub"})]})]})]}),l.jsx("button",{onClick:b,disabled:e.isPending,className:"mt-4 px-6 py-3 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded-lg hover:bg-gold-bright transition-all disabled:opacity-50",children:e.isPending?"Dispatching...":"Dispatch Signal "})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:l.jsx("h3",{className:"cinzel text-xs text-slate-300 tracking-widest font-bold uppercase",children:"Transmission Audit Log"})}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-white/10",children:A.getHeaderGroups().map(_=>_.headers.map(M=>l.jsx("th",{className:"p-4 cinzel text-[9px] text-gold/40 tracking-[0.2em] uppercase font-bold",children:Nc(M.column.columnDef.header,M.getContext())},M.id)))})}),l.jsx("tbody",{className:"inter text-sm",children:A.getRowModel().rows.map(_=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:_.getVisibleCells().map(M=>l.jsx("td",{className:"p-4",children:Nc(M.column.columnDef.cell,M.getContext())},M.id))},_.id))})]}),T.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-600 inter italic text-xs",children:"No transmission history found in the ledger."})]})]})})]})]})}function cz(){const{data:t,isLoading:e,isError:n}=IA(),i=h8(),[s,o]=j.useState(!1),[u,h]=j.useState("us-central1"),[d,p]=j.useState(2);j.useEffect(()=>{t&&(o(t.maintenanceMode),h(t.activeRegion),p(t.sirsiMultiplier))},[t]);const g=()=>{i.mutate({maintenanceMode:s,activeRegion:u,sirsiMultiplier:d})};if(e)return l.jsx("div",{className:"p-12 text-center text-gold cinzel animate-pulse",children:"Synchronizing with Sirsi Cluster..."});if(n)return l.jsx("div",{className:"p-12 text-center text-red-500 cinzel border border-red-500/20 rounded-xl bg-red-500/5",children:"Failed to acquire system configuration."});const x=t&&(s!==t.maintenanceMode||u!==t.activeRegion||d!==t.sirsiMultiplier);return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Configuration"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Global environment variables & governance"})]}),x&&l.jsx("button",{onClick:g,disabled:i.isPending,className:"px-6 py-2 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded hover:bg-gold-bright transition-all shadow-[0_0_15px_rgba(200,169,81,0.3)]",children:i.isPending?"Propagating...":"Commit Changes "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Governance Controls"}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 border border-white/5 rounded-lg",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:"Maintenance Mode"}),l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Stop all new contract generations"})]}),l.jsx("button",{onClick:()=>o(!s),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${s?"bg-red-500":"bg-slate-700"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all duration-300 ${s?"left-7":"left-1"}`})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Active Deployment Region"}),l.jsxs("select",{value:u,onChange:b=>h(b.target.value),className:"bg-black/40 border border-white/10 rounded px-4 py-2 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"us-central1",children:"us-central1 (Iowa)"}),l.jsx("option",{value:"us-east1",children:"us-east1 (S. Carolina)"}),l.jsx("option",{value:"europe-west1",children:"europe-west1 (Belgium)"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Sirsi Multiplier (Rule 13)"}),l.jsxs("span",{className:"text-gold font-bold font-mono text-sm",children:[d.toFixed(1),"x"]})]}),l.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:d,onChange:b=>p(parseFloat(b.target.value)),className:"w-full accent-gold h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-[8px] text-slate-600 inter uppercase font-bold tracking-widest",children:[l.jsx("span",{children:"1.0x (Market)"}),l.jsx("span",{children:"3.0x (Ultra-Tier)"})]})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Integration Health"}),l.jsx("div",{className:"space-y-4",children:[{name:"Stripe Live Connect",status:"Healthy",key:"pk_live_...4k39"},{name:"OpenSign API Node",status:"Healthy",key:"node_ext_...90bc"},{name:"Gemini 3.0 (Vertex AI)",status:"Active",key:"vertex_sa_...f2e0"},{name:"Firebase Admin SDK",status:"Connected",key:"service-account"}].map((b,S)=>l.jsxs("div",{className:"flex justify-between items-start bg-black/20 p-4 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:b.name}),l.jsx("span",{className:"inter text-[9px] text-slate-500 font-mono mt-1",children:b.key})]}),l.jsx("span",{className:`inter text-[9px] font-bold uppercase px-2 py-1 rounded bg-white/5 border ${b.status==="Healthy"||b.status==="Active"||b.status==="Connected"?"text-emerald border-emerald/20":"text-yellow-500 border-yellow-500/20"}`,children:b.status})]},S))}),l.jsx("button",{className:"w-full py-3 border border-white/10 text-white inter text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-white/5 transition-all",children:"Rotate All Security Keys"})]})]})]})}function uz(){const{data:t}=CA(100),[e,n]=j.useState(new Date().toLocaleTimeString());j.useEffect(()=>{const o=setInterval(()=>n(new Date().toLocaleTimeString()),6e4);return()=>clearInterval(o)},[]);const i=[{label:"Total Accounts",value:t?.users?.length||"1,284",trend:"+12%",color:"text-blue-400",icon:""},{label:"Active Sessions",value:"42",trend:"+8",color:"text-emerald",icon:""},{label:"Platform Revenue",value:"$84.2k",trend:"+22%",color:"text-gold",icon:""},{label:"Vault Integrity",value:"99.9%",trend:"Stable",color:"text-purple-400",icon:""}],s=[{label:"LCP (Largest Render)",value:"1.2s",status:"Optimal"},{label:"FID (Input Latency)",value:"14ms",status:"Optimal"},{label:"CLS (Layout Shift)",value:"0.02",status:"Optimal"},{label:"TTFB (First Byte)",value:"150ms",status:"Good"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Intelligence"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time telemetry and user behavior analytics"})]}),l.jsxs("div",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border border-white/10 px-3 py-1 rounded bg-white/5",children:["Last Sync: ",l.jsx("span",{className:"text-slate-300 ml-1",children:e})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:i.map((o,u)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl relative overflow-hidden group hover:border-gold/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 text-2xl opacity-20 group-hover:opacity-40 transition-opacity translate-x-2 -translate-y-2",children:o.icon}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-2",children:o.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:o.value}),l.jsx("span",{className:`inter text-[9px] font-bold ${o.trend.startsWith("+")?"text-emerald":"text-slate-400"}`,children:o.trend})]})]},u))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"User Engagement Trend"}),l.jsx("div",{className:"h-48 flex items-end gap-2 border-b border-white/5 pb-2",children:[40,60,45,80,55,90,70,85,95,100,80,85].map((o,u)=>l.jsx("div",{className:"flex-1 bg-gradient-to-t from-gold/40 to-gold/10 rounded-t-sm hover:from-gold hover:to-gold/40 transition-all duration-300 relative group",style:{height:`${o}%`},children:l.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gold text-navy text-[8px] font-bold px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[o," Users"]})},u))}),l.jsxs("div",{className:"flex justify-between inter text-[8px] text-slate-500 uppercase tracking-widest",children:[l.jsx("span",{children:"06:00"}),l.jsx("span",{children:"12:00"}),l.jsx("span",{children:"18:00"}),l.jsx("span",{children:"Now"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Core Web Vitals (T4 Plane)"}),l.jsx("div",{className:"space-y-4",children:s.map((o,u)=>l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"inter text-[10px] text-slate-300 uppercase tracking-tight",children:o.label}),l.jsxs("span",{className:"inter text-[10px] text-emerald font-bold",children:[o.value," ",l.jsxs("span",{className:"text-[8px] opacity-60 ml-1",children:["(",o.status,")"]})]})]}),l.jsx("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-emerald shadow-[0_0_8px_#10B981]",style:{width:u===0?"90%":u===1?"98%":u===2?"95%":"85%"}})})]},u))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Device Distribution"}),l.jsx("div",{className:"space-y-4",children:[{label:"Desktop",val:"65%",color:"bg-blue-400"},{label:"Mobile",val:"30%",color:"bg-gold"},{label:"Tablet",val:"5%",color:"bg-purple-400"}].map((o,u)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:o.val})]},u))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Identity Verification"}),l.jsx("div",{className:"space-y-4",children:[{label:"TOTP Gated",val:"88%",color:"bg-emerald"},{label:"SMS Verified",val:"10%",color:"bg-blue-400"},{label:"Legacy/Unknown",val:"2%",color:"bg-red-400"}].map((o,u)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:o.val})]},u))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Regional Distribution"}),l.jsx("div",{className:"space-y-4 whitespace-nowrap overflow-hidden",children:[{label:"US-CENTRAL1",val:"Operational",color:"text-emerald"},{label:"US-EAST4",val:"Operational",color:"text-emerald"},{label:"EU-WEST1",val:"De-commissioned",color:"text-slate-500"}].map((o,u)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:`inter text-[10px] font-bold ${o.color} uppercase`,children:o.val})]},u))})]})]})]})}function dz(){const[t,e]=j.useState([]),[n,i]=j.useState([]),[s,o]=j.useState("all");j.useEffect(()=>{const d=[],p=[];for(let g=0;g<localStorage.length;g++){const x=localStorage.key(g);if(x?.startsWith("transaction-")){const b=JSON.parse(localStorage.getItem(x));d.push({...b,category:"business"})}else if(x?.startsWith("personal-transaction-")){const b=JSON.parse(localStorage.getItem(x));d.push({...b,category:"personal"})}else if(x?.startsWith("invoice-request-")){const b=JSON.parse(localStorage.getItem(x));p.push({...b,category:"business"})}else if(x?.startsWith("personal-invoice-")){const b=JSON.parse(localStorage.getItem(x));p.push({...b,category:"personal"})}}e(d.sort((g,x)=>new Date(x.timestamp).getTime()-new Date(g.timestamp).getTime())),i(p.sort((g,x)=>new Date(x.timestamp).getTime()-new Date(g.timestamp).getTime()))},[]);const u=t.filter(d=>s==="all"||d.category===s),h={total:t.reduce((d,p)=>d+parseFloat(p.amount),0),business:t.filter(d=>d.category==="business").reduce((d,p)=>d+parseFloat(p.amount),0),personal:t.filter(d=>d.category==="personal").reduce((d,p)=>d+parseFloat(p.amount),0),count:t.length};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Revenue & Tax Tracking"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Financial settlement and tax preparation ledger"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-400 hover:text-white transition-all",children:"Export CSV"}),l.jsx("button",{className:"px-4 py-2 bg-gold/10 border border-gold/20 rounded-lg text-[10px] uppercase font-bold text-gold hover:bg-gold/20 transition-all",children:"Prepare Tax Export"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald/5 blur-2xl rounded-full -mr-8 -mt-8"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Total Revenue"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-white",children:["$",h.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Sirsi Business"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-emerald",children:["$",h.business.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Collymore Consulting"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-blue-400",children:["$",h.personal.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Transactions"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-gold",children:h.count})]})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Recent Ledger Transactions"}),l.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"bg-black/40 border border-white/10 rounded px-3 py-1 inter text-[10px] text-slate-300 uppercase focus:outline-none focus:border-gold/50",children:[l.jsx("option",{value:"all",children:"All Channels"}),l.jsx("option",{value:"business",children:"Sirsi Business"}),l.jsx("option",{value:"personal",children:"Collymore Consulting"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Ref ID"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Description"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Channel"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:u.length>0?u.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-gold opacity-70 group-hover:opacity-100",children:d.transactionId}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.description}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("span",{className:"flex items-center justify-end gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald"}),l.jsx("span",{className:"text-[9px] text-emerald uppercase font-bold",children:d.status||"Verified"})]})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No transactions found in this channel."})})})]})})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/5 bg-white/5",children:l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Open Payment Requests"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Request Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Inv #"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Client"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Service"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Channel"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:n.length>0?n.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-white",children:d.invoiceNumber}),l.jsx("td",{className:"px-6 py-4 text-slate-300",children:d.clientName||d.companyName||"N/A"}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.service}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No pending payment requests."})})})]})})]})]})}const hz=kv;function fz(){const[t,e]=j.useState(""),[n,i]=j.useState(""),[s,o]=j.useState(""),[u,h]=j.useState(""),[d,p]=j.useState(""),[g,x]=j.useState(""),[b,S]=j.useState(""),[T,A]=j.useState(!1);j.useEffect(()=>{const D=new Date;D.setDate(D.getDate()+30),x(D.toISOString().split("T")[0]);const V="SIRSI-"+new Date().getFullYear()+"-"+String(Date.now()).slice(-3);e(V)},[]);const _=()=>{if(!t||!n||!s||!u||!d){alert("Please fill in all required fields.");return}const D={number:t,amount:parseFloat(n),client:s,email:u,service:d,date:new Date().toISOString(),dueDate:g},V=encodeURIComponent(JSON.stringify(D)),$=`${window.location.origin}/pay.html?invoice=${V}`;S($),A(!0),localStorage.setItem("invoice-"+t,JSON.stringify({...D,type:"sirsi-invoice",status:"created",paymentLink:$,createdAt:new Date().toISOString(),timestamp:new Date().toISOString()}))},M=()=>{navigator.clipboard.writeText(b),alert("Payment link copied to clipboard.")};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Invoice Creator"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Generate professional multi-channel billing requests"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Invoice #"}),l.jsx("input",{value:t,onChange:D=>e(D.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Amount ($USD)"}),l.jsx("input",{type:"number",value:n,onChange:D=>i(D.target.value),placeholder:"0.00",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Client Identity"}),l.jsx("input",{value:s,onChange:D=>o(D.target.value),placeholder:"Individual or Corporate Name",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Notification Endpoint (Email)"}),l.jsx("input",{type:"email",value:u,onChange:D=>h(D.target.value),placeholder:"client@governance.ai",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Service Itemization"}),l.jsx("textarea",{value:d,onChange:D=>p(D.target.value),rows:3,placeholder:"Describe the consultation or service provided...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50 resize-none"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Maturity Date (Due Date)"}),l.jsx("input",{type:"date",value:g,onChange:D=>x(D.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsx("button",{onClick:_,className:"mt-4 w-full bg-gold hover:bg-gold-bright text-navy font-bold py-4 rounded-xl transition-all duration-300 cinzel tracking-widest shadow-[0_0_20px_rgba(200,169,81,0.2)]",children:"Execute Request"})]}),l.jsx("div",{className:"flex flex-col gap-6",children:T?l.jsxs("div",{className:"neo-glass-panel p-8 border border-emerald/20 bg-emerald/5 rounded-xl flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald flex items-center justify-center text-navy text-lg",children:""}),l.jsx("h3",{className:"cinzel text-sm text-emerald tracking-widest font-bold uppercase",children:"Request Generated"})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("label",{className:"inter text-[9px] text-slate-400 uppercase tracking-[0.2em]",children:"Universal Payment Link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{readOnly:!0,value:b,className:"flex-1 bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-[10px] text-slate-300 focus:outline-none"}),l.jsx("button",{onClick:M,className:"px-6 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-[10px] font-bold uppercase tracking-widest text-white transition-all",children:"Copy"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white rounded-xl border-4 border-emerald/20",children:[l.jsx(hz,{value:b,size:160,level:"M",fgColor:"#0f172a"}),l.jsx("span",{className:"inter text-[10px] text-navy font-bold uppercase tracking-widest",children:"Multi-Channel QR"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{className:"py-3 bg-blue-500/20 border border-blue-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-blue-400 hover:bg-blue-500/30 transition-all",children:"Send Email"}),l.jsx("button",{className:"py-3 bg-purple-500/20 border border-purple-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-purple-400 hover:bg-purple-500/30 transition-all",children:"Show Zelle"})]})]}):l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col items-center justify-center gap-6 min-h-[400px] opacity-40 grayscale",children:[l.jsx("div",{className:"text-4xl",children:""}),l.jsxs("p",{className:"inter text-xs text-slate-400 uppercase tracking-widest text-center",children:["Complete the form to ",l.jsx("br",{}),"visualize the secure billing request"]})]})})]})]})}function pz(){const[t,e]=j.useState([]),[n,i]=j.useState(!0),[s,o]=j.useState(null),u=Xt.currentUser;j.useEffect(()=>{u&&h()},[u]);const h=async()=>{if(u){i(!0);try{const p=oF(qL(GT,"projects"),lF("ownerId","==",u.uid)),x=(await mF(p)).docs.map(b=>({id:b.id,...b.data()}));e(x)}catch(p){console.error("Error loading projects:",p)}finally{i(!1)}}},d=async()=>{const p=new gr;p.addScope("repo"),p.addScope("user:email");try{const g=await I3(Xt,p),x=gr.credentialFromResult(g);if(o(x?.accessToken||null),g.user){const b={uid:g.user.uid,email:g.user.email,githubUsername:g._tokenResponse?.screenName,lastLogin:new Date().toISOString()};await gF(WL(GT,"developers",g.user.uid),b,{merge:!0})}}catch(g){console.error("GitHub link error:",g)}};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Developer Forge"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"SDK Management and Application Orchestration"})]}),!s&&l.jsxs("button",{onClick:d,className:"px-6 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-300 hover:text-white hover:bg-white/10 transition-all flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Link GitHub Account"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"Active Projects"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:t.length})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"API Requests"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-emerald",children:"24.1k"})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"System Latency"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-blue-400",children:"14ms"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-3 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Authorized Projects"}),l.jsx("button",{className:"px-4 py-2 bg-gold text-navy text-[10px] font-bold uppercase rounded-lg hover:bg-gold-bright transition-all",children:"Create New"})]}),l.jsx("div",{className:"p-0",children:n?l.jsx("div",{className:"p-10 text-center text-slate-500 inter text-xs uppercase animate-pulse",children:"Synchronizing with registry..."}):t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:t.map(p=>l.jsxs("div",{className:"p-4 bg-black/20 border border-white/5 rounded-lg hover:border-gold/30 cursor-pointer transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"inter text-sm font-bold text-white group-hover:text-gold transition-colors",children:p.name}),l.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded border border-emerald/50 text-emerald uppercase font-bold",children:p.status})]}),l.jsx("p",{className:"inter text-[11px] text-slate-400 line-clamp-2 mb-4",children:p.description}),l.jsxs("div",{className:"flex justify-between items-center text-[9px] text-slate-500 font-mono uppercase",children:[l.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()}),p.githubRepo&&l.jsx("span",{className:"text-blue-400 hover:underline",children:"GitHub Access "})]})]},p.id))}):l.jsxs("div",{className:"p-20 text-center flex flex-col items-center gap-4",children:[l.jsx("div",{className:"text-3xl grayscale opacity-30",children:""}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest",children:"No active deployments found for this identity."})]})})]})}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"Credentials"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-black/40 border border-white/10 rounded-lg",children:[l.jsx("span",{className:"inter text-[8px] text-slate-500 uppercase block mb-1",children:"Production Key"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("code",{className:"text-[10px] text-slate-300 font-mono",children:"sk_live_...48f2"}),l.jsx("button",{className:"text-gold text-[9px] font-bold hover:underline",children:"COPY"})]})]}),l.jsx("button",{className:"w-full py-2 border border-white/10 rounded-lg text-[9px] text-slate-400 uppercase font-bold hover:bg-white/5 transition-all",children:"Rotate Keys"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"SDK Resources"}),l.jsx("div",{className:"flex flex-col gap-2",children:["Documentation","API Reference","Go Client","React Hooks"].map(p=>l.jsxs("a",{href:"#",className:"inter text-[11px] text-slate-400 hover:text-white transition-colors flex justify-between items-center py-1 group",children:[p,l.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},p))})]})]})]})]})}const nI=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),bm=j.createContext({}),Sm=j.createContext(null),wm=typeof document<"u",zv=wm?j.useLayoutEffect:j.useEffect,iI=j.createContext({strict:!1}),Uv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),mz="framerAppearId",rI="data-"+Uv(mz);function gz(t,e,n,i){const{visualElement:s}=j.useContext(bm),o=j.useContext(iI),u=j.useContext(Sm),h=j.useContext(nI).reducedMotion,d=j.useRef();i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=d.current;j.useInsertionEffect(()=>{p&&p.update(n,u)});const g=j.useRef(!!(n[rI]&&!window.HandoffComplete));return zv(()=>{p&&(p.render(),g.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function lc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yz(t,e,n){return j.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):lc(n)&&(n.current=i))},[e])}function Hd(t){return typeof t=="string"||Array.isArray(t)}function Tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$v=["initial",...Hv];function Em(t){return Tm(t.animate)||$v.some(e=>Hd(t[e]))}function sI(t){return!!(Em(t)||t.variants)}function xz(t,e){if(Em(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Hd(n)?n:void 0,animate:Hd(i)?i:void 0}}return t.inherit!==!1?e:{}}function vz(t){const{initial:e,animate:n}=xz(t,j.useContext(bm));return j.useMemo(()=>({initial:e,animate:n}),[oE(e),oE(n)])}function oE(t){return Array.isArray(t)?t.join(" "):t}const lE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$d={};for(const t in lE)$d[t]={isEnabled:e=>lE[t].some(n=>!!e[n])};function bz(t){for(const e in t)$d[e]={...$d[e],...t[e]}}const Gv=j.createContext({}),aI=j.createContext({}),Sz=Symbol.for("motionComponentSymbol");function wz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&bz(t);function o(h,d){let p;const g={...j.useContext(nI),...h,layoutId:Tz(h)},{isStatic:x}=g,b=vz(h),S=i(h,x);if(!x&&wm){b.visualElement=gz(s,S,g,e);const T=j.useContext(aI),A=j.useContext(iI).strict;b.visualElement&&(p=b.visualElement.loadFeatures(g,A,t,T))}return j.createElement(bm.Provider,{value:b},p&&b.visualElement?j.createElement(p,{visualElement:b.visualElement,...g}):null,n(s,h,yz(S,b.visualElement,d),S,x,b.visualElement))}const u=j.forwardRef(o);return u[Sz]=s,u}function Tz({layoutId:t}){const e=j.useContext(Gv).id;return e&&t!==void 0?e+"-"+t:t}function Ez(t){function e(i,s={}){return wz(t(i,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const _z=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qv(t){return typeof t!="string"||t.includes("-")?!1:!!(_z.indexOf(t)>-1||/[A-Z]/.test(t))}const Hp={};function Cz(t){Object.assign(Hp,t)}const ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(ah);function oI(t,{layout:e,layoutId:n}){return Bo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hp[t]||t==="opacity")}const ci=t=>!!(t&&t.getVelocity),Az={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iz=ah.length;function jz(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,s){let o="";for(let u=0;u<Iz;u++){const h=ah[u];if(t[h]!==void 0){const d=Az[h]||h;o+=`${d}(${t[h]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,i?"":o):n&&i&&(o="none"),o}const lI=t=>e=>typeof e=="string"&&e.startsWith(t),cI=lI("--"),dx=lI("var(--"),Rz=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Nz=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ta=(t,e,n)=>Math.min(Math.max(n,t),e),zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cd={...zo,transform:t=>Ta(0,1,t)},Xf={...zo,default:1},Ad=t=>Math.round(t*1e5)/1e5,_m=/(-)?([\d]*\.?[\d])+/g,uI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Dz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function oh(t){return typeof t=="string"}const lh=t=>({test:e=>oh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ia=lh("deg"),Tr=lh("%"),Pe=lh("px"),kz=lh("vh"),Pz=lh("vw"),cE={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},uE={...zo,transform:Math.round},dI={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:Xf,scaleX:Xf,scaleY:Xf,scaleZ:Xf,skew:ia,skewX:ia,skewY:ia,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Cd,originX:cE,originY:cE,originZ:Pe,zIndex:uE,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:uE};function Wv(t,e,n,i){const{style:s,vars:o,transform:u,transformOrigin:h}=t;let d=!1,p=!1,g=!0;for(const x in e){const b=e[x];if(cI(x)){o[x]=b;continue}const S=dI[x],T=Nz(b,S);if(Bo.has(x)){if(d=!0,u[x]=T,!g)continue;b!==(S.default||0)&&(g=!1)}else x.startsWith("origin")?(p=!0,h[x]=T):s[x]=T}if(e.transform||(d||i?s.transform=jz(t.transform,n,g,i):s.transform&&(s.transform="none")),p){const{originX:x="50%",originY:b="50%",originZ:S=0}=h;s.transformOrigin=`${x} ${b} ${S}`}}const Kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hI(t,e,n){for(const i in e)!ci(e[i])&&!oI(i,n)&&(t[i]=e[i])}function Oz({transformTemplate:t},e,n){return j.useMemo(()=>{const i=Kv();return Wv(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function Mz(t,e,n){const i=t.style||{},s={};return hI(s,i,t),Object.assign(s,Oz(t,e,n)),t.transformValues?t.transformValues(s):s}function Vz(t,e,n){const i={},s=Mz(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const Lz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $p(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lz.has(t)}let fI=t=>!$p(t);function Fz(t){t&&(fI=e=>e.startsWith("on")?!$p(e):t(e))}try{Fz(require("@emotion/is-prop-valid").default)}catch{}function Bz(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(fI(s)||n===!0&&$p(s)||!e&&!$p(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function dE(t,e,n){return typeof t=="string"?t:Pe.transform(e+n*t)}function zz(t,e,n){const i=dE(e,t.x,t.width),s=dE(n,t.y,t.height);return`${i} ${s}`}const Uz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hz={offset:"strokeDashoffset",array:"strokeDasharray"};function $z(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?Uz:Hz;t[o.offset]=Pe.transform(-i);const u=Pe.transform(e),h=Pe.transform(n);t[o.array]=`${u} ${h}`}function Yv(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p},g,x,b){if(Wv(t,p,g,b),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:T,dimensions:A}=t;S.transform&&(A&&(T.transform=S.transform),delete S.transform),A&&(s!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=zz(A,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),i!==void 0&&(S.scale=i),u!==void 0&&$z(S,u,h,d,!1)}const pI=()=>({...Kv(),attrs:{}}),Qv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Gz(t,e,n,i){const s=j.useMemo(()=>{const o=pI();return Yv(o,e,{enableHardwareAcceleration:!1},Qv(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};hI(o,t.style,t),s.style={...o,...s.style}}return s}function qz(t=!1){return(n,i,s,{latestValues:o},u)=>{const d=(qv(n)?Gz:Vz)(i,o,u,n),g={...Bz(i,typeof n=="string",t),...d,ref:s},{children:x}=i,b=j.useMemo(()=>ci(x)?x.get():x,[x]);return j.createElement(n,{...g,children:b})}}function mI(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const gI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yI(t,e,n,i){mI(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(gI.has(s)?s:Uv(s),e.attrs[s])}function Jv(t,e){const{style:n}=t,i={};for(const s in n)(ci(n[s])||e.style&&ci(e.style[s])||oI(s,t))&&(i[s]=n[s]);return i}function xI(t,e){const n=Jv(t,e);for(const i in t)if(ci(t[i])||ci(e[i])){const s=ah.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function Xv(t,e,n,i={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),e}function vI(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gp=t=>Array.isArray(t),Wz=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Kz=t=>Gp(t)?t[t.length-1]||0:t;function gp(t){const e=ci(t)?t.get():t;return Wz(e)?e.toValue():e}function Yz({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,s,o){const u={latestValues:Qz(i,s,o,t),renderState:e()};return n&&(u.mount=h=>n(i,h,u)),u}const bI=t=>(e,n)=>{const i=j.useContext(bm),s=j.useContext(Sm),o=()=>Yz(t,e,i,s);return n?o():vI(o)};function Qz(t,e,n,i){const s={},o=i(t,{});for(const b in o)s[b]=gp(o[b]);let{initial:u,animate:h}=t;const d=Em(t),p=sI(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const x=g?h:u;return x&&typeof x!="boolean"&&!Tm(x)&&(Array.isArray(x)?x:[x]).forEach(S=>{const T=Xv(t,S);if(!T)return;const{transitionEnd:A,transition:_,...M}=T;for(const D in M){let V=M[D];if(Array.isArray(V)){const $=g?V.length-1:0;V=V[$]}V!==null&&(s[D]=V)}for(const D in A)s[D]=A[D]}),s}const en=t=>t;class hE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Jz(t){let e=new hE,n=new hE,i=0,s=!1,o=!1;const u=new WeakSet,h={schedule:(d,p=!1,g=!1)=>{const x=g&&s,b=x?e:n;return p&&u.add(d),b.add(d)&&x&&s&&(i=e.order.length),d},cancel:d=>{n.remove(d),u.delete(d)},process:d=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let p=0;p<i;p++){const g=e.order[p];g(d),u.has(g)&&(h.schedule(g),t())}s=!1,o&&(o=!1,h.process(d))}};return h}const Zf=["prepare","read","update","preRender","render","postRender"],Xz=40;function Zz(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Zf.reduce((x,b)=>(x[b]=Jz(()=>n=!0),x),{}),u=x=>o[x].process(s),h=()=>{const x=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(x-s.timestamp,Xz),1),s.timestamp=x,s.isProcessing=!0,Zf.forEach(u),s.isProcessing=!1,n&&e&&(i=!1,t(h))},d=()=>{n=!0,i=!0,s.isProcessing||t(h)};return{schedule:Zf.reduce((x,b)=>{const S=o[b];return x[b]=(T,A=!1,_=!1)=>(n||d(),S.schedule(T,A,_)),x},{}),cancel:x=>Zf.forEach(b=>o[b].cancel(x)),state:s,steps:o}}const{schedule:It,cancel:fs,state:Hn,steps:s0}=Zz(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0),e9={useVisualState:bI({scrapeMotionValuesFromProps:xI,createRenderState:pI,onMount:(t,e,{renderState:n,latestValues:i})=>{It.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),It.render(()=>{Yv(n,i,{enableHardwareAcceleration:!1},Qv(e.tagName),t.transformTemplate),yI(e,n)})}})},t9={useVisualState:bI({scrapeMotionValuesFromProps:Jv,createRenderState:Kv})};function n9(t,{forwardMotionProps:e=!1},n,i){return{...qv(t)?e9:t9,preloadedFeatures:n,useRender:qz(e),createVisualElement:i,Component:t}}function rs(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const SI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Cm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const i9=t=>e=>SI(e)&&t(e,Cm(e));function os(t,e,n,i){return rs(t,e,i9(n),i)}const r9=(t,e)=>n=>e(t(n)),ya=(...t)=>t.reduce(r9);function wI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const fE=wI("dragHorizontal"),pE=wI("dragVertical");function TI(t){let e=!1;if(t==="y")e=pE();else if(t==="x")e=fE();else{const n=fE(),i=pE();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function EI(){const t=TI(!0);return t?(t(),!1):!0}class Ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}function mE(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),s=(o,u)=>{if(o.pointerType==="touch"||EI())return;const h=t.getProps();t.animationState&&h.whileHover&&t.animationState.setActive("whileHover",e),h[i]&&It.update(()=>h[i](o,u))};return os(t.current,n,s,{passive:!t.getProps()[i]})}class s9 extends Ia{mount(){this.unmount=ya(mE(this.node,!0),mE(this.node,!1))}unmount(){}}class a9 extends Ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ya(rs(this.node.current,"focus",()=>this.onFocus()),rs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _I=(t,e)=>e?t===e?!0:_I(t,e.parentElement):!1;function a0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Cm(n))}class o9 extends Ia{constructor(){super(...arguments),this.removeStartListeners=en,this.removeEndListeners=en,this.removeAccessibleListeners=en,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),o=os(window,"pointerup",(h,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:x}=this.node.getProps();It.update(()=>{!x&&!_I(this.node.current,h.target)?g&&g(h,d):p&&p(h,d)})},{passive:!(i.onTap||i.onPointerUp)}),u=os(window,"pointercancel",(h,d)=>this.cancelPress(h,d),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=ya(o,u),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const u=h=>{h.key!=="Enter"||!this.checkPressEnd()||a0("up",(d,p)=>{const{onTap:g}=this.node.getProps();g&&It.update(()=>g(d,p))})};this.removeEndListeners(),this.removeEndListeners=rs(this.node.current,"keyup",u),a0("down",(h,d)=>{this.startPress(h,d)})},n=rs(this.node.current,"keydown",e),i=()=>{this.isPressing&&a0("cancel",(o,u)=>this.cancelPress(o,u))},s=rs(this.node.current,"blur",i);this.removeAccessibleListeners=ya(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&It.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!EI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&It.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=os(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=rs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ya(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hx=new WeakMap,o0=new WeakMap,l9=t=>{const e=hx.get(t.target);e&&e(t)},c9=t=>{t.forEach(l9)};function u9({root:t,...e}){const n=t||document;o0.has(n)||o0.set(n,{});const i=o0.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(c9,{root:t,...e})),i[s]}function d9(t,e,n){const i=u9(e);return hx.set(t,n),i.observe(t),()=>{hx.delete(t),i.unobserve(t)}}const h9={some:0,all:1};class f9 extends Ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:h9[s]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=p?g:x;b&&b(d)};return d9(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(p9(e,n))&&this.startObserver()}unmount(){}}function p9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const m9={inView:{Feature:f9},tap:{Feature:o9},focus:{Feature:a9},hover:{Feature:s9}};function CI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function g9(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function y9(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Am(t,e,n){const i=t.getProps();return Xv(i,e,n!==void 0?n:i.custom,g9(t),y9(t))}let Zv=en;const Co=t=>t*1e3,ls=t=>t/1e3,x9={current:!1},AI=t=>Array.isArray(t)&&typeof t[0]=="number";function II(t){return!!(!t||typeof t=="string"&&jI[t]||AI(t)||Array.isArray(t)&&t.every(II))}const yd=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,jI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function RI(t){if(t)return AI(t)?yd(t):Array.isArray(t)?t.map(RI):jI[t]}function v9(t,e,n,{delay:i=0,duration:s,repeat:o=0,repeatType:u="loop",ease:h,times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=RI(h);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}function b9(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const NI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S9=1e-7,w9=12;function T9(t,e,n,i,s){let o,u,h=0;do u=e+(n-e)/2,o=NI(u,i,s)-t,o>0?n=u:e=u;while(Math.abs(o)>S9&&++h<w9);return u}function ch(t,e,n,i){if(t===e&&n===i)return en;const s=o=>T9(o,0,1,t,n);return o=>o===0||o===1?o:NI(s(o),e,i)}const E9=ch(.42,0,1,1),_9=ch(0,0,.58,1),DI=ch(.42,0,.58,1),C9=t=>Array.isArray(t)&&typeof t[0]!="number",kI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PI=t=>e=>1-t(1-e),eb=t=>1-Math.sin(Math.acos(t)),OI=PI(eb),A9=kI(eb),MI=ch(.33,1.53,.69,.99),tb=PI(MI),I9=kI(tb),j9=t=>(t*=2)<1?.5*tb(t):.5*(2-Math.pow(2,-10*(t-1))),R9={linear:en,easeIn:E9,easeInOut:DI,easeOut:_9,circIn:eb,circInOut:A9,circOut:OI,backIn:tb,backInOut:I9,backOut:MI,anticipate:j9},gE=t=>{if(Array.isArray(t)){Zv(t.length===4);const[e,n,i,s]=t;return ch(e,n,i,s)}else if(typeof t=="string")return R9[t];return t},nb=(t,e)=>n=>!!(oh(n)&&Dz.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),VI=(t,e,n)=>i=>{if(!oh(i))return i;const[s,o,u,h]=i.match(_m);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},N9=t=>Ta(0,255,t),l0={...zo,transform:t=>Math.round(N9(t))},To={test:nb("rgb","red"),parse:VI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+l0.transform(t)+", "+l0.transform(e)+", "+l0.transform(n)+", "+Ad(Cd.transform(i))+")"};function D9(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const fx={test:nb("#"),parse:D9,transform:To.transform},cc={test:nb("hsl","hue"),parse:VI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Tr.transform(Ad(e))+", "+Tr.transform(Ad(n))+", "+Ad(Cd.transform(i))+")"},Jn={test:t=>To.test(t)||fx.test(t)||cc.test(t),parse:t=>To.test(t)?To.parse(t):cc.test(t)?cc.parse(t):fx.parse(t),transform:t=>oh(t)?t:t.hasOwnProperty("red")?To.transform(t):cc.transform(t)},Ft=(t,e,n)=>-n*t+n*e+t;function c0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k9({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;s=c0(d,h,t+1/3),o=c0(d,h,t),u=c0(d,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}const u0=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},P9=[fx,To,cc],O9=t=>P9.find(e=>e.test(t));function yE(t){const e=O9(t);let n=e.parse(t);return e===cc&&(n=k9(n)),n}const LI=(t,e)=>{const n=yE(t),i=yE(e),s={...n};return o=>(s.red=u0(n.red,i.red,o),s.green=u0(n.green,i.green,o),s.blue=u0(n.blue,i.blue,o),s.alpha=Ft(n.alpha,i.alpha,o),To.transform(s))};function M9(t){var e,n;return isNaN(t)&&oh(t)&&(((e=t.match(_m))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(uI))===null||n===void 0?void 0:n.length)||0)>0}const FI={regex:Rz,countKey:"Vars",token:"${v}",parse:en},BI={regex:uI,countKey:"Colors",token:"${c}",parse:Jn.parse},zI={regex:_m,countKey:"Numbers",token:"${n}",parse:zo.parse};function d0(t,{regex:e,countKey:n,token:i,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...o.map(s)))}function qp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&d0(n,FI),d0(n,BI),d0(n,zI),n}function UI(t){return qp(t).values}function HI(t){const{values:e,numColors:n,numVars:i,tokenised:s}=qp(t),o=e.length;return u=>{let h=s;for(let d=0;d<o;d++)d<i?h=h.replace(FI.token,u[d]):d<i+n?h=h.replace(BI.token,Jn.transform(u[d])):h=h.replace(zI.token,Ad(u[d]));return h}}const V9=t=>typeof t=="number"?0:t;function L9(t){const e=UI(t);return HI(t)(e.map(V9))}const Ea={test:M9,parse:UI,createTransformer:HI,getAnimatableNone:L9},$I=(t,e)=>n=>`${n>0?e:t}`;function GI(t,e){return typeof t=="number"?n=>Ft(t,e,n):Jn.test(t)?LI(t,e):t.startsWith("var(")?$I(t,e):WI(t,e)}const qI=(t,e)=>{const n=[...t],i=n.length,s=t.map((o,u)=>GI(o,e[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}},F9=(t,e)=>{const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=GI(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}},WI=(t,e)=>{const n=Ea.createTransformer(e),i=qp(t),s=qp(e);return i.numVars===s.numVars&&i.numColors===s.numColors&&i.numNumbers>=s.numNumbers?ya(qI(i.values,s.values),n):$I(t,e)},Gd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},xE=(t,e)=>n=>Ft(t,e,n);function B9(t){return typeof t=="number"?xE:typeof t=="string"?Jn.test(t)?LI:WI:Array.isArray(t)?qI:typeof t=="object"?F9:xE}function z9(t,e,n){const i=[],s=n||B9(t[0]),o=t.length-1;for(let u=0;u<o;u++){let h=s(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||en:e;h=ya(d,h)}i.push(h)}return i}function KI(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(Zv(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=z9(e,i,s),h=u.length,d=p=>{let g=0;if(h>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const x=Gd(t[g],t[g+1],p);return u[g](x)};return n?p=>d(Ta(t[0],t[o-1],p)):d}function U9(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Gd(0,e,i);t.push(Ft(n,1,s))}}function H9(t){const e=[0];return U9(e,t.length-1),e}function $9(t,e){return t.map(n=>n*e)}function G9(t,e){return t.map(()=>e||DI).splice(0,t.length-1)}function Wp({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=C9(i)?i.map(gE):gE(i),o={done:!1,value:e[0]},u=$9(n&&n.length===e.length?n:H9(e),t),h=KI(u,e,{ease:Array.isArray(s)?s:G9(e,s)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}function YI(t,e){return e?t*(1e3/e):0}const q9=5;function QI(t,e,n){const i=Math.max(e-q9,0);return YI(n-t(i),e-i)}const h0=.001,W9=.01,K9=10,Y9=.05,Q9=1;function J9({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let s,o,u=1-e;u=Ta(Y9,Q9,u),t=Ta(W9,K9,ls(t)),u<1?(s=p=>{const g=p*u,x=g*t,b=g-n,S=px(p,u),T=Math.exp(-x);return h0-b/S*T},o=p=>{const x=p*u*t,b=x*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-x),A=px(Math.pow(p,2),u);return(-s(p)+h0>0?-1:1)*((b-S)*T)/A}):(s=p=>{const g=Math.exp(-p*t),x=(p-n)*t+1;return-h0+g*x},o=p=>{const g=Math.exp(-p*t),x=(n-p)*(t*t);return g*x});const h=5/t,d=Z9(s,o,h);if(t=Co(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const X9=12;function Z9(t,e,n){let i=n;for(let s=1;s<X9;s++)i=i-t(i)/e(i);return i}function px(t,e){return t*Math.sqrt(1-e*e)}const eU=["duration","bounce"],tU=["stiffness","damping","mass"];function vE(t,e){return e.some(n=>t[n]!==void 0)}function nU(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!vE(t,tU)&&vE(t,eU)){const n=J9(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function JI({keyframes:t,restDelta:e,restSpeed:n,...i}){const s=t[0],o=t[t.length-1],u={done:!1,value:s},{stiffness:h,damping:d,mass:p,duration:g,velocity:x,isResolvedFromDuration:b}=nU({...i,velocity:-ls(i.velocity||0)}),S=x||0,T=d/(2*Math.sqrt(h*p)),A=o-s,_=ls(Math.sqrt(h/p)),M=Math.abs(A)<5;n||(n=M?.01:2),e||(e=M?.005:.5);let D;if(T<1){const V=px(_,T);D=$=>{const Q=Math.exp(-T*_*$);return o-Q*((S+T*_*A)/V*Math.sin(V*$)+A*Math.cos(V*$))}}else if(T===1)D=V=>o-Math.exp(-_*V)*(A+(S+_*A)*V);else{const V=_*Math.sqrt(T*T-1);D=$=>{const Q=Math.exp(-T*_*$),re=Math.min(V*$,300);return o-Q*((S+T*_*A)*Math.sinh(re)+V*A*Math.cosh(re))/V}}return{calculatedDuration:b&&g||null,next:V=>{const $=D(V);if(b)u.done=V>=g;else{let Q=S;V!==0&&(T<1?Q=QI(D,V,$):Q=0);const re=Math.abs(Q)<=n,R=Math.abs(o-$)<=e;u.done=re&&R}return u.value=u.done?o:$,u}}}function bE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},S=I=>h!==void 0&&I<h||d!==void 0&&I>d,T=I=>h===void 0?d:d===void 0||Math.abs(h-I)<Math.abs(d-I)?h:d;let A=n*e;const _=x+A,M=u===void 0?_:u(_);M!==_&&(A=M-x);const D=I=>-A*Math.exp(-I/i),V=I=>M+D(I),$=I=>{const k=D(I),L=V(I);b.done=Math.abs(k)<=p,b.value=b.done?M:L};let Q,re;const R=I=>{S(b.value)&&(Q=I,re=JI({keyframes:[b.value,T(b.value)],velocity:QI(V,I,b.value),damping:s,stiffness:o,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let k=!1;return!re&&Q===void 0&&(k=!0,$(I),R(I)),Q!==void 0&&I>Q?re.next(I-Q):(!k&&$(I),b)}}}const iU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>It.update(e,!0),stop:()=>fs(e),now:()=>Hn.isProcessing?Hn.timestamp:performance.now()}},SE=2e4;function wE(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<SE;)e+=n,i=t.next(e);return e>=SE?1/0:e}const rU={decay:bE,inertia:bE,tween:Wp,keyframes:Wp,spring:JI};function Kp({autoplay:t=!0,delay:e=0,driver:n=iU,keyframes:i,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",onPlay:d,onStop:p,onComplete:g,onUpdate:x,...b}){let S=1,T=!1,A,_;const M=()=>{_=new Promise(z=>{A=z})};M();let D;const V=rU[s]||Wp;let $;V!==Wp&&typeof i[0]!="number"&&($=KI([0,100],i,{clamp:!1}),i=[0,100]);const Q=V({...b,keyframes:i});let re;h==="mirror"&&(re=V({...b,keyframes:[...i].reverse(),velocity:-(b.velocity||0)}));let R="idle",I=null,k=null,L=null;Q.calculatedDuration===null&&o&&(Q.calculatedDuration=wE(Q));const{calculatedDuration:B}=Q;let H=1/0,F=1/0;B!==null&&(H=B+u,F=H*(o+1)-u);let xe=0;const Ee=z=>{if(k===null)return;S>0&&(k=Math.min(k,z)),S<0&&(k=Math.min(z-F/S,k)),I!==null?xe=I:xe=Math.round(z-k)*S;const Z=xe-e*(S>=0?1:-1),te=S>=0?Z<0:Z>F;xe=Math.max(Z,0),R==="finished"&&I===null&&(xe=F);let pe=xe,Se=Q;if(o){const dt=Math.min(xe,F)/H;let hn=Math.floor(dt),ue=dt%1;!ue&&dt>=1&&(ue=1),ue===1&&hn--,hn=Math.min(hn,o+1),hn%2&&(h==="reverse"?(ue=1-ue,u&&(ue-=u/H)):h==="mirror"&&(Se=re)),pe=Ta(0,1,ue)*H}const je=te?{done:!1,value:i[0]}:Se.next(pe);$&&(je.value=$(je.value));let{done:Ue}=je;!te&&B!==null&&(Ue=S>=0?xe>=F:xe<=0);const wt=I===null&&(R==="finished"||R==="running"&&Ue);return x&&x(je.value),wt&&ae(),je},O=()=>{D&&D.stop(),D=void 0},q=()=>{R="idle",O(),A(),M(),k=L=null},ae=()=>{R="finished",g&&g(),O(),A()},Te=()=>{if(T)return;D||(D=n(Ee));const z=D.now();d&&d(),I!==null?k=z-I:(!k||R==="finished")&&(k=z),R==="finished"&&M(),L=k,I=null,R="running",D.start()};t&&Te();const Ce={then(z,Z){return _.then(z,Z)},get time(){return ls(xe)},set time(z){z=Co(z),xe=z,I!==null||!D||S===0?I=z:k=D.now()-z/S},get duration(){const z=Q.calculatedDuration===null?wE(Q):Q.calculatedDuration;return ls(z)},get speed(){return S},set speed(z){z===S||!D||(S=z,Ce.time=ls(xe))},get state(){return R},play:Te,pause:()=>{R="paused",I=xe},stop:()=>{T=!0,R!=="idle"&&(R="idle",p&&p(),q())},cancel:()=>{L!==null&&Ee(L),q()},complete:()=>{R="finished"},sample:z=>(k=0,Ee(z))};return Ce}function sU(t){let e;return()=>(e===void 0&&(e=t()),e)}const aU=sU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ep=10,lU=2e4,cU=(t,e)=>e.type==="spring"||t==="backgroundColor"||!II(e.ease);function uU(t,e,{onUpdate:n,onComplete:i,...s}){if(!(aU()&&oU.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let u=!1,h,d,p=!1;const g=()=>{d=new Promise(V=>{h=V})};g();let{keyframes:x,duration:b=300,ease:S,times:T}=s;if(cU(e,s)){const V=Kp({...s,repeat:0,delay:0});let $={done:!1,value:x[0]};const Q=[];let re=0;for(;!$.done&&re<lU;)$=V.sample(re),Q.push($.value),re+=ep;T=void 0,x=Q,b=re-ep,S="linear"}const A=v9(t.owner.current,e,x,{...s,duration:b,ease:S,times:T}),_=()=>{p=!1,A.cancel()},M=()=>{p=!0,It.update(_),h(),g()};return A.onfinish=()=>{p||(t.set(b9(x,s)),i&&i(),M())},{then(V,$){return d.then(V,$)},attachTimeline(V){return A.timeline=V,A.onfinish=null,en},get time(){return ls(A.currentTime||0)},set time(V){A.currentTime=Co(V)},get speed(){return A.playbackRate},set speed(V){A.playbackRate=V},get duration(){return ls(b)},play:()=>{u||(A.play(),fs(_))},pause:()=>A.pause(),stop:()=>{if(u=!0,A.playState==="idle")return;const{currentTime:V}=A;if(V){const $=Kp({...s,autoplay:!1});t.setWithVelocity($.sample(V-ep).value,$.sample(V).value,ep)}M()},complete:()=>{p||A.finish()},cancel:M}}function dU({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const s=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:en,pause:en,stop:en,then:o=>(o(),Promise.resolve()),cancel:en,complete:en});return e?Kp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const hU={type:"spring",stiffness:500,damping:25,restSpeed:10},fU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pU={type:"keyframes",duration:.8},mU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gU=(t,{keyframes:e})=>e.length>2?pU:Bo.has(t)?t.startsWith("scale")?fU(e[1]):hU:mU,mx=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ea.test(e)||e==="0")&&!e.startsWith("url(")),yU=new Set(["brightness","contrast","saturate","opacity"]);function xU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(_m)||[];if(!i)return t;const s=n.replace(i,"");let o=yU.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const vU=/([a-z-]*)\(.*?\)/g,gx={...Ea,getAnimatableNone:t=>{const e=t.match(vU);return e?e.map(xU).join(" "):t}},bU={...dI,color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:gx,WebkitFilter:gx},ib=t=>bU[t];function XI(t,e){let n=ib(t);return n!==gx&&(n=Ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ZI=t=>/^0[^.\s]+$/.test(t);function SU(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||ZI(t)}function wU(t,e,n,i){const s=mx(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const u=i.from!==void 0?i.from:t.get();let h;const d=[];for(let p=0;p<o.length;p++)o[p]===null&&(o[p]=p===0?u:o[p-1]),SU(o[p])&&d.push(p),typeof o[p]=="string"&&o[p]!=="none"&&o[p]!=="0"&&(h=o[p]);if(s&&d.length&&h)for(let p=0;p<d.length;p++){const g=d[p];o[g]=XI(e,h)}return o}function TU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}function rb(t,e){return t[e]||t.default||t}const EU={skipAnimations:!1},sb=(t,e,n,i={})=>s=>{const o=rb(i,t)||{},u=o.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Co(u);const d=wU(e,t,n,o),p=d[0],g=d[d.length-1],x=mx(t,p),b=mx(t,g);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-h,onUpdate:T=>{e.set(T),o.onUpdate&&o.onUpdate(T)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(TU(o)||(S={...S,...gU(t,S)}),S.duration&&(S.duration=Co(S.duration)),S.repeatDelay&&(S.repeatDelay=Co(S.repeatDelay)),!x||!b||x9.current||o.type===!1||EU.skipAnimations)return dU(S);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=uU(e,t,S);if(T)return T}return Kp(S)};function Yp(t){return!!(ci(t)&&t.add)}const ej=t=>/^\-?\d*\.?\d+$/.test(t);function ab(t,e){t.indexOf(e)===-1&&t.push(e)}function ob(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lb{constructor(){this.subscriptions=[]}add(e){return ab(this.subscriptions,e),()=>ob(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _U=t=>!isNaN(parseFloat(t));class CU{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,s=!0)=>{this.prev=this.current,this.current=i;const{delta:o,timestamp:u}=Hn;this.lastUpdated!==u&&(this.timeDelta=o,this.lastUpdated=u,It.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>It.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_U(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lb);const i=this.events[e].add(n);return e==="change"?()=>{i(),It.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?YI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(t,e){return new CU(t,e)}const tj=t=>e=>e.test(t),AU={test:t=>t==="auto",parse:t=>t},nj=[zo,Pe,Tr,ia,Pz,kz,AU],ad=t=>nj.find(tj(t)),IU=[...nj,Jn,Ea],jU=t=>IU.find(tj(t));function RU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dc(n))}function NU(t,e){const n=Am(t,e);let{transitionEnd:i={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...i};for(const u in o){const h=Kz(o[u]);RU(t,u,h)}}function DU(t,e,n){var i,s;const o=Object.keys(e).filter(h=>!t.hasValue(h)),u=o.length;if(u)for(let h=0;h<u;h++){const d=o[h],p=e[d];let g=null;Array.isArray(p)&&(g=p[0]),g===null&&(g=(s=(i=n[d])!==null&&i!==void 0?i:t.readValue(d))!==null&&s!==void 0?s:e[d]),g!=null&&(typeof g=="string"&&(ej(g)||ZI(g))?g=parseFloat(g):!jU(g)&&Ea.test(p)&&(g=XI(d,p)),t.addValue(d,Dc(g,{owner:t})),n[d]===void 0&&(n[d]=g),g!==null&&t.setBaseTarget(d,g))}}function kU(t,e){return e?(e[t]||e.default||e).from:void 0}function PU(t,e,n){const i={};for(const s in t){const o=kU(s,e);if(o!==void 0)i[s]=o;else{const u=n.getValue(s);u&&(i[s]=u.get())}}return i}function OU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function MU(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function ij(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");i&&(o=i);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const x in h){const b=t.getValue(x),S=h[x];if(!b||S===void 0||g&&OU(g,x))continue;const T={delay:n,elapsed:0,...rb(o||{},x)};if(window.HandoffAppearAnimations){const M=t.getProps()[rI];if(M){const D=window.HandoffAppearAnimations(M,x,b,It);D!==null&&(T.elapsed=D,T.isHandoff=!0)}}let A=!T.isHandoff&&!MU(b,S);if(T.type==="spring"&&(b.getVelocity()||T.velocity)&&(A=!1),b.animation&&(A=!1),A)continue;b.start(sb(x,b,S,t.shouldReduceMotion&&Bo.has(x)?{type:!1}:T));const _=b.animation;Yp(d)&&(d.add(x),_.then(()=>d.remove(x))),p.push(_)}return u&&Promise.all(p).then(()=>{u&&NU(t,u)}),p}function yx(t,e,n={}){const i=Am(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(ij(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=s;return VU(t,e,p+d,g,x,n)}:()=>Promise.resolve(),{when:h}=s;if(h){const[d,p]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function VU(t,e,n=0,i=0,s=1,o){const u=[],h=(t.variantChildren.size-1)*i,d=s===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(LU).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(yx(p,e,{...o,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function LU(t,e){return t.sortNodePosition(e)}function FU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>yx(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=yx(t,e,n);else{const s=typeof e=="function"?Am(t,e,n.custom):e;i=Promise.all(ij(t,s,n))}return i.then(()=>t.notify("AnimationComplete",e))}const BU=[...Hv].reverse(),zU=Hv.length;function UU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>FU(t,n,i)))}function HU(t){let e=UU(t);const n=GU();let i=!0;const s=(d,p)=>{const g=Am(t,p);if(g){const{transition:x,transitionEnd:b,...S}=g;d={...d,...S,...b}}return d};function o(d){e=d(t)}function u(d,p){const g=t.getProps(),x=t.getVariantContext(!0)||{},b=[],S=new Set;let T={},A=1/0;for(let M=0;M<zU;M++){const D=BU[M],V=n[D],$=g[D]!==void 0?g[D]:x[D],Q=Hd($),re=D===p?V.isActive:null;re===!1&&(A=M);let R=$===x[D]&&$!==g[D]&&Q;if(R&&i&&t.manuallyAnimateOnMount&&(R=!1),V.protectedKeys={...T},!V.isActive&&re===null||!$&&!V.prevProp||Tm($)||typeof $=="boolean")continue;let k=$U(V.prevProp,$)||D===p&&V.isActive&&!R&&Q||M>A&&Q,L=!1;const B=Array.isArray($)?$:[$];let H=B.reduce(s,{});re===!1&&(H={});const{prevResolvedValues:F={}}=V,xe={...F,...H},Ee=O=>{k=!0,S.has(O)&&(L=!0,S.delete(O)),V.needsAnimating[O]=!0};for(const O in xe){const q=H[O],ae=F[O];if(T.hasOwnProperty(O))continue;let Te=!1;Gp(q)&&Gp(ae)?Te=!CI(q,ae):Te=q!==ae,Te?q!==void 0?Ee(O):S.add(O):q!==void 0&&S.has(O)?Ee(O):V.protectedKeys[O]=!0}V.prevProp=$,V.prevResolvedValues=H,V.isActive&&(T={...T,...H}),i&&t.blockInitialAnimation&&(k=!1),k&&(!R||L)&&b.push(...B.map(O=>({animation:O,options:{type:D,...d}})))}if(S.size){const M={};S.forEach(D=>{const V=t.getBaseTarget(D);V!==void 0&&(M[D]=V)}),b.push({animation:M})}let _=!!b.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(b):Promise.resolve()}function h(d,p,g){var x;if(n[d].isActive===p)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var T;return(T=S.animationState)===null||T===void 0?void 0:T.setActive(d,p)}),n[d].isActive=p;const b=u(g,d);for(const S in n)n[S].protectedKeys={};return b}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n}}function $U(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CI(e,t):!1}function eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GU(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}class qU extends Ia{constructor(e){super(e),e.animationState||(e.animationState=HU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Tm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let WU=0;class KU extends Ia{constructor(){super(...arguments),this.id=WU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YU={animation:{Feature:qU},exit:{Feature:KU}},TE=(t,e)=>Math.abs(t-e);function QU(t,e){const n=TE(t.x,e.x),i=TE(t.y,e.y);return Math.sqrt(n**2+i**2)}class rj{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=p0(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=QU(x.offset,{x:0,y:0})>=3;if(!b&&!S)return;const{point:T}=x,{timestamp:A}=Hn;this.history.push({...T,timestamp:A});const{onStart:_,onMove:M}=this.handlers;b||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=f0(b,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=p0(x.type==="pointercancel"?this.lastMoveEventInfo:f0(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,_),T&&T(x,_)},!SI(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const u=Cm(e),h=f0(u,this.transformPagePoint),{point:d}=h,{timestamp:p}=Hn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,p0(h,this.history)),this.removeListeners=ya(os(this.contextWindow,"pointermove",this.handlePointerMove),os(this.contextWindow,"pointerup",this.handlePointerUp),os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function f0(t,e){return e?{point:e(t.point)}:t}function EE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p0({point:t},e){return{point:t,delta:EE(t,sj(e)),offset:EE(t,JU(e)),velocity:XU(e,.1)}}function JU(t){return t[0]}function sj(t){return t[t.length-1]}function XU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=sj(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Co(e)));)n--;if(!i)return{x:0,y:0};const o=ls(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function wi(t){return t.max-t.min}function xx(t,e=0,n=.01){return Math.abs(t-e)<=n}function _E(t,e,n,i=.5){t.origin=i,t.originPoint=Ft(e.min,e.max,t.origin),t.scale=wi(n)/wi(e),(xx(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ft(n.min,n.max,t.origin)-t.originPoint,(xx(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Id(t,e,n,i){_E(t.x,e.x,n.x,i?i.originX:void 0),_E(t.y,e.y,n.y,i?i.originY:void 0)}function CE(t,e,n){t.min=n.min+e.min,t.max=t.min+wi(e)}function ZU(t,e,n){CE(t.x,e.x,n.x),CE(t.y,e.y,n.y)}function AE(t,e,n){t.min=e.min-n.min,t.max=t.min+wi(e)}function jd(t,e,n){AE(t.x,e.x,n.x),AE(t.y,e.y,n.y)}function eH(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ft(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ft(n,t,i.max):Math.min(t,n)),t}function IE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tH(t,{top:e,left:n,bottom:i,right:s}){return{x:IE(t.x,n,s),y:IE(t.y,e,i)}}function jE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function nH(t,e){return{x:jE(t.x,e.x),y:jE(t.y,e.y)}}function iH(t,e){let n=.5;const i=wi(t),s=wi(e);return s>i?n=Gd(e.min,e.max-i,t.min):i>s&&(n=Gd(t.min,t.max-s,e.min)),Ta(0,1,n)}function rH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vx=.35;function sH(t=vx){return t===!1?t=0:t===!0&&(t=vx),{x:RE(t,"left","right"),y:RE(t,"top","bottom")}}function RE(t,e,n){return{min:NE(t,e),max:NE(t,n)}}function NE(t,e){return typeof t=="number"?t:t[e]||0}const DE=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:DE(),y:DE()}),kE=()=>({min:0,max:0}),cn=()=>({x:kE(),y:kE()});function Mi(t){return[t("x"),t("y")]}function aj({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function aH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function m0(t){return t===void 0||t===1}function bx({scale:t,scaleX:e,scaleY:n}){return!m0(t)||!m0(e)||!m0(n)}function no(t){return bx(t)||oj(t)||t.z||t.rotate||t.rotateX||t.rotateY}function oj(t){return PE(t.x)||PE(t.y)}function PE(t){return t&&t!=="0%"}function Qp(t,e,n){const i=t-n,s=e*i;return n+s}function OE(t,e,n,i,s){return s!==void 0&&(t=Qp(t,s,i)),Qp(t,n,i)+e}function Sx(t,e=0,n=1,i,s){t.min=OE(t.min,e,n,i,s),t.max=OE(t.max,e,n,i,s)}function lj(t,{x:e,y:n}){Sx(t.x,e.translate,e.scale,e.originPoint),Sx(t.y,n.translate,n.scale,n.originPoint)}function lH(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=n[h],u=o.projectionDelta;const d=o.instance;d&&d.style&&d.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lj(t,u)),i&&no(o.latestValues)&&dc(t,o.latestValues))}e.x=ME(e.x),e.y=ME(e.y)}function ME(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ra(t,e){t.min=t.min+e,t.max=t.max+e}function VE(t,e,[n,i,s]){const o=e[s]!==void 0?e[s]:.5,u=Ft(t.min,t.max,o);Sx(t,e[n],e[i],u,e.scale)}const cH=["x","scaleX","originX"],uH=["y","scaleY","originY"];function dc(t,e){VE(t.x,e,cH),VE(t.y,e,uH)}function cj(t,e){return aj(oH(t.getBoundingClientRect(),e))}function dH(t,e,n){const i=cj(t,n),{scroll:s}=e;return s&&(ra(i.x,s.offset.x),ra(i.y,s.offset.y)),i}const uj=({current:t})=>t?t.ownerDocument.defaultView:null,hH=new WeakMap;class fH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cm(g,"page").point)},o=(g,x)=>{const{drag:b,dragPropagation:S,onDragStart:T}=this.getProps();if(b&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TI(b),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(_=>{let M=this.getAxisMotionValue(_).get()||0;if(Tr.test(M)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[_];V&&(M=wi(V)*(parseFloat(M)/100))}}this.originPoint[_]=M}),T&&It.update(()=>T(g,x),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(g,x)=>{const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:T,onDrag:A}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:_}=x;if(S&&this.currentDirection===null){this.currentDirection=pH(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,_),this.updateAxis("y",x.point,_),this.visualElement.render(),A&&A(g,x)},h=(g,x)=>this.stop(g,x),d=()=>Mi(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new rj(e,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:uj(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&It.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!tp(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=eH(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&lc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=tH(s.layoutBox,n):this.constraints=!1,this.elastic=sH(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mi(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=rH(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lc(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=dH(i,s.root,this.visualElement.getTransformPagePoint());let u=nH(s.layout.layoutBox,o);if(n){const h=n(aH(u));this.hasMutatedConstraints=!!h,h&&(u=aj(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Mi(g=>{if(!tp(g,n,this.currentDirection))return;let x=d&&d[g]||{};u&&(x={min:0,max:0});const b=s?200:1e6,S=s?40:1e7,T={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(sb(e,i,0,n))}stopAnimation(){Mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Mi(n=>{const{drag:i}=this.getProps();if(!tp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];o.set(e[n]-Ft(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!lc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mi(u=>{const h=this.getAxisMotionValue(u);if(h){const d=h.get();s[u]=iH({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Mi(u=>{if(!tp(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(Ft(d,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;hH.set(this.visualElement,this);const e=this.visualElement.current,n=os(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();lc(d)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),i();const u=rs(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mi(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=d[g].translate,x.set(x.get()+d[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=vx,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function tp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mH extends Ia{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new fH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const LE=t=>(e,n)=>{t&&It.update(()=>t(e,n))};class gH extends Ia{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new rj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:LE(e),onStart:LE(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&It.update(()=>s(o,u))}}}mount(){this.removePointerDownListener=os(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yH(){const t=j.useContext(Sm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=j.useId();return j.useEffect(()=>i(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const od={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=FE(t,e.target.x),i=FE(t,e.target.y);return`${n}% ${i}%`}},xH={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Ea.parse(t);if(s.length>5)return i;const o=Ea.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=d;const p=Ft(h,d,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),o(s)}};class vH extends kt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;Cz(bH),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||It.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dj(t){const[e,n]=yH(),i=j.useContext(Gv);return kt.createElement(vH,{...t,layoutGroup:i,switchLayoutGroup:j.useContext(aI),isPresent:e,safeToRemove:n})}const bH={borderRadius:{...od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:od,borderTopRightRadius:od,borderBottomLeftRadius:od,borderBottomRightRadius:od,boxShadow:xH},hj=["TopLeft","TopRight","BottomLeft","BottomRight"],SH=hj.length,BE=t=>typeof t=="string"?parseFloat(t):t,zE=t=>typeof t=="number"||Pe.test(t);function wH(t,e,n,i,s,o){s?(t.opacity=Ft(0,n.opacity!==void 0?n.opacity:1,TH(i)),t.opacityExit=Ft(e.opacity!==void 0?e.opacity:1,0,EH(i))):o&&(t.opacity=Ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<SH;u++){const h=`border${hj[u]}Radius`;let d=UE(e,h),p=UE(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||zE(d)===zE(p)?(t[h]=Math.max(Ft(BE(d),BE(p),i),0),(Tr.test(p)||Tr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Ft(e.rotate||0,n.rotate||0,i))}function UE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TH=fj(0,.5,OI),EH=fj(.5,.95,en);function fj(t,e,n){return i=>i<t?0:i>e?1:n(Gd(t,e,i))}function HE(t,e){t.min=e.min,t.max=e.max}function Oi(t,e){HE(t.x,e.x),HE(t.y,e.y)}function $E(t,e,n,i,s){return t-=e,t=Qp(t,1/n,i),s!==void 0&&(t=Qp(t,1/s,i)),t}function _H(t,e=0,n=1,i=.5,s,o=t,u=t){if(Tr.test(e)&&(e=parseFloat(e),e=Ft(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ft(o.min,o.max,i);t===o&&(h-=e),t.min=$E(t.min,e,n,h,s),t.max=$E(t.max,e,n,h,s)}function GE(t,e,[n,i,s],o,u){_H(t,e[n],e[i],e[s],e.scale,o,u)}const CH=["x","scaleX","originX"],AH=["y","scaleY","originY"];function qE(t,e,n,i){GE(t.x,e,CH,n?n.x:void 0,i?i.x:void 0),GE(t.y,e,AH,n?n.y:void 0,i?i.y:void 0)}function WE(t){return t.translate===0&&t.scale===1}function pj(t){return WE(t.x)&&WE(t.y)}function IH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function mj(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function KE(t){return wi(t.x)/wi(t.y)}class jH{constructor(){this.members=[]}add(e){ab(this.members,e),e.scheduleRender()}remove(e){if(ob(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YE(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(i=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:g}=n;d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const RH=(t,e)=>t.depth-e.depth;class NH{constructor(){this.children=[],this.isDirty=!1}add(e){ab(this.children,e),this.isDirty=!0}remove(e){ob(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RH),this.isDirty=!1,this.children.forEach(e)}}function DH(t,e){const n=performance.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(fs(i),t(o-e))};return It.read(i,!0),()=>fs(i)}function kH(t){window.MotionDebug&&window.MotionDebug.record(t)}function PH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function OH(t,e,n){const i=ci(t)?t:Dc(t);return i.start(sb("",i,e,n)),i.animation}const QE=["","X","Y","Z"],MH={visibility:"hidden"},JE=1e3;let VH=0;const io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function gj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=VH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,io.totalNodes=io.resolvedTargetDeltas=io.recalculatedProjection=0,this.nodes.forEach(BH),this.nodes.forEach(GH),this.nodes.forEach(qH),this.nodes.forEach(zH),kH(io)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new NH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lb),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PH(u),this.instance=u;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=DH(b,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,this.nodes.forEach(ZE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeTargetChanged:S,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||JH,{onLayoutAnimationStart:_,onLayoutAnimationComplete:M}=g.getProps(),D=!this.targetLayout||!mj(this.targetLayout,T)||S,V=!b&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||V||b&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,V);const $={...rb(A,"layout"),onPlay:_,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else b||ZE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WH),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}this.isUpdating||this.nodes.forEach(HH),this.isUpdating=!1,this.nodes.forEach($H),this.nodes.forEach(LH),this.nodes.forEach(FH),this.clearAllSnapshots();const h=performance.now();Hn.delta=Ta(0,1e3/60,h-Hn.timestamp),Hn.timestamp=h,Hn.isProcessing=!0,s0.update.process(Hn),s0.preRender.process(Hn),s0.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(UH),this.sharedNodes.forEach(KH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!pj(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(h||no(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),XH(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cn();const h=u.measureViewportBox(),{scroll:d}=this.root;return d&&(ra(h.x,d.offset.x),ra(h.y,d.offset.y)),h}removeElementScroll(u){const h=cn();Oi(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:x}=p;if(p!==this.root&&g&&x.layoutScroll){if(g.isRoot){Oi(h,u);const{scroll:b}=this.root;b&&(ra(h.x,-b.offset.x),ra(h.y,-b.offset.y))}ra(h.x,g.offset.x),ra(h.y,g.offset.y)}}return h}applyTransform(u,h=!1){const d=cn();Oi(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&dc(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),no(g.latestValues)&&dc(d,g.latestValues)}return no(this.latestValues)&&dc(d,this.latestValues),d}removeTransform(u){const h=cn();Oi(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!no(p.latestValues))continue;bx(p.latestValues)&&p.updateSnapshot();const g=cn(),x=p.measurePageBox();Oi(g,x),qE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return no(this.latestValues)&&qE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:b}=this.options;if(!(!this.layout||!(x||b))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),jd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oi(this.target,this.layout.layoutBox),lj(this.target,this.targetDelta)):Oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),jd(this.relativeTargetOrigin,this.target,S.target),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bx(this.parent.latestValues)||oj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;Oi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;lH(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:T}=h;if(!T){this.projectionTransform&&(this.projectionDelta=uc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc());const A=this.projectionTransform;Id(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=YE(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==b||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},x=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=cn(),S=d?d.source:void 0,T=this.layout?this.layout.source:void 0,A=S!==T,_=this.getStack(),M=!_||_.members.length<=1,D=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(QH));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const Q=$/1e3;e_(x.x,u.x,Q),e_(x.y,u.y,Q),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YH(this.relativeTarget,this.relativeTargetOrigin,b,Q),V&&IH(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=cn()),Oi(V,this.relativeTarget)),A&&(this.animationValues=g,wH(g,p,this.latestValues,Q,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{yp.hasAnimatedSinceResize=!0,this.currentAnimation=OH(0,JE,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&yj(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||cn();const x=wi(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+x;const b=wi(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+b}Oi(h,d),dc(h,g),Id(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new jH),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(h=!0),!h)return;const p={};for(let g=0;g<QE.length;g++){const x="rotate"+QE[g];d[x]&&(p[x]=d[x],u.setStaticValue(x,0))}u.render();for(const g in p)u.setStaticValue(g,p[g]);u.scheduleRender()}getProjectionStyles(u){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MH;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=gp(u?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=gp(u?.pointerEvents)||""),this.hasProjected&&!no(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const b=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=YE(this.projectionDeltaWithTransform,this.treeScale,b),g&&(p.transform=g(b,p.transform));const{x:S,y:T}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${T.origin*100}% 0`,x.animationValues?p.opacity=x===this?(d=(h=b.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=x===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const A in Hp){if(b[A]===void 0)continue;const{correct:_,applyTo:M}=Hp[A],D=p.transform==="none"?b[A]:_(b[A],x);if(M){const V=M.length;for(let $=0;$<V;$++)p[M[$]]=D}else p[A]=D}return this.options.layoutId&&(p.pointerEvents=x===this?gp(u?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function LH(t){t.updateLayout()}function FH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,u=n.source!==t.layout.source;o==="size"?Mi(x=>{const b=u?n.measuredBox[x]:n.layoutBox[x],S=wi(b);b.min=i[x].min,b.max=b.min+S}):yj(o,n.layoutBox,i)&&Mi(x=>{const b=u?n.measuredBox[x]:n.layoutBox[x],S=wi(i[x]);b.max=b.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+S)});const h=uc();Id(h,i,n.layoutBox);const d=uc();u?Id(d,t.applyTransform(s,!0),n.measuredBox):Id(d,i,n.layoutBox);const p=!pj(h);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:S}=x;if(b&&S){const T=cn();jd(T,n.layoutBox,b.layoutBox);const A=cn();jd(A,i,S.layoutBox),mj(T,A)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function BH(t){io.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UH(t){t.clearSnapshot()}function XE(t){t.clearMeasurements()}function HH(t){t.isLayoutDirty=!1}function $H(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GH(t){t.resolveTargetDelta()}function qH(t){t.calcProjection()}function WH(t){t.resetRotation()}function KH(t){t.removeLeadSnapshot()}function e_(t,e,n){t.translate=Ft(e.translate,0,n),t.scale=Ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t_(t,e,n,i){t.min=Ft(e.min,n.min,i),t.max=Ft(e.max,n.max,i)}function YH(t,e,n,i){t_(t.x,e.x,n.x,i),t_(t.y,e.y,n.y,i)}function QH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JH={duration:.45,ease:[.4,0,.1,1]},n_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),i_=n_("applewebkit/")&&!n_("chrome/")?Math.round:en;function r_(t){t.min=i_(t.min),t.max=i_(t.max)}function XH(t){r_(t.x),r_(t.y)}function yj(t,e,n){return t==="position"||t==="preserve-aspect"&&!xx(KE(e),KE(n),.2)}const ZH=gj({attachResizeListener:(t,e)=>rs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),g0={current:void 0},xj=gj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!g0.current){const t=new ZH({});t.mount(window),t.setOptions({layoutScroll:!0}),g0.current=t}return g0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e$={pan:{Feature:gH},drag:{Feature:mH,ProjectionNode:xj,MeasureLayout:dj}},t$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n$(t){const e=t$.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function wx(t,e,n=1){const[i,s]=n$(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return ej(u)?parseFloat(u):u}else return dx(s)?wx(s,e,n+1):s}function i$(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!dx(o))return;const u=wx(o,i);u&&s.set(u)});for(const s in e){const o=e[s];if(!dx(o))continue;const u=wx(o,i);u&&(e[s]=u,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const r$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vj=t=>r$.has(t),s$=t=>Object.keys(t).some(vj),s_=t=>t===zo||t===Pe,a_=(t,e)=>parseFloat(t.split(", ")[e]),o_=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return a_(s[1],e);{const o=i.match(/^matrix\((.+)\)$/);return o?a_(o[1],t):0}},a$=new Set(["x","y","z"]),o$=ah.filter(t=>!a$.has(t));function l$(t){const e=[];return o$.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const kc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:o_(4,13),y:o_(5,14)};kc.translateX=kc.x;kc.translateY=kc.y;const c$=(t,e,n)=>{const i=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:u}=o,h={};u==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{h[p]=kc[p](i,o)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const g=e.getValue(p);g&&g.jump(h[p]),t[p]=kc[p](d,o)}),t},u$=(t,e,n={},i={})=>{e={...e},i={...i};const s=Object.keys(e).filter(vj);let o=[],u=!1;const h=[];if(s.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let g=n[d],x=ad(g);const b=e[d];let S;if(Gp(b)){const T=b.length,A=b[0]===null?1:0;g=b[A],x=ad(g);for(let _=A;_<T&&b[_]!==null;_++)S?Zv(ad(b[_])===S):S=ad(b[_])}else S=ad(b);if(x!==S)if(s_(x)&&s_(S)){const T=p.get();typeof T=="string"&&p.set(parseFloat(T)),typeof b=="string"?e[d]=parseFloat(b):Array.isArray(b)&&S===Pe&&(e[d]=b.map(parseFloat))}else x?.transform&&S?.transform&&(g===0||b===0)?g===0?p.set(S.transform(g)):e[d]=x.transform(b):(u||(o=l$(t),u=!0),h.push(d),i[d]=i[d]!==void 0?i[d]:e[d],p.jump(b))}),h.length){const d=h.indexOf("height")>=0?window.pageYOffset:null,p=c$(e,t,h);return o.length&&o.forEach(([g,x])=>{t.getValue(g).set(x)}),t.render(),wm&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:i}}else return{target:e,transitionEnd:i}};function d$(t,e,n,i){return s$(e)?u$(t,e,n,i):{target:e,transitionEnd:i}}const h$=(t,e,n,i)=>{const s=i$(t,e,i);return e=s.target,i=s.transitionEnd,d$(t,e,n,i)},Tx={current:null},bj={current:!1};function f$(){if(bj.current=!0,!!wm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tx.current=t.matches;t.addListener(e),e()}else Tx.current=!1}function p$(t,e,n){const{willChange:i}=e;for(const s in e){const o=e[s],u=n[s];if(ci(o))t.addValue(s,o),Yp(i)&&i.add(s);else if(ci(u))t.addValue(s,Dc(o,{owner:t})),Yp(i)&&i.remove(s);else if(u!==o)if(t.hasValue(s)){const h=t.getValue(s);!h.hasAnimated&&h.set(o)}else{const h=t.getStaticValue(s);t.addValue(s,Dc(h!==void 0?h:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const l_=new WeakMap,Sj=Object.keys($d),m$=Sj.length,c_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],g$=$v.length;class y${constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>It.render(this.render,!1,!0);const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.isControllingVariants=Em(n),this.isVariantNode=sI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{});for(const x in g){const b=g[x];h[x]!==void 0&&ci(b)&&(b.set(h[x],!1),Yp(p)&&p.add(x))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,l_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),bj.current||f$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){l_.delete(this.current),this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=Bo.has(e),s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&It.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,s,o){let u,h;for(let d=0;d<m$;d++){const p=Sj[d],{isEnabled:g,Feature:x,ProjectionNode:b,MeasureLayout:S}=$d[p];b&&(u=b),g(n)&&(!this.features[p]&&x&&(this.features[p]=new x(this)),S&&(h=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:g,dragConstraints:x,layoutScroll:b,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!g||x&&lc(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:o,layoutScroll:b,layoutRoot:S})}return h}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<c_.length;i++){const s=c_[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=p$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<g$;i++){const s=$v[i],o=this.props[s];(Hd(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Dc(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(n=Xv(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ci(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class wj extends y${sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:s},o){let u=PU(i,e||{},this);if(s&&(n&&(n=s(n)),i&&(i=s(i)),u&&(u=s(u))),o){DU(this,i,u);const h=h$(this,i,u,n);n=h.transitionEnd,i=h.target}return{transition:e,transitionEnd:n,...i}}}function x$(t){return window.getComputedStyle(t)}class v$ extends wj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Bo.has(n)){const i=ib(n);return i&&i.default||0}else{const i=x$(e),s=(cI(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cj(e,n)}build(e,n,i,s){Wv(e,n,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Jv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ci(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,s){mI(e,n,i,s)}}class b$ extends wj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bo.has(n)){const i=ib(n);return i&&i.default||0}return n=gI.has(n)?n:Uv(n),e.getAttribute(n)}measureInstanceViewportBox(){return cn()}scrapeMotionValuesFromProps(e,n){return xI(e,n)}build(e,n,i,s){Yv(e,n,i,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,i,s){yI(e,n,i,s)}mount(e){this.isSVGTag=Qv(e.tagName),super.mount(e)}}const S$=(t,e)=>qv(t)?new b$(e,{enableHardwareAcceleration:!1}):new v$(e,{enableHardwareAcceleration:!0}),w$={layout:{ProjectionNode:xj,MeasureLayout:dj}},T$={...YU,...m9,...e$,...w$},cb=Ez((t,e)=>n9(t,e,T$,S$));function Tj(){const t=j.useRef(!1);return zv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function E$(){const t=Tj(),[e,n]=j.useState(0),i=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>It.postRender(i),[i]),e]}class _$ extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function C$({children:t,isPresent:e}){const n=j.useId(),i=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:o,height:u,top:h,left:d}=s.current;if(e||!i.current||!o||!u)return;i.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),j.createElement(_$,{isPresent:e,childRef:i,sizeRef:s},j.cloneElement(t,{ref:i}))}const y0=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u})=>{const h=vI(A$),d=j.useId(),p=j.useMemo(()=>({id:d,initial:e,isPresent:n,custom:s,onExitComplete:g=>{h.set(g,!0);for(const x of h.values())if(!x)return;i&&i()},register:g=>(h.set(g,!1),()=>h.delete(g))}),o?void 0:[n]);return j.useMemo(()=>{h.forEach((g,x)=>h.set(x,!1))},[n]),j.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),u==="popLayout"&&(t=j.createElement(C$,{isPresent:n},t)),j.createElement(Sm.Provider,{value:p},t)};function A$(){return new Map}function I$(t){return j.useEffect(()=>()=>t(),[])}const ro=t=>t.key||"";function j$(t,e){t.forEach(n=>{const i=ro(n);e.set(i,n)})}function R$(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Ej=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:u="sync"})=>{const h=j.useContext(Gv).forceRender||E$()[0],d=Tj(),p=R$(t);let g=p;const x=j.useRef(new Map).current,b=j.useRef(g),S=j.useRef(new Map).current,T=j.useRef(!0);if(zv(()=>{T.current=!1,j$(p,S),b.current=g}),I$(()=>{T.current=!0,S.clear(),x.clear()}),T.current)return j.createElement(j.Fragment,null,g.map(D=>j.createElement(y0,{key:ro(D),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:u},D)));g=[...g];const A=b.current.map(ro),_=p.map(ro),M=A.length;for(let D=0;D<M;D++){const V=A[D];_.indexOf(V)===-1&&!x.has(V)&&x.set(V,void 0)}return u==="wait"&&x.size&&(g=[]),x.forEach((D,V)=>{if(_.indexOf(V)!==-1)return;const $=S.get(V);if(!$)return;const Q=A.indexOf(V);let re=D;if(!re){const R=()=>{x.delete(V);const I=Array.from(S.keys()).filter(k=>!_.includes(k));if(I.forEach(k=>S.delete(k)),b.current=p.filter(k=>{const L=ro(k);return L===V||I.includes(L)}),!x.size){if(d.current===!1)return;h(),i&&i()}};re=j.createElement(y0,{key:ro($),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:o,mode:u},$),x.set(V,re)}g.splice(Q,0,re)}),g=g.map(D=>{const V=D.key;return x.has(V)?D:j.createElement(y0,{key:ro(D),isPresent:!0,presenceAffectsLayout:o,mode:u},D)}),j.createElement(j.Fragment,null,x.size?g:g.map(D=>j.cloneElement(D)))},u_=cb.div,N$=Ej;function D$(){const[t,e]=j.useState(null),[n,i]=j.useState([]),[s,o]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const p=await O8();if(p.success){const g=p.files.map(x=>({id:x.id,name:x.name,size:x.size,type:x.type,access:"Restricted",uploaded:new Date(x.updated).toLocaleDateString(),downloads:0,description:`Secure document: ${x.name}`}));i(g)}}catch(p){console.error("DataRoom Feed Error:",p)}finally{o(!1)}})()},[]);const u=[{id:"financials",title:"Financial Reports",icon:"",color:"blue",type:"Financial Data",files:n.filter(d=>d.name.toLowerCase().includes("invoice")||d.name.toLowerCase().includes("ledger"))},{id:"legal",title:"Legal Documents",icon:"",color:"purple",type:"Compliance & IP",files:n.filter(d=>d.name.toLowerCase().includes("executed")||d.name.toLowerCase().includes("agreement"))},{id:"strategy",title:"Strategic Plans",icon:"",color:"amber",type:"Roadmaps & Growth",files:[]},{id:"investment",title:"Investment Terms",icon:"",color:"emerald",type:"Capital & Equity",files:[]}];n.length>0&&u[1].files.length===0&&u[0].files.length===0&&(u[1].files=n);const h=[{label:"Total Storage",value:"0.04 GB",sub:"92% Available",icon:""},{label:"Total Files",value:n.length.toString(),sub:"4 Categories",icon:""},{label:"Active Shares",value:"142",sub:"24 Secure Links",icon:""},{label:"Audit Events",value:"1.2k",sub:"Last 24 hours",icon:""}];return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"The Data Vault"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Secure repository for sensitive documents and evidence"})]}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold/20 rounded-full inter text-[10px] font-bold text-gold uppercase tracking-widest hover:bg-gold hover:text-navy transition-all duration-300",children:"Secure Upload +"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:h.map((d,p)=>l.jsxs(u_,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 relative group cursor-default",children:[l.jsx("span",{className:"absolute top-4 right-4 text-xl opacity-20 group-hover:opacity-100 transition-opacity duration-500",children:d.icon}),l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsx("div",{className:"flex items-end gap-2",children:l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-widest",children:d.value})}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),s?l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Accessing Cryptographic Vault..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(d=>l.jsx("div",{className:`group relative p-8 rounded-3xl border transition-all duration-500 cursor-pointer ${t===d.id?"bg-gold/10 border-gold shadow-[0_0_30px_rgba(200,169,81,0.1)]":"bg-white/5 border-white/10 hover:border-white/30 hover:bg-white/[0.07]"}`,onClick:()=>e(t===d.id?null:d.id),children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("span",{className:"text-4xl",children:d.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-white tracking-widest font-bold mb-1",children:d.title}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-medium",children:d.type})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("span",{className:"inter text-[10px] text-slate-400 font-bold",children:[d.files.length," DOCUMENTS"]}),l.jsx("span",{className:`text-gold transition-transform duration-300 ${t===d.id?"rotate-90":""}`,children:""})]})]})},d.id))}),l.jsx(N$,{children:t&&l.jsx(u_,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-3xl overflow-hidden bg-black/20 backdrop-blur-3xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h3",{className:"cinzel text-xl text-gold tracking-widest font-bold uppercase",children:u.find(d=>d.id===t)?.title}),l.jsx("div",{className:"flex gap-4",children:l.jsx("input",{type:"text",placeholder:"Filter files...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-2 inter text-xs text-white focus:outline-none focus:border-gold/30"})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.find(d=>d.id===t)?.files.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-white/10 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-black/40 flex items-center justify-center text-xl",children:d.type==="PDF"?"":""}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-semibold text-slate-200",children:d.name}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-tighter mt-1",children:d.description})]})]}),l.jsxs("div",{className:"flex items-center gap-12",children:[l.jsxs("div",{className:"hidden md:block text-right",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Access"}),l.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${d.access==="Public"?"text-emerald bg-emerald/10":d.access==="Restricted"?"text-amber-500 bg-amber-500/10":"text-rose-500 bg-rose-500/10"}`,children:d.access})]}),l.jsxs("div",{className:"hidden md:block text-right w-20",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Size"}),l.jsx("p",{className:"inter text-xs text-slate-300 font-medium",children:d.size})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""}),l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""})]})]})]},d.id)),u.find(d=>d.id===t)?.files.length===0&&l.jsx("div",{className:"p-12 text-center border-2 border-dashed border-white/5 rounded-2xl",children:l.jsx("p",{className:"inter text-[10px] text-slate-600 uppercase tracking-widest",children:"No documents matching this partition"})})]})]})})})]})}const k$=cb.tr;function P$(){const[t,e]=j.useState("ALL"),{data:n,isLoading:i,isError:s}=f8(t),o=n?.logs||[];if(i)return l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Syncing Multi-Region Logs..."})]});if(s)return l.jsxs("div",{className:"neo-glass-panel p-10 border border-rose-500/30 rounded-2xl bg-rose-500/5 text-center",children:[l.jsx("p",{className:"inter text-xs text-rose-500 uppercase tracking-widest font-bold mb-2",children:"Telemetry Sync Failed"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase",children:"Upstream connection timeout or unauthorized access"})]});const u=t==="ALL"?o:o.filter(d=>d.level===t),h=d=>{switch(d){case"SUCCESS":return"text-emerald shadow-[0_0_10px_#10b981]";case"WARNING":return"text-amber-500 shadow-[0_0_10px_#f59e0b]";case"ERROR":return"text-rose-500 shadow-[0_0_10px_#f43f5e]";case"SECURITY":return"text-gold shadow-[0_0_10px_#C8A951]";default:return"text-blue-400 shadow-[0_0_10px_#60a5fa]"}};return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"System telemetry"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Real-time infrastructure audit trail"})]}),l.jsx("div",{className:"flex gap-2 p-1 bg-black/40 border border-white/5 rounded-lg backdrop-blur-md",children:["ALL","SECURITY","WARNING","ERROR"].map(d=>l.jsx("button",{onClick:()=>e(d),className:`px-3 py-1 inter text-[10px] font-bold tracking-widest uppercase rounded transition-all duration-300 ${t===d?"bg-white/10 text-white shadow-inner":"text-slate-500 hover:text-slate-300"}`,children:d},d))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Platform Uptime",value:"99.998%",status:"emerald",sub:"Last 30 days"},{label:"Auth Success",value:"98.2%",status:"emerald",sub:"MFA Verified"},{label:"API Latency",value:"42ms",status:"blue",sub:"Global Average"},{label:"Error Rate",value:"0.04%",status:"amber",sub:"Standard Deviance"}].map((d,p)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 group hover:border-white/20 transition-all duration-500",children:[l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-tighter",children:d.value}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald mb-2 shadow-[0_0_10px_#10b981] animate-pulse"})]}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-2xl overflow-hidden bg-white/5 backdrop-blur-2xl",children:[l.jsxs("div",{className:"bg-black/40 px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[l.jsx("h3",{className:"cinzel text-xs text-slate-300 font-bold tracking-widest uppercase",children:"Live Audit Stream"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Buffer: 50 Records"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Sync: Active"})]})]}),l.jsx("div",{className:"max-h-[500px] overflow-y-auto overflow-x-hidden",children:l.jsxs("table",{className:"w-full inter text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border-b border-white/5",children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Severity"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Module"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Message"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Entity"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:u.map(d=>l.jsxs(k$,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-[11px] font-mono text-slate-500",children:new Date(Number(d.timestamp)).toLocaleTimeString([],{hour12:!1})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`text-[9px] font-bold tracking-widest uppercase px-2 py-0.5 rounded bg-black/20 border border-white/5 ${h(d.level)}`,children:d.level})}),l.jsx("td",{className:"px-6 py-4 text-[11px] font-bold text-slate-300 tracking-tighter",children:d.source}),l.jsx("td",{className:"px-6 py-4 text-xs text-slate-400",children:d.message}),l.jsx("td",{className:"px-6 py-4 text-[10px] text-slate-600 font-medium",children:d.user||"SYSTEM"})]},d.id))})]})})]})]})}const O$=cb.div,M$=Ej;function V$(){const[t,e]=j.useState("overview"),[n,i]=j.useState(""),s=[{id:"overview",title:"Getting Started",content:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"inter text-slate-400 leading-relaxed",children:"Welcome to the SirsiNexus Admin Console documentation. This guide will help you understand and effectively use all features of the admin portal."}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"cinzel text-gold text-lg mb-4 tracking-widest uppercase font-bold",children:"Quick Start"}),l.jsx("ol",{className:"space-y-4",children:["Log in to the admin console with your administrator credentials","Navigate through the sidebar to access different sections","Use Quick Actions for common tasks","Monitor system health from the dashboard","Configure settings as needed for your organization"].map((u,h)=>l.jsxs("li",{className:"flex gap-4 items-start inter text-sm text-slate-300",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gold/10 border border-gold/20 flex items-center justify-center text-gold text-xs font-bold",children:h+1}),l.jsx("span",{className:"mt-1",children:u})]},h))})]})]})},{id:"dashboard",title:"Dashboard Guide",content:l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Platform Overview"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The dashboard provides a real-time overview of your platform's performance, user activity, and system health."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Total Users",desc:"Active user count and growth percentage"},{label:"Revenue",desc:"Monthly revenue tracking and trends"},{label:"Active Sessions",desc:"Real-time user sessions"},{label:"Server Health",desc:"System uptime and performance"}].map((u,h)=>l.jsxs("div",{className:"p-4 rounded-lg bg-black/20 border border-white/5",children:[l.jsx("h4",{className:"inter text-gold text-xs font-bold uppercase tracking-wider mb-1",children:u.label}),l.jsx("p",{className:"inter text-slate-400 text-xs leading-relaxed",children:u.desc})]},h))})]})})},{id:"users",title:"User Management",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Managing Access"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The User Management section allows you to create, edit, and manage user accounts and permissions."}),l.jsx("div",{className:"space-y-4",children:[{title:"User Creation",desc:"Add new users with role assignment"},{title:"Bulk Import",desc:"Import multiple users via CSV"},{title:"Role Mapping",desc:"Define custom roles and permissions"},{title:"Audit Trail",desc:"Monitor user login and actions"}].map((u,h)=>l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-emerald shadow-[0_0_8px_#10b981]"}),l.jsxs("div",{children:[l.jsx("p",{className:"inter text-white text-sm font-medium",children:u.title}),l.jsx("p",{className:"inter text-slate-500 text-xs",children:u.desc})]})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-black/40 border border-white/10 font-mono text-[11px] text-emerald/80 space-y-1",children:[l.jsx("p",{className:"text-slate-500 italic mb-2",children:"// Canonical Role Hierarchy"}),l.jsx("p",{children:"ROLE_ADMIN      = 0xFF; // Full system access"}),l.jsx("p",{children:"ROLE_MANAGER    = 0x40; // Department management"}),l.jsx("p",{children:"ROLE_ANALYST    = 0x20; // Read-only access"}),l.jsx("p",{children:"ROLE_VIEWER     = 0x01; // Limited viewing"})]})]})},{id:"security",title:"Security Engine",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"System Hardening"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Access Control",desc:"IP whitelisting and blacklisting"},{title:"MFA Enforcement",desc:"TOTP, Email, and SMS verification"},{title:"Session Vault",desc:"Encrypted token storage and rotation"},{title:"Audit Records",desc:"Immutable logging of security events"}].map((u,h)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-emerald text-xs",children:""}),l.jsx("span",{className:"inter text-sm font-semibold text-slate-200",children:u.title})]}),l.jsx("p",{className:"inter text-xs text-slate-500 leading-relaxed pl-6",children:u.desc})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-yellow-500/20 bg-yellow-500/5 flex gap-4",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("p",{className:"inter text-xs text-yellow-200/70 leading-relaxed italic",children:[l.jsx("strong",{children:"Critical Directive:"})," Always verify security modifications in isolated staging environments before propagating to production clusters."]})]})]})}],o=s.filter(u=>u.title.toLowerCase().includes(n.toLowerCase())||u.id.toLowerCase().includes(n.toLowerCase()));return l.jsxs("div",{className:"flex flex-col gap-8 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-[0.2em] font-bold",children:"ADMIN DOCUMENTATION"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest font-medium",children:"Standard Operating Procedures and System Reference"})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[l.jsxs("aside",{className:"col-span-3 space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Find feature...",value:n,onChange:u=>i(u.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2.5 inter text-xs text-white focus:outline-none focus:border-gold/30 transition-all pl-10"}),l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""})]}),l.jsx("nav",{className:"flex flex-col gap-1",children:o.map(u=>l.jsxs("button",{onClick:()=>e(u.id),className:`group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 inter text-xs font-semibold tracking-wider uppercase ${t===u.id?"bg-gold/10 text-gold border border-gold/20":"text-slate-500 hover:text-slate-300 hover:bg-white/5 border border-transparent"}`,children:[u.title,l.jsx("span",{className:`transition-transform duration-300 ${t===u.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100"}`,children:""})]},u.id))}),l.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-white/10 space-y-4",children:[l.jsx("h4",{className:"cinzel text-gold text-[10px] font-bold tracking-widest uppercase",children:"Support Forge"}),l.jsx("p",{className:"inter text-[10px] text-slate-400 leading-relaxed",children:"Technical assistance is available 24/7 for critical system failures."}),l.jsx("a",{href:"mailto:support@sirsi.ai",className:"inline-block inter text-[10px] font-bold text-white uppercase tracking-wider hover:text-gold transition-colors",children:"Initialize Signal "})]})]}),l.jsx("main",{className:"col-span-9",children:l.jsx(M$,{mode:"wait",children:l.jsxs(O$,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("div",{className:"h-px flex-1 bg-white/10"}),l.jsx("h3",{className:"cinzel text-xl text-white tracking-[0.3em] font-medium uppercase",children:s.find(u=>u.id===t)?.title}),l.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),s.find(u=>u.id===t)?.content]},t)})})]})]})}function L$(){const[t,e]=j.useState("contracts"),[n,i]=j.useState(()=>kA()),s=AA();j.useEffect(()=>{n&&Xt.currentUser&&s.mutate({developerId:Xt.currentUser.uid,action:"ADMIN_PORTAL_ENTER",metadata:JSON.stringify({userAgent:navigator.userAgent,timestamp:new Date().toISOString(),initialTab:t})})},[n]);const o=[{id:"contracts",label:"Contract Manager",icon:"",category:"Operations"},{id:"tenants",label:"Tenant Registry",icon:"",category:"Operations"},{id:"users",label:"Users & Roles",icon:"",category:"Operations"},{id:"dataroom",label:"Data Room",icon:"",category:"Operations"},{id:"analytics",label:"Intelligence",icon:"",category:"Intelligence"},{id:"revenue",label:"Financials",icon:"",category:"Intelligence"},{id:"invoices",label:"Billing",icon:"",category:"Intelligence"},{id:"developers",label:"Dev Forge",icon:"",category:"Engineering"},{id:"development",label:"System Engineering",icon:"",category:"Engineering"},{id:"logs",label:"System Logs",icon:"",category:"Engineering"},{id:"docs",label:"Documentation",icon:"",category:"Knowledge"},{id:"notifications",label:"Omni-Notify",icon:"",category:"Knowledge"},{id:"settings",label:"System Config",icon:"",category:"Knowledge"},{id:"mfa",label:"Security (MFA)",icon:"",category:"Knowledge"}];return n?l.jsxs("div",{className:"min-h-screen bg-navy text-white flex",children:[l.jsxs("aside",{className:"w-64 border-r border-white/10 flex flex-col backdrop-blur-xl bg-black/20",children:[l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"cinzel text-xl text-gold tracking-widest font-bold",children:"SIRSI ADMIN"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 tracking-[0.2em] font-medium mt-1 uppercase",children:"Permanent Ledger Hub"})]}),l.jsxs("nav",{className:"flex-1 px-4 py-2 flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:"Main"}),l.jsxs("a",{href:"https://sign.sirsi.ai/vault",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 border border-transparent group",children:[l.jsx("span",{className:"text-lg opacity-70 group-hover:opacity-100 transition-opacity",children:""}),"Document Vault"]})]}),["Operations","Intelligence","Engineering","Knowledge"].map(u=>l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:u}),l.jsx("div",{className:"flex flex-col gap-1",children:o.filter(h=>h.category===u).map(h=>l.jsxs("button",{onClick:()=>e(h.id),className:`flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium ${t===h.id?"bg-gold/10 text-gold border border-gold/20 shadow-[0_0_15px_rgba(200,169,81,0.1)]":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg opacity-70",children:h.icon}),h.label]},h.id))})]},u))]}),l.jsx("div",{className:"p-6 border-t border-white/10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald/20 border border-emerald/50 flex items-center justify-center text-[10px] text-emerald font-bold",children:"CC"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-white",children:"Cylton Collymore"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase tracking-tighter",children:"System Architect"})]})]})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[t==="contracts"&&l.jsx(rz,{}),t==="tenants"&&l.jsx(sz,{}),t==="users"&&l.jsx(az,{}),t==="analytics"&&l.jsx(uz,{}),t==="revenue"&&l.jsx(dz,{}),t==="invoices"&&l.jsx(fz,{}),t==="dataroom"&&l.jsx(D$,{}),t==="developers"&&l.jsx(pz,{}),t==="development"&&l.jsx(oz,{}),t==="logs"&&l.jsx(P$,{}),t==="docs"&&l.jsx(V$,{}),t==="notifications"&&l.jsx(lz,{}),t==="settings"&&l.jsx(cz,{}),t==="mfa"&&l.jsx(qA,{onComplete:()=>e("contracts"),onCancel:()=>e("contracts")})]})})]}):l.jsx(Dv,{purpose:"vault",onVerified:()=>i(!0),onCancel:()=>window.location.href="/"})}function d_(){const[t,e]=j.useState(!1),[n,i]=j.useState(""),[s,o]=j.useState(""),[u,h]=j.useState(""),[d,p]=j.useState(!1),[g,x]=j.useState(!0),[b,S]=j.useState(null),T=Lc(),_=Cr().state?.from||"/vault";j.useEffect(()=>{const D=YC(Xt,V=>{V?T("/vault",{replace:!0}):x(!1)});return()=>D()},[T]);const M=async D=>{D.preventDefault(),p(!0),S(null);try{if(t){console.log(` Registering new account for ${s}...`);const V=await f3(Xt,s,u);await g3(V.user,{displayName:n}),console.log(" Registration successful")}else console.log(` Attempting login for ${s}...`),await p3(Xt,s,u),console.log(" Login successful");s.toLowerCase().includes("@sirsi.ai")?localStorage.setItem("sirsi_user_role","provider"):localStorage.setItem("sirsi_user_role","client"),localStorage.setItem("sirsi_user_email",s),T(_)}catch(V){console.error(" Authentication failed:",V),S(V.message||"Authentication failed")}finally{p(!1)}};return g?l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):l.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",opacity:.04,zIndex:5,backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"1200px",height:"1200px",background:"radial-gradient(circle, rgba(30, 58, 138, 0.25) 0%, transparent 70%)",zIndex:1,pointerEvents:"none"}}),l.jsxs("div",{style:{maxWidth:"520px",width:"100%",background:"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(40px)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"32px",padding:"60px 48px 48px 48px",textAlign:"center",boxShadow:"0 60px 120px -30px rgba(0, 0, 0, 0.8), inset 0 0 40px rgba(255, 255, 255, 0.02)",position:"relative",zIndex:10},children:[l.jsx("div",{style:{display:"inline-block",border:"1px solid #C8A951",borderRadius:"100px",padding:"8px 28px",marginBottom:"32px",background:"rgba(200, 169, 81, 0.02)"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"11px",fontWeight:800,letterSpacing:"0.35em",textTransform:"uppercase"},children:"Sirsi Nexus Sign"})}),l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",fontSize:"26px",fontWeight:400,margin:"0",letterSpacing:"0.18em",lineHeight:"1.2",color:"#FFFFFF"},children:"THE PROFESSIONAL"}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"40px",fontWeight:700,color:"#C8A951",margin:"8px 0 0 0",letterSpacing:"0.08em",lineHeight:"1.0"},children:"DOCUMENT VAULT"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.55)",fontSize:"14px",maxWidth:"380px",margin:"20px auto 36px auto",lineHeight:"1.6",fontWeight:300,fontFamily:"'Inter', sans-serif"},children:t?"Create your secure vault to manage contracts and legal documents.":"Access your secure vault to review, execute, and archive master service agreements."}),l.jsx("div",{style:{height:"1px",background:"linear-gradient(to right, transparent, rgba(200, 169, 81, 0.3), transparent)",marginBottom:"32px"}}),l.jsxs("form",{onSubmit:M,style:{display:"flex",flexDirection:"column",gap:"18px"},children:[t&&l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Full Legal Name"}),l.jsx("input",{type:"text",required:!0,value:n,onChange:D=>i(D.target.value),placeholder:"Cylton Collymore",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Authorized Email"}),l.jsx("input",{type:"email",required:!0,value:s,onChange:D=>o(D.target.value),placeholder:"your@email.com",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Password"}),l.jsx("input",{type:"password",required:!0,value:u,onChange:D=>h(D.target.value),placeholder:"",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),b&&l.jsx("p",{style:{color:"#ef4444",fontSize:"12px",textAlign:"left",margin:"0",fontFamily:"'Inter', sans-serif"},children:b}),l.jsx("button",{type:"submit",className:"select-plan-btn",disabled:d,style:{width:"100%",padding:"16px",marginTop:"8px",border:"none",cursor:d?"wait":"pointer",opacity:d?.7:1},children:d?"Processing...":t?"Establish My Vault":"Access Secure Hub"}),l.jsx("button",{type:"button",onClick:()=>{e(!t),S(null)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600,padding:"8px"},children:t?"Already have a vault? Access here":"New identity? Register your vault"}),l.jsxs("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.3)",marginTop:"8px",letterSpacing:"0.05em",fontFamily:"'Inter', sans-serif"},children:["BY ACCESSING THIS VAULT YOU AGREE TO SIRSI SECURITY PROTOCOLS. ",l.jsx("br",{}),"BIPARTITE MFA ENFORCEMENT IS ACTIVE."]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.06)",paddingTop:"32px",marginTop:"16px"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Immutable Audit"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Signed logs"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Smart Metadata"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"AI indexing"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Unified Billing"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Stripe rails"})]})]})]}),l.jsxs("div",{style:{marginTop:"32px",color:"rgba(255, 255, 255, 0.25)",fontSize:"10px",textAlign:"center",maxWidth:"500px",lineHeight:"1.6",zIndex:10,fontFamily:"'Inter', sans-serif"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc. All Rights Reserved. SOC 2 Type II compliant."]})]})}function F$(){const t=Lc(),e=[{name:"Developer",price:"Free",description:"Perfect for individuals and experimenters.",features:["Up to 5 active projects","Community SDK support","Basic AI agent orchestration","Standard CI/CD pipeline","GitHub integration"],buttonText:"Start Building",highlight:!1},{name:"Professional",price:"$99/mo",description:"For growing teams scaling production workloads.",features:["Unlimited active projects","Priority engineer support","Advanced AI memory graphs","Dedicated gRPC endpoints","Comprehensive analytics","99.9% uptime SLA"],buttonText:"Scale Now",highlight:!0},{name:"Enterprise",price:"Custom",description:"Private Sovereign AI infrastructure.",features:["On-premise deployment","Custom LLM training","Dedicated Hardware HSM","Multi-Tenant Vaults","24/7 Concierge Dev-Ops","Unlimited User Access"],buttonText:"Contact Forge",highlight:!1}];return l.jsxs("div",{className:"min-h-screen bg-navy text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-6xl h-[500px] bg-gold/5 blur-[120px] rounded-full pointer-events-none"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h1",{className:"cinzel text-5xl md:text-6xl text-gold tracking-widest mb-6",children:"Forge Your Infrastructure"}),l.jsx("p",{className:"inter text-xl text-slate-400 max-w-3xl mx-auto font-light leading-relaxed",children:"Institutional-grade scaling for the next generation of AI-driven applications. Transparent, predictable, and permanent."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>l.jsxs("div",{className:`neo-glass-panel border ${n.highlight?"border-gold/50 scale-105 shadow-[0_0_50px_rgba(200,169,81,0.15)]":"border-white/10"} rounded-3xl p-10 flex flex-col h-full transition-all hover:translate-y-[-8px]`,children:[n.highlight&&l.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gold text-navy text-[10px] font-bold uppercase tracking-widest px-4 py-1.5 rounded-full",children:"Recommended"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"cinzel text-2xl text-white tracking-wider mb-2",children:n.name}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest mb-6",children:n.description}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"cinzel text-4xl font-bold text-gold",children:n.price}),n.price!=="Custom"&&n.price!=="Free"&&l.jsx("span",{className:"inter text-slate-500 text-xs tracking-tighter",children:"/ monthly"})]})]}),l.jsx("div",{className:"h-px bg-white/5 mb-8"}),l.jsx("ul",{className:"space-y-4 mb-10 flex-grow",children:n.features.map(i=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gold shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),l.jsx("span",{className:"inter text-sm text-slate-300 font-light",children:i})]},i))}),l.jsx("button",{onClick:()=>n.price==="Custom"?t("/contact"):t("/signup",{state:{plan:n.name.toLowerCase()}}),className:`w-full py-4 rounded-xl cinzel text-xs font-bold tracking-[0.2em] uppercase transition-all ${n.highlight?"bg-gold text-navy hover:bg-gold-bright hover:shadow-[0_0_30px_rgba(200,169,81,0.3)]":"bg-white/5 text-white border border-white/10 hover:bg-white/10"}`,children:n.buttonText})]},n.name))}),l.jsxs("div",{className:"mt-40 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"cinzel text-3xl text-gold tracking-widest text-center mb-16",children:"Intelligence Briefing"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"Can I move between tiers?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Seamless migration is built into the Sirsi Nexus core. Upgrade or adjust your resource allocation instantly through the Command Center."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"What about data sovereignty?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Every plan utilizes encrypted Sirsi Vaults. For Enterprise partners, we offer full on-premise knowledge graph synchronization for absolute air-gapped security."})]})]})]})]}),l.jsx("footer",{className:"py-20 text-center opacity-30",children:l.jsxs("p",{className:"inter text-[10px] uppercase tracking-widest",children:[" ",new Date().getFullYear()," Sirsi Technologies  Institutional Grade AI Infrastructure"]})})]})}function pr({children:t}){const[e,n]=j.useState(null),[i,s]=j.useState(!0),o=Cr();return j.useEffect(()=>{const u=YC(Xt,h=>{n(h),s(!1)});return()=>u()},[]),i?l.jsx("div",{style:{minHeight:"100vh",background:"#050816",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):e?l.jsx(l.Fragment,{children:t}):l.jsx(Nl,{to:"/login",state:{from:o},replace:!0})}function B$({baseUrl:t="/policies",newTab:e=!1}){const n=e?{target:"_blank",rel:"noopener noreferrer"}:{},i=[{label:"Privacy",path:"/privacy-policy.html"},{label:"Terms",path:"/terms-of-service.html"},{label:"Security",path:"/security.html"}];return l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:i.map((s,o)=>l.jsxs("span",{children:[l.jsx("a",{href:`${t}${s.path}`,...n,style:{color:"rgba(255,255,255,0.6)",textDecoration:"none",fontSize:"12px",transition:"color 0.2s ease"},onMouseEnter:u=>u.target.style.color="rgba(255,255,255,0.9)",onMouseLeave:u=>u.target.style.color="rgba(255,255,255,0.6)",children:s.label}),o<i.length-1&&l.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",marginLeft:"8px"},children:""})]},s.path))})}function z$({onAcceptAll:t,onRejectAll:e}){return l.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(10, 20, 50, 0.95)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(200, 169, 81, 0.3)",padding:"16px 24px",zIndex:9999,boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)"},children:l.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",lineHeight:"1.5",marginBottom:"16px"},children:['We use cookies to enhance your experience and analyze site usage. By clicking "Accept All", you consent to our use of cookies. Read our'," ",l.jsx("a",{href:"https://sirsi.ai/privacy-policy.html",style:{color:"#C8A951",textDecoration:"underline"},children:"Privacy Policy"})," ","for more information."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"10px 20px",borderRadius:"6px",cursor:"pointer"},children:"Reject All"}),l.jsx("button",{onClick:t,style:{background:"#C8A951",color:"#0A1432",border:"none",padding:"10px 20px",borderRadius:"6px",fontWeight:600,cursor:"pointer"},children:"Accept All"})]})]})})}const x0="sirsi_consent_finalwishes";function U$({children:t}){const[e,n]=j.useState(!1);j.useEffect(()=>{localStorage.getItem(x0)||n(!0)},[]);const i=()=>{localStorage.setItem(x0,JSON.stringify({accepted:!0,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!0,marketing:!0}})),n(!1)},s=()=>{localStorage.setItem(x0,JSON.stringify({accepted:!1,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!1,marketing:!1}})),n(!1)};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[l.jsx("main",{style:{flex:1},children:t}),l.jsx("footer",{style:{padding:"16px 24px",background:"rgba(0, 0, 0, 0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto",flexWrap:"wrap",gap:"16px"},children:[l.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc.. All Rights Reserved."]}),l.jsx(B$,{baseUrl:"https://sirsi.ai",newTab:!0})]})}),e&&l.jsx(z$,{onAcceptAll:i,onRejectAll:s})]})}function H$(){return l.jsx(dk,{children:l.jsx(U$,{children:l.jsxs(zD,{children:[l.jsx(Tn,{path:"/",element:l.jsx(d_,{})}),l.jsx(Tn,{path:"/login",element:l.jsx(d_,{})}),l.jsx(Tn,{path:"/landing",element:l.jsx(Nl,{to:"/",replace:!0})}),l.jsx(Tn,{path:"/pricing",element:l.jsx(F$,{})}),l.jsx(Tn,{path:"/contracts",element:l.jsx(pr,{children:l.jsx(Nl,{to:"/contracts/finalwishes",replace:!0})})}),l.jsx(Tn,{path:"/contracts/:projectId",element:l.jsx(pr,{children:l.jsx(Jy,{})})}),l.jsx(Tn,{path:"/contracts/:projectId/payment/success",element:l.jsx(pr,{children:l.jsx(Jy,{})})}),l.jsx(Tn,{path:"/partnership",element:l.jsx(Nl,{to:"/contracts",replace:!0})}),l.jsx(Tn,{path:"/partnership/*",element:l.jsx(Nl,{to:"/contracts/finalwishes",replace:!0})}),l.jsx(Tn,{path:"/vault",element:l.jsx(pr,{children:l.jsx(id,{})})}),l.jsx(Tn,{path:"/vault/:userId",element:l.jsx(pr,{children:l.jsx(id,{})})}),l.jsx(Tn,{path:"/vault/:userId/:category",element:l.jsx(pr,{children:l.jsx(id,{})})}),l.jsx(Tn,{path:"/vault/:userId/contracts/:entityId/:docId",element:l.jsx(pr,{children:l.jsx(Jy,{})})}),l.jsx(Tn,{path:"/vault/:userId/:category/:entityId",element:l.jsx(pr,{children:l.jsx(id,{})})}),l.jsx(Tn,{path:"/vault/:userId/:category/:entityId/:docId",element:l.jsx(pr,{children:l.jsx(id,{})})}),l.jsx(Tn,{path:"/admin",element:l.jsx(pr,{children:l.jsx(L$,{})})}),l.jsx(Tn,{path:"*",element:l.jsx(Nl,{to:"/",replace:!0})})]})})})}const $$=new DN,G$=kN;lN.createRoot(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(G$,{client:$$,children:l.jsx(H$,{})})}));
