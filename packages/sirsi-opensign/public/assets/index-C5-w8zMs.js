(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}},ld={};var j2;function _k(){if(j2)return ld;j2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:o}}return ld.Fragment=e,ld.jsx=n,ld.jsxs=n,ld}var I2;function Tk(){return I2||(I2=1,ux.exports=_k()),ux.exports}var l=Tk(),dx={exports:{}},ze={};var R2;function Ek(){if(R2)return ze;R2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function S(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function M(H,se,ne){this.props=H,this.context=se,this.refs=T,this.updater=ne||w}M.prototype.isReactComponent={},M.prototype.setState=function(H,se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,se,"setState")},M.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=M.prototype;function k(H,se,ne){this.props=H,this.context=se,this.refs=T,this.updater=ne||w}var B=k.prototype=new O;B.constructor=k,E(B,M.prototype),B.isPureReactComponent=!0;var W=Array.isArray;function K(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(H,se,ne){var he=ne.ref;return{$$typeof:t,type:H,key:se,ref:he!==void 0?he:null,props:ne}}function L(H,se){return R(H.type,se,H.props)}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return se[ne]})}var F=/\/+/g;function le(H,se){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):se.toString(36)}function ve(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(K,K):(H.status="pending",H.then(function(se){H.status==="pending"&&(H.status="fulfilled",H.value=se)},function(se){H.status==="pending"&&(H.status="rejected",H.reason=se)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function P(H,se,ne,he,we){var ye=typeof H;(ye==="undefined"||ye==="boolean")&&(H=null);var De=!1;if(H===null)De=!0;else switch(ye){case"bigint":case"string":case"number":De=!0;break;case"object":switch(H.$$typeof){case t:case e:De=!0;break;case m:return De=H._init,P(De(H._payload),se,ne,he,we)}}if(De)return we=we(H),De=he===""?"."+le(H,0):he,W(we)?(ne="",De!=null&&(ne=De.replace(F,"$&/")+"/"),P(we,se,ne,"",function(Je){return Je})):we!=null&&(z(we)&&(we=L(we,ne+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(F,"$&/")+"/")+De)),se.push(we)),1;De=0;var rt=he===""?".":he+":";if(W(H))for(var lt=0;lt<H.length;lt++)he=H[lt],ye=rt+le(he,lt),De+=P(he,se,ne,ye,we);else if(lt=S(H),typeof lt=="function")for(H=lt.call(H),lt=0;!(he=H.next()).done;)he=he.value,ye=rt+le(he,lt++),De+=P(he,se,ne,ye,we);else if(ye==="object"){if(typeof H.then=="function")return P(ve(H),se,ne,he,we);throw se=String(H),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return De}function G(H,se,ne){if(H==null)return H;var he=[],we=0;return P(H,he,"","",function(ye){return se.call(ne,ye,we++)}),he}function ae(H){if(H._status===-1){var se=H._result;se=se(),se.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=se)}if(H._status===1)return H._result.default;throw H._result}var _e=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},be={map:G,forEach:function(H,se,ne){G(H,function(){se.apply(this,arguments)},ne)},count:function(H){var se=0;return G(H,function(){se++}),se},toArray:function(H){return G(H,function(se){return se})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ze.Activity=x,ze.Children=be,ze.Component=M,ze.Fragment=n,ze.Profiler=r,ze.PureComponent=k,ze.StrictMode=i,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ze.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},ze.cache=function(H){return function(){return H.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(H,se,ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=E({},H.props),we=H.key;if(se!=null)for(ye in se.key!==void 0&&(we=""+se.key),se)!A.call(se,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&se.ref===void 0||(he[ye]=se[ye]);var ye=arguments.length-2;if(ye===1)he.children=ne;else if(1<ye){for(var De=Array(ye),rt=0;rt<ye;rt++)De[rt]=arguments[rt+2];he.children=De}return R(H.type,we,he)},ze.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},ze.createElement=function(H,se,ne){var he,we={},ye=null;if(se!=null)for(he in se.key!==void 0&&(ye=""+se.key),se)A.call(se,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=se[he]);var De=arguments.length-2;if(De===1)we.children=ne;else if(1<De){for(var rt=Array(De),lt=0;lt<De;lt++)rt[lt]=arguments[lt+2];we.children=rt}if(H&&H.defaultProps)for(he in De=H.defaultProps,De)we[he]===void 0&&(we[he]=De[he]);return R(H,ye,we)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(H){return{$$typeof:h,render:H}},ze.isValidElement=z,ze.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ae}},ze.memo=function(H,se){return{$$typeof:p,type:H,compare:se===void 0?null:se}},ze.startTransition=function(H){var se=I.T,ne={};I.T=ne;try{var he=H(),we=I.S;we!==null&&we(ne,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(K,_e)}catch(ye){_e(ye)}finally{se!==null&&ne.types!==null&&(se.types=ne.types),I.T=se}},ze.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ze.use=function(H){return I.H.use(H)},ze.useActionState=function(H,se,ne){return I.H.useActionState(H,se,ne)},ze.useCallback=function(H,se){return I.H.useCallback(H,se)},ze.useContext=function(H){return I.H.useContext(H)},ze.useDebugValue=function(){},ze.useDeferredValue=function(H,se){return I.H.useDeferredValue(H,se)},ze.useEffect=function(H,se){return I.H.useEffect(H,se)},ze.useEffectEvent=function(H){return I.H.useEffectEvent(H)},ze.useId=function(){return I.H.useId()},ze.useImperativeHandle=function(H,se,ne){return I.H.useImperativeHandle(H,se,ne)},ze.useInsertionEffect=function(H,se){return I.H.useInsertionEffect(H,se)},ze.useLayoutEffect=function(H,se){return I.H.useLayoutEffect(H,se)},ze.useMemo=function(H,se){return I.H.useMemo(H,se)},ze.useOptimistic=function(H,se){return I.H.useOptimistic(H,se)},ze.useReducer=function(H,se,ne){return I.H.useReducer(H,se,ne)},ze.useRef=function(H){return I.H.useRef(H)},ze.useState=function(H){return I.H.useState(H)},ze.useSyncExternalStore=function(H,se,ne){return I.H.useSyncExternalStore(H,se,ne)},ze.useTransition=function(){return I.H.useTransition()},ze.version="19.2.3",ze}var N2;function ph(){return N2||(N2=1,dx.exports=Ek()),dx.exports}var D=ph();const vt=wk(D);var hx={exports:{}},cd={},fx={exports:{}},px={};var k2;function Ck(){return k2||(k2=1,(function(t){function e(P,G){var ae=P.length;P.push(G);e:for(;0<ae;){var _e=ae-1>>>1,be=P[_e];if(0<r(be,G))P[_e]=G,P[ae]=be,ae=_e;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var G=P[0],ae=P.pop();if(ae!==G){P[0]=ae;e:for(var _e=0,be=P.length,H=be>>>1;_e<H;){var se=2*(_e+1)-1,ne=P[se],he=se+1,we=P[he];if(0>r(ne,ae))he<be&&0>r(we,ne)?(P[_e]=we,P[he]=ae,_e=he):(P[_e]=ne,P[se]=ae,_e=se);else if(he<be&&0>r(we,ae))P[_e]=we,P[he]=ae,_e=he;else break e}}return G}function r(P,G){var ae=P.sortIndex-G.sortIndex;return ae!==0?ae:P.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],m=1,x=null,v=3,S=!1,w=!1,E=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(P){for(var G=n(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=P)i(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(p)}}function W(P){if(E=!1,B(P),!w)if(n(d)!==null)w=!0,K||(K=!0,U());else{var G=n(p);G!==null&&ve(W,G.startTime-P)}}var K=!1,I=-1,A=5,R=-1;function L(){return T?!0:!(t.unstable_now()-R<A)}function z(){if(T=!1,K){var P=t.unstable_now();R=P;var G=!0;try{e:{w=!1,E&&(E=!1,O(I),I=-1),S=!0;var ae=v;try{t:{for(B(P),x=n(d);x!==null&&!(x.expirationTime>P&&L());){var _e=x.callback;if(typeof _e=="function"){x.callback=null,v=x.priorityLevel;var be=_e(x.expirationTime<=P);if(P=t.unstable_now(),typeof be=="function"){x.callback=be,B(P),G=!0;break t}x===n(d)&&i(d),B(P)}else i(d);x=n(d)}if(x!==null)G=!0;else{var H=n(p);H!==null&&ve(W,H.startTime-P),G=!1}}break e}finally{x=null,v=ae,S=!1}G=void 0}}finally{G?U():K=!1}}}var U;if(typeof k=="function")U=function(){k(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,le=F.port2;F.port1.onmessage=z,U=function(){le.postMessage(null)}}else U=function(){M(z,0)};function ve(P,G){I=M(function(){P(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ae=v;v=G;try{return P()}finally{v=ae}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ae=v;v=P;try{return G()}finally{v=ae}},t.unstable_scheduleCallback=function(P,G,ae){var _e=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?_e+ae:_e):ae=_e,P){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ae+be,P={id:m++,callback:G,priorityLevel:P,startTime:ae,expirationTime:be,sortIndex:-1},ae>_e?(P.sortIndex=ae,e(p,P),n(d)===null&&P===n(p)&&(E?(O(I),I=-1):E=!0,ve(W,ae-_e))):(P.sortIndex=be,e(d,P),w||S||(w=!0,K||(K=!0,U()))),P},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(P){var G=v;return function(){var ae=v;v=G;try{return P.apply(this,arguments)}finally{v=ae}}}})(px)),px}var P2;function Ak(){return P2||(P2=1,fx.exports=Ck()),fx.exports}var mx={exports:{}},Un={};var D2;function jk(){if(D2)return Un;D2=1;var t=ph();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:d,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Un.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,m)},Un.flushSync=function(d){var p=c.T,m=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=m,i.d.f()}},Un.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Un.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Un.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,x=h(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:S}):m==="script"&&i.d.X(d,{crossOrigin:x,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Un.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Un.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=h(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Un.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Un.requestFormReset=function(d){i.d.r(d)},Un.unstable_batchedUpdates=function(d,p){return d(p)},Un.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Un.useFormStatus=function(){return c.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var O2;function IC(){if(O2)return mx.exports;O2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mx.exports=jk(),mx.exports}var M2;function Ik(){if(M2)return cd;M2=1;var t=Ak(),e=ph(),n=IC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function p(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),s;if(b===f)return d(y),a;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var C=!1,N=y.child;N;){if(N===u){C=!0,u=y,f=b;break}if(N===f){C=!0,f=y,u=b;break}N=N.sibling}if(!C){for(N=b.child;N;){if(N===u){C=!0,u=b,f=y;break}if(N===f){C=!0,f=b,u=y;break}N=N.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case k:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}var ve=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},_e=[],be=-1;function H(s){return{current:s}}function se(s){0>be||(s.current=_e[be],_e[be]=null,be--)}function ne(s,a){be++,_e[be]=s.current,s.current=a}var he=H(null),we=H(null),ye=H(null),De=H(null);function rt(s,a){switch(ne(ye,a),ne(we,s),ne(he,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Jw(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Jw(a),s=Xw(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(he),ne(he,s)}function lt(){se(he),se(we),se(ye)}function Je(s){s.memoizedState!==null&&ne(De,s);var a=he.current,u=Xw(a,s.type);a!==u&&(ne(we,s),ne(he,u))}function Rt(s){we.current===s&&(se(he),se(we)),De.current===s&&(se(De),rd._currentValue=ae)}var yn,pi;function jn(s){if(yn===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);yn=a&&a[1]||"",pi=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+s+pi}var Bn=!1;function mi(s,a){if(!s||Bn)return"";Bn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var ee=ie}Reflect.construct(s,[],de)}else{try{de.call()}catch(ie){ee=ie}s.call(de.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],N=b[1];if(C&&N){var $=C.split(`
`),Z=N.split(`
`);for(y=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===$.length||y===Z.length)for(f=$.length-1,y=Z.length-1;1<=f&&0<=y&&$[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if($[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||$[f]!==Z[y]){var ce=`
`+$[f].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=f&&0<=y);break}}}finally{Bn=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?jn(u):""}function ri(s,a){switch(s.tag){case 26:case 27:case 5:return jn(s.type);case 16:return jn("Lazy");case 13:return s.child!==a&&a!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return mi(s.type,!1);case 11:return mi(s.type.render,!1);case 1:return mi(s.type,!0);case 31:return jn("Activity");default:return""}}function oe(s){try{var a="",u=null;do a+=ri(s,u),u=s,s=s.return;while(s);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var xe=Object.prototype.hasOwnProperty,Ee=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,Yn=t.unstable_requestPaint,kt=t.unstable_now,In=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,Ye=t.unstable_UserBlockingPriority,St=t.unstable_NormalPriority,kr=t.unstable_LowPriority,_s=t.unstable_IdlePriority,uu=t.log,Pr=t.unstable_setDisableYieldValue,Dr=null,Lt=null;function si(s){if(typeof uu=="function"&&Pr(s),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Dr,s)}catch{}}var xn=Math.clz32?Math.clz32:Or,Xi=Math.log,Ts=Math.LN2;function Or(s){return s>>>=0,s===0?32:31-(Xi(s)/Ts|0)|0}var ur=256,te=262144,je=4194304;function $e(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ge(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var N=f&134217727;return N!==0?(f=N&~b,f!==0?y=$e(f):(C&=N,C!==0?y=$e(C):u||(u=N&~s,u!==0&&(y=$e(u))))):(N=f&~b,N!==0?y=$e(N):C!==0?y=$e(C):u||(u=f&~s,u!==0&&(y=$e(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function Xe(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Wt(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var s=je;return je<<=1,(je&62914560)===0&&(je=4194304),s}function Mr(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Es(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rn(s,a,u,f,y,b){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var N=s.entanglements,$=s.expirationTimes,Z=s.hiddenUpdates;for(u=C&~u;0<u;){var ce=31-xn(u),de=1<<ce;N[ce]=0,$[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var ie=ee[ce];ie!==null&&(ie.lane&=-536870913)}u&=~de}f!==0&&du(s,f,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~a))}function du(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-xn(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&261930}function Cs(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-xn(u),y=1<<f;y&a|s[f]&a&&(s[f]|=a),u&=~y}}function As(s,a){var u=a&-a;return u=(u&42)!==0?1:hu(u),(u&(s.suspendedLanes|a))!==0?0:u}function hu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Lr(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:S2(s.type))}function kh(s,a){var u=G.p;try{return G.p=s,a()}finally{G.p=u}}var dr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+dr,Nn="__reactProps$"+dr,hr="__reactContainer$"+dr,js="__reactEvents$"+dr,fr="__reactListeners$"+dr,Ph="__reactHandles$"+dr,pu="__reactResources$"+dr,Vr="__reactMarker$"+dr;function Ua(s){delete s[Kt],delete s[Nn],delete s[js],delete s[fr],delete s[Ph]}function Fr(s){var a=s[Kt];if(a)return a;for(var u=s.parentNode;u;){if(a=u[hr]||u[Kt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=s2(s);s!==null;){if(u=s[Kt])return u;s=s2(s)}return a}s=u,u=s.parentNode}return null}function Br(s){if(s=s[Kt]||s[hr]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Ha(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Zi(s){var a=s[pu];return a||(a=s[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function en(s){s[Vr]=!0}var ol=new Set,Is={};function Qn(s,a){pr(s,a),pr(s+"Capture",a)}function pr(s,a){for(Is[s]=a,s=0;s<a.length;s++)ol.add(a[s])}var dg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},gu={};function Dh(s){return xe.call(gu,s)?!0:xe.call(mu,s)?!1:dg.test(s)?gu[s]=!0:(mu[s]=!0,!1)}function Rs(s,a,u){if(Dh(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function Ns(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function Di(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}function Jn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oh(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function hg(s,a,u){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ll(s){if(!s._valueTracker){var a=Oh(s)?"checked":"value";s._valueTracker=hg(s,a,""+s[a])}}function yu(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Oh(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function cl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var zr=/[\n"\\]/g;function Yt(s){return s.replace(zr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ks(s,a,u,f,y,b,C,N){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),a!=null?C==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Jn(a)):s.value!==""+Jn(a)&&(s.value=""+Jn(a)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),a!=null?ul(s,C,Jn(a)):u!=null?ul(s,C,Jn(u)):f!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Jn(N):s.removeAttribute("name")}function $a(s,a,u,f,y,b,C,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){ll(s);return}u=u!=null?""+Jn(u):"",a=a!=null?""+Jn(a):u,N||a===s.value||(s.value=a),s.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=N?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),ll(s)}function ul(s,a,u){a==="number"&&cl(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function ft(s,a,u,f){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Jn(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function Ga(s,a,u){if(a!=null&&(a=""+Jn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Jn(u):""}function Ps(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(ve(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Jn(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f),ll(s)}function Oi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var fg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||fg.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function Mh(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&xu(s,y,f)}else for(var b in a)a.hasOwnProperty(b)&&xu(s,b,a[b])}function vu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(s){return mg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function _n(){}var dl=null;function hl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ur=null,yi=null;function Lh(s){var a=Br(s);if(a&&(s=a.stateNode)){var u=s[Nn]||null;e:switch(s=a.stateNode,a.type){case"input":if(ks(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var y=f[Nn]||null;if(!y)throw Error(i(90));ks(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&yu(f)}break e;case"textarea":Ga(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ft(s,!!u.multiple,a,!1)}}}var bu=!1;function Vh(s,a,u){if(bu)return s(a,u);bu=!0;try{var f=s(a);return f}finally{if(bu=!1,(Ur!==null||yi!==null)&&(Of(),Ur&&(a=Ur,s=yi,yi=Ur=null,Lh(a),s)))for(a=0;a<s.length;a++)Lh(s[a])}}function ai(s,a){var u=s.stateNode;if(u===null)return null;var f=u[Nn]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=!1;if(er)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Su=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Su=!1}var xi=null,fl=null,yr=null;function Ds(){if(yr)return yr;var s,a=fl,u=a.length,f,y="value"in xi?xi.value:xi.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var C=u-s;for(f=1;f<=C&&a[u-f]===y[b-f];f++);return yr=y.slice(s,1<f?1-f:void 0)}function qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Os(){return!0}function Vt(){return!1}function zn(s){function a(u,f,y,b,C){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(u=s[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Os:Vt,this.isPropagationStopped=Vt,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),a}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=zn(Hr),Ms=x({},Hr,{view:0,detail:0}),Fh=zn(Ms),Ls,pl,Xn,Ka=x({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xn&&(Xn&&s.type==="mousemove"?(Ls=s.screenX-Xn.screenX,pl=s.screenY-Xn.screenY):pl=Ls=0,Xn=s),Ls)},movementY:function(s){return"movementY"in s?s.movementY:pl}}),Bh=zn(Ka),Ya=x({},Ka,{dataTransfer:0}),zh=zn(Ya),wu=x({},Ms,{relatedTarget:0}),Vs=zn(wu),Uh=x({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ml=zn(Uh),gg=x({},Hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hh=zn(gg),Qa=x({},Hr,{data:0}),_u=zn(Qa),$h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Eu[s])?!!a[s]:!1}function Fs(){return Gh}var qh=x({},Ms,{key:function(s){if(s.key){var a=$h[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Tu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wh=zn(qh),$r=x({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=zn($r),Kh=x({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Yh=zn(Kh),Qh=x({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gl=zn(Qh),Zn=x({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jh=zn(Zn),Xh=x({},Hr,{newState:0,oldState:0}),Bs=zn(Xh),g=[9,13,27,32],_=er&&"CompositionEvent"in window,j=null;er&&"documentMode"in document&&(j=document.documentMode);var V=er&&"TextEvent"in window&&!j,J=er&&(!_||j&&8<j&&11>=j),re=" ",ge=!1;function xt(s,a){switch(s){case"keyup":return g.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Qe=!1;function Tn(s,a){switch(s){case"compositionend":return ln(a);case"keypress":return a.which!==32?null:(ge=!0,re);case"textInput":return s=a.data,s===re&&ge?null:s;default:return null}}function En(s,a){if(Qe)return s==="compositionend"||!_&&xt(s,a)?(s=Ds(),yr=fl=xi=null,Qe=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return J&&a.locale!=="ko"?null:a.data;default:return null}}var zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oi(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!zs[s.type]:a==="textarea"}function Ja(s,a,u,f){Ur?yi?yi.push(f):yi=[f]:Ur=f,a=Uf(a,"onChange"),0<a.length&&(u=new Wa("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var Gr=null,Au=null;function YR(s){Gw(s,0)}function Zh(s){var a=Ha(s);if(yu(a))return s}function u1(s,a){if(s==="change")return a}var d1=!1;if(er){var yg;if(er){var xg="oninput"in document;if(!xg){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),xg=typeof h1.oninput=="function"}yg=xg}else yg=!1;d1=yg&&(!document.documentMode||9<document.documentMode)}function f1(){Gr&&(Gr.detachEvent("onpropertychange",p1),Au=Gr=null)}function p1(s){if(s.propertyName==="value"&&Zh(Au)){var a=[];Ja(a,Au,s,hl(s)),Vh(YR,a)}}function QR(s,a,u){s==="focusin"?(f1(),Gr=a,Au=u,Gr.attachEvent("onpropertychange",p1)):s==="focusout"&&f1()}function JR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zh(Au)}function XR(s,a){if(s==="click")return Zh(a)}function ZR(s,a){if(s==="input"||s==="change")return Zh(a)}function eN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var vi=typeof Object.is=="function"?Object.is:eN;function ju(s,a){if(vi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!xe.call(a,y)||!vi(s[y],a[y]))return!1}return!0}function m1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function g1(s,a){var u=m1(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=m1(u)}}function y1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?y1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function x1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=cl(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=cl(s.document)}return a}function vg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var tN=er&&"documentMode"in document&&11>=document.documentMode,yl=null,bg=null,Iu=null,Sg=!1;function v1(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sg||yl==null||yl!==cl(f)||(f=yl,"selectionStart"in f&&vg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Iu&&ju(Iu,f)||(Iu=f,f=Uf(bg,"onSelect"),0<f.length&&(a=new Wa("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=yl)))}function Xa(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var xl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},wg={},b1={};er&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Za(s){if(wg[s])return wg[s];if(!xl[s])return s;var a=xl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in b1)return wg[s]=a[u];return s}var S1=Za("animationend"),w1=Za("animationiteration"),_1=Za("animationstart"),nN=Za("transitionrun"),iN=Za("transitionstart"),rN=Za("transitioncancel"),T1=Za("transitionend"),E1=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function tr(s,a){E1.set(s,a),Qn(a,[s])}var ef=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Mi=[],vl=0,Tg=0;function tf(){for(var s=vl,a=Tg=vl=0;a<s;){var u=Mi[a];Mi[a++]=null;var f=Mi[a];Mi[a++]=null;var y=Mi[a];Mi[a++]=null;var b=Mi[a];if(Mi[a++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}b!==0&&C1(u,y,b)}}function nf(s,a,u,f){Mi[vl++]=s,Mi[vl++]=a,Mi[vl++]=u,Mi[vl++]=f,Tg|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Eg(s,a,u,f){return nf(s,a,u,f),rf(s)}function eo(s,a){return nf(s,null,null,a),rf(s)}function C1(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&a!==null&&(y=31-xn(u),s=b.hiddenUpdates,f=s[y],f===null?s[y]=[a]:f.push(a),a.lane=u|536870912),b):null}function rf(s){if(50<Ju)throw Ju=0,Dy=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var bl={};function sN(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(s,a,u,f){return new sN(s,a,u,f)}function Cg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qr(s,a){var u=s.alternate;return u===null?(u=bi(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function A1(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function sf(s,a,u,f,y,b){var C=0;if(f=s,typeof s=="function")Cg(s)&&(C=1);else if(typeof s=="string")C=uk(s,u,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=bi(31,u,a,y),s.elementType=R,s.lanes=b,s;case E:return to(u.children,y,b,a);case T:C=8,y|=24;break;case M:return s=bi(12,u,a,y|2),s.elementType=M,s.lanes=b,s;case W:return s=bi(13,u,a,y),s.elementType=W,s.lanes=b,s;case K:return s=bi(19,u,a,y),s.elementType=K,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:C=10;break e;case O:C=9;break e;case B:C=11;break e;case I:C=14;break e;case A:C=16,f=null;break e}C=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return a=bi(C,u,a,y),a.elementType=s,a.type=f,a.lanes=b,a}function to(s,a,u,f){return s=bi(7,s,f,a),s.lanes=u,s}function Ag(s,a,u){return s=bi(6,s,null,a),s.lanes=u,s}function j1(s){var a=bi(18,null,null,0);return a.stateNode=s,a}function jg(s,a,u){return a=bi(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var I1=new WeakMap;function Li(s,a){if(typeof s=="object"&&s!==null){var u=I1.get(s);return u!==void 0?u:(a={value:s,source:a,stack:oe(a)},I1.set(s,a),a)}return{value:s,source:a,stack:oe(a)}}var Sl=[],wl=0,af=null,Ru=0,Vi=[],Fi=0,Us=null,xr=1,vr="";function Wr(s,a){Sl[wl++]=Ru,Sl[wl++]=af,af=s,Ru=a}function R1(s,a,u){Vi[Fi++]=xr,Vi[Fi++]=vr,Vi[Fi++]=Us,Us=s;var f=xr;s=vr;var y=32-xn(f)-1;f&=~(1<<y),u+=1;var b=32-xn(a)+y;if(30<b){var C=y-y%5;b=(f&(1<<C)-1).toString(32),f>>=C,y-=C,xr=1<<32-xn(a)+y|u<<y|f,vr=b+s}else xr=1<<b|u<<y|f,vr=s}function Ig(s){s.return!==null&&(Wr(s,1),R1(s,1,0))}function Rg(s){for(;s===af;)af=Sl[--wl],Sl[wl]=null,Ru=Sl[--wl],Sl[wl]=null;for(;s===Us;)Us=Vi[--Fi],Vi[Fi]=null,vr=Vi[--Fi],Vi[Fi]=null,xr=Vi[--Fi],Vi[Fi]=null}function N1(s,a){Vi[Fi++]=xr,Vi[Fi++]=vr,Vi[Fi++]=Us,xr=a.id,vr=a.overflow,Us=s}var kn=null,Ft=null,ct=!1,Hs=null,Bi=!1,Ng=Error(i(519));function $s(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nu(Li(a,s)),Ng}function k1(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[Kt]=s,a[Nn]=f,u){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(u=0;u<Zu.length;u++)et(Zu[u],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),$a(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),Ps(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Yw(a.textContent,u)?(f.popover!=null&&(et("beforetoggle",a),et("toggle",a)),f.onScroll!=null&&et("scroll",a),f.onScrollEnd!=null&&et("scrollend",a),f.onClick!=null&&(a.onclick=_n),a=!0):a=!1,a||$s(s,!0)}function P1(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:kn=kn.return}}function _l(s){if(s!==kn)return!1;if(!ct)return P1(s),ct=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Yy(s.type,s.memoizedProps)),u=!u),u&&Ft&&$s(s),P1(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ft=r2(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ft=r2(s)}else a===27?(a=Ft,ra(s.type)?(s=ex,ex=null,Ft=s):Ft=a):Ft=kn?Ui(s.stateNode.nextSibling):null;return!0}function no(){Ft=kn=null,ct=!1}function kg(){var s=Hs;return s!==null&&(di===null?di=s:di.push.apply(di,s),Hs=null),s}function Nu(s){Hs===null?Hs=[s]:Hs.push(s)}var Pg=H(null),io=null,Kr=null;function Gs(s,a,u){ne(Pg,a._currentValue),a._currentValue=u}function Yr(s){s._currentValue=Pg.current,se(Pg)}function Dg(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Og(s,a,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=y;for(var $=0;$<a.length;$++)if(N.context===a[$]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),Dg(b.return,u,s),f||(C=null);break e}b=N.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(i(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),Dg(C,u,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Tl(s,a,u,f){s=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var N=y.type;vi(y.pendingProps.value,C.value)||(s!==null?s.push(N):s=[N])}}else if(y===De.current){if(C=y.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(rd):s=[rd])}y=y.return}s!==null&&Og(a,s,u,f),a.flags|=262144}function of(s){for(s=s.firstContext;s!==null;){if(!vi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ro(s){io=s,Kr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pn(s){return D1(io,s)}function lf(s,a){return io===null&&ro(s),D1(s,a)}function D1(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Kr===null){if(s===null)throw Error(i(308));Kr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Kr=Kr.next=a;return u}var aN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},oN=t.unstable_scheduleCallback,lN=t.unstable_NormalPriority,cn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mg(){return{controller:new aN,data:new Map,refCount:0}}function ku(s){s.refCount--,s.refCount===0&&oN(lN,function(){s.controller.abort()})}var Pu=null,Lg=0,El=0,Cl=null;function cN(s,a){if(Pu===null){var u=Pu=[];Lg=0,El=By(),Cl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Lg++,a.then(O1,O1),a}function O1(){if(--Lg===0&&Pu!==null){Cl!==null&&(Cl.status="fulfilled");var s=Pu;Pu=null,El=0,Cl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function uN(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var M1=P.S;P.S=function(s,a){vw=kt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&cN(s,a),M1!==null&&M1(s,a)};var so=H(null);function Vg(){var s=so.current;return s!==null?s:Pt.pooledCache}function cf(s,a){a===null?ne(so,so.current):ne(so,a.pool)}function L1(){var s=Vg();return s===null?null:{parent:cn._currentValue,pool:s}}var Al=Error(i(460)),Fg=Error(i(474)),uf=Error(i(542)),df={then:function(){}};function V1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function F1(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(_n,_n),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z1(s),s;default:if(typeof a.status=="string")a.then(_n,_n);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,z1(s),s}throw oo=a,Al}}function ao(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(oo=u,Al):u}}var oo=null;function B1(){if(oo===null)throw Error(i(459));var s=oo;return oo=null,s}function z1(s){if(s===Al||s===uf)throw Error(i(483))}var jl=null,Du=0;function hf(s){var a=Du;return Du+=1,jl===null&&(jl=[]),F1(jl,s,a)}function Ou(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ff(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function U1(s){function a(Q,q){if(s){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function u(Q,q){if(!s)return null;for(;q!==null;)a(Q,q),q=q.sibling;return null}function f(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function y(Q,q){return Q=qr(Q,q),Q.index=0,Q.sibling=null,Q}function b(Q,q,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=67108866,q):X):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function C(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,q,X,ue){return q===null||q.tag!==6?(q=Ag(X,Q.mode,ue),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function $(Q,q,X,ue){var Ie=X.type;return Ie===E?ce(Q,q,X.props.children,ue,X.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&ao(Ie)===q.type)?(q=y(q,X.props),Ou(q,X),q.return=Q,q):(q=sf(X.type,X.key,X.props,null,Q.mode,ue),Ou(q,X),q.return=Q,q)}function Z(Q,q,X,ue){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=jg(X,Q.mode,ue),q.return=Q,q):(q=y(q,X.children||[]),q.return=Q,q)}function ce(Q,q,X,ue,Ie){return q===null||q.tag!==7?(q=to(X,Q.mode,ue,Ie),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function de(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Ag(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return X=sf(q.type,q.key,q.props,null,Q.mode,X),Ou(X,q),X.return=Q,X;case w:return q=jg(q,Q.mode,X),q.return=Q,q;case A:return q=ao(q),de(Q,q,X)}if(ve(q)||U(q))return q=to(q,Q.mode,X,null),q.return=Q,q;if(typeof q.then=="function")return de(Q,hf(q),X);if(q.$$typeof===k)return de(Q,lf(Q,q),X);ff(Q,q)}return null}function ee(Q,q,X,ue){var Ie=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:N(Q,q,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Ie?$(Q,q,X,ue):null;case w:return X.key===Ie?Z(Q,q,X,ue):null;case A:return X=ao(X),ee(Q,q,X,ue)}if(ve(X)||U(X))return Ie!==null?null:ce(Q,q,X,ue,null);if(typeof X.then=="function")return ee(Q,q,hf(X),ue);if(X.$$typeof===k)return ee(Q,q,lf(Q,X),ue);ff(Q,X)}return null}function ie(Q,q,X,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(X)||null,N(q,Q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return Q=Q.get(ue.key===null?X:ue.key)||null,$(q,Q,ue,Ie);case w:return Q=Q.get(ue.key===null?X:ue.key)||null,Z(q,Q,ue,Ie);case A:return ue=ao(ue),ie(Q,q,X,ue,Ie)}if(ve(ue)||U(ue))return Q=Q.get(X)||null,ce(q,Q,ue,Ie,null);if(typeof ue.then=="function")return ie(Q,q,X,hf(ue),Ie);if(ue.$$typeof===k)return ie(Q,q,X,lf(q,ue),Ie);ff(q,ue)}return null}function Se(Q,q,X,ue){for(var Ie=null,pt=null,Ae=q,We=q=0,at=null;Ae!==null&&We<X.length;We++){Ae.index>We?(at=Ae,Ae=null):at=Ae.sibling;var mt=ee(Q,Ae,X[We],ue);if(mt===null){Ae===null&&(Ae=at);break}s&&Ae&&mt.alternate===null&&a(Q,Ae),q=b(mt,q,We),pt===null?Ie=mt:pt.sibling=mt,pt=mt,Ae=at}if(We===X.length)return u(Q,Ae),ct&&Wr(Q,We),Ie;if(Ae===null){for(;We<X.length;We++)Ae=de(Q,X[We],ue),Ae!==null&&(q=b(Ae,q,We),pt===null?Ie=Ae:pt.sibling=Ae,pt=Ae);return ct&&Wr(Q,We),Ie}for(Ae=f(Ae);We<X.length;We++)at=ie(Ae,Q,We,X[We],ue),at!==null&&(s&&at.alternate!==null&&Ae.delete(at.key===null?We:at.key),q=b(at,q,We),pt===null?Ie=at:pt.sibling=at,pt=at);return s&&Ae.forEach(function(ca){return a(Q,ca)}),ct&&Wr(Q,We),Ie}function Pe(Q,q,X,ue){if(X==null)throw Error(i(151));for(var Ie=null,pt=null,Ae=q,We=q=0,at=null,mt=X.next();Ae!==null&&!mt.done;We++,mt=X.next()){Ae.index>We?(at=Ae,Ae=null):at=Ae.sibling;var ca=ee(Q,Ae,mt.value,ue);if(ca===null){Ae===null&&(Ae=at);break}s&&Ae&&ca.alternate===null&&a(Q,Ae),q=b(ca,q,We),pt===null?Ie=ca:pt.sibling=ca,pt=ca,Ae=at}if(mt.done)return u(Q,Ae),ct&&Wr(Q,We),Ie;if(Ae===null){for(;!mt.done;We++,mt=X.next())mt=de(Q,mt.value,ue),mt!==null&&(q=b(mt,q,We),pt===null?Ie=mt:pt.sibling=mt,pt=mt);return ct&&Wr(Q,We),Ie}for(Ae=f(Ae);!mt.done;We++,mt=X.next())mt=ie(Ae,Q,We,mt.value,ue),mt!==null&&(s&&mt.alternate!==null&&Ae.delete(mt.key===null?We:mt.key),q=b(mt,q,We),pt===null?Ie=mt:pt.sibling=mt,pt=mt);return s&&Ae.forEach(function(Sk){return a(Q,Sk)}),ct&&Wr(Q,We),Ie}function jt(Q,q,X,ue){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Ie=X.key;q!==null;){if(q.key===Ie){if(Ie=X.type,Ie===E){if(q.tag===7){u(Q,q.sibling),ue=y(q,X.props.children),ue.return=Q,Q=ue;break e}}else if(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&ao(Ie)===q.type){u(Q,q.sibling),ue=y(q,X.props),Ou(ue,X),ue.return=Q,Q=ue;break e}u(Q,q);break}else a(Q,q);q=q.sibling}X.type===E?(ue=to(X.props.children,Q.mode,ue,X.key),ue.return=Q,Q=ue):(ue=sf(X.type,X.key,X.props,null,Q.mode,ue),Ou(ue,X),ue.return=Q,Q=ue)}return C(Q);case w:e:{for(Ie=X.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){u(Q,q.sibling),ue=y(q,X.children||[]),ue.return=Q,Q=ue;break e}else{u(Q,q);break}else a(Q,q);q=q.sibling}ue=jg(X,Q.mode,ue),ue.return=Q,Q=ue}return C(Q);case A:return X=ao(X),jt(Q,q,X,ue)}if(ve(X))return Se(Q,q,X,ue);if(U(X)){if(Ie=U(X),typeof Ie!="function")throw Error(i(150));return X=Ie.call(X),Pe(Q,q,X,ue)}if(typeof X.then=="function")return jt(Q,q,hf(X),ue);if(X.$$typeof===k)return jt(Q,q,lf(Q,X),ue);ff(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(u(Q,q.sibling),ue=y(q,X),ue.return=Q,Q=ue):(u(Q,q),ue=Ag(X,Q.mode,ue),ue.return=Q,Q=ue),C(Q)):u(Q,q)}return function(Q,q,X,ue){try{Du=0;var Ie=jt(Q,q,X,ue);return jl=null,Ie}catch(Ae){if(Ae===Al||Ae===uf)throw Ae;var pt=bi(29,Ae,null,Q.mode);return pt.lanes=ue,pt.return=Q,pt}}}var lo=U1(!0),H1=U1(!1),qs=!1;function Bg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ws(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ks(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(yt&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=rf(s),C1(s,null,u),a}return nf(s,f,a,u),rf(s)}function Mu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Cs(s,u)}}function Ug(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Hg=!1;function Lu(){if(Hg){var s=Cl;if(s!==null)throw s}}function Vu(s,a,u,f){Hg=!1;var y=s.updateQueue;qs=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var $=N,Z=$.next;$.next=null,C===null?b=Z:C.next=Z,C=$;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==C&&(N===null?ce.firstBaseUpdate=Z:N.next=Z,ce.lastBaseUpdate=$))}if(b!==null){var de=y.baseState;C=0,ce=Z=$=null,N=b;do{var ee=N.lane&-536870913,ie=ee!==N.lane;if(ie?(st&ee)===ee:(f&ee)===ee){ee!==0&&ee===El&&(Hg=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Se=s,Pe=N;ee=a;var jt=u;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){de=Se.call(jt,de,ee);break e}de=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,ee=typeof Se=="function"?Se.call(jt,de,ee):Se,ee==null)break e;de=x({},de,ee);break e;case 2:qs=!0}}ee=N.callback,ee!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(Z=ce=ie,$=de):ce=ce.next=ie,C|=ee;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);ce===null&&($=de),y.baseState=$,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,b===null&&(y.shared.lanes=0),Zs|=C,s.lanes=C,s.memoizedState=de}}function $1(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function G1(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)$1(u[s],a)}var Il=H(null),pf=H(0);function q1(s,a){s=rs,ne(pf,s),ne(Il,a),rs=s|a.baseLanes}function $g(){ne(pf,rs),ne(Il,Il.current)}function Gg(){rs=pf.current,se(Il),se(pf)}var Si=H(null),zi=null;function Ys(s){var a=s.alternate;ne(tn,tn.current&1),ne(Si,s),zi===null&&(a===null||Il.current!==null||a.memoizedState!==null)&&(zi=s)}function qg(s){ne(tn,tn.current),ne(Si,s),zi===null&&(zi=s)}function W1(s){s.tag===22?(ne(tn,tn.current),ne(Si,s),zi===null&&(zi=s)):Qs()}function Qs(){ne(tn,tn.current),ne(Si,Si.current)}function wi(s){se(Si),zi===s&&(zi=null),se(tn)}var tn=H(0);function mf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Xy(u)||Zy(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qr=0,qe=null,Ct=null,un=null,gf=!1,Rl=!1,co=!1,yf=0,Fu=0,Nl=null,dN=0;function Qt(){throw Error(i(321))}function Wg(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!vi(s[u],a[u]))return!1;return!0}function Kg(s,a,u,f,y,b){return Qr=b,qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=s===null||s.memoizedState===null?RS:cy,co=!1,b=u(f,y),co=!1,Rl&&(b=Y1(a,u,f,y)),K1(s),b}function K1(s){P.H=Uu;var a=Ct!==null&&Ct.next!==null;if(Qr=0,un=Ct=qe=null,gf=!1,Fu=0,Nl=null,a)throw Error(i(300));s===null||dn||(s=s.dependencies,s!==null&&of(s)&&(dn=!0))}function Y1(s,a,u,f){qe=s;var y=0;do{if(Rl&&(Nl=null),Fu=0,Rl=!1,25<=y)throw Error(i(301));if(y+=1,un=Ct=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}P.H=NS,b=a(u,f)}while(Rl);return b}function hN(){var s=P.H,a=s.useState()[0];return a=typeof a.then=="function"?Bu(a):a,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(qe.flags|=1024),a}function Yg(){var s=yf!==0;return yf=0,s}function Qg(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Jg(s){if(gf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}gf=!1}Qr=0,un=Ct=qe=null,Rl=!1,Fu=yf=0,Nl=null}function ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?qe.memoizedState=un=s:un=un.next=s,un}function nn(){if(Ct===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var a=un===null?qe.memoizedState:un.next;if(a!==null)un=a,Ct=s;else{if(s===null)throw qe.alternate===null?Error(i(467)):Error(i(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},un===null?qe.memoizedState=un=s:un=un.next=s}return un}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(s){var a=Fu;return Fu+=1,Nl===null&&(Nl=[]),s=F1(Nl,s,a),a=qe,(un===null?a.memoizedState:un.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?RS:cy),s}function vf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bu(s);if(s.$$typeof===k)return Pn(s)}throw Error(i(438,String(s)))}function Xg(s){var a=null,u=qe.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=xf(),qe.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=L;return a.index++,u}function Jr(s,a){return typeof a=="function"?a(s):a}function bf(s){var a=nn();return Zg(a,Ct,s)}function Zg(s,a,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=s.baseQueue,b=f.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}a.baseQueue=y=b,f.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{a=y.next;var N=C=null,$=null,Z=a,ce=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(st&de)===de:(Qr&de)===de){var ee=Z.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===El&&(ce=!0);else if((Qr&ee)===ee){Z=Z.next,ee===El&&(ce=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(N=$=de,C=b):$=$.next=de,qe.lanes|=ee,Zs|=ee;de=Z.action,co&&u(b,de),b=Z.hasEagerState?Z.eagerState:u(b,de)}else ee={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(N=$=ee,C=b):$=$.next=ee,qe.lanes|=de,Zs|=de;Z=Z.next}while(Z!==null&&Z!==a);if($===null?C=b:$.next=N,!vi(b,s.memoizedState)&&(dn=!0,ce&&(u=Cl,u!==null)))throw u;s.memoizedState=b,s.baseState=C,s.baseQueue=$,f.lastRenderedState=b}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function ey(s){var a=nn(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);vi(b,a.memoizedState)||(dn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function Q1(s,a,u){var f=qe,y=nn(),b=ct;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var C=!vi((Ct||y).memoizedState,u);if(C&&(y.memoizedState=u,dn=!0),y=y.queue,iy(Z1.bind(null,f,y,s),[s]),y.getSnapshot!==a||C||un!==null&&un.memoizedState.tag&1){if(f.flags|=2048,kl(9,{destroy:void 0},X1.bind(null,f,y,u,a),null),Pt===null)throw Error(i(349));b||(Qr&127)!==0||J1(f,a,u)}return u}function J1(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=qe.updateQueue,a===null?(a=xf(),qe.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function X1(s,a,u,f){a.value=u,a.getSnapshot=f,eS(a)&&tS(s)}function Z1(s,a,u){return u(function(){eS(a)&&tS(s)})}function eS(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!vi(s,u)}catch{return!0}}function tS(s){var a=eo(s,2);a!==null&&hi(a,s,2)}function ty(s){var a=ei();if(typeof s=="function"){var u=s;if(s=u(),co){si(!0);try{u()}finally{si(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:s},a}function nS(s,a,u,f){return s.baseState=u,Zg(s,Ct,typeof f=="function"?f:Jr)}function fN(s,a,u,f,y){if(_f(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};P.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,iS(a,b)):(b.next=u.next,a.pending=u.next=b)}}function iS(s,a){var u=a.action,f=a.payload,y=s.state;if(a.isTransition){var b=P.T,C={};P.T=C;try{var N=u(y,f),$=P.S;$!==null&&$(C,N),rS(s,a,N)}catch(Z){ny(s,a,Z)}finally{b!==null&&C.types!==null&&(b.types=C.types),P.T=b}}else try{b=u(y,f),rS(s,a,b)}catch(Z){ny(s,a,Z)}}function rS(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){sS(s,a,f)},function(f){return ny(s,a,f)}):sS(s,a,u)}function sS(s,a,u){a.status="fulfilled",a.value=u,aS(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,iS(s,u)))}function ny(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,aS(a),a=a.next;while(a!==f)}s.action=null}function aS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function oS(s,a){return a}function lS(s,a){if(ct){var u=Pt.formState;if(u!==null){e:{var f=qe;if(ct){if(Ft){t:{for(var y=Ft,b=Bi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ui(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ft=Ui(y.nextSibling),f=y.data==="F!";break e}}$s(f)}f=!1}f&&(a=u[0])}}return u=ei(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oS,lastRenderedState:a},u.queue=f,u=AS.bind(null,qe,f),f.dispatch=u,f=ty(!1),b=ly.bind(null,qe,!1,f.queue),f=ei(),y={state:a,dispatch:null,action:s,pending:null},f.queue=y,u=fN.bind(null,qe,y,b,u),y.dispatch=u,f.memoizedState=s,[a,u,!1]}function cS(s){var a=nn();return uS(a,Ct,s)}function uS(s,a,u){if(a=Zg(s,a,oS)[0],s=bf(Jr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Bu(a)}catch(C){throw C===Al?uf:C}else f=a;a=nn();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(qe.flags|=2048,kl(9,{destroy:void 0},pN.bind(null,y,u),null)),[f,b,s]}function pN(s,a){s.action=a}function dS(s){var a=nn(),u=Ct;if(u!==null)return uS(a,u,s);nn(),a=a.memoizedState,u=nn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function kl(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=qe.updateQueue,a===null&&(a=xf(),qe.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function hS(){return nn().memoizedState}function Sf(s,a,u,f){var y=ei();qe.flags|=s,y.memoizedState=kl(1|a,{destroy:void 0},u,f===void 0?null:f)}function wf(s,a,u,f){var y=nn();f=f===void 0?null:f;var b=y.memoizedState.inst;Ct!==null&&f!==null&&Wg(f,Ct.memoizedState.deps)?y.memoizedState=kl(a,b,u,f):(qe.flags|=s,y.memoizedState=kl(1|a,b,u,f))}function fS(s,a){Sf(8390656,8,s,a)}function iy(s,a){wf(2048,8,s,a)}function mN(s){qe.flags|=4;var a=qe.updateQueue;if(a===null)a=xf(),qe.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function pS(s){var a=nn().memoizedState;return mN({ref:a,nextImpl:s}),function(){if((yt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function mS(s,a){return wf(4,2,s,a)}function gS(s,a){return wf(4,4,s,a)}function yS(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function xS(s,a,u){u=u!=null?u.concat([s]):null,wf(4,4,yS.bind(null,a,s),u)}function ry(){}function vS(s,a){var u=nn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Wg(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function bS(s,a){var u=nn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Wg(a,f[1]))return f[0];if(f=s(),co){si(!0);try{s()}finally{si(!1)}}return u.memoizedState=[f,a],f}function sy(s,a,u){return u===void 0||(Qr&1073741824)!==0&&(st&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=Sw(),qe.lanes|=s,Zs|=s,u)}function SS(s,a,u,f){return vi(u,a)?u:Il.current!==null?(s=sy(s,u,f),vi(s,a)||(dn=!0),s):(Qr&42)===0||(Qr&1073741824)!==0&&(st&261930)===0?(dn=!0,s.memoizedState=u):(s=Sw(),qe.lanes|=s,Zs|=s,a)}function wS(s,a,u,f,y){var b=G.p;G.p=b!==0&&8>b?b:8;var C=P.T,N={};P.T=N,ly(s,!1,a,u);try{var $=y(),Z=P.S;if(Z!==null&&Z(N,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=uN($,f);zu(s,a,ce,Ei(s))}else zu(s,a,f,Ei(s))}catch(de){zu(s,a,{then:function(){},status:"rejected",reason:de},Ei())}finally{G.p=b,C!==null&&N.types!==null&&(C.types=N.types),P.T=C}}function gN(){}function ay(s,a,u,f){if(s.tag!==5)throw Error(i(476));var y=_S(s).queue;wS(s,y,a,ae,u===null?gN:function(){return TS(s),u(f)})}function _S(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:ae},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function TS(s){var a=_S(s);a.next===null&&(a=s.alternate.memoizedState),zu(s,a.next.queue,{},Ei())}function oy(){return Pn(rd)}function ES(){return nn().memoizedState}function CS(){return nn().memoizedState}function yN(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ei();s=Ws(u);var f=Ks(a,s,u);f!==null&&(hi(f,a,u),Mu(f,a,u)),a={cache:Mg()},s.payload=a;return}a=a.return}}function xN(s,a,u){var f=Ei();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_f(s)?jS(a,u):(u=Eg(s,a,u,f),u!==null&&(hi(u,s,f),IS(u,a,f)))}function AS(s,a,u){var f=Ei();zu(s,a,u,f)}function zu(s,a,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(_f(s))jS(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,N=b(C,u);if(y.hasEagerState=!0,y.eagerState=N,vi(N,C))return nf(s,a,y,0),Pt===null&&tf(),!1}catch{}if(u=Eg(s,a,y,f),u!==null)return hi(u,s,f),IS(u,a,f),!0}return!1}function ly(s,a,u,f){if(f={lane:2,revertLane:By(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},_f(s)){if(a)throw Error(i(479))}else a=Eg(s,u,f,2),a!==null&&hi(a,s,2)}function _f(s){var a=s.alternate;return s===qe||a!==null&&a===qe}function jS(s,a){Rl=gf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function IS(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Cs(s,u)}}var Uu={readContext:Pn,use:vf,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Uu.useEffectEvent=Qt;var RS={readContext:Pn,use:vf,useCallback:function(s,a){return ei().memoizedState=[s,a===void 0?null:a],s},useContext:Pn,useEffect:fS,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Sf(4194308,4,yS.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Sf(4194308,4,s,a)},useInsertionEffect:function(s,a){Sf(4,2,s,a)},useMemo:function(s,a){var u=ei();a=a===void 0?null:a;var f=s();if(co){si(!0);try{s()}finally{si(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=ei();if(u!==void 0){var y=u(a);if(co){si(!0);try{u(a)}finally{si(!1)}}}else y=a;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=xN.bind(null,qe,s),[f.memoizedState,s]},useRef:function(s){var a=ei();return s={current:s},a.memoizedState=s},useState:function(s){s=ty(s);var a=s.queue,u=AS.bind(null,qe,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:ry,useDeferredValue:function(s,a){var u=ei();return sy(u,s,a)},useTransition:function(){var s=ty(!1);return s=wS.bind(null,qe,s.queue,!0,!1),ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=qe,y=ei();if(ct){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),Pt===null)throw Error(i(349));(st&127)!==0||J1(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,fS(Z1.bind(null,f,b,s),[s]),f.flags|=2048,kl(9,{destroy:void 0},X1.bind(null,f,b,u,a),null),u},useId:function(){var s=ei(),a=Pt.identifierPrefix;if(ct){var u=vr,f=xr;u=(f&~(1<<32-xn(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=yf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=dN++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:oy,useFormState:lS,useActionState:lS,useOptimistic:function(s){var a=ei();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=ly.bind(null,qe,!0,u),u.dispatch=a,[s,a]},useMemoCache:Xg,useCacheRefresh:function(){return ei().memoizedState=yN.bind(null,qe)},useEffectEvent:function(s){var a=ei(),u={impl:s};return a.memoizedState=u,function(){if((yt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},cy={readContext:Pn,use:vf,useCallback:vS,useContext:Pn,useEffect:iy,useImperativeHandle:xS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:bS,useReducer:bf,useRef:hS,useState:function(){return bf(Jr)},useDebugValue:ry,useDeferredValue:function(s,a){var u=nn();return SS(u,Ct.memoizedState,s,a)},useTransition:function(){var s=bf(Jr)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Bu(s),a]},useSyncExternalStore:Q1,useId:ES,useHostTransitionStatus:oy,useFormState:cS,useActionState:cS,useOptimistic:function(s,a){var u=nn();return nS(u,Ct,s,a)},useMemoCache:Xg,useCacheRefresh:CS};cy.useEffectEvent=pS;var NS={readContext:Pn,use:vf,useCallback:vS,useContext:Pn,useEffect:iy,useImperativeHandle:xS,useInsertionEffect:mS,useLayoutEffect:gS,useMemo:bS,useReducer:ey,useRef:hS,useState:function(){return ey(Jr)},useDebugValue:ry,useDeferredValue:function(s,a){var u=nn();return Ct===null?sy(u,s,a):SS(u,Ct.memoizedState,s,a)},useTransition:function(){var s=ey(Jr)[0],a=nn().memoizedState;return[typeof s=="boolean"?s:Bu(s),a]},useSyncExternalStore:Q1,useId:ES,useHostTransitionStatus:oy,useFormState:dS,useActionState:dS,useOptimistic:function(s,a){var u=nn();return Ct!==null?nS(u,Ct,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Xg,useCacheRefresh:CS};NS.useEffectEvent=pS;function uy(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:x({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var dy={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Ei(),y=Ws(f);y.payload=a,u!=null&&(y.callback=u),a=Ks(s,y,f),a!==null&&(hi(a,s,f),Mu(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Ei(),y=Ws(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Ks(s,y,f),a!==null&&(hi(a,s,f),Mu(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Ei(),f=Ws(u);f.tag=2,a!=null&&(f.callback=a),a=Ks(s,f,u),a!==null&&(hi(a,s,u),Mu(a,s,u))}};function kS(s,a,u,f,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,C):a.prototype&&a.prototype.isPureReactComponent?!ju(u,f)||!ju(y,b):!0}function PS(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&dy.enqueueReplaceState(a,a.state,null)}function uo(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=x({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function DS(s){ef(s)}function OS(s){console.error(s)}function MS(s){ef(s)}function Tf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function LS(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function hy(s,a,u){return u=Ws(u),u.tag=3,u.payload={element:null},u.callback=function(){Tf(s,a)},u}function VS(s){return s=Ws(s),s.tag=3,s}function FS(s,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;s.payload=function(){return y(b)},s.callback=function(){LS(a,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){LS(a,u,f),typeof y!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function vN(s,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Tl(a,u,y,!0),u=Si.current,u!==null){switch(u.tag){case 31:case 13:return zi===null?Mf():u.alternate===null&&Jt===0&&(Jt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===df?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Ly(s,f,y)),!1;case 22:return u.flags|=65536,f===df?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Ly(s,f,y)),!1}throw Error(i(435,u.tag))}return Ly(s,f,y),Mf(),!1}if(ct)return a=Si.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Ng&&(s=Error(i(422),{cause:f}),Nu(Li(s,u)))):(f!==Ng&&(a=Error(i(423),{cause:f}),Nu(Li(a,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=Li(f,u),y=hy(s.stateNode,f,y),Ug(s,y),Jt!==4&&(Jt=2)),!1;var b=Error(i(520),{cause:f});if(b=Li(b,u),Qu===null?Qu=[b]:Qu.push(b),Jt!==4&&(Jt=2),a===null)return!0;f=Li(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=hy(u.stateNode,f,s),Ug(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ea===null||!ea.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=VS(y),FS(y,s,u,f),Ug(u,y),!1}u=u.return}while(u!==null);return!1}var fy=Error(i(461)),dn=!1;function Dn(s,a,u,f){a.child=s===null?H1(a,null,u,f):lo(a,s.child,u,f)}function BS(s,a,u,f,y){u=u.render;var b=a.ref;if("ref"in f){var C={};for(var N in f)N!=="ref"&&(C[N]=f[N])}else C=f;return ro(a),f=Kg(s,a,u,C,b,y),N=Yg(),s!==null&&!dn?(Qg(s,a,y),Xr(s,a,y)):(ct&&N&&Ig(a),a.flags|=1,Dn(s,a,f,y),a.child)}function zS(s,a,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!Cg(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,US(s,a,b,f,y)):(s=sf(u.type,null,f,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Sy(s,y)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:ju,u(C,f)&&s.ref===a.ref)return Xr(s,a,y)}return a.flags|=1,s=qr(b,f),s.ref=a.ref,s.return=a,a.child=s}function US(s,a,u,f,y){if(s!==null){var b=s.memoizedProps;if(ju(b,f)&&s.ref===a.ref)if(dn=!1,a.pendingProps=f=b,Sy(s,y))(s.flags&131072)!==0&&(dn=!0);else return a.lanes=s.lanes,Xr(s,a,y)}return py(s,a,u,f,y)}function HS(s,a,u,f){var y=f.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(f=a.child=s.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,a.child=null;return $S(s,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&cf(a,b!==null?b.cachePool:null),b!==null?q1(a,b):$g(),W1(a);else return f=a.lanes=536870912,$S(s,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(cf(a,b.cachePool),q1(a,b),Qs(),a.memoizedState=null):(s!==null&&cf(a,null),$g(),Qs());return Dn(s,a,y,u),a.child}function Hu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $S(s,a,u,f,y){var b=Vg();return b=b===null?null:{parent:cn._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},s!==null&&cf(a,null),$g(),W1(a),s!==null&&Tl(s,a,f,!0),a.childLanes=y,null}function Ef(s,a){return a=Af({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function GS(s,a,u){return lo(a,s.child,null,u),s=Ef(a,a.pendingProps),s.flags|=2,wi(a),a.memoizedState=null,s}function bN(s,a,u){var f=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(ct){if(f.mode==="hidden")return s=Ef(a,f),a.lanes=536870912,Hu(null,s);if(qg(a),(s=Ft)?(s=i2(s,Bi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Us!==null?{id:xr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},u=j1(s),u.return=a,a.child=u,kn=a,Ft=null)):s=null,s===null)throw $s(a);return a.lanes=536870912,null}return Ef(a,f)}var b=s.memoizedState;if(b!==null){var C=b.dehydrated;if(qg(a),y)if(a.flags&256)a.flags&=-257,a=GS(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(dn||Tl(s,a,u,!1),y=(u&s.childLanes)!==0,dn||y){if(f=Pt,f!==null&&(C=As(f,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,eo(s,C),hi(f,s,C),fy;Mf(),a=GS(s,a,u)}else s=b.treeContext,Ft=Ui(C.nextSibling),kn=a,ct=!0,Hs=null,Bi=!1,s!==null&&N1(a,s),a=Ef(a,f),a.flags|=4096;return a}return s=qr(s.child,{mode:f.mode,children:f.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Cf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function py(s,a,u,f,y){return ro(a),u=Kg(s,a,u,f,void 0,y),f=Yg(),s!==null&&!dn?(Qg(s,a,y),Xr(s,a,y)):(ct&&f&&Ig(a),a.flags|=1,Dn(s,a,u,y),a.child)}function qS(s,a,u,f,y,b){return ro(a),a.updateQueue=null,u=Y1(a,f,u,y),K1(s),f=Yg(),s!==null&&!dn?(Qg(s,a,b),Xr(s,a,b)):(ct&&f&&Ig(a),a.flags|=1,Dn(s,a,u,b),a.child)}function WS(s,a,u,f,y){if(ro(a),a.stateNode===null){var b=bl,C=u.contextType;typeof C=="object"&&C!==null&&(b=Pn(C)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dy,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Bg(a),C=u.contextType,b.context=typeof C=="object"&&C!==null?Pn(C):bl,b.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(uy(a,u,C,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&dy.enqueueReplaceState(b,b.state,null),Vu(a,f,b,y),Lu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){b=a.stateNode;var N=a.memoizedProps,$=uo(u,N);b.props=$;var Z=b.context,ce=u.contextType;C=bl,typeof ce=="object"&&ce!==null&&(C=Pn(ce));var de=u.getDerivedStateFromProps;ce=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||Z!==C)&&PS(a,b,f,C),qs=!1;var ee=a.memoizedState;b.state=ee,Vu(a,f,b,y),Lu(),Z=a.memoizedState,N||ee!==Z||qs?(typeof de=="function"&&(uy(a,u,de,f),Z=a.memoizedState),($=qs||kS(a,u,$,f,ee,Z,C))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=Z),b.props=f,b.state=Z,b.context=C,f=$):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,zg(s,a),C=a.memoizedProps,ce=uo(u,C),b.props=ce,de=a.pendingProps,ee=b.context,Z=u.contextType,$=bl,typeof Z=="object"&&Z!==null&&($=Pn(Z)),N=u.getDerivedStateFromProps,(Z=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==de||ee!==$)&&PS(a,b,f,$),qs=!1,ee=a.memoizedState,b.state=ee,Vu(a,f,b,y),Lu();var ie=a.memoizedState;C!==de||ee!==ie||qs||s!==null&&s.dependencies!==null&&of(s.dependencies)?(typeof N=="function"&&(uy(a,u,N,f),ie=a.memoizedState),(ce=qs||kS(a,u,ce,f,ee,ie,$)||s!==null&&s.dependencies!==null&&of(s.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ie,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ie,$)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ie),b.props=f,b.state=ie,b.context=$,f=ce):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),f=!1)}return b=f,Cf(s,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&f?(a.child=lo(a,s.child,null,y),a.child=lo(a,null,u,y)):Dn(s,a,u,y),a.memoizedState=b.state,s=a.child):s=Xr(s,a,y),s}function KS(s,a,u,f){return no(),a.flags|=256,Dn(s,a,u,f),a.child}var my={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gy(s){return{baseLanes:s,cachePool:L1()}}function yy(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Ti),s}function YS(s,a,u){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(tn.current&2)!==0),C&&(y=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,s===null){if(ct){if(y?Ys(a):Qs(),(s=Ft)?(s=i2(s,Bi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Us!==null?{id:xr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},u=j1(s),u.return=a,a.child=u,kn=a,Ft=null)):s=null,s===null)throw $s(a);return Zy(s)?a.lanes=32:a.lanes=536870912,null}var N=f.children;return f=f.fallback,y?(Qs(),y=a.mode,N=Af({mode:"hidden",children:N},y),f=to(f,y,u,null),N.return=a,f.return=a,N.sibling=f,a.child=N,f=a.child,f.memoizedState=gy(u),f.childLanes=yy(s,C,u),a.memoizedState=my,Hu(null,f)):(Ys(a),xy(a,N))}var $=s.memoizedState;if($!==null&&(N=$.dehydrated,N!==null)){if(b)a.flags&256?(Ys(a),a.flags&=-257,a=vy(s,a,u)):a.memoizedState!==null?(Qs(),a.child=s.child,a.flags|=128,a=null):(Qs(),N=f.fallback,y=a.mode,f=Af({mode:"visible",children:f.children},y),N=to(N,y,u,null),N.flags|=2,f.return=a,N.return=a,f.sibling=N,a.child=f,lo(a,s.child,null,u),f=a.child,f.memoizedState=gy(u),f.childLanes=yy(s,C,u),a.memoizedState=my,a=Hu(null,f));else if(Ys(a),Zy(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var Z=C.dgst;C=Z,f=Error(i(419)),f.stack="",f.digest=C,Nu({value:f,source:null,stack:null}),a=vy(s,a,u)}else if(dn||Tl(s,a,u,!1),C=(u&s.childLanes)!==0,dn||C){if(C=Pt,C!==null&&(f=As(C,u),f!==0&&f!==$.retryLane))throw $.retryLane=f,eo(s,f),hi(C,s,f),fy;Xy(N)||Mf(),a=vy(s,a,u)}else Xy(N)?(a.flags|=192,a.child=s.child,a=null):(s=$.treeContext,Ft=Ui(N.nextSibling),kn=a,ct=!0,Hs=null,Bi=!1,s!==null&&N1(a,s),a=xy(a,f.children),a.flags|=4096);return a}return y?(Qs(),N=f.fallback,y=a.mode,$=s.child,Z=$.sibling,f=qr($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,Z!==null?N=qr(Z,N):(N=to(N,y,u,null),N.flags|=2),N.return=a,f.return=a,f.sibling=N,a.child=f,Hu(null,f),f=a.child,N=s.child.memoizedState,N===null?N=gy(u):(y=N.cachePool,y!==null?($=cn._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=L1(),N={baseLanes:N.baseLanes|u,cachePool:y}),f.memoizedState=N,f.childLanes=yy(s,C,u),a.memoizedState=my,Hu(s.child,f)):(Ys(a),u=s.child,s=u.sibling,u=qr(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(C=a.deletions,C===null?(a.deletions=[s],a.flags|=16):C.push(s)),a.child=u,a.memoizedState=null,u)}function xy(s,a){return a=Af({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Af(s,a){return s=bi(22,s,null,a),s.lanes=0,s}function vy(s,a,u){return lo(a,s.child,null,u),s=xy(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function QS(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Dg(s.return,a,u)}function by(s,a,u,f,y,b){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=u,C.tailMode=y,C.treeForkCount=b)}function JS(s,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var C=tn.current,N=(C&2)!==0;if(N?(C=C&1|2,a.flags|=128):C&=1,ne(tn,C),Dn(s,a,f,u),f=ct?Ru:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&QS(s,u,a);else if(s.tag===19)QS(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&mf(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),by(a,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&mf(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}by(a,!0,u,null,b,f);break;case"together":by(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function Xr(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Zs|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Tl(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=qr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=qr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Sy(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&of(s)))}function SN(s,a,u){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),Gs(a,cn,s.memoizedState.cache),no();break;case 27:case 5:Je(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:Gs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,qg(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Ys(a),a.flags|=128,null):(u&a.child.childLanes)!==0?YS(s,a,u):(Ys(a),s=Xr(s,a,u),s!==null?s.sibling:null);Ys(a);break;case 19:var y=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Tl(s,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return JS(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ne(tn,tn.current),f)break;return null;case 22:return a.lanes=0,HS(s,a,u,a.pendingProps);case 24:Gs(a,cn,s.memoizedState.cache)}return Xr(s,a,u)}function XS(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)dn=!0;else{if(!Sy(s,u)&&(a.flags&128)===0)return dn=!1,SN(s,a,u);dn=(s.flags&131072)!==0}else dn=!1,ct&&(a.flags&1048576)!==0&&R1(a,Ru,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(s=ao(a.elementType),a.type=s,typeof s=="function")Cg(s)?(f=uo(s,f),a.tag=1,a=WS(null,a,s,f,u)):(a.tag=0,a=py(null,a,s,f,u));else{if(s!=null){var y=s.$$typeof;if(y===B){a.tag=11,a=BS(null,a,s,f,u);break e}else if(y===I){a.tag=14,a=zS(null,a,s,f,u);break e}}throw a=le(s)||s,Error(i(306,a,""))}}return a;case 0:return py(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=uo(f,a.pendingProps),WS(s,a,f,y,u);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,zg(s,a),Vu(a,f,null,u);var C=a.memoizedState;if(f=C.cache,Gs(a,cn,f),f!==b.cache&&Og(a,[cn],u,!0),Lu(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=KS(s,a,f,u);break e}else if(f!==y){y=Li(Error(i(424)),a),Nu(y),a=KS(s,a,f,u);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ft=Ui(s.firstChild),kn=a,ct=!0,Hs=null,Bi=!0,u=H1(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(no(),f===y){a=Xr(s,a,u);break e}Dn(s,a,f,u)}a=a.child}return a;case 26:return Cf(s,a),s===null?(u=c2(a.type,null,a.pendingProps,null))?a.memoizedState=u:ct||(u=a.type,s=a.pendingProps,f=Hf(ye.current).createElement(u),f[Kt]=a,f[Nn]=s,On(f,u,s),en(f),a.stateNode=f):a.memoizedState=c2(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Je(a),s===null&&ct&&(f=a.stateNode=a2(a.type,a.pendingProps,ye.current),kn=a,Bi=!0,y=Ft,ra(a.type)?(ex=y,Ft=Ui(f.firstChild)):Ft=y),Dn(s,a,a.pendingProps.children,u),Cf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ct&&((y=f=Ft)&&(f=JN(f,a.type,a.pendingProps,Bi),f!==null?(a.stateNode=f,kn=a,Ft=Ui(f.firstChild),Bi=!1,y=!0):y=!1),y||$s(a)),Je(a),y=a.type,b=a.pendingProps,C=s!==null?s.memoizedProps:null,f=b.children,Yy(y,b)?f=null:C!==null&&Yy(y,C)&&(a.flags|=32),a.memoizedState!==null&&(y=Kg(s,a,hN,null,null,u),rd._currentValue=y),Cf(s,a),Dn(s,a,f,u),a.child;case 6:return s===null&&ct&&((s=u=Ft)&&(u=XN(u,a.pendingProps,Bi),u!==null?(a.stateNode=u,kn=a,Ft=null,s=!0):s=!1),s||$s(a)),null;case 13:return YS(s,a,u);case 4:return rt(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=lo(a,null,f,u):Dn(s,a,f,u),a.child;case 11:return BS(s,a,a.type,a.pendingProps,u);case 7:return Dn(s,a,a.pendingProps,u),a.child;case 8:return Dn(s,a,a.pendingProps.children,u),a.child;case 12:return Dn(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Gs(a,a.type,f.value),Dn(s,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,ro(a),y=Pn(y),f=f(y),a.flags|=1,Dn(s,a,f,u),a.child;case 14:return zS(s,a,a.type,a.pendingProps,u);case 15:return US(s,a,a.type,a.pendingProps,u);case 19:return JS(s,a,u);case 31:return bN(s,a,u);case 22:return HS(s,a,u,a.pendingProps);case 24:return ro(a),f=Pn(cn),s===null?(y=Vg(),y===null&&(y=Pt,b=Mg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:f,cache:y},Bg(a),Gs(a,cn,y)):((s.lanes&u)!==0&&(zg(s,a),Vu(a,null,null,u),Lu()),y=s.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Gs(a,cn,f)):(f=b.cache,Gs(a,cn,f),f!==y.cache&&Og(a,[cn],u,!0))),Dn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Zr(s){s.flags|=4}function wy(s,a,u,f,y){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(Ew())s.flags|=8192;else throw oo=df,Fg}else s.flags&=-16777217}function ZS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!p2(a))if(Ew())s.flags|=8192;else throw oo=df,Fg}function jf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?gi():536870912,s.lanes|=a,Ml|=a)}function $u(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Bt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function wN(s,a,u){var f=a.pendingProps;switch(Rg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(a),null;case 1:return Bt(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Yr(cn),lt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(_l(a)?Zr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,kg())),Bt(a),null;case 26:var y=a.type,b=a.memoizedState;return s===null?(Zr(a),b!==null?(Bt(a),ZS(a,b)):(Bt(a),wy(a,y,null,f,u))):b?b!==s.memoizedState?(Zr(a),Bt(a),ZS(a,b)):(Bt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==f&&Zr(a),Bt(a),wy(a,y,s,f,u)),null;case 27:if(Rt(a),u=ye.current,y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Zr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Bt(a),null}s=he.current,_l(a)?k1(a):(s=a2(y,f,u),a.stateNode=s,Zr(a))}return Bt(a),null;case 5:if(Rt(a),y=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Zr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Bt(a),null}if(b=he.current,_l(a))k1(a);else{var C=Hf(ye.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?C.createElement(y,{is:f.is}):C.createElement(y)}}b[Kt]=a,b[Nn]=f;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=b;e:switch(On(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Zr(a)}}return Bt(a),wy(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&Zr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(s=ye.current,_l(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,y=kn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[Kt]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Yw(s.nodeValue,u)),s||$s(a,!0)}else s=Hf(s).createTextNode(f),s[Kt]=a,a.stateNode=s}return Bt(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(f=_l(a),u!==null){if(s===null){if(!f)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Kt]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Bt(a),s=!1}else u=kg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(wi(a),a):(wi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Bt(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=_l(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Kt]=a}else no(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Bt(a),y=!1}else y=kg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(wi(a),a):(wi(a),null)}return wi(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,s=s!==null&&s.memoizedState!==null,u&&(f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),jf(a,a.updateQueue),Bt(a),null);case 4:return lt(),s===null&&$y(a.stateNode.containerInfo),Bt(a),null;case 10:return Yr(a.type),Bt(a),null;case 19:if(se(tn),f=a.memoizedState,f===null)return Bt(a),null;if(y=(a.flags&128)!==0,b=f.rendering,b===null)if(y)$u(f,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=mf(s),b!==null){for(a.flags|=128,$u(f,!1),s=b.updateQueue,a.updateQueue=s,jf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)A1(u,s),u=u.sibling;return ne(tn,tn.current&1|2),ct&&Wr(a,f.treeForkCount),a.child}s=s.sibling}f.tail!==null&&kt()>Pf&&(a.flags|=128,y=!0,$u(f,!1),a.lanes=4194304)}else{if(!y)if(s=mf(b),s!==null){if(a.flags|=128,y=!0,s=s.updateQueue,a.updateQueue=s,jf(a,s),$u(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!ct)return Bt(a),null}else 2*kt()-f.renderingStartTime>Pf&&u!==536870912&&(a.flags|=128,y=!0,$u(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(s=f.last,s!==null?s.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=kt(),s.sibling=null,u=tn.current,ne(tn,y?u&1|2:u&1),ct&&Wr(a,f.treeForkCount),s):(Bt(a),null);case 22:case 23:return wi(a),Gg(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Bt(a),a.subtreeFlags&6&&(a.flags|=8192)):Bt(a),u=a.updateQueue,u!==null&&jf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&se(so),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Yr(cn),Bt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _N(s,a){switch(Rg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Yr(cn),lt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Rt(a),null;case 31:if(a.memoizedState!==null){if(wi(a),a.alternate===null)throw Error(i(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(wi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));no()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return se(tn),null;case 4:return lt(),null;case 10:return Yr(a.type),null;case 22:case 23:return wi(a),Gg(),s!==null&&se(so),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Yr(cn),null;case 25:return null;default:return null}}function ew(s,a){switch(Rg(a),a.tag){case 3:Yr(cn),lt();break;case 26:case 27:case 5:Rt(a);break;case 4:lt();break;case 31:a.memoizedState!==null&&wi(a);break;case 13:wi(a);break;case 19:se(tn);break;case 10:Yr(a.type);break;case 22:case 23:wi(a),Gg(),s!==null&&se(so);break;case 24:Yr(cn)}}function Gu(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var b=u.create,C=u.inst;f=b(),C.destroy=f}u=u.next}while(u!==y)}}catch(N){_t(a,a.return,N)}}function Js(s,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&s)===s){var C=f.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,y=a;var $=u,Z=N;try{Z()}catch(ce){_t(y,$,ce)}}}f=f.next}while(f!==b)}}catch(ce){_t(a,a.return,ce)}}function tw(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{G1(a,u)}catch(f){_t(s,s.return,f)}}}function nw(s,a,u){u.props=uo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){_t(s,a,f)}}function qu(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){_t(s,a,y)}}function br(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){_t(s,a,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){_t(s,a,y)}else u.current=null}function iw(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){_t(s,s.return,y)}}function _y(s,a,u){try{var f=s.stateNode;GN(f,s.type,u,a),f[Nn]=a}catch(y){_t(s,s.return,y)}}function rw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ra(s.type)||s.tag===4}function Ty(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ra(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ey(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=_n));else if(f!==4&&(f===27&&ra(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Ey(s,a,u),s=s.sibling;s!==null;)Ey(s,a,u),s=s.sibling}function If(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&ra(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(If(s,a,u),s=s.sibling;s!==null;)If(s,a,u),s=s.sibling}function sw(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);On(a,f,u),a[Kt]=s,a[Nn]=u}catch(b){_t(s,s.return,b)}}var es=!1,hn=!1,Cy=!1,aw=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function TN(s,a){if(s=s.containerInfo,Wy=Qf,s=x1(s),vg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,N=-1,$=-1,Z=0,ce=0,de=s,ee=null;t:for(;;){for(var ie;de!==u||y!==0&&de.nodeType!==3||(N=C+y),de!==b||f!==0&&de.nodeType!==3||($=C+f),de.nodeType===3&&(C+=de.nodeValue.length),(ie=de.firstChild)!==null;)ee=de,de=ie;for(;;){if(de===s)break t;if(ee===u&&++Z===y&&(N=C),ee===b&&++ce===f&&($=C),(ie=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=ie}u=N===-1||$===-1?null:{start:N,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ky={focusedElem:s,selectionRange:u},Qf=!1,Cn=a;Cn!==null;)if(a=Cn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Cn=s;else for(;Cn!==null;){switch(a=Cn,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Se=uo(u.type,y);s=f.getSnapshotBeforeUpdate(Se,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){_t(u,u.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Jy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Cn=s;break}Cn=a.return}}function ow(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ns(s,u),f&4&&Gu(5,u);break;case 1:if(ns(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(C){_t(u,u.return,C)}else{var y=uo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(y,a,s.__reactInternalSnapshotBeforeUpdate)}catch(C){_t(u,u.return,C)}}f&64&&tw(u),f&512&&qu(u,u.return);break;case 3:if(ns(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{G1(s,a)}catch(C){_t(u,u.return,C)}}break;case 27:a===null&&f&4&&sw(u);case 26:case 5:ns(s,u),a===null&&f&4&&iw(u),f&512&&qu(u,u.return);break;case 12:ns(s,u);break;case 31:ns(s,u),f&4&&uw(s,u);break;case 13:ns(s,u),f&4&&dw(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=PN.bind(null,u),ZN(s,u))));break;case 22:if(f=u.memoizedState!==null||es,!f){a=a!==null&&a.memoizedState!==null||hn,y=es;var b=hn;es=f,(hn=a)&&!b?is(s,u,(u.subtreeFlags&8772)!==0):ns(s,u),es=y,hn=b}break;case 30:break;default:ns(s,u)}}function lw(s){var a=s.alternate;a!==null&&(s.alternate=null,lw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ua(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ht=null,li=!1;function ts(s,a,u){for(u=u.child;u!==null;)cw(s,a,u),u=u.sibling}function cw(s,a,u){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Dr,u)}catch{}switch(u.tag){case 26:hn||br(u,a),ts(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||br(u,a);var f=Ht,y=li;ra(u.type)&&(Ht=u.stateNode,li=!1),ts(s,a,u),td(u.stateNode),Ht=f,li=y;break;case 5:hn||br(u,a);case 6:if(f=Ht,y=li,Ht=null,ts(s,a,u),Ht=f,li=y,Ht!==null)if(li)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(u.stateNode)}catch(b){_t(u,a,b)}else try{Ht.removeChild(u.stateNode)}catch(b){_t(u,a,b)}break;case 18:Ht!==null&&(li?(s=Ht,t2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),$l(s)):t2(Ht,u.stateNode));break;case 4:f=Ht,y=li,Ht=u.stateNode.containerInfo,li=!0,ts(s,a,u),Ht=f,li=y;break;case 0:case 11:case 14:case 15:Js(2,u,a),hn||Js(4,u,a),ts(s,a,u);break;case 1:hn||(br(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&nw(u,a,f)),ts(s,a,u);break;case 21:ts(s,a,u);break;case 22:hn=(f=hn)||u.memoizedState!==null,ts(s,a,u),hn=f;break;default:ts(s,a,u)}}function uw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{$l(s)}catch(u){_t(a,a.return,u)}}}function dw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$l(s)}catch(u){_t(a,a.return,u)}}function EN(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new aw),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new aw),a;default:throw Error(i(435,s.tag))}}function Rf(s,a){var u=EN(s);a.forEach(function(f){if(!u.has(f)){u.add(f);var y=DN.bind(null,s,f);f.then(y,y)}})}function ci(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=s,C=a,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(ra(N.type)){Ht=N.stateNode,li=!1;break e}break;case 5:Ht=N.stateNode,li=!1;break e;case 3:case 4:Ht=N.stateNode.containerInfo,li=!0;break e}N=N.return}if(Ht===null)throw Error(i(160));cw(b,C,y),Ht=null,li=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)hw(a,s),a=a.sibling}var nr=null;function hw(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ci(a,s),ui(s),f&4&&(Js(3,s,s.return),Gu(3,s),Js(5,s,s.return));break;case 1:ci(a,s),ui(s),f&512&&(hn||u===null||br(u,u.return)),f&64&&es&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=nr;if(ci(a,s),ui(s),f&512&&(hn||u===null||br(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Vr]||b[Kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),On(b,f,u),b[Kt]=s,en(b),f=b;break e;case"link":var C=h2("link","href",y).get(f+(u.href||""));if(C){for(var N=0;N<C.length;N++)if(b=C[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(N,1);break t}}b=y.createElement(f),On(b,f,u),y.head.appendChild(b);break;case"meta":if(C=h2("meta","content",y).get(f+(u.content||""))){for(N=0;N<C.length;N++)if(b=C[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(N,1);break t}}b=y.createElement(f),On(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[Kt]=s,en(b),f=b}s.stateNode=f}else f2(y,s.type,s.stateNode);else s.stateNode=d2(y,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?f2(y,s.type,s.stateNode):d2(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&_y(s,s.memoizedProps,u.memoizedProps)}break;case 27:ci(a,s),ui(s),f&512&&(hn||u===null||br(u,u.return)),u!==null&&f&4&&_y(s,s.memoizedProps,u.memoizedProps);break;case 5:if(ci(a,s),ui(s),f&512&&(hn||u===null||br(u,u.return)),s.flags&32){y=s.stateNode;try{Oi(y,"")}catch(Se){_t(s,s.return,Se)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,_y(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Cy=!0);break;case 6:if(ci(a,s),ui(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(Se){_t(s,s.return,Se)}}break;case 3:if(qf=null,y=nr,nr=$f(a.containerInfo),ci(a,s),nr=y,ui(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{$l(a.containerInfo)}catch(Se){_t(s,s.return,Se)}Cy&&(Cy=!1,fw(s));break;case 4:f=nr,nr=$f(s.stateNode.containerInfo),ci(a,s),ui(s),nr=f;break;case 12:ci(a,s),ui(s);break;case 31:ci(a,s),ui(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Rf(s,f)));break;case 13:ci(a,s),ui(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kf=kt()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Rf(s,f)));break;case 22:y=s.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=es,ce=hn;if(es=Z||y,hn=ce||$,ci(a,s),hn=ce,es=Z,ui(s),f&8192)e:for(a=s.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||$||es||hn||ho(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){$=u=a;try{if(b=$.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=$.stateNode;var de=$.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){_t($,$.return,Se)}}}else if(a.tag===6){if(u===null){$=a;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(Se){_t($,$.return,Se)}}}else if(a.tag===18){if(u===null){$=a;try{var ie=$.stateNode;y?n2(ie,!0):n2($.stateNode,!1)}catch(Se){_t($,$.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Rf(s,u))));break;case 19:ci(a,s),ui(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Rf(s,f)));break;case 30:break;case 21:break;default:ci(a,s),ui(s)}}function ui(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(rw(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=Ty(s);If(s,b,y);break;case 5:var C=u.stateNode;u.flags&32&&(Oi(C,""),u.flags&=-33);var N=Ty(s);If(s,N,C);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=Ty(s);Ey(s,Z,$);break;default:throw Error(i(161))}}catch(ce){_t(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function fw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;fw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ns(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ow(s,a.alternate,a),a=a.sibling}function ho(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Js(4,a,a.return),ho(a);break;case 1:br(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&nw(a,a.return,u),ho(a);break;case 27:td(a.stateNode);case 26:case 5:br(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}s=s.sibling}}function is(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=s,b=a,C=b.flags;switch(b.tag){case 0:case 11:case 15:is(y,b,u),Gu(4,b);break;case 1:if(is(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){_t(f,f.return,Z)}if(f=b,y=f.updateQueue,y!==null){var N=f.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)$1($[y],N)}catch(Z){_t(f,f.return,Z)}}u&&C&64&&tw(b),qu(b,b.return);break;case 27:sw(b);case 26:case 5:is(y,b,u),u&&f===null&&C&4&&iw(b),qu(b,b.return);break;case 12:is(y,b,u);break;case 31:is(y,b,u),u&&C&4&&uw(y,b);break;case 13:is(y,b,u),u&&C&4&&dw(y,b);break;case 22:b.memoizedState===null&&is(y,b,u),qu(b,b.return);break;case 30:break;default:is(y,b,u)}a=a.sibling}}function Ay(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&ku(u))}function jy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ku(s))}function ir(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pw(s,a,u,f),a=a.sibling}function pw(s,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:ir(s,a,u,f),y&2048&&Gu(9,a);break;case 1:ir(s,a,u,f);break;case 3:ir(s,a,u,f),y&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ku(s)));break;case 12:if(y&2048){ir(s,a,u,f),s=a.stateNode;try{var b=a.memoizedProps,C=b.id,N=b.onPostCommit;typeof N=="function"&&N(C,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){_t(a,a.return,$)}}else ir(s,a,u,f);break;case 31:ir(s,a,u,f);break;case 13:ir(s,a,u,f);break;case 23:break;case 22:b=a.stateNode,C=a.alternate,a.memoizedState!==null?b._visibility&2?ir(s,a,u,f):Wu(s,a):b._visibility&2?ir(s,a,u,f):(b._visibility|=2,Pl(s,a,u,f,(a.subtreeFlags&10256)!==0||!1)),y&2048&&Ay(C,a);break;case 24:ir(s,a,u,f),y&2048&&jy(a.alternate,a);break;default:ir(s,a,u,f)}}function Pl(s,a,u,f,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,C=a,N=u,$=f,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Pl(b,C,N,$,y),Gu(8,C);break;case 23:break;case 22:var ce=C.stateNode;C.memoizedState!==null?ce._visibility&2?Pl(b,C,N,$,y):Wu(b,C):(ce._visibility|=2,Pl(b,C,N,$,y)),y&&Z&2048&&Ay(C.alternate,C);break;case 24:Pl(b,C,N,$,y),y&&Z&2048&&jy(C.alternate,C);break;default:Pl(b,C,N,$,y)}a=a.sibling}}function Wu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,y=f.flags;switch(f.tag){case 22:Wu(u,f),y&2048&&Ay(f.alternate,f);break;case 24:Wu(u,f),y&2048&&jy(f.alternate,f);break;default:Wu(u,f)}a=a.sibling}}var Ku=8192;function Dl(s,a,u){if(s.subtreeFlags&Ku)for(s=s.child;s!==null;)mw(s,a,u),s=s.sibling}function mw(s,a,u){switch(s.tag){case 26:Dl(s,a,u),s.flags&Ku&&s.memoizedState!==null&&dk(u,nr,s.memoizedState,s.memoizedProps);break;case 5:Dl(s,a,u);break;case 3:case 4:var f=nr;nr=$f(s.stateNode.containerInfo),Dl(s,a,u),nr=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=Ku,Ku=16777216,Dl(s,a,u),Ku=f):Dl(s,a,u));break;default:Dl(s,a,u)}}function gw(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Yu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Cn=f,xw(f,s)}gw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yw(s),s=s.sibling}function yw(s){switch(s.tag){case 0:case 11:case 15:Yu(s),s.flags&2048&&Js(9,s,s.return);break;case 3:Yu(s);break;case 12:Yu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Nf(s)):Yu(s);break;default:Yu(s)}}function Nf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Cn=f,xw(f,s)}gw(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Js(8,a,a.return),Nf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Nf(a));break;default:Nf(a)}s=s.sibling}}function xw(s,a){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:Js(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ku(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Cn=f;else e:for(u=s;Cn!==null;){f=Cn;var y=f.sibling,b=f.return;if(lw(f),f===u){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var CN={getCacheForType:function(s){var a=Pn(cn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return Pn(cn).controller.signal}},AN=typeof WeakMap=="function"?WeakMap:Map,yt=0,Pt=null,Ze=null,st=0,wt=0,_i=null,Xs=!1,Ol=!1,Iy=!1,rs=0,Jt=0,Zs=0,fo=0,Ry=0,Ti=0,Ml=0,Qu=null,di=null,Ny=!1,kf=0,vw=0,Pf=1/0,Df=null,ea=null,vn=0,ta=null,Ll=null,ss=0,ky=0,Py=null,bw=null,Ju=0,Dy=null;function Ei(){return(yt&2)!==0&&st!==0?st&-st:P.T!==null?By():Lr()}function Sw(){if(Ti===0)if((st&536870912)===0||ct){var s=te;te<<=1,(te&3932160)===0&&(te=262144),Ti=s}else Ti=536870912;return s=Si.current,s!==null&&(s.flags|=32),Ti}function hi(s,a,u){(s===Pt&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(Vl(s,0),na(s,st,Ti,!1)),Es(s,u),((yt&2)===0||s!==Pt)&&(s===Pt&&((yt&2)===0&&(fo|=u),Jt===4&&na(s,st,Ti,!1)),Sr(s))}function ww(s,a,u){if((yt&6)!==0)throw Error(i(327));var f=!u&&(a&127)===0&&(a&s.expiredLanes)===0||Xe(s,a),y=f?RN(s,a):My(s,a,!0),b=f;do{if(y===0){Ol&&!f&&na(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!jN(u)){y=My(s,a,!1),b=!1;continue}if(y===2){if(b=a,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var N=s;y=Qu;var $=N.current.memoizedState.isDehydrated;if($&&(Vl(N,C).flags|=256),C=My(N,C,!1),C!==2){if(Iy&&!$){N.errorRecoveryDisabledLanes|=b,fo|=b,y=4;break e}b=di,di=y,b!==null&&(di===null?di=b:di.push.apply(di,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){Vl(s,0),na(s,a,0,!0);break}e:{switch(f=s,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:na(f,a,Ti,!Xs);break e;case 2:di=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=kf+300-kt(),10<y)){if(na(f,a,Ti,!Xs),Ge(f,0,!0)!==0)break e;ss=a,f.timeoutHandle=Zw(_w.bind(null,f,u,di,Df,Ny,a,Ti,fo,Ml,Xs,b,"Throttled",-0,0),y);break e}_w(f,u,di,Df,Ny,a,Ti,fo,Ml,Xs,b,null,-0,0)}}break}while(!0);Sr(s)}function _w(s,a,u,f,y,b,C,N,$,Z,ce,de,ee,ie){if(s.timeoutHandle=-1,de=a.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},mw(a,b,de);var Se=(b&62914560)===b?kf-kt():(b&4194048)===b?vw-kt():0;if(Se=hk(de,Se),Se!==null){ss=b,s.cancelPendingCommit=Se(Nw.bind(null,s,a,b,u,f,y,C,N,$,ce,de,null,ee,ie)),na(s,b,C,!Z);return}}Nw(s,a,b,u,f,y,C,N,$)}function jN(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!vi(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function na(s,a,u,f){a&=~Ry,a&=~fo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var y=a;0<y;){var b=31-xn(y),C=1<<b;f[b]=-1,y&=~C}u!==0&&du(s,u,a)}function Of(){return(yt&6)===0?(Xu(0),!1):!0}function Oy(){if(Ze!==null){if(wt===0)var s=Ze.return;else s=Ze,Kr=io=null,Jg(s),jl=null,Du=0,s=Ze;for(;s!==null;)ew(s.alternate,s),s=s.return;Ze=null}}function Vl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,KN(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ss=0,Oy(),Pt=s,Ze=u=qr(s.current,null),st=a,wt=0,_i=null,Xs=!1,Ol=Xe(s,a),Iy=!1,Ml=Ti=Ry=fo=Zs=Jt=0,di=Qu=null,Ny=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var y=31-xn(f),b=1<<y;a|=s[y],f&=~b}return rs=a,tf(),u}function Tw(s,a){qe=null,P.H=Uu,a===Al||a===uf?(a=B1(),wt=3):a===Fg?(a=B1(),wt=4):wt=a===fy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_i=a,Ze===null&&(Jt=1,Tf(s,Li(a,s.current)))}function Ew(){var s=Si.current;return s===null?!0:(st&4194048)===st?zi===null:(st&62914560)===st||(st&536870912)!==0?s===zi:!1}function Cw(){var s=P.H;return P.H=Uu,s===null?Uu:s}function Aw(){var s=P.A;return P.A=CN,s}function Mf(){Jt=4,Xs||(st&4194048)!==st&&Si.current!==null||(Ol=!0),(Zs&134217727)===0&&(fo&134217727)===0||Pt===null||na(Pt,st,Ti,!1)}function My(s,a,u){var f=yt;yt|=2;var y=Cw(),b=Aw();(Pt!==s||st!==a)&&(Df=null,Vl(s,a)),a=!1;var C=Jt;e:do try{if(wt!==0&&Ze!==null){var N=Ze,$=_i;switch(wt){case 8:Oy(),C=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(a=!0);var Z=wt;if(wt=0,_i=null,Fl(s,N,$,Z),u&&Ol){C=0;break e}break;default:Z=wt,wt=0,_i=null,Fl(s,N,$,Z)}}IN(),C=Jt;break}catch(ce){Tw(s,ce)}while(!0);return a&&s.shellSuspendCounter++,Kr=io=null,yt=f,P.H=y,P.A=b,Ze===null&&(Pt=null,st=0,tf()),C}function IN(){for(;Ze!==null;)jw(Ze)}function RN(s,a){var u=yt;yt|=2;var f=Cw(),y=Aw();Pt!==s||st!==a?(Df=null,Pf=kt()+500,Vl(s,a)):Ol=Xe(s,a);e:do try{if(wt!==0&&Ze!==null){a=Ze;var b=_i;t:switch(wt){case 1:wt=0,_i=null,Fl(s,a,b,1);break;case 2:case 9:if(V1(b)){wt=0,_i=null,Iw(a);break}a=function(){wt!==2&&wt!==9||Pt!==s||(wt=7),Sr(s)},b.then(a,a);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:V1(b)?(wt=0,_i=null,Iw(a)):(wt=0,_i=null,Fl(s,a,b,7));break;case 5:var C=null;switch(Ze.tag){case 26:C=Ze.memoizedState;case 5:case 27:var N=Ze;if(C?p2(C):N.stateNode.complete){wt=0,_i=null;var $=N.sibling;if($!==null)Ze=$;else{var Z=N.return;Z!==null?(Ze=Z,Lf(Z)):Ze=null}break t}}wt=0,_i=null,Fl(s,a,b,5);break;case 6:wt=0,_i=null,Fl(s,a,b,6);break;case 8:Oy(),Jt=6;break e;default:throw Error(i(462))}}NN();break}catch(ce){Tw(s,ce)}while(!0);return Kr=io=null,P.H=f,P.A=y,yt=u,Ze!==null?0:(Pt=null,st=0,tf(),Jt)}function NN(){for(;Ze!==null&&!Nt();)jw(Ze)}function jw(s){var a=XS(s.alternate,s,rs);s.memoizedProps=s.pendingProps,a===null?Lf(s):Ze=a}function Iw(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=qS(u,a,a.pendingProps,a.type,void 0,st);break;case 11:a=qS(u,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Jg(a);default:ew(u,a),a=Ze=A1(a,rs),a=XS(u,a,rs)}s.memoizedProps=s.pendingProps,a===null?Lf(s):Ze=a}function Fl(s,a,u,f){Kr=io=null,Jg(a),jl=null,Du=0;var y=a.return;try{if(vN(s,y,a,u,st)){Jt=1,Tf(s,Li(u,s.current)),Ze=null;return}}catch(b){if(y!==null)throw Ze=y,b;Jt=1,Tf(s,Li(u,s.current)),Ze=null;return}a.flags&32768?(ct||f===1?s=!0:Ol||(st&536870912)!==0?s=!1:(Xs=s=!0,(f===2||f===9||f===3||f===6)&&(f=Si.current,f!==null&&f.tag===13&&(f.flags|=16384))),Rw(a,s)):Lf(a)}function Lf(s){var a=s;do{if((a.flags&32768)!==0){Rw(a,Xs);return}s=a.return;var u=wN(a.alternate,a,rs);if(u!==null){Ze=u;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=s}while(a!==null);Jt===0&&(Jt=5)}function Rw(s,a){do{var u=_N(s.alternate,s);if(u!==null){u.flags&=32767,Ze=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=u}while(s!==null);Jt=6,Ze=null}function Nw(s,a,u,f,y,b,C,N,$){s.cancelPendingCommit=null;do Vf();while(vn!==0);if((yt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Tg,Rn(s,u,b,C,N,$),s===Pt&&(Ze=Pt=null,st=0),Ll=a,ta=s,ss=u,ky=b,Py=y,bw=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ON(St,function(){return Mw(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,y=G.p,G.p=2,C=yt,yt|=4;try{TN(s,a,u)}finally{yt=C,G.p=y,P.T=f}}vn=1,kw(),Pw(),Dw()}}function kw(){if(vn===1){vn=0;var s=ta,a=Ll,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var f=G.p;G.p=2;var y=yt;yt|=4;try{hw(a,s);var b=Ky,C=x1(s.containerInfo),N=b.focusedElem,$=b.selectionRange;if(C!==N&&N&&N.ownerDocument&&y1(N.ownerDocument.documentElement,N)){if($!==null&&vg(N)){var Z=$.start,ce=$.end;if(ce===void 0&&(ce=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Se=N.textContent.length,Pe=Math.min($.start,Se),jt=$.end===void 0?Pe:Math.min($.end,Se);!ie.extend&&Pe>jt&&(C=jt,jt=Pe,Pe=C);var Q=g1(N,Pe),q=g1(N,jt);if(Q&&q&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var X=de.createRange();X.setStart(Q.node,Q.offset),ie.removeAllRanges(),Pe>jt?(ie.addRange(X),ie.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),ie.addRange(X))}}}}for(de=[],ie=N;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ue=de[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Qf=!!Wy,Ky=Wy=null}finally{yt=y,G.p=f,P.T=u}}s.current=a,vn=2}}function Pw(){if(vn===2){vn=0;var s=ta,a=Ll,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var f=G.p;G.p=2;var y=yt;yt|=4;try{ow(s,a.alternate,a)}finally{yt=y,G.p=f,P.T=u}}vn=3}}function Dw(){if(vn===4||vn===3){vn=0,Yn();var s=ta,a=Ll,u=ss,f=bw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,Ll=ta=null,Ow(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(ea=null),fu(u),a=a.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Dr,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=P.T,y=G.p,G.p=2,P.T=null;try{for(var b=s.onRecoverableError,C=0;C<f.length;C++){var N=f[C];b(N.value,{componentStack:N.stack})}}finally{P.T=a,G.p=y}}(ss&3)!==0&&Vf(),Sr(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===Dy?Ju++:(Ju=0,Dy=s):Ju=0,Xu(0)}}function Ow(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ku(a)))}function Vf(){return kw(),Pw(),Dw(),Mw()}function Mw(){if(vn!==5)return!1;var s=ta,a=ky;ky=0;var u=fu(ss),f=P.T,y=G.p;try{G.p=32>u?32:u,P.T=null,u=Py,Py=null;var b=ta,C=ss;if(vn=0,Ll=ta=null,ss=0,(yt&6)!==0)throw Error(i(331));var N=yt;if(yt|=4,yw(b.current),pw(b,b.current,C,u),yt=N,Xu(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Dr,b)}catch{}return!0}finally{G.p=y,P.T=f,Ow(s,a)}}function Lw(s,a,u){a=Li(u,a),a=hy(s.stateNode,a,2),s=Ks(s,a,2),s!==null&&(Es(s,2),Sr(s))}function _t(s,a,u){if(s.tag===3)Lw(s,s,u);else for(;a!==null;){if(a.tag===3){Lw(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))){s=Li(u,s),u=VS(2),f=Ks(a,u,2),f!==null&&(FS(u,f,a,s),Es(f,2),Sr(f));break}}a=a.return}}function Ly(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new AN;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(Iy=!0,y.add(u),s=kN.bind(null,s,a,u),a.then(s,s))}function kN(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Pt===s&&(st&u)===u&&(Jt===4||Jt===3&&(st&62914560)===st&&300>kt()-kf?(yt&2)===0&&Vl(s,0):Ry|=u,Ml===st&&(Ml=0)),Sr(s)}function Vw(s,a){a===0&&(a=gi()),s=eo(s,a),s!==null&&(Es(s,a),Sr(s))}function PN(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Vw(s,u)}function DN(s,a){var u=0;switch(s.tag){case 31:case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),Vw(s,u)}function ON(s,a){return Ee(s,a)}var Ff=null,Bl=null,Vy=!1,Bf=!1,Fy=!1,ia=0;function Sr(s){s!==Bl&&s.next===null&&(Bl===null?Ff=Bl=s:Bl=Bl.next=s),Bf=!0,Vy||(Vy=!0,LN())}function Xu(s,a){if(!Fy&&Bf){Fy=!0;do for(var u=!1,f=Ff;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var C=f.suspendedLanes,N=f.pingedLanes;b=(1<<31-xn(42|s)+1)-1,b&=y&~(C&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Uw(f,b))}else b=st,b=Ge(f,f===Pt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Xe(f,b)||(u=!0,Uw(f,b));f=f.next}while(u);Fy=!1}}function MN(){Fw()}function Fw(){Bf=Vy=!1;var s=0;ia!==0&&WN()&&(s=ia);for(var a=kt(),u=null,f=Ff;f!==null;){var y=f.next,b=Bw(f,a);b===0?(f.next=null,u===null?Ff=y:u.next=y,y===null&&(Bl=u)):(u=f,(s!==0||(b&3)!==0)&&(Bf=!0)),f=y}vn!==0&&vn!==5||Xu(s),ia!==0&&(ia=0)}function Bw(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-xn(b),N=1<<C,$=y[C];$===-1?((N&u)===0||(N&f)!==0)&&(y[C]=Wt(N,a)):$<=a&&(s.expiredLanes|=N),b&=~N}if(a=Pt,u=st,u=Ge(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&ht(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Xe(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&ht(f),fu(u)){case 2:case 8:u=Ye;break;case 32:u=St;break;case 268435456:u=_s;break;default:u=St}return f=zw.bind(null,s),u=Ee(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&ht(f),s.callbackPriority=2,s.callbackNode=null,2}function zw(s,a){if(vn!==0&&vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Vf()&&s.callbackNode!==u)return null;var f=st;return f=Ge(s,s===Pt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(ww(s,f,a),Bw(s,kt()),s.callbackNode!=null&&s.callbackNode===u?zw.bind(null,s):null)}function Uw(s,a){if(Vf())return null;ww(s,a,!0)}function LN(){YN(function(){(yt&6)!==0?Ee(Be,MN):Fw()})}function By(){if(ia===0){var s=El;s===0&&(s=ur,ur<<=1,(ur&261888)===0&&(ur=256)),ia=s}return ia}function Hw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:mr(""+s)}function $w(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function VN(s,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var b=Hw((y[Nn]||null).action),C=f.submitter;C&&(a=(a=C[Nn]||null)?Hw(a.formAction):C.getAttribute("formAction"),a!==null&&(b=a,C=null));var N=new Wa("action","action",null,f,y);s.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ia!==0){var $=C?$w(y,C):new FormData(y);ay(u,{pending:!0,data:$,method:y.method,action:b},null,$)}}else typeof b=="function"&&(N.preventDefault(),$=C?$w(y,C):new FormData(y),ay(u,{pending:!0,data:$,method:y.method,action:b},b,$))},currentTarget:y}]})}}for(var zy=0;zy<_g.length;zy++){var Uy=_g[zy],FN=Uy.toLowerCase(),BN=Uy[0].toUpperCase()+Uy.slice(1);tr(FN,"on"+BN)}tr(S1,"onAnimationEnd"),tr(w1,"onAnimationIteration"),tr(_1,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(nN,"onTransitionRun"),tr(iN,"onTransitionStart"),tr(rN,"onTransitionCancel"),tr(T1,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function Gw(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var C=f.length-1;0<=C;C--){var N=f[C],$=N.instance,Z=N.currentTarget;if(N=N.listener,$!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=Z;try{b(y)}catch(ce){ef(ce)}y.currentTarget=null,b=$}else for(C=0;C<f.length;C++){if(N=f[C],$=N.instance,Z=N.currentTarget,N=N.listener,$!==b&&y.isPropagationStopped())break e;b=N,y.currentTarget=Z;try{b(y)}catch(ce){ef(ce)}y.currentTarget=null,b=$}}}}function et(s,a){var u=a[js];u===void 0&&(u=a[js]=new Set);var f=s+"__bubble";u.has(f)||(qw(a,s,2,!1),u.add(f))}function Hy(s,a,u){var f=0;a&&(f|=4),qw(u,s,f,a)}var zf="_reactListening"+Math.random().toString(36).slice(2);function $y(s){if(!s[zf]){s[zf]=!0,ol.forEach(function(u){u!=="selectionchange"&&(zN.has(u)||Hy(u,!1,s),Hy(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[zf]||(a[zf]=!0,Hy("selectionchange",!1,a))}}function qw(s,a,u,f){switch(S2(a)){case 2:var y=mk;break;case 8:y=gk;break;default:y=sx}u=y.bind(null,a,u,s),y=void 0,!Su||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function Gy(s,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var N=f.stateNode.containerInfo;if(N===y)break;if(C===4)for(C=f.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;N!==null;){if(C=Fr(N),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){f=b=C;continue e}N=N.parentNode}}f=f.return}Vh(function(){var Z=b,ce=hl(u),de=[];e:{var ee=E1.get(s);if(ee!==void 0){var ie=Wa,Se=s;switch(s){case"keypress":if(qa(u)===0)break e;case"keydown":case"keyup":ie=Wh;break;case"focusin":Se="focus",ie=Vs;break;case"focusout":Se="blur",ie=Vs;break;case"beforeblur":case"afterblur":ie=Vs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Yh;break;case S1:case w1:case _1:ie=ml;break;case T1:ie=gl;break;case"scroll":case"scrollend":ie=Fh;break;case"wheel":ie=Jh;break;case"copy":case"cut":case"paste":ie=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Cu;break;case"toggle":case"beforetoggle":ie=Bs}var Pe=(a&4)!==0,jt=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var q=Z,X;q!==null;){var ue=q;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||Q===null||(ue=ai(q,Q),ue!=null&&Pe.push(ed(q,ue,X))),jt)break;q=q.return}0<Pe.length&&(ee=new ie(ee,Se,null,u,ce),de.push({event:ee,listeners:Pe}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",ee&&u!==dl&&(Se=u.relatedTarget||u.fromElement)&&(Fr(Se)||Se[hr]))break e;if((ie||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Se=u.relatedTarget||u.toElement,ie=Z,Se=Se?Fr(Se):null,Se!==null&&(jt=o(Se),Pe=Se.tag,Se!==jt||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(ie=null,Se=Z),ie!==Se)){if(Pe=Bh,ue="onMouseLeave",Q="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Cu,ue="onPointerLeave",Q="onPointerEnter",q="pointer"),jt=ie==null?ee:Ha(ie),X=Se==null?ee:Ha(Se),ee=new Pe(ue,q+"leave",ie,u,ce),ee.target=jt,ee.relatedTarget=X,ue=null,Fr(ce)===Z&&(Pe=new Pe(Q,q+"enter",Se,u,ce),Pe.target=X,Pe.relatedTarget=jt,ue=Pe),jt=ue,ie&&Se)t:{for(Pe=UN,Q=ie,q=Se,X=0,ue=Q;ue;ue=Pe(ue))X++;ue=0;for(var Ie=q;Ie;Ie=Pe(Ie))ue++;for(;0<X-ue;)Q=Pe(Q),X--;for(;0<ue-X;)q=Pe(q),ue--;for(;X--;){if(Q===q||q!==null&&Q===q.alternate){Pe=Q;break t}Q=Pe(Q),q=Pe(q)}Pe=null}else Pe=null;ie!==null&&Ww(de,ee,ie,Pe,!1),Se!==null&&jt!==null&&Ww(de,jt,Se,Pe,!0)}}e:{if(ee=Z?Ha(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var pt=u1;else if(oi(ee))if(d1)pt=ZR;else{pt=JR;var Ae=QR}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&vu(Z.elementType)&&(pt=u1):pt=XR;if(pt&&(pt=pt(s,Z))){Ja(de,pt,u,ce);break e}Ae&&Ae(s,ee,Z),s==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ul(ee,"number",ee.value)}switch(Ae=Z?Ha(Z):window,s){case"focusin":(oi(Ae)||Ae.contentEditable==="true")&&(yl=Ae,bg=Z,Iu=null);break;case"focusout":Iu=bg=yl=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,v1(de,u,ce);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":v1(de,u,ce)}var We;if(_)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Qe?xt(s,u)&&(at="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(J&&u.locale!=="ko"&&(Qe||at!=="onCompositionStart"?at==="onCompositionEnd"&&Qe&&(We=Ds()):(xi=ce,fl="value"in xi?xi.value:xi.textContent,Qe=!0)),Ae=Uf(Z,at),0<Ae.length&&(at=new _u(at,s,null,u,ce),de.push({event:at,listeners:Ae}),We?at.data=We:(We=ln(u),We!==null&&(at.data=We)))),(We=V?Tn(s,u):En(s,u))&&(at=Uf(Z,"onBeforeInput"),0<at.length&&(Ae=new _u("onBeforeInput","beforeinput",null,u,ce),de.push({event:Ae,listeners:at}),Ae.data=We)),VN(de,s,Z,u,ce)}Gw(de,a)})}function ed(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Uf(s,a){for(var u=a+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=ai(s,u),y!=null&&f.unshift(ed(s,y,b)),y=ai(s,a),y!=null&&f.push(ed(s,y,b))),s.tag===3)return f;s=s.return}return[]}function UN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Ww(s,a,u,f,y){for(var b=a._reactName,C=[];u!==null&&u!==f;){var N=u,$=N.alternate,Z=N.stateNode;if(N=N.tag,$!==null&&$===f)break;N!==5&&N!==26&&N!==27||Z===null||($=Z,y?(Z=ai(u,b),Z!=null&&C.unshift(ed(u,Z,$))):y||(Z=ai(u,b),Z!=null&&C.push(ed(u,Z,$)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var HN=/\r\n?/g,$N=/\u0000|\uFFFD/g;function Kw(s){return(typeof s=="string"?s:""+s).replace(HN,`
`).replace($N,"")}function Yw(s,a){return a=Kw(a),Kw(s)===a}function At(s,a,u,f,y,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Oi(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Oi(s,""+f);break;case"className":Ns(s,"class",f);break;case"tabIndex":Ns(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(s,u,f);break;case"style":Mh(s,f,b);break;case"data":if(a!=="object"){Ns(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=mr(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&At(s,a,"name",y.name,y,null),At(s,a,"formEncType",y.formEncType,y,null),At(s,a,"formMethod",y.formMethod,y,null),At(s,a,"formTarget",y.formTarget,y,null)):(At(s,a,"encType",y.encType,y,null),At(s,a,"method",y.method,y,null),At(s,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=mr(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=_n);break;case"onScroll":f!=null&&et("scroll",s);break;case"onScrollEnd":f!=null&&et("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=mr(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":et("beforetoggle",s),et("toggle",s),Rs(s,"popover",f);break;case"xlinkActuate":Di(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Di(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Di(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Di(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Di(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Di(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Di(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Di(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Di(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Rs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=pg.get(u)||u,Rs(s,u,f))}}function qy(s,a,u,f,y,b){switch(u){case"style":Mh(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Oi(s,f):(typeof f=="number"||typeof f=="bigint")&&Oi(s,""+f);break;case"onScroll":f!=null&&et("scroll",s);break;case"onScrollEnd":f!=null&&et("scrollend",s);break;case"onClick":f!=null&&(s.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=s[Nn]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,y);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Rs(s,u,f)}}}function On(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",s),et("load",s);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:At(s,a,b,C,u,null)}}y&&At(s,a,"srcSet",u.srcSet,u,null),f&&At(s,a,"src",u.src,u,null);return;case"input":et("invalid",s);var N=b=C=y=null,$=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var ce=u[f];if(ce!=null)switch(f){case"name":y=ce;break;case"type":C=ce;break;case"checked":$=ce;break;case"defaultChecked":Z=ce;break;case"value":b=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,a));break;default:At(s,a,f,ce,u,null)}}$a(s,b,N,$,Z,C,y,!1);return;case"select":et("invalid",s),f=C=b=null;for(y in u)if(u.hasOwnProperty(y)&&(N=u[y],N!=null))switch(y){case"value":b=N;break;case"defaultValue":C=N;break;case"multiple":f=N;default:At(s,a,y,N,u,null)}a=b,u=C,s.multiple=!!f,a!=null?ft(s,!!f,a,!1):u!=null&&ft(s,!!f,u,!0);return;case"textarea":et("invalid",s),b=y=f=null;for(C in u)if(u.hasOwnProperty(C)&&(N=u[C],N!=null))switch(C){case"value":f=N;break;case"defaultValue":y=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:At(s,a,C,N,u,null)}Ps(s,f,y,b);return;case"option":for($ in u)u.hasOwnProperty($)&&(f=u[$],f!=null)&&($==="selected"?s.selected=f&&typeof f!="function"&&typeof f!="symbol":At(s,a,$,f,u,null));return;case"dialog":et("beforetoggle",s),et("toggle",s),et("cancel",s),et("close",s);break;case"iframe":case"object":et("load",s);break;case"video":case"audio":for(f=0;f<Zu.length;f++)et(Zu[f],s);break;case"image":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"embed":case"source":case"link":et("error",s),et("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:At(s,a,Z,f,u,null)}return;default:if(vu(a)){for(ce in u)u.hasOwnProperty(ce)&&(f=u[ce],f!==void 0&&qy(s,a,ce,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&At(s,a,N,f,u,null))}function GN(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,N=null,$=null,Z=null,ce=null;for(ie in u){var de=u[ie];if(u.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=de;default:f.hasOwnProperty(ie)||At(s,a,ie,null,f,de)}}for(var ee in f){var ie=f[ee];if(de=u[ee],f.hasOwnProperty(ee)&&(ie!=null||de!=null))switch(ee){case"type":b=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":ce=ie;break;case"value":C=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:ie!==de&&At(s,a,ee,ie,f,de)}}ks(s,C,N,$,Z,ce,b,y);return;case"select":ie=C=N=ee=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":ie=$;default:f.hasOwnProperty(b)||At(s,a,b,null,f,$)}for(y in f)if(b=f[y],$=u[y],f.hasOwnProperty(y)&&(b!=null||$!=null))switch(y){case"value":ee=b;break;case"defaultValue":N=b;break;case"multiple":C=b;default:b!==$&&At(s,a,y,b,f,$)}a=N,u=C,f=ie,ee!=null?ft(s,!!u,ee,!1):!!f!=!!u&&(a!=null?ft(s,!!u,a,!0):ft(s,!!u,u?[]:"",!1));return;case"textarea":ie=ee=null;for(N in u)if(y=u[N],u.hasOwnProperty(N)&&y!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:At(s,a,N,null,f,y)}for(C in f)if(y=f[C],b=u[C],f.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":ee=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&At(s,a,C,y,f,b)}Ga(s,ee,ie);return;case"option":for(var Se in u)ee=u[Se],u.hasOwnProperty(Se)&&ee!=null&&!f.hasOwnProperty(Se)&&(Se==="selected"?s.selected=!1:At(s,a,Se,null,f,ee));for($ in f)ee=f[$],ie=u[$],f.hasOwnProperty($)&&ee!==ie&&(ee!=null||ie!=null)&&($==="selected"?s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":At(s,a,$,ee,f,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)ee=u[Pe],u.hasOwnProperty(Pe)&&ee!=null&&!f.hasOwnProperty(Pe)&&At(s,a,Pe,null,f,ee);for(Z in f)if(ee=f[Z],ie=u[Z],f.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:At(s,a,Z,ee,f,ie)}return;default:if(vu(a)){for(var jt in u)ee=u[jt],u.hasOwnProperty(jt)&&ee!==void 0&&!f.hasOwnProperty(jt)&&qy(s,a,jt,void 0,f,ee);for(ce in f)ee=f[ce],ie=u[ce],!f.hasOwnProperty(ce)||ee===ie||ee===void 0&&ie===void 0||qy(s,a,ce,ee,f,ie);return}}for(var Q in u)ee=u[Q],u.hasOwnProperty(Q)&&ee!=null&&!f.hasOwnProperty(Q)&&At(s,a,Q,null,f,ee);for(de in f)ee=f[de],ie=u[de],!f.hasOwnProperty(de)||ee===ie||ee==null&&ie==null||At(s,a,de,ee,f,ie)}function Qw(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,C=y.initiatorType,N=y.duration;if(b&&N&&Qw(C)){for(C=0,N=y.responseEnd,f+=1;f<u.length;f++){var $=u[f],Z=$.startTime;if(Z>N)break;var ce=$.transferSize,de=$.initiatorType;ce&&Qw(de)&&($=$.responseEnd,C+=ce*($<N?1:(N-Z)/($-Z)))}if(--f,a+=8*(b+C)/(y.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Wy=null,Ky=null;function Hf(s){return s.nodeType===9?s:s.ownerDocument}function Jw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xw(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Yy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qy=null;function WN(){var s=window.event;return s&&s.type==="popstate"?s===Qy?!1:(Qy=s,!0):(Qy=null,!1)}var Zw=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,YN=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(s){return e2.resolve(null).then(s).catch(QN)}:Zw;function QN(s){setTimeout(function(){throw s})}function ra(s){return s==="head"}function t2(s,a){var u=a,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){s.removeChild(y),$l(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")td(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,td(u);for(var b=u.firstChild;b;){var C=b.nextSibling,N=b.nodeName;b[Vr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&td(s.ownerDocument.body);u=y}while(u);$l(a)}function n2(s,a){var u=s;s=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=f}while(u)}function Jy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Jy(u),Ua(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function JN(s,a,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Vr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ui(s.nextSibling),s===null)break}return null}function XN(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ui(s.nextSibling),s===null))return null;return s}function i2(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Ui(s.nextSibling),s===null))return null;return s}function Xy(s){return s.data==="$?"||s.data==="$~"}function Zy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ZN(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Ui(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var ex=null;function r2(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return Ui(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function s2(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function a2(s,a,u){switch(a=Hf(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function td(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ua(s)}var Hi=new Map,o2=new Set;function $f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var as=G.d;G.d={f:ek,r:tk,D:nk,C:ik,L:rk,m:sk,X:ok,S:ak,M:lk};function ek(){var s=as.f(),a=Of();return s||a}function tk(s){var a=Br(s);a!==null&&a.tag===5&&a.type==="form"?TS(a):as.r(s)}var zl=typeof document>"u"?null:document;function l2(s,a,u){var f=zl;if(f&&typeof a=="string"&&a){var y=Yt(a);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),o2.has(y)||(o2.add(y),s={rel:s,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),On(a,"link",s),en(a),f.head.appendChild(a)))}}function nk(s){as.D(s),l2("dns-prefetch",s,null)}function ik(s,a){as.C(s,a),l2("preconnect",s,a)}function rk(s,a,u){as.L(s,a,u);var f=zl;if(f&&s&&a){var y='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Yt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Yt(u.imageSizes)+'"]')):y+='[href="'+Yt(s)+'"]';var b=y;switch(a){case"style":b=Ul(s);break;case"script":b=Hl(s)}Hi.has(b)||(s=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Hi.set(b,s),f.querySelector(y)!==null||a==="style"&&f.querySelector(nd(b))||a==="script"&&f.querySelector(id(b))||(a=f.createElement("link"),On(a,"link",s),en(a),f.head.appendChild(a)))}}function sk(s,a){as.m(s,a);var u=zl;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Yt(f)+'"][href="'+Yt(s)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Hl(s)}if(!Hi.has(b)&&(s=x({rel:"modulepreload",href:s},a),Hi.set(b,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(id(b)))return}f=u.createElement("link"),On(f,"link",s),en(f),u.head.appendChild(f)}}}function ak(s,a,u){as.S(s,a,u);var f=zl;if(f&&s){var y=Zi(f).hoistableStyles,b=Ul(s);a=a||"default";var C=y.get(b);if(!C){var N={loading:0,preload:null};if(C=f.querySelector(nd(b)))N.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Hi.get(b))&&tx(s,u);var $=C=f.createElement("link");en($),On($,"link",s),$._p=new Promise(function(Z,ce){$.onload=Z,$.onerror=ce}),$.addEventListener("load",function(){N.loading|=1}),$.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Gf(C,a,f)}C={type:"stylesheet",instance:C,count:1,state:N},y.set(b,C)}}}function ok(s,a){as.X(s,a);var u=zl;if(u&&s){var f=Zi(u).hoistableScripts,y=Hl(s),b=f.get(y);b||(b=u.querySelector(id(y)),b||(s=x({src:s,async:!0},a),(a=Hi.get(y))&&nx(s,a),b=u.createElement("script"),en(b),On(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function lk(s,a){as.M(s,a);var u=zl;if(u&&s){var f=Zi(u).hoistableScripts,y=Hl(s),b=f.get(y);b||(b=u.querySelector(id(y)),b||(s=x({src:s,async:!0,type:"module"},a),(a=Hi.get(y))&&nx(s,a),b=u.createElement("script"),en(b),On(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function c2(s,a,u,f){var y=(y=ye.current)?$f(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ul(u.href),u=Zi(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Ul(u.href);var b=Zi(y).hoistableStyles,C=b.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=y.querySelector(nd(s)))&&!b._p&&(C.instance=b,C.state.loading=5),Hi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Hi.set(s,u),b||ck(y,s,u,C.state))),a&&f===null)throw Error(i(528,""));return C}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hl(u),u=Zi(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ul(s){return'href="'+Yt(s)+'"'}function nd(s){return'link[rel="stylesheet"]['+s+"]"}function u2(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function ck(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),On(a,"link",u),en(a),s.head.appendChild(a))}function Hl(s){return'[src="'+Yt(s)+'"]'}function id(s){return"script[async]"+s}function d2(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Yt(u.href)+'"]');if(f)return a.instance=f,en(f),f;var y=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),en(f),On(f,"style",y),Gf(f,u.precedence,s),a.instance=f;case"stylesheet":y=Ul(u.href);var b=s.querySelector(nd(y));if(b)return a.state.loading|=4,a.instance=b,en(b),b;f=u2(u),(y=Hi.get(y))&&tx(f,y),b=(s.ownerDocument||s).createElement("link"),en(b);var C=b;return C._p=new Promise(function(N,$){C.onload=N,C.onerror=$}),On(b,"link",f),a.state.loading|=4,Gf(b,u.precedence,s),a.instance=b;case"script":return b=Hl(u.src),(y=s.querySelector(id(b)))?(a.instance=y,en(y),y):(f=u,(y=Hi.get(b))&&(f=x({},u),nx(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),en(y),On(y,"link",f),s.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Gf(f,u.precedence,s));return a.instance}function Gf(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,C=0;C<f.length;C++){var N=f[C];if(N.dataset.precedence===a)b=N;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function tx(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function nx(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var qf=null;function h2(s,a,u){if(qf===null){var f=new Map,y=qf=new Map;y.set(u,f)}else y=qf,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[Vr]||b[Kt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(a)||"";C=s+C;var N=f.get(C);N?N.push(b):f.set(C,[b])}}return f}function f2(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function uk(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function p2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function dk(s,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Ul(f.href),b=a.querySelector(nd(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Wf.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=b,en(b);return}b=a.ownerDocument||a,f=u2(f),(y=Hi.get(y))&&tx(f,y),b=b.createElement("link"),en(b);var C=b;C._p=new Promise(function(N,$){C.onload=N,C.onerror=$}),On(b,"link",f),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Wf.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var ix=0;function hk(s,a){return s.stylesheets&&s.count===0&&Yf(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var f=setTimeout(function(){if(s.stylesheets&&Yf(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&ix===0&&(ix=62500*qN());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Yf(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>ix?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Kf=null;function Yf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Kf=new Map,a.forEach(fk,s),Kf=null,Wf.call(s))}function fk(s,a){if(!(a.state.loading&4)){var u=Kf.get(s);if(u)var f=u.get(null);else{u=new Map,Kf.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}y=a.instance,C=y.getAttribute("data-precedence"),b=u.get(C)||f,b===f&&u.set(null,y),u.set(C,y),this.count++,f=Wf.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),a.state.loading|=4}}var rd={$$typeof:k,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function pk(s,a,u,f,y,b,C,N,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function m2(s,a,u,f,y,b,C,N,$,Z,ce,de){return s=new pk(s,a,u,C,$,Z,ce,de,N),a=1,b===!0&&(a|=24),b=bi(3,null,null,a),s.current=b,b.stateNode=s,a=Mg(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},Bg(b),s}function g2(s){return s?(s=bl,s):bl}function y2(s,a,u,f,y,b){y=g2(y),f.context===null?f.context=y:f.pendingContext=y,f=Ws(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ks(s,f,a),u!==null&&(hi(u,s,a),Mu(u,s,a))}function x2(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function rx(s,a){x2(s,a),(s=s.alternate)&&x2(s,a)}function v2(s){if(s.tag===13||s.tag===31){var a=eo(s,67108864);a!==null&&hi(a,s,67108864),rx(s,67108864)}}function b2(s){if(s.tag===13||s.tag===31){var a=Ei();a=hu(a);var u=eo(s,a);u!==null&&hi(u,s,a),rx(s,a)}}var Qf=!0;function mk(s,a,u,f){var y=P.T;P.T=null;var b=G.p;try{G.p=2,sx(s,a,u,f)}finally{G.p=b,P.T=y}}function gk(s,a,u,f){var y=P.T;P.T=null;var b=G.p;try{G.p=8,sx(s,a,u,f)}finally{G.p=b,P.T=y}}function sx(s,a,u,f){if(Qf){var y=ax(f);if(y===null)Gy(s,a,f,Jf,u),w2(s,f);else if(xk(y,s,a,u,f))f.stopPropagation();else if(w2(s,f),a&4&&-1<yk.indexOf(s)){for(;y!==null;){var b=Br(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=$e(b.pendingLanes);if(C!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var $=1<<31-xn(C);N.entanglements[1]|=$,C&=~$}Sr(b),(yt&6)===0&&(Pf=kt()+500,Xu(0))}}break;case 31:case 13:N=eo(b,2),N!==null&&hi(N,b,2),Of(),rx(b,2)}if(b=ax(f),b===null&&Gy(s,a,f,Jf,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else Gy(s,a,f,null,u)}}function ax(s){return s=hl(s),ox(s)}var Jf=null;function ox(s){if(Jf=null,s=Fr(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=c(a),s!==null)return s;s=null}else if(u===31){if(s=h(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Jf=s,null}function S2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Be:return 2;case Ye:return 8;case St:case kr:return 32;case _s:return 268435456;default:return 32}default:return 32}}var lx=!1,sa=null,aa=null,oa=null,sd=new Map,ad=new Map,la=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w2(s,a){switch(s){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":sd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(a.pointerId)}}function od(s,a,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Br(a),a!==null&&v2(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function xk(s,a,u,f,y){switch(a){case"focusin":return sa=od(sa,s,a,u,f,y),!0;case"dragenter":return aa=od(aa,s,a,u,f,y),!0;case"mouseover":return oa=od(oa,s,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return sd.set(b,od(sd.get(b)||null,s,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,ad.set(b,od(ad.get(b)||null,s,a,u,f,y)),!0}return!1}function _2(s){var a=Fr(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){s.blockedOn=a,kh(s.priority,function(){b2(u)});return}}else if(a===31){if(a=h(u),a!==null){s.blockedOn=a,kh(s.priority,function(){b2(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=ax(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);dl=f,u.target.dispatchEvent(f),dl=null}else return a=Br(u),a!==null&&v2(a),s.blockedOn=u,!1;a.shift()}return!0}function T2(s,a,u){Xf(s)&&u.delete(a)}function vk(){lx=!1,sa!==null&&Xf(sa)&&(sa=null),aa!==null&&Xf(aa)&&(aa=null),oa!==null&&Xf(oa)&&(oa=null),sd.forEach(T2),ad.forEach(T2)}function Zf(s,a){s.blockedOn===a&&(s.blockedOn=null,lx||(lx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vk)))}var ep=null;function E2(s){ep!==s&&(ep=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ep===s&&(ep=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],y=s[a+2];if(typeof f!="function"){if(ox(f||u)===null)continue;break}var b=Br(u);b!==null&&(s.splice(a,3),a-=3,ay(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function $l(s){function a($){return Zf($,s)}sa!==null&&Zf(sa,s),aa!==null&&Zf(aa,s),oa!==null&&Zf(oa,s),sd.forEach(a),ad.forEach(a);for(var u=0;u<la.length;u++){var f=la[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<la.length&&(u=la[0],u.blockedOn===null);)_2(u),u.blockedOn===null&&la.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],C=y[Nn]||null;if(typeof b=="function")C||E2(u);else if(C){var N=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[Nn]||null)N=C.formAction;else if(ox(y)!==null)continue}else N=C.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),E2(u)}}}function C2(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function cx(s){this._internalRoot=s}tp.prototype.render=cx.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=Ei();y2(u,f,s,a,null,null)},tp.prototype.unmount=cx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;y2(s.current,2,null,s,null,null),Of(),a[hr]=null}};function tp(s){this._internalRoot=s}tp.prototype.unstable_scheduleHydration=function(s){if(s){var a=Lr();s={blockedOn:null,target:s,priority:a};for(var u=0;u<la.length&&a!==0&&a<la[u].priority;u++);la.splice(u,0,s),u===0&&_2(s)}};var A2=e.version;if(A2!=="19.2.3")throw Error(i(527,A2,"19.2.3"));G.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var bk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Dr=np.inject(bk),Lt=np}catch{}}return cd.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,f="",y=DS,b=OS,C=MS;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=m2(s,1,!1,null,null,u,f,null,y,b,C,C2),s[hr]=a.current,$y(s),new cx(a)},cd.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var f=!1,y="",b=DS,C=OS,N=MS,$=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),a=m2(s,1,!0,a,u??null,f,y,$,b,C,N,C2),a.context=g2(null),u=a.current,f=Ei(),f=hu(f),y=Ws(f),y.callback=null,Ks(u,y,f),u=f,a.current.lanes=u,Es(a,u),Sr(a),s[hr]=a.current,$y(s),new tp(a)},cd.version="19.2.3",cd}var L2;function Rk(){if(L2)return hx.exports;L2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=Ik(),hx.exports}var Nk=Rk(),eu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Pk=class{#e=kk;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},vo=new Pk;function Dk(t){setTimeout(t,0)}var $o=typeof window>"u"||"Deno"in globalThis;function ni(){}function Ok(t,e){return typeof t=="function"?t(e):t}function m0(t){return typeof t=="number"&&t>=0&&t!==1/0}function RC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function _a(t,e){return typeof t=="function"?t(e):t}function qi(t,e){return typeof t=="function"?t(e):t}function V2(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:c,stale:h}=t;if(c){if(i){if(e.queryHash!==wv(c,e.options))return!1}else if(!Jd(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||r&&r!==e.state.fetchStatus||o&&!o(e))}function F2(t,e){const{exact:n,status:i,predicate:r,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Go(e.options.mutationKey)!==Go(o))return!1}else if(!Jd(e.options.mutationKey,o))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function wv(t,e){return(e?.queryKeyHashFn||Go)(t)}function Go(t){return JSON.stringify(t,(e,n)=>g0(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Jd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Jd(t[n],e[n])):!1}var Mk=Object.prototype.hasOwnProperty;function NC(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=B2(t)&&B2(e);if(!i&&!(g0(t)&&g0(e)))return e;const o=(i?t:Object.keys(t)).length,c=i?e:Object.keys(e),h=c.length,d=i?new Array(h):{};let p=0;for(let m=0;m<h;m++){const x=i?m:c[m],v=t[x],S=e[x];if(v===S){d[x]=v,(i?m<o:Mk.call(t,x))&&p++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[x]=S;continue}const w=NC(v,S,n+1);d[x]=w,w===v&&p++}return o===h&&p===o?t:d}function Up(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function B2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g0(t){if(!z2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z2(t){return Object.prototype.toString.call(t)==="[object Object]"}function Lk(t){return new Promise(e=>{vo.setTimeout(e,t)})}function y0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NC(t,e):e}function Vk(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function Fk(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var _v=Symbol();function kC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Tv(t,e){return typeof t=="function"?t(...e):!!t}function Bk(t,e,n){let i=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=e(),i||(i=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var zk=class extends eu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!$o&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ev=new zk;function x0(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var Uk=Dk;function Hk(){let t=[],e=0,n=h=>{h()},i=h=>{h()},r=Uk;const o=h=>{e?t.push(h):r(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&r(()=>{i(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{r=h}}}var bn=Hk(),$k=class extends eu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!$o&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Hp=new $k;function Gk(t){return Math.min(1e3*2**t,3e4)}function PC(t){return(t??"online")==="online"?Hp.isOnline():!0}var v0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function DC(t){let e=!1,n=0,i;const r=x0(),o=()=>r.status!=="pending",c=E=>{if(!o()){const T=new v0(E);v(T),t.onCancel?.(T)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>Ev.isFocused()&&(t.networkMode==="always"||Hp.isOnline())&&t.canRun(),m=()=>PC(t.networkMode)&&t.canRun(),x=E=>{o()||(i?.(),r.resolve(E))},v=E=>{o()||(i?.(),r.reject(E))},S=()=>new Promise(E=>{i=T=>{(o()||p())&&E(T)},t.onPause?.()}).then(()=>{i=void 0,o()||t.onContinue?.()}),w=()=>{if(o())return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(M){E=Promise.reject(M)}Promise.resolve(E).then(x).catch(M=>{if(o())return;const O=t.retry??($o?0:3),k=t.retryDelay??Gk,B=typeof k=="function"?k(n,M):k,W=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,M);if(e||!W){v(M);return}n++,t.onFail?.(n,M),Lk(B).then(()=>p()?void 0:S()).then(()=>{e?v(M):w()})})};return{promise:r,status:()=>r.status,cancel:c,continue:()=>(i?.(),r),cancelRetry:h,continueRetry:d,canStart:m,start:()=>(m()?w():S().then(w),r)}}var OC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m0(this.gcTime)&&(this.#e=vo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($o?1/0:300*1e3))}clearGcTimeout(){this.#e&&(vo.clearTimeout(this.#e),this.#e=void 0)}},qk=class extends OC{#e;#t;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=H2(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=H2(this.options);n.data!==void 0&&(this.setState(U2(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=y0(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>qi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_a(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},o=()=>{const d=kC(this.options,n),m=(()=>{const x={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(x),x})();return this.#o=!1,this.options.persister?this.options.persister(d,m,this):d(m)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return r(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#s({type:"fetch",meta:h.fetchOptions?.meta}),this.#i=DC({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof v0&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(d,p)=>{this.#s({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#i.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof v0){if(d.silent)return this.#i.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...MC(i.data,this.options),fetchMeta:e.meta??null};case"success":const r={...i,...U2(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),bn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function MC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function H2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wk=class extends eu{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=x0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$2(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Up(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&G2(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||qi(this.options.enabled,this.#t)!==qi(e.enabled,this.#t)||_a(this.options.staleTime,this.#t)!==_a(e.staleTime,this.#t))&&this.#g();const r=this.#y();i&&(this.#t!==n||qi(this.options.enabled,this.#t)!==qi(e.enabled,this.#t)||r!==this.#l)&&this.#x(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Yk(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ni)),e}#g(){this.#b();const t=_a(this.options.staleTime,this.#t);if($o||this.#r.isStale||!m0(t))return;const n=RC(this.#r.dataUpdatedAt,t)+1;this.#c=vo.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#S(),this.#l=t,!($o||qi(this.options.enabled,this.#t)===!1||!m0(this.#l)||this.#l===0)&&(this.#u=vo.setInterval(()=>{(this.options.refetchIntervalInBackground||Ev.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(vo.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(vo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,o=this.#i,c=this.#a,d=t!==n?t.state:this.#n,{state:p}=t;let m={...p},x=!1,v;if(e._optimisticResults){const A=this.hasListeners(),R=!A&&$2(t,e),L=A&&G2(t,n,e,i);(R||L)&&(m={...m,...MC(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:w,status:E}=m;v=m.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&E==="pending"){let A;r?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=r.data,T=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(E="success",v=y0(r?.data,A,e),x=!0)}if(e.select&&v!==void 0&&!T)if(r&&v===o?.data&&e.select===this.#m)v=this.#h;else try{this.#m=e.select,v=e.select(v),v=y0(r?.data,v,e),this.#h=v,this.#s=null}catch(A){this.#s=A}this.#s&&(S=this.#s,v=this.#h,w=Date.now(),E="error");const M=m.fetchStatus==="fetching",O=E==="pending",k=E==="error",B=O&&M,W=v!==void 0,I={status:E,fetchStatus:m.fetchStatus,isPending:O,isSuccess:E==="success",isError:k,isInitialLoading:B,isLoading:B,data:v,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:M,isRefetching:M&&!O,isLoadingError:k&&!W,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:k&&W,isStale:Cv(t,e),refetch:this.refetch,promise:this.#o,isEnabled:qi(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=I.data!==void 0,R=I.status==="error"&&!A,L=F=>{R?F.reject(I.error):A&&F.resolve(I.data)},z=()=>{const F=this.#o=I.promise=x0();L(F)},U=this.#o;switch(U.status){case"pending":t.queryHash===n.queryHash&&L(U);break;case"fulfilled":(R||I.data!==U.value)&&z();break;case"rejected":(!R||I.error!==U.reason)&&z();break}}return I}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),Up(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const o=new Set(r??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(c=>{const h=c;return this.#r[h]!==t[h]&&o.has(h)})};this.#_({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#_(t){bn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Kk(t,e){return qi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $2(t,e){return Kk(t,e)||t.state.data!==void 0&&b0(t,e,e.refetchOnMount)}function b0(t,e,n){if(qi(e.enabled,t)!==!1&&_a(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Cv(t,e)}return!1}function G2(t,e,n,i){return(t!==e||qi(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Cv(t,n)}function Cv(t,e){return qi(e.enabled,t)!==!1&&t.isStaleByTime(_a(e.staleTime,t))}function Yk(t,e){return!Up(t.getCurrentResult(),e)}function q2(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let m=!1;const x=w=>{Bk(w,()=>e.signal,()=>m=!0)},v=kC(e.options,e.fetchOptions),S=async(w,E,T)=>{if(m)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const O=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return x(K),K})(),k=await v(O),{maxPages:B}=e.options,W=T?Fk:Vk;return{pages:W(w.pages,k,B),pageParams:W(w.pageParams,E,B)}};if(r&&o.length){const w=r==="backward",E=w?Qk:W2,T={pages:o,pageParams:c},M=E(i,T);h=await S(T,M,w)}else{const w=t??o.length;do{const E=d===0?c[0]??i.initialPageParam:W2(i,h);if(d>0&&E==null)break;h=await S(h,E),d++}while(d<w)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function W2(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function Qk(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Jk=class extends OC{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||LC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=DC({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#i({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",o=!this.#r.canStart();try{if(r)n();else{this.#i({type:"pending",variables:e,isPaused:o}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,i);const h=await this.options.onMutate?.(e,i);h!==this.state.context&&this.#i({type:"pending",context:h,variables:e,isPaused:o})}const c=await this.#r.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,i),await this.options.onSuccess?.(c,e,this.state.context,i),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(c,null,e,this.state.context,i),this.#i({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,i)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,i)}catch(h){Promise.reject(h)}throw this.#i({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function LC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xk=class extends eu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new Jk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=ip(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ip(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ip(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=ip(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>F2(e,n))}findAll(t={}){return this.getAll().filter(e=>F2(t,e))}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return bn.batch(()=>Promise.all(t.map(e=>e.continue().catch(ni))))}};function ip(t){return t.options.scope?.id}var Zk=class extends eu{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Up(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Go(n.mutationKey)!==Go(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??LC();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){bn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#r.onSuccess?.(e.data,n,i,r)}catch(o){Promise.reject(o)}try{this.#r.onSettled?.(e.data,null,n,i,r)}catch(o){Promise.reject(o)}}else if(e?.type==="error"){try{this.#r.onError?.(e.error,n,i,r)}catch(o){Promise.reject(o)}try{this.#r.onSettled?.(void 0,e.error,n,i,r)}catch(o){Promise.reject(o)}}}this.listeners.forEach(n=>{n(this.#t)})})}},eP=class extends eu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??wv(i,e);let o=this.get(r);return o||(o=new qk({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>V2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>V2(t,n)):e}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tP=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new eP,this.#t=t.mutationCache||new Xk,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Ev.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Hp.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(_a(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(i.queryHash)?.state.data,c=Ok(e,o);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return bn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return bn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=bn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(ni).catch(ni)}invalidateQueries(t,e={}){return bn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=bn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(ni)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ni)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(_a(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ni).catch(ni)}fetchInfiniteQuery(t){return t.behavior=q2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ni).catch(ni)}ensureInfiniteQueryData(t){return t.behavior=q2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hp.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Go(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Jd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Go(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Jd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},VC=D.createContext(void 0),mh=t=>{const e=D.useContext(VC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nP=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(VC.Provider,{value:t,children:e})),FC=D.createContext(!1),iP=()=>D.useContext(FC);FC.Provider;function rP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sP=D.createContext(rP()),aP=()=>D.useContext(sP),oP=(t,e,n)=>{const i=n?.state.error&&typeof t.throwOnError=="function"?Tv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},lP=t=>{D.useEffect(()=>{t.clearReset()},[t])},cP=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||Tv(n,[t.error,i])),uP=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},dP=(t,e)=>t.isLoading&&t.isFetching&&!e,hP=(t,e)=>t?.suspense&&e.isPending,K2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function fP(t,e,n){const i=iP(),r=aP(),o=mh(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=o.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",uP(c),oP(c,r,h),lP(r);const d=!o.getQueryCache().get(c.queryHash),[p]=D.useState(()=>new e(o,c)),m=p.getOptimisticResult(c),x=!i&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(v=>{const S=x?p.subscribe(bn.batchCalls(v)):ni;return p.updateResult(),S},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),D.useEffect(()=>{p.setOptions(c)},[c,p]),hP(c,m))throw K2(c,p,r);if(cP({result:m,errorResetBoundary:r,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!$o&&dP(m,i)&&(d?K2(c,p,r):h?.promise)?.catch(ni).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?m:p.trackResult(m)}function gh(t,e){return fP(t,Wk)}function jm(t,e){const n=mh(),[i]=D.useState(()=>new Zk(n,t));D.useEffect(()=>{i.setOptions(t)},[i,t]);const r=D.useSyncExternalStore(D.useCallback(c=>i.subscribe(bn.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=D.useCallback((c,h)=>{i.mutate(c,h).catch(ni)},[i]);if(r.error&&Tv(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}const S0=new WeakMap,pP=new WeakMap,$p={current:[]};let gx=!1,Ld=0;const Ed=new Set,rp=new Map;function BC(t){for(const e of t){if($p.current.includes(e))continue;$p.current.push(e),e.recompute();const n=pP.get(e);if(n)for(const i of n){const r=S0.get(i);r?.length&&BC(r)}}}function mP(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function gP(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function zC(t){if(Ld>0&&!rp.has(t)&&rp.set(t,t.prevState),Ed.add(t),!(Ld>0)&&!gx)try{for(gx=!0;Ed.size>0;){const e=Array.from(Ed);Ed.clear();for(const n of e){const i=rp.get(n)??n.prevState;n.prevState=i,mP(n)}for(const n of e){const i=S0.get(n);i&&($p.current.push(n),BC(i))}for(const n of e){const i=S0.get(n);if(i)for(const r of i)gP(r)}}}finally{gx=!1,$p.current=[],rp.clear()}}function yP(t){Ld++;try{t()}finally{if(Ld--,Ld===0){const e=Ed.values().next().value;e&&zC(e)}}}function xP(t){return typeof t=="function"}class vP{constructor(e,n){this.listeners=new Set,this.subscribe=i=>{var r,o;this.listeners.add(i);const c=(o=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:o.call(r,i,this);return()=>{this.listeners.delete(i),c?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,i,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):xP(e)?this.state=e(this.prevState):this.state=e,(r=(i=this.options)==null?void 0:i.onUpdate)==null||r.call(i),zC(this)}}const Ta="__TSR_index",Y2="popstate",Q2="beforeunload";function bP(t){let e=t.getLocation();const n=new Set,i=c=>{e=t.getLocation(),n.forEach(h=>h({location:e,action:c}))},r=c=>{t.notifyOnIndexChange??!0?i(c):e=t.getLocation()},o=async({task:c,navigateOpts:h,...d})=>{if(h?.ignoreBlocker??!1){c();return}const m=t.getBlockers?.()??[],x=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&x)for(const v of m){const S=Gp(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}c()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:c=>(n.add(c),()=>{n.delete(c)}),push:(c,h,d)=>{const p=e.state[Ta];h=J2(p+1,h),o({task:()=>{t.pushState(c,h),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:c,state:h})},replace:(c,h,d)=>{const p=e.state[Ta];h=J2(p,h),o({task:()=>{t.replaceState(c,h),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:c,state:h})},go:(c,h)=>{o({task:()=>{t.go(c),r({type:"GO",index:c})},navigateOpts:h,type:"GO"})},back:c=>{o({task:()=>{t.back(c?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{o({task:()=>{t.forward(c?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>e.state[Ta]!==0,createHref:c=>t.createHref(c),block:c=>{if(!t.setBlockers)return()=>{};const h=t.getBlockers?.()??[];return t.setBlockers([...h,c]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(p=>p!==c))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:i}}function J2(t,e){e||(e={});const n=Av();return{...e,key:n,__TSR_key:n,[Ta]:t}}function SP(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,i=e.history.replaceState;let r=[];const o=()=>r,c=A=>r=A,h=(A=>A),d=(()=>Gp(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const A=Av();e.history.replaceState({[Ta]:0,key:A,__TSR_key:A},"")}let p=d(),m,x=!1,v=!1,S=!1,w=!1;const E=()=>p;let T,M;const O=()=>{T&&(I._ignoreSubscribers=!0,(T.isPush?e.history.pushState:e.history.replaceState)(T.state,"",T.href),I._ignoreSubscribers=!1,T=void 0,M=void 0,m=void 0)},k=(A,R,L)=>{const z=h(R);M||(m=p),p=Gp(R,L),T={href:z,state:L,isPush:T?.isPush||A==="push"},M||(M=Promise.resolve().then(()=>O()))},B=A=>{p=d(),I.notify({type:A})},W=async()=>{if(v){v=!1;return}const A=d(),R=A.state[Ta]-p.state[Ta],L=R===1,z=R===-1,U=!L&&!z||x;x=!1;const F=U?"GO":z?"BACK":"FORWARD",le=U?{type:"GO",index:R}:{type:z?"BACK":"FORWARD"};if(S)S=!1;else{const ve=o();if(typeof document<"u"&&ve.length){for(const P of ve)if(await P.blockerFn({currentLocation:p,nextLocation:A,action:F})){v=!0,e.history.go(1),I.notify(le);return}}}p=d(),I.notify(le)},K=A=>{if(w){w=!1;return}let R=!1;const L=o();if(typeof document<"u"&&L.length)for(const z of L){const U=z.enableBeforeUnload??!0;if(U===!0){R=!0;break}if(typeof U=="function"&&U()===!0){R=!0;break}}if(R)return A.preventDefault(),A.returnValue=""},I=bP({getLocation:E,getLength:()=>e.history.length,pushState:(A,R)=>k("push",A,R),replaceState:(A,R)=>k("replace",A,R),back:A=>(A&&(S=!0),w=!0,e.history.back()),forward:A=>{A&&(S=!0),w=!0,e.history.forward()},go:A=>{x=!0,e.history.go(A)},createHref:A=>h(A),flush:O,destroy:()=>{e.history.pushState=n,e.history.replaceState=i,e.removeEventListener(Q2,K,{capture:!0}),e.removeEventListener(Y2,W)},onBlocked:()=>{m&&p!==m&&(p=m)},getBlockers:o,setBlockers:c,notifyOnIndexChange:!1});return e.addEventListener(Q2,K,{capture:!0}),e.addEventListener(Y2,W),e.history.pushState=function(...A){const R=n.apply(e.history,A);return I._ignoreSubscribers||B("PUSH"),R},e.history.replaceState=function(...A){const R=i.apply(e.history,A);return I._ignoreSubscribers||B("REPLACE"),R},I}function wP(t){let e=t.replace(/[\x00-\x1f\x7f]/g,"");return e.startsWith("//")&&(e="/"+e.replace(/^\/+/,"")),e}function Gp(t,e){const n=wP(t),i=n.indexOf("#"),r=n.indexOf("?"),o=Av();return{href:n,pathname:n.substring(0,i>0?r>0?Math.min(i,r):i:r>0?r:n.length),hash:i>-1?n.substring(i):"",search:r>-1?n.slice(r,i===-1?void 0:i):"",state:e||{[Ta]:0,key:o,__TSR_key:o}}}function Av(){return(Math.random()+1).toString(36).substring(7)}const _P=!1;function Vd(t){let e;return yP(()=>{e=t()}),e}function Xd(t){return t[t.length-1]}function TP(t){return typeof t=="function"}function xa(t,e){return TP(t)?t(e):t}const EP=Object.prototype.hasOwnProperty,X2=Object.prototype.propertyIsEnumerable;function Ci(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=e,r=t_(t)&&t_(i);if(!r&&!(qp(t)&&qp(i)))return i;const o=r?t:Z2(t);if(!o)return i;const c=r?i:Z2(i);if(!c)return i;const h=o.length,d=c.length,p=r?new Array(d):{};let m=0;for(let x=0;x<d;x++){const v=r?x:c[x],S=t[v],w=i[v];if(S===w){p[v]=S,(r?x<h:EP.call(t,v))&&m++;continue}if(S===null||w===null||typeof S!="object"||typeof w!="object"){p[v]=w;continue}const E=Ci(S,w,n+1);p[v]=E,E===S&&m++}return h===d&&m===h?t:p}function Z2(t){const e=Object.getOwnPropertyNames(t);for(const r of e)if(!X2.call(t,r))return!1;const n=Object.getOwnPropertySymbols(t);if(n.length===0)return e;const i=e;for(const r of n){if(!X2.call(t,r))return!1;i.push(r)}return i}function qp(t){if(!e_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!e_(n)||!n.hasOwnProperty("isPrototypeOf"))}function e_(t){return Object.prototype.toString.call(t)==="[object Object]"}function t_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fo(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;i++)if(!Fo(t[i],e[i],n))return!1;return!0}if(qp(t)&&qp(e)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const c in e)if((!i||e[c]!==void 0)&&!Fo(t[c],e[c],n))return!1;return!0}let r=0;if(!i)r=Object.keys(t).length;else for(const c in t)t[c]!==void 0&&r++;let o=0;for(const c in e)if((!i||e[c]!==void 0)&&(o++,o>r||!Fo(t[c],e[c],n)))return!1;return r===o}return!1}function Lc(t){let e,n;const i=new Promise((r,o)=>{e=r,n=o});return i.status="pending",i.resolve=r=>{i.status="resolved",i.value=r,e(r),t?.(r)},i.reject=r=>{i.status="rejected",n(r)},i}function Ic(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function CP(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function n_(t){let e;try{e=decodeURI(t)}catch{e=t.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return CP(e)}const UC=["http:","https:","mailto:","tel:"];function Wp(t){if(!t)return!1;try{const e=new URL(t);return!UC.includes(e.protocol)}catch{return!1}}function ud(t){if(!t)return{path:t,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(t)&&!t.startsWith("//"))return{path:t,handledProtocolRelativeURL:!1};const e=/%25|%5C/gi;let n=0,i="",r;for(;(r=e.exec(t))!==null;)i+=n_(t.slice(n,r.index))+r[0],n=e.lastIndex;i=i+n_(n?t.slice(n):t);let o=!1;return i.startsWith("//")&&(o=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:o}}function AP(t){return/\s|[^\u0000-\u007F]/.test(t)?t.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):t}var jP="Invariant failed";function xs(t,e){if(!t)throw new Error(jP)}function Kp(t){const e=new Map;let n,i;const r=o=>{o.next&&(o.prev?(o.prev.next=o.next,o.next.prev=o.prev,o.next=void 0,i&&(i.next=o,o.prev=i)):(o.next.prev=void 0,n=o.next,o.next=void 0,i&&(o.prev=i,i.next=o)),i=o)};return{get(o){const c=e.get(o);if(c)return r(c),c.value},set(o,c){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const h=e.get(o);if(h)h.value=c,r(h);else{const d={key:o,value:c,prev:i};i&&(i.next=d),i=d,n||(n=d),e.set(o,d)}},clear(){e.clear(),n=void 0,i=void 0}}}const Vc=0,qo=1,Wo=2,Zd=3,bo=4,HC=5;function IP(t){const e=t.indexOf("{");if(e===-1)return null;const n=t.indexOf("}",e);return n===-1||e+1>=t.length?null:[e,n]}function jv(t,e,n=new Uint16Array(6)){const i=t.indexOf("/",e),r=i===-1?t.length:i,o=t.substring(e,r);if(!o||!o.includes("$"))return n[0]=Vc,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n;if(o==="$"){const h=t.length;return n[0]=Wo,n[1]=e,n[2]=e,n[3]=h,n[4]=h,n[5]=h,n}if(o.charCodeAt(0)===36)return n[0]=qo,n[1]=e,n[2]=e+1,n[3]=r,n[4]=r,n[5]=r,n;const c=IP(o);if(c){const[h,d]=c,p=o.charCodeAt(h+1);if(p===45){if(h+2<o.length&&o.charCodeAt(h+2)===36){const m=h+3,x=d;if(m<x)return n[0]=Zd,n[1]=e+h,n[2]=e+m,n[3]=e+x,n[4]=e+d+1,n[5]=r,n}}else if(p===36){const m=h+1,x=h+2;return x===d?(n[0]=Wo,n[1]=e+h,n[2]=e+m,n[3]=e+x,n[4]=e+d+1,n[5]=t.length,n):(n[0]=qo,n[1]=e+h,n[2]=e+x,n[3]=e+d,n[4]=e+d+1,n[5]=r,n)}}return n[0]=Vc,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n}function Im(t,e,n,i,r,o,c){c?.(n);let h=i;{const d=n.fullPath??n.from,p=d.length,m=n.options?.caseSensitive??t,x=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;h<p;){const S=jv(d,h,e);let w;const E=h,T=S[5];switch(h=T+1,o++,S[0]){case Vc:{const O=d.substring(S[2],S[3]);if(m){const k=r.static?.get(O);if(k)w=k;else{r.static??=new Map;const B=So(n.fullPath??n.from);B.parent=r,B.depth=o,w=B,r.static.set(O,B)}}else{const k=O.toLowerCase(),B=r.staticInsensitive?.get(k);if(B)w=B;else{r.staticInsensitive??=new Map;const W=So(n.fullPath??n.from);W.parent=r,W.depth=o,w=W,r.staticInsensitive.set(k,W)}}break}case qo:{const O=d.substring(E,S[1]),k=d.substring(S[4],T),B=m&&!!(O||k),W=O?B?O:O.toLowerCase():void 0,K=k?B?k:k.toLowerCase():void 0,I=!x&&r.dynamic?.find(A=>!A.skipOnParamError&&A.caseSensitive===B&&A.prefix===W&&A.suffix===K);if(I)w=I;else{const A=xx(qo,n.fullPath??n.from,B,W,K);w=A,A.depth=o,A.parent=r,r.dynamic??=[],r.dynamic.push(A)}break}case Zd:{const O=d.substring(E,S[1]),k=d.substring(S[4],T),B=m&&!!(O||k),W=O?B?O:O.toLowerCase():void 0,K=k?B?k:k.toLowerCase():void 0,I=!x&&r.optional?.find(A=>!A.skipOnParamError&&A.caseSensitive===B&&A.prefix===W&&A.suffix===K);if(I)w=I;else{const A=xx(Zd,n.fullPath??n.from,B,W,K);w=A,A.parent=r,A.depth=o,r.optional??=[],r.optional.push(A)}break}case Wo:{const O=d.substring(E,S[1]),k=d.substring(S[4],T),B=m&&!!(O||k),W=O?B?O:O.toLowerCase():void 0,K=k?B?k:k.toLowerCase():void 0,I=xx(Wo,n.fullPath??n.from,B,W,K);w=I,I.parent=r,I.depth=o,r.wildcard??=[],r.wildcard.push(I)}}r=w}if(x&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const S=So(n.fullPath??n.from);S.kind=HC,S.parent=r,o++,S.depth=o,r.pathless??=[],r.pathless.push(S),r=S}const v=(n.path||!n.children)&&!n.isRoot;if(v&&d.endsWith("/")){const S=So(n.fullPath??n.from);S.kind=bo,S.parent=r,o++,S.depth=o,r.index=S,r=S}r.parse=n.options?.params?.parse??null,r.skipOnParamError=x,r.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,v&&!r.route&&(r.route=n,r.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)Im(t,e,d,h,r,o,c)}function yx(t,e){if(t.skipOnParamError&&!e.skipOnParamError)return-1;if(!t.skipOnParamError&&e.skipOnParamError)return 1;if(t.skipOnParamError&&e.skipOnParamError&&(t.parsingPriority||e.parsingPriority))return e.parsingPriority-t.parsingPriority;if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function fa(t){if(t.pathless)for(const e of t.pathless)fa(e);if(t.static)for(const e of t.static.values())fa(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())fa(e);if(t.dynamic?.length){t.dynamic.sort(yx);for(const e of t.dynamic)fa(e)}if(t.optional?.length){t.optional.sort(yx);for(const e of t.optional)fa(e)}if(t.wildcard?.length){t.wildcard.sort(yx);for(const e of t.wildcard)fa(e)}}function So(t){return{kind:Vc,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function xx(t,e,n,i,r){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:r}}function RP(t,e){const n=So("/"),i=new Uint16Array(6);for(const r of t)Im(!1,i,r,1,n,0);fa(n),e.masksTree=n,e.flatCache=Kp(1e3)}function NP(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const i=Iv(t,e.masksTree);return e.flatCache.set(t,i),i}function kP(t,e,n,i,r){t||="/",i||="/";const o=e?`case\0${t}`:t;let c=r.singleCache.get(o);if(!c){c=So("/");const h=new Uint16Array(6);Im(e,h,{from:t},1,c,0),r.singleCache.set(o,c)}return Iv(i,c,n)}function PP(t,e,n=!1){const i=n?t:`nofuzz\0${t}`,r=e.matchCache.get(i);if(r!==void 0)return r;t||="/";let o;try{o=Iv(t,e.segmentTree,n)}catch(c){if(c instanceof URIError)o=null;else throw c}return o&&(o.branch=MP(o.route)),e.matchCache.set(i,o),o}function DP(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function OP(t,e=!1,n){const i=So(t.fullPath),r=new Uint16Array(6),o={},c={};let h=0;return Im(e,r,t,1,i,0,p=>{if(n?.(p,h),xs(!(p.id in o),`Duplicate routes found with id: ${String(p.id)}`),o[p.id]=p,h!==0&&p.path){const m=DP(p.fullPath);(!c[m]||p.fullPath.endsWith("/"))&&(c[m]=p)}h++}),fa(i),{processedTree:{segmentTree:i,singleCache:Kp(1e3),matchCache:Kp(1e3),flatCache:null,masksTree:null},routesById:o,routesByPath:c}}function Iv(t,e,n=!1){const i=t.split("/"),r=VP(t,i,e,n);if(!r)return null;const[o]=$C(t,i,r);return{route:r.node.route,rawParams:o,parsedParams:r.parsedParams}}function $C(t,e,n){const i=LP(n.node);let r=null;const o={};let c=n.extract?.part??0,h=n.extract?.node??0,d=n.extract?.path??0,p=n.extract?.segment??0;for(;h<i.length;c++,h++,d++,p++){const m=i[h];if(m.kind===bo)break;if(m.kind===HC){p--,c--,d--;continue}const x=e[c],v=d;if(x&&(d+=x.length),m.kind===qo){r??=n.node.fullPath.split("/");const S=r[p],w=m.prefix?.length??0;if(S.charCodeAt(w)===123){const T=m.suffix?.length??0,M=S.substring(w+2,S.length-T-1),O=x.substring(w,x.length-T);o[M]=decodeURIComponent(O)}else{const T=S.substring(1);o[T]=decodeURIComponent(x)}}else if(m.kind===Zd){if(n.skipped&1<<h){c--,d=v-1;continue}r??=n.node.fullPath.split("/");const S=r[p],w=m.prefix?.length??0,E=m.suffix?.length??0,T=S.substring(w+3,S.length-E-1),M=m.suffix||m.prefix?x.substring(w,x.length-E):x;M&&(o[T]=decodeURIComponent(M))}else if(m.kind===Wo){const S=m,w=t.substring(v+(S.prefix?.length??0),t.length-(S.suffix?.length??0)),E=decodeURIComponent(w);o["*"]=E,o._splat=E;break}}return n.rawParams&&Object.assign(o,n.rawParams),[o,{part:c,node:h,path:d,segment:p}]}function MP(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function LP(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function VP(t,e,n,i){if(t==="/"&&n.index)return{node:n.index,skipped:0};const r=!Xd(e),o=r&&t!=="/",c=e.length-(r?1:0),h=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,p=null,m=null;for(;h.length;){const x=h.pop(),{node:v,index:S,skipped:w,depth:E,statics:T,dynamics:M,optionals:O}=x;let{extract:k,rawParams:B,parsedParams:W}=x;if(v.skipOnParamError){if(!vx(t,e,x))continue;B=x.rawParams,k=x.extract,W=x.parsedParams}i&&v.route&&v.kind!==bo&&dd(p,x)&&(p=x);const K=S===c;if(K&&(v.route&&!o&&dd(m,x)&&(m=x),!v.optional&&!v.wildcard&&!v.index&&!v.pathless))continue;const I=K?void 0:e[S];let A;if(K&&v.index){const R={node:v.index,index:S,skipped:w,depth:E+1,statics:T,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W};let L=!0;if(v.index.skipOnParamError&&(vx(t,e,R)||(L=!1)),L){if(T===c&&!M&&!O&&!w)return R;dd(m,R)&&(m=R)}}if(v.wildcard&&dd(d,x))for(const R of v.wildcard){const{prefix:L,suffix:z}=R;if(L&&(K||!(R.caseSensitive?I:A??=I.toLowerCase()).startsWith(L)))continue;if(z){if(K)continue;const F=e.slice(S).join("/").slice(-z.length);if((R.caseSensitive?F:F.toLowerCase())!==z)continue}const U={node:R,index:c,skipped:w,depth:E,statics:T,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W};if(!(R.skipOnParamError&&!vx(t,e,U))){d=U;break}}if(v.optional){const R=w|1<<E,L=E+1;for(let z=v.optional.length-1;z>=0;z--){const U=v.optional[z];h.push({node:U,index:S,skipped:R,depth:L,statics:T,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W})}if(!K)for(let z=v.optional.length-1;z>=0;z--){const U=v.optional[z],{prefix:F,suffix:le}=U;if(F||le){const ve=U.caseSensitive?I:A??=I.toLowerCase();if(F&&!ve.startsWith(F)||le&&!ve.endsWith(le))continue}h.push({node:U,index:S+1,skipped:w,depth:L,statics:T,dynamics:M,optionals:O+1,extract:k,rawParams:B,parsedParams:W})}}if(!K&&v.dynamic&&I)for(let R=v.dynamic.length-1;R>=0;R--){const L=v.dynamic[R],{prefix:z,suffix:U}=L;if(z||U){const F=L.caseSensitive?I:A??=I.toLowerCase();if(z&&!F.startsWith(z)||U&&!F.endsWith(U))continue}h.push({node:L,index:S+1,skipped:w,depth:E+1,statics:T,dynamics:M+1,optionals:O,extract:k,rawParams:B,parsedParams:W})}if(!K&&v.staticInsensitive){const R=v.staticInsensitive.get(A??=I.toLowerCase());R&&h.push({node:R,index:S+1,skipped:w,depth:E+1,statics:T+1,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W})}if(!K&&v.static){const R=v.static.get(I);R&&h.push({node:R,index:S+1,skipped:w,depth:E+1,statics:T+1,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W})}if(v.pathless){const R=E+1;for(let L=v.pathless.length-1;L>=0;L--){const z=v.pathless[L];h.push({node:z,index:S,skipped:w,depth:R,statics:T,dynamics:M,optionals:O,extract:k,rawParams:B,parsedParams:W})}}}if(m&&d)return dd(d,m)?m:d;if(m)return m;if(d)return d;if(i&&p){let x=p.index;for(let S=0;S<p.index;S++)x+=e[S].length;const v=x===t.length?"/":t.slice(x);return p.rawParams??={},p.rawParams["**"]=decodeURIComponent(v),p}return null}function vx(t,e,n){try{const[i,r]=$C(t,e,n);n.rawParams=i,n.extract=r;const o=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,o),!0}catch{return null}}function dd(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&((e.node.kind===bo)>(t.node.kind===bo)||e.node.kind===bo==(t.node.kind===bo)&&e.depth>t.depth))):!0}function Ep(t){return Rv(t.filter(e=>e!==void 0).join("/"))}function Rv(t){return t.replace(/\/{2,}/g,"/")}function GC(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function us(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function qC(t){return us(GC(t))}function Yp(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function FP(t,e,n){return Yp(t,n)===Yp(e,n)}function BP({base:t,to:e,trailingSlash:n="never",cache:i}){const r=e.startsWith("/"),o=!r&&e===".";let c;if(i){c=r?e:o?t:t+"\0"+e;const x=i.get(c);if(x)return x}let h;if(o)h=t.split("/");else if(r)h=e.split("/");else{for(h=t.split("/");h.length>1&&Xd(h)==="";)h.pop();const x=e.split("/");for(let v=0,S=x.length;v<S;v++){const w=x[v];w===""?v?v===S-1&&h.push(w):h=[w]:w===".."?h.pop():w==="."||h.push(w)}}h.length>1&&(Xd(h)===""?n==="never"&&h.pop():n==="always"&&h.push(""));let d,p="";for(let x=0;x<h.length;x++){x>0&&(p+="/");const v=h[x];if(!v)continue;d=jv(v,0,d);const S=d[0];if(S===Vc){p+=v;continue}const w=d[5],E=v.substring(0,d[1]),T=v.substring(d[4],w),M=v.substring(d[2],d[3]);S===qo?p+=E||T?`${E}{$${M}}${T}`:`$${M}`:S===Wo?p+=E||T?`${E}{$}${T}`:"$":p+=`${E}{-$${M}}${T}`}p=Rv(p);const m=p||"/";return c&&i&&i.set(c,m),m}function zP(t){const e=new Map(t.map(r=>[encodeURIComponent(r),r])),n=Array.from(e.keys()).map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return r=>r.replace(i,o=>e.get(o)??o)}function bx(t,e,n){const i=e[t];return typeof i!="string"?i:t==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(r=>i_(r,n)).join("/"):i_(i,n)}function Sx({path:t,params:e,decoder:n,...i}){let r=!1;const o={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:o,isMissingParams:r};if(!t.includes("$"))return{interpolatedPath:t,usedParams:o,isMissingParams:r};const c=t.length;let h=0,d,p="";for(;h<c;){const x=h;d=jv(t,x,d);const v=d[5];if(h=v+1,x===v)continue;const S=d[0];if(S===Vc){p+="/"+t.substring(x,v);continue}if(S===Wo){const w=e._splat;o._splat=w,o["*"]=w;const E=t.substring(x,d[1]),T=t.substring(d[4],v);if(!w){r=!0,(E||T)&&(p+="/"+E+T);continue}const M=bx("_splat",e,n);p+="/"+E+M+T;continue}if(S===qo){const w=t.substring(d[2],d[3]);!r&&!(w in e)&&(r=!0),o[w]=e[w];const E=t.substring(x,d[1]),T=t.substring(d[4],v),M=bx(w,e,n)??"undefined";p+="/"+E+M+T;continue}if(S===Zd){const w=t.substring(d[2],d[3]),E=e[w];if(E==null)continue;o[w]=E;const T=t.substring(x,d[1]),M=t.substring(d[4],v),O=bx(w,e,n)??"";p+="/"+T+O+M;continue}}return t.endsWith("/")&&(p+="/"),{usedParams:o,interpolatedPath:p||"/",isMissingParams:r}}function i_(t,e){const n=encodeURIComponent(t);return e?.(n)??n}function Ai(t){return!!t?.isNotFound}function UP(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const w0="tsr-scroll-restoration-v1_3",HP=(t,e)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{t(...i),n=null},e))}};function $P(){const t=UP();if(!t)return null;const e=t.getItem(w0);let n=e?JSON.parse(e):{};return{state:n,set:i=>{n=xa(i,n)||n;try{t.setItem(w0,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const sp=$P(),GP=t=>t.state.__TSR_key||t.href;function qP(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qp=!1;function WP({storageKey:t,key:e,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:r,location:o}){let c;try{c=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(p){console.error(p);return}const h=e||window.history.state?.__TSR_key,d=c[h];Qp=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const x in d){const v=d[x];if(x==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(x){const S=document.querySelector(x);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(o??window.location).hash.split("#",2)[1];if(p){const x=window.history.state?.__hashScrollIntoViewOptions??!0;if(x){const v=document.getElementById(p);v&&v.scrollIntoView(x)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),r)for(const x of r){if(x==="window")continue;const v=typeof x=="function"?x():document.querySelector(x);v&&v.scrollTo(m)}}Qp=!1}function KP(t,e){if(!sp||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isScrollRestorationSetup||!sp))return;t.isScrollRestorationSetup=!0,Qp=!1;const i=t.options.getScrollRestorationKey||GP;window.history.scrollRestoration="manual";const r=o=>{if(Qp||!t.isScrollRestoring)return;let c="";if(o.target===document||o.target===window)c="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=qP(o.target)}const h=i(t.state.location);sp.set(d=>{const p=d[h]||={},m=p[c]||={};if(c==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(c){const x=document.querySelector(c);x&&(m.scrollX=x.scrollLeft||0,m.scrollY=x.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",HP(r,100),!0),t.subscribe("onRendered",o=>{const c=i(o.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(WP({storageKey:w0,key:c,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&sp.set(h=>(h[c]||={},h)))})}function YP(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function QP(t,e=String){const n=new URLSearchParams;for(const i in t){const r=t[i];r!==void 0&&n.set(i,e(r))}return n.toString()}function wx(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function JP(t){const e=new URLSearchParams(t),n={};for(const[i,r]of e.entries()){const o=n[i];o==null?n[i]=wx(r):Array.isArray(o)?o.push(wx(r)):n[i]=[o,wx(r)]}return n}const XP=eD(JSON.parse),ZP=tD(JSON.stringify,JSON.parse);function eD(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=JP(e);for(const i in n){const r=n[i];if(typeof r=="string")try{n[i]=t(r)}catch{}}return n}}function tD(t,e){const n=typeof e=="function";function i(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(n&&typeof r=="string")try{return e(r),t(r)}catch{}return r}return r=>{const o=QP(r,i);return o?`?${o}`:""}}const Wi="__root__";function nD(t){if(t.statusCode=t.statusCode||t.code||307,!t._builtLocation&&typeof t.href=="string"&&Wp(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${UC.join(", ")} protocols are allowed.`);if(!t._builtLocation&&!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function Qi(t){return t instanceof Response&&!!t.options}const Cp=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Rm=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),Rc=(t,e,n=!0)=>{const i={...t.router.options.context??{}},r=n?e:e-1;for(let o=0;o<=r;o++){const c=t.matches[o];if(!c)continue;const h=t.router.getMatch(c.id);h&&Object.assign(i,h.__routeContext,h.__beforeLoadContext)}return i},WC=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),xs(n.options.notFoundComponent);const i=t.matches.find(r=>r.routeId===n.id);xs(i,"Could not find match for route: "+n.id),t.updateMatch(i.id,r=>({...r,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,WC(t,e))},va=(t,e,n)=>{if(!(!Qi(n)&&!Ai(n))){if(Qi(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const i=Qi(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,r=>({...r,status:i,context:Rc(t,e.index),isFetching:!1,error:n})),Ai(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw Qi(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(WC(t,n),n)}},KC=(t,e)=>!!t.router.getMatch(e)._nonReactive.dehydrated,hd=(t,e,n,i)=>{const{id:r,routeId:o}=t.matches[e],c=t.router.looseRoutesById[o];if(n instanceof Promise)throw n;n.routerCode=i,t.firstBadMatchIndex??=e,va(t,t.router.getMatch(r),n);try{c.options.onError?.(n)}catch(h){n=h,va(t,t.router.getMatch(r),n)}t.updateMatch(r,h=>(h._nonReactive.beforeLoadPromise?.resolve(),h._nonReactive.beforeLoadPromise=void 0,h._nonReactive.loadPromise?.resolve(),{...h,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},YC=(t,e,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const r=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!Rm(t,e)&&(n.options.loader||n.options.beforeLoad||XC(n))&&typeof r=="number"&&r!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const c=setTimeout(()=>{Cp(t)},r);i._nonReactive.pendingTimeout=c}},iD=(t,e,n)=>{const i=t.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;YC(t,e,n,i);const r=()=>{const o=t.router.getMatch(e);o.preload&&(o.status==="redirected"||o.status==="notFound")&&va(t,o,o.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(r):r()},rD=(t,e,n,i)=>{const r=t.router.getMatch(e),o=r._nonReactive.loadPromise;r._nonReactive.loadPromise=Lc(()=>{o?.resolve()});const{paramsError:c,searchError:h}=r;c&&hd(t,n,c,"PARSE_PARAMS"),h&&hd(t,n,h,"VALIDATE_SEARCH"),YC(t,e,i,r);const d=new AbortController;let p=!1;const m=()=>{p||(p=!0,t.updateMatch(e,B=>({...B,isFetching:"beforeLoad",fetchCount:B.fetchCount+1,abortController:d})))},x=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,B=>({...B,isFetching:!1}))};if(!i.options.beforeLoad){Vd(()=>{m(),x()});return}r._nonReactive.beforeLoadPromise=Lc();const v={...Rc(t,n,!1),...r.__routeContext},{search:S,params:w,cause:E}=r,T=Rm(t,e),M={search:S,abortController:d,params:w,preload:T,context:v,location:t.location,navigate:B=>t.router.navigate({...B,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:T?"preload":E,matches:t.matches,routeId:i.id,...t.router.options.additionalContext},O=B=>{if(B===void 0){Vd(()=>{m(),x()});return}(Qi(B)||Ai(B))&&(m(),hd(t,n,B,"BEFORE_LOAD")),Vd(()=>{m(),t.updateMatch(e,W=>({...W,__beforeLoadContext:B})),x()})};let k;try{if(k=i.options.beforeLoad(M),Ic(k))return m(),k.catch(B=>{hd(t,n,B,"BEFORE_LOAD")}).then(O)}catch(B){m(),hd(t,n,B,"BEFORE_LOAD")}O(k)},sD=(t,e)=>{const{id:n,routeId:i}=t.matches[e],r=t.router.looseRoutesById[i],o=()=>h(),c=()=>rD(t,n,e,r),h=()=>{if(KC(t,n))return;const d=iD(t,n,r);return Ic(d)?d.then(c):c()};return o()},aD=(t,e,n)=>{const i=t.router.getMatch(e);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const r={ssr:t.router.options.ssr,matches:t.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(r),n.options.scripts?.(r),n.options.headers?.(r)]).then(([o,c,h])=>{const d=o?.meta,p=o?.links,m=o?.scripts,x=o?.styles;return{meta:d,links:p,headScripts:m,headers:h,scripts:c,styles:x}})},QC=(t,e,n,i)=>{const r=t.matchPromises[n-1],{params:o,loaderDeps:c,abortController:h,cause:d}=t.router.getMatch(e),p=Rc(t,n),m=Rm(t,e);return{params:o,deps:c,preload:!!m,parentMatchPromise:r,abortController:h,context:p,location:t.location,navigate:x=>t.router.navigate({...x,_fromLocation:t.location}),cause:m?"preload":d,route:i,...t.router.options.additionalContext}},r_=async(t,e,n,i)=>{try{const r=t.router.getMatch(e);try{(!(_P??t.router.isServer)||r.ssr===!0)&&JC(i);const o=i.options.loader?.(QC(t,e,n,i)),c=i.options.loader&&Ic(o);if((c||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||r._nonReactive.minPendingPromise)&&t.updateMatch(e,p=>({...p,isFetching:"loader"})),i.options.loader){const p=c?await o:o;va(t,t.router.getMatch(e),p),p!==void 0&&t.updateMatch(e,m=>({...m,loaderData:p}))}i._lazyPromise&&await i._lazyPromise;const d=r._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,t.updateMatch(e,p=>({...p,error:void 0,context:Rc(t,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(o){let c=o;if(c?.name==="AbortError"){if(r.abortController.signal.aborted){r._nonReactive.loaderPromise?.resolve(),r._nonReactive.loaderPromise=void 0;return}t.updateMatch(e,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:Rc(t,n)}));return}const h=r._nonReactive.minPendingPromise;h&&await h,Ai(o)&&await i.options.notFoundComponent?.preload?.(),va(t,t.router.getMatch(e),o);try{i.options.onError?.(o)}catch(d){c=d,va(t,t.router.getMatch(e),d)}t.updateMatch(e,d=>({...d,error:c,context:Rc(t,n),status:"error",isFetching:!1}))}}catch(r){const o=t.router.getMatch(e);o&&(o._nonReactive.loaderPromise=void 0),va(t,o,r)}},oD=async(t,e)=>{async function n(m,x,v,S){const w=Date.now()-x.updatedAt,E=m?S.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:S.options.staleTime??t.router.options.defaultStaleTime??0,T=S.options.shouldReload,M=typeof T=="function"?T(QC(t,i,e,S)):T,{status:O,invalid:k}=v;o=O==="success"&&(k||(M??w>E)),m&&S.options.preload===!1||(o&&!t.sync?(c=!0,(async()=>{try{await r_(t,i,e,S);const B=t.router.getMatch(i);B._nonReactive.loaderPromise?.resolve(),B._nonReactive.loadPromise?.resolve(),B._nonReactive.loaderPromise=void 0}catch(B){Qi(B)&&await t.router.navigate(B.options)}})()):(O!=="success"||o&&t.sync)&&await r_(t,i,e,S))}const{id:i,routeId:r}=t.matches[e];let o=!1,c=!1;const h=t.router.looseRoutesById[r];if(!KC(t,i)){const m=t.router.getMatch(i),x=Rm(t,i);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!t.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const v=t.router.getMatch(i),S=v._nonReactive.error||v.error;S&&va(t,v,S),v.status==="pending"&&await n(x,m,v,h)}else{const v=x&&!t.router.state.matches.some(w=>w.id===i),S=t.router.getMatch(i);S._nonReactive.loaderPromise=Lc(),v!==S.preload&&t.updateMatch(i,w=>({...w,preload:v})),await n(x,m,S,h)}}const d=t.router.getMatch(i);c||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,c||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const p=c?d.isFetching:!1;return p!==d.isFetching||d.invalid!==!1?(t.updateMatch(i,m=>({...m,isFetching:p,invalid:!1})),t.router.getMatch(i)):d};async function s_(t){const e=Object.assign(t,{matchPromises:[]});e.router.state.matches.some(n=>n._forcePending)&&Cp(e);try{for(let h=0;h<e.matches.length;h++){const d=sD(e,h);Ic(d)&&await d}const n=e.firstBadMatchIndex??e.matches.length;for(let h=0;h<n;h++)e.matchPromises.push(oD(e,h));const r=(await Promise.allSettled(e.matchPromises)).filter(h=>h.status==="rejected").map(h=>h.reason);let o;for(const h of r){if(Qi(h))throw h;!o&&Ai(h)&&(o=h)}for(const h of e.matches){const{id:d,routeId:p}=h,m=e.router.looseRoutesById[p];try{const x=aD(e,d,m);if(x){const v=await x;e.updateMatch(d,S=>({...S,...v}))}}catch(x){console.error(`Error executing head for route ${p}:`,x)}}if(o)throw o;const c=Cp(e);Ic(c)&&await c}catch(n){if(Ai(n)&&!e.preload){const i=Cp(e);throw Ic(i)&&await i,n}if(Qi(n))throw n}return e.matches}async function JC(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...i}=e.options;Object.assign(t.options,i),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const i of ZC){const r=t.options[i]?.preload;r&&n.push(r())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function XC(t){for(const e of ZC)if(t.options[e]?.preload)return!0;return!1}const ZC=["component","errorComponent","pendingComponent","notFoundComponent"];function lD(t){return{input:({url:e})=>{for(const n of t)e=_0(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=eA(t[n],e);return e}}}function cD(t){const e=qC(t.basepath),n=`/${e}`,i=`${n}/`,r=t.caseSensitive?n:n.toLowerCase(),o=t.caseSensitive?i:i.toLowerCase();return{input:({url:c})=>{const h=t.caseSensitive?c.pathname:c.pathname.toLowerCase();return h===r?c.pathname="/":h.startsWith(o)&&(c.pathname=c.pathname.slice(n.length)),c},output:({url:c})=>(c.pathname=Ep(["/",e,c.pathname]),c)}}function _0(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function eA(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function Bo(t){const e=t.resolvedLocation,n=t.location,i=e?.pathname!==n.pathname,r=e?.href!==n.href,o=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:i,hrefChanged:r,hashChanged:o}}class uD{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,r=this.basepath??i?.basepath??"/",o=this.basepath===void 0,c=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=zP(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=SP()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let v;this.resolvePathCache=Kp(1e3),v=this.buildRouteTree(),this.setRoutes(v)}!this.__store&&this.latestLocation&&(this.__store=new vP(hD(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),KP(this));let h=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(o||r!==d||c!==p){this.basepath=d;const v=[],S=qC(d);S&&S!=="/"&&v.push(cD({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:lD(v),this.history&&this.updateLatestLocation(),h=!0}h&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=OP(this.routeTree,this.options.caseSensitive,(i,r)=>{i.init({originalIndex:r})});return this.options.routeMasks&&RP(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const r={eventType:n,fn:i};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const r=({pathname:d,search:p,hash:m,href:x,state:v})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const O=this.options.parseSearch(p),k=this.options.stringifySearch(O);return{href:d+k+m,publicHref:x,pathname:ud(d).path,external:!1,searchStr:k,search:Ci(i?.search,O),hash:ud(m.slice(1)).path,state:Ci(i?.state,v)}}const S=new URL(x,this.origin),w=_0(this.rewrite,S),E=this.options.parseSearch(w.search),T=this.options.stringifySearch(E);return w.search=T,{href:w.href.replace(w.origin,""),publicHref:x,pathname:ud(w.pathname).path,external:!!this.rewrite&&w.origin!==this.origin,searchStr:T,search:Ci(i?.search,E),hash:ud(w.hash.slice(1)).path,state:Ci(i?.state,v)}},o=r(n),{__tempLocation:c,__tempKey:h}=o.state;if(c&&(!h||h===this.tempLocationKey)){const d=r(c);return d.state.key=o.state.key,d.state.__TSR_key=o.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,i)=>BP({base:n,to:Rv(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,r)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},r):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>fD({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(o=>o.status==="pending"),i=this.state.matches.filter(o=>o.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(o=>{this.cancelMatch(o.id)})},this.buildLocation=n=>{const i=(o={})=>{const c=o._fromLocation||this.pendingBuiltLocation||this.latestLocation,h=this.matchRoutesLightweight(c);o.from;const d=o.unsafeRelative==="path"?c.pathname:o.from??h.fullPath,p=this.resolvePathWithBase(d,"."),m=h.search,x={...h.params},v=o.to?this.resolvePathWithBase(p,`${o.to}`):this.resolvePathWithBase(p,"."),S=o.params===!1||o.params===null?{}:(o.params??!0)===!0?x:Object.assign(x,xa(o.params,x)),w=Sx({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,E=this.getMatchedRoutes(w);let T=E.matchedRoutes;(E.foundRoute?E.foundRoute.path!=="/"&&E.routeParams["**"]:us(w))&&this.options.notFoundRoute&&(T=[...T,this.options.notFoundRoute]);let O=!1;if(Object.keys(S).length>0)for(const F of T){const le=F.options.params?.stringify??F.options.stringifyParams;le&&(O=!0,Object.assign(S,le(S)))}const k=n.leaveParams?v:ud(O?Sx({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:w).path;let B=m;if(n._includeValidateSearch&&this.options.search?.strict){const F={};T.forEach(le=>{if(le.options.validateSearch)try{Object.assign(F,Ap(le.options.validateSearch,{...F,...B}))}catch{}}),B=F}B=pD({search:B,dest:o,destRoutes:T,_includeValidateSearch:n._includeValidateSearch}),B=Ci(m,B);const W=this.options.stringifySearch(B),K=o.hash===!0?c.hash:o.hash?xa(o.hash,c.hash):void 0,I=K?`#${K}`:"";let A=o.state===!0?c.state:o.state?xa(o.state,c.state):{};A=Ci(c.state,A);const R=`${k}${W}${I}`;let L,z,U=!1;if(this.rewrite){const F=new URL(R,this.origin),le=eA(this.rewrite,F);L=F.href.replace(F.origin,""),le.origin!==this.origin?(z=le.href,U=!0):z=le.pathname+le.search+le.hash}else L=AP(R),z=L;return{publicHref:z,href:L,pathname:k,search:B,searchStr:W,state:A,hash:K??"",external:U,unmaskOnReload:o.unmaskOnReload}},r=(o={},c)=>{const h=i(o);let d=c?i(c):void 0;if(!d){const p={};if(this.options.routeMasks){const m=NP(h.pathname,this.processedTree);if(m){Object.assign(p,m.rawParams);const{from:x,params:v,...S}=m.route,w=v===!1||v===null?{}:(v??!0)===!0?p:Object.assign(p,xa(v,p));c={from:n.from,...S,params:w},d=i(c)}}}return d&&(h.maskedLocation=d),h};return n.mask?r(n,{from:n.from,...n.mask}):r(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...r})=>{const o=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const p=Fo(r.state,this.latestLocation.state);return d.forEach(m=>{delete r.state[m]}),p},c=us(this.latestLocation.href)===us(r.href),h=this.commitLocationPromise;if(this.commitLocationPromise=Lc(()=>{h?.resolve()}),c&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...m}=r;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[r.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:r,viewTransition:o,ignoreBlocker:c,href:h,...d}={})=>{if(h){const x=this.history.location.state.__TSR_index,v=Gp(h,{__TSR_index:n?x:x+1}),S=new URL(v.pathname,this.origin),w=_0(this.rewrite,S);d.to=w.pathname,d.search=this.options.parseSearch(v.search),d.hash=v.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=p;const m=this.commitLocation({...p,viewTransition:o,replace:n,resetScroll:i,hashScrollIntoView:r,ignoreBlocker:c});return Promise.resolve().then(()=>{this.pendingBuiltLocation===p&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:i,href:r,publicHref:o,...c})=>{let h=!1;if(r)try{new URL(`${r}`),h=!0}catch{}if(h&&!i&&(i=!0),i){if(n!==void 0||!r){const p=this.buildLocation({to:n,...c});r=r??p.publicHref,o=o??p.publicHref}const d=!h&&o?o:r;if(Wp(d))return Promise.resolve();if(!c.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const x of m)if(x?.blockerFn&&await x.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return c.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...c,href:r,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(r=>!n.some(o=>o.id===r.id))}))},this.load=async n=>{let i,r,o;for(o=new Promise(h=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Bo({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...Bo({resolvedLocation:p,location:d})}),await s_({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],x=[],v=[];Vd(()=>{this.__store.setState(S=>{const w=S.matches,E=S.pendingMatches||S.matches;return m=w.filter(T=>!E.some(M=>M.id===T.id)),x=E.filter(T=>!w.some(M=>M.id===T.id)),v=E.filter(T=>w.some(M=>M.id===T.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...m.filter(T=>T.status!=="error"&&T.status!=="notFound")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[x,"onEnter"],[v,"onStay"]].forEach(([S,w])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[w]?.(E)})})})})}})}catch(d){Qi(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):Ai(d)&&(r=d),this.__store.setState(p=>({...p,statusCode:i?i.status:r?404:p.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),h()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;let c;this.hasNotFoundMatch()?c=404:this.__store.state.matches.some(h=>h.status==="error")&&(c=500),c!==void 0&&this.__store.setState(h=>({...h,statusCode:c}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,c=this.state.resolvedLocation,h=typeof i.types=="function"?i.types(Bo({resolvedLocation:c,location:o})):i.types;if(h===!1){n();return}r={update:n,types:h}}else r=n;document.startViewTransition(r)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(o=>o.id===n)?"pendingMatches":this.state.matches.some(o=>o.id===n)?"matches":this.state.cachedMatches.some(o=>o.id===n)?"cachedMatches":"";r&&this.__store.setState(o=>({...o,[r]:o[r]?.map(c=>c.id===n?i(c):c)}))})},this.getMatch=n=>{const i=r=>r.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=r=>n?.filter?.(r)??!0?{...r,invalid:!0,...n?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(i),cachedMatches:r.cachedMatches.map(i),pendingMatches:r.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const r=n.options._builtLocation??this.buildLocation(n.options),o=this.getParsedLocationHref(r);n.options.href=o,n.headers.set("Location",o)}else if(i)try{const r=new URL(i);if(this.origin&&r.origin===this.origin){const o=r.pathname+r.search+r.hash;n.options.href=o,n.headers.set("Location",o)}}catch{}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(o=>!i(o))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const r=this.looseRoutesById[i.routeId];if(!r.options.loader)return!0;const o=(i.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=o};this.clearCache({filter:n})},this.loadRouteChunk=JC,this.preloadRoute=async n=>{const i=this.buildLocation(n);let r=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(h=>h.id)),c=new Set([...o,...this.state.cachedMatches.map(h=>h.id)]);Vd(()=>{r.forEach(h=>{c.has(h.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,h]}))})});try{return r=await s_({router:this,matches:r,location:i,preload:!0,updateMatch:(h,d)=>{o.has(h)?r=r.map(p=>p.id===h?d(p):p):this.updateMatch(h,d)}}),r}catch(h){if(Qi(h))return h.options.reloadDocument?void 0:await this.preloadRoute({...h.options,_fromLocation:i});Ai(h)||console.error(h);return}},this.matchRoute=(n,i)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(r);if(i?.pending&&this.state.status!=="pending")return!1;const h=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=kP(o.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,h.pathname,this.processedTree);return!d||n.params&&!Fo(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Fo(h.search,o.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??ZP,parseSearch:e.parseSearch??XP}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:e,routesByPath:n,processedTree:i}){this.routesById=e,this.routesByPath=n,this.processedTree=i;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)}get looseRoutesById(){return this.routesById}getParentContext(e){return e?.id?e.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(e,n){const i=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:o,parsedParams:c}=i;let{matchedRoutes:h}=i,d=!1;(r?r.path!=="/"&&o["**"]:us(e.pathname))&&(this.options.notFoundRoute?h=[...h,this.options.notFoundRoute]:d=!0);const p=d?gD(this.options.notFoundMode,h):void 0,m=new Array(h.length),x=new Map(this.state.matches.map(v=>[v.routeId,v]));for(let v=0;v<h.length;v++){const S=h[v],w=m[v-1];let E,T,M;{const le=w?.search??e.search,ve=w?._strictSearch??void 0;try{const P=Ap(S.options.validateSearch,{...le})??void 0;E={...le,...P},T={...ve,...P},M=void 0}catch(P){let G=P;if(P instanceof Jp||(G=new Jp(P.message,{cause:P})),n?.throwOnError)throw G;E=le,T={},M=G}}const O=S.options.loaderDeps?.({search:E})??"",k=O?JSON.stringify(O):"",{interpolatedPath:B,usedParams:W}=Sx({path:S.fullPath,params:o,decoder:this.pathParamsDecoder,server:this.isServer}),K=S.id+B+k,I=this.getMatch(K),A=x.get(S.id),R=I?._strictParams??W;let L;if(!I)try{a_(S,W,c,R)}catch(le){if(Ai(le)||Qi(le)?L=le:L=new dD(le.message,{cause:le}),n?.throwOnError)throw L}Object.assign(o,R);const z=A?"stay":"enter";let U;if(I)U={...I,cause:z,params:A?.params??o,_strictParams:R,search:Ci(A?A.search:I.search,E),_strictSearch:T};else{const le=S.options.loader||S.options.beforeLoad||S.lazyFn||XC(S)?"pending":"success";U={id:K,ssr:S.options.ssr,index:v,routeId:S.id,params:A?.params??o,_strictParams:R,pathname:B,updatedAt:Date.now(),search:A?Ci(A.search,E):E,_strictSearch:T,searchError:void 0,status:le,isFetching:!1,error:void 0,paramsError:L,__routeContext:void 0,_nonReactive:{loadPromise:Lc()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:z,loaderDeps:A?Ci(A.loaderDeps,O):O,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:S.options.staticData||{},fullPath:S.fullPath}}n?.preload||(U.globalNotFound=p===S.id),U.searchError=M;const F=this.getParentContext(w);U.context={...F,...U.__routeContext,...U.__beforeLoadContext},m[v]=U}for(let v=0;v<m.length;v++){const S=m[v],w=this.looseRoutesById[S.routeId],E=this.getMatch(S.id),T=x.get(S.routeId);if(S.params=T?Ci(T.params,o):o,!E){const M=m[v-1],O=this.getParentContext(M);if(w.options.context){const k={deps:S.loaderDeps,params:S.params,context:O??{},location:e,navigate:B=>this.navigate({...B,_fromLocation:e}),buildLocation:this.buildLocation,cause:S.cause,abortController:S.abortController,preload:!!S.preload,matches:m,routeId:w.id};S.__routeContext=w.options.context(k)??void 0}S.context={...O,...S.__routeContext,...S.__beforeLoadContext}}}return m}matchRoutesLightweight(e){const{matchedRoutes:n,routeParams:i,parsedParams:r}=this.getMatchedRoutes(e.pathname),o=Xd(n),c={...e.search};for(const m of n)try{Object.assign(c,Ap(m.options.validateSearch,c))}catch{}const h=Xd(this.state.matches),d=h&&h.routeId===o.id&&e.pathname===this.state.location.pathname;let p;if(d)p=h.params;else{const m={...i};for(const x of n)try{a_(x,i,r??{},m)}catch{}p=m}return{matchedRoutes:n,fullPath:o.fullPath,search:c,params:p}}}class Jp extends Error{}class dD extends Error{}function hD(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Ap(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Jp("Async validation not supported");if(n.issues)throw new Jp(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function fD({pathname:t,routesById:e,processedTree:n}){const i={},r=us(t);let o,c;const h=PP(r,n,!0);return h&&(o=h.route,Object.assign(i,h.rawParams),c=Object.assign({},h.parsedParams)),{matchedRoutes:h?.branch||[e[Wi]],routeParams:i,foundRoute:o,parsedParams:c}}function pD({search:t,dest:e,destRoutes:n,_includeValidateSearch:i}){return mD(n)(t,e,i??!1)}function mD(t){const e={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const r of t){if("search"in r.options)r.options.search?.middlewares&&e.middlewares.push(...r.options.search.middlewares);else if(r.options.preSearchFilters||r.options.postSearchFilters){const o=({search:c,next:h})=>{let d=c;"preSearchFilters"in r.options&&r.options.preSearchFilters&&(d=r.options.preSearchFilters.reduce((m,x)=>x(m),c));const p=h(d);return"postSearchFilters"in r.options&&r.options.postSearchFilters?r.options.postSearchFilters.reduce((m,x)=>x(m),p):p};e.middlewares.push(o)}if(r.options.validateSearch){const o=({search:c,next:h})=>{const d=h(c);if(!e._includeValidateSearch)return d;try{return{...d,...Ap(r.options.validateSearch,d)??void 0}}catch{return d}};e.middlewares.push(o)}}const n=({search:r})=>{const o=e.dest;return o.search?o.search===!0?r:xa(o.search,r):{}};e.middlewares.push(n);const i=(r,o,c)=>{if(r>=c.length)return o;const h=c[r];return h({search:o,next:p=>i(r+1,p,c)})};return function(o,c,h){return e.dest=c,e._includeValidateSearch=h,i(0,o,e.middlewares)}}function gD(t,e){if(t!=="root")for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.children)return i.id}return Wi}function a_(t,e,n,i){const r=t.options.params?.parse??t.options.parseParams;if(r)if(t.options.skipRouteOnParseError)for(const o in e)o in n&&(i[o]=n[o]);else{const o=r(i);Object.assign(i,o)}}const yD="Error preloading route! ";class tA{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,r=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=Wi:this.parentRoute||xs(!1);let o=r?Wi:i?.path;o&&o!=="/"&&(o=GC(o));const c=i?.id||o;let h=r?Wi:Ep([this.parentRoute.id===Wi?"":this.parentRoute.id,c]);o===Wi&&(o="/"),h!==Wi&&(h=Ep(["/",h]));const d=h===Wi?"/":Ep([this.parentRoute.fullPath,o]);this._path=o,this._id=h,this._fullPath=d,this._to=us(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>nD({from:this.fullPath,...n}),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class xD extends tA{constructor(e){super(e)}}const Cd=typeof window<"u"?D.useLayoutEffect:D.useEffect;function _x(t){const e=D.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function vD(t,e,n={},i={}){D.useEffect(()=>{if(!t.current||i.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([o])=>{e(o)},n);return r.observe(t.current),()=>{r.disconnect()}},[e,n,i.disabled,t])}function bD(t){const e=D.useRef(null);return D.useImperativeHandle(t,()=>e.current,[]),e}function Nv(t){const e=t.errorComponent??kv;return l.jsx(SD,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:i})=>n?D.createElement(e,{error:n,reset:i}):t.children})}class SD extends D.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function kv({error:t}){const[e,n]=D.useState(!1);return l.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[l.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),l.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:e?"Hide Error":"Show Error"})]}),l.jsx("div",{style:{height:".25rem"}}),e?l.jsx("div",{children:l.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?l.jsx("code",{children:t.message}):null})}):null]})}function wD({children:t,fallback:e=null}){return nA()?l.jsx(vt.Fragment,{children:t}):l.jsx(vt.Fragment,{children:e})}function nA(){return vt.useSyncExternalStore(_D,()=>!0,()=>!1)}function _D(){return()=>{}}var Tx={exports:{}},Ex={},Cx={exports:{}},Ax={};var o_;function TD(){if(o_)return Ax;o_=1;var t=ph();function e(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function h(x,v){var S=v(),w=i({inst:{value:S,getSnapshot:v}}),E=w[0].inst,T=w[1];return o(function(){E.value=S,E.getSnapshot=v,d(E)&&T({inst:E})},[x,S,v]),r(function(){return d(E)&&T({inst:E}),x(function(){d(E)&&T({inst:E})})},[x]),c(S),S}function d(x){var v=x.getSnapshot;x=x.value;try{var S=v();return!n(x,S)}catch{return!0}}function p(x,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Ax.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Ax}var l_;function ED(){return l_||(l_=1,Cx.exports=TD()),Cx.exports}var c_;function CD(){if(c_)return Ex;c_=1;var t=ph(),e=ED();function n(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,o=t.useRef,c=t.useEffect,h=t.useMemo,d=t.useDebugValue;return Ex.useSyncExternalStoreWithSelector=function(p,m,x,v,S){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=h(function(){function M(K){if(!O){if(O=!0,k=K,K=v(K),S!==void 0&&E.hasValue){var I=E.value;if(S(I,K))return B=I}return B=K}if(I=B,i(k,K))return I;var A=v(K);return S!==void 0&&S(I,A)?(k=K,I):(k=K,B=A)}var O=!1,k,B,W=x===void 0?null:x;return[function(){return M(m())},W===null?void 0:function(){return M(W())}]},[m,x,v,S]);var T=r(p,w[0],w[1]);return c(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Ex}var u_;function AD(){return u_||(u_=1,Tx.exports=CD()),Tx.exports}var jD=AD();function ID(t,e=i=>i,n={}){const i=n.equal??RD;return jD.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,i)}function RD(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,r]of t)if(!e.has(i)||!Object.is(r,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=d_(t);if(n.length!==d_(e).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0}function d_(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const jx=D.createContext(null);function iA(){return typeof document>"u"?jx:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=jx,jx)}function wn(t){const e=D.useContext(iA());return t?.warn,e}function Ji(t){const e=wn({warn:t?.router===void 0}),n=t?.router||e,i=D.useRef(void 0);return ID(n.__store,r=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=Ci(i.current,t.select(r));return i.current=o,o}return t.select(r)}return r})}const Nm=D.createContext(void 0),ND=D.createContext(void 0);function Ir(t){const e=D.useContext(t.from?ND:Nm);return Ji({select:i=>{const r=i.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(xs(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function Pv(t){return Ir({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Dv(t){const{select:e,...n}=t;return Ir({...n,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function yh(t){return Ir({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function km(t){return Ir({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function xh(t){const e=wn();return D.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}function h_(t){const e=wn(),n=xh(),i=D.useRef(null);return Cd(()=>{i.current!==t&&(n(t),i.current=t)},[e,t,n]),null}var kD=IC();function PD(t,e){const n=wn(),i=bD(e),{activeProps:r,inactiveProps:o,activeOptions:c,to:h,preload:d,preloadDelay:p,hashScrollIntoView:m,replace:x,startTransition:v,resetScroll:S,viewTransition:w,children:E,target:T,disabled:M,style:O,className:k,onClick:B,onFocus:W,onMouseEnter:K,onMouseLeave:I,onTouchStart:A,ignoreBlocker:R,params:L,search:z,hash:U,state:F,mask:le,reloadDocument:ve,unsafeRelative:P,from:G,_fromLocation:ae,..._e}=t,be=nA(),H=Ji({select:Be=>Be.location.search,structuralSharing:!0}),se=t.from,ne=D.useMemo(()=>({...t,from:se}),[n,H,se,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),he=D.useMemo(()=>n.buildLocation({...ne}),[n,ne]),we=he.maskedLocation?he.maskedLocation.publicHref:he.publicHref,ye=he.maskedLocation?he.maskedLocation.external:he.external,De=D.useMemo(()=>FD(we,ye,n.history,M),[M,ye,we,n.history]),rt=D.useMemo(()=>{if(De?.external)return Wp(De.href)?void 0:De.href;if(!BD(h)&&!(typeof h!="string"||h.indexOf(":")===-1))try{return new URL(h),Wp(h)?void 0:h}catch{}},[h,De]),lt=Ji({select:Be=>{if(rt)return!1;if(c?.exact){if(!FP(Be.location.pathname,he.pathname,n.basepath))return!1}else{const Ye=Yp(Be.location.pathname,n.basepath),St=Yp(he.pathname,n.basepath);if(!(Ye.startsWith(St)&&(Ye.length===St.length||Ye[St.length]==="/")))return!1}return(c?.includeSearch??!0)&&!Fo(Be.location.search,he.search,{partial:!c?.exact,ignoreUndefined:!c?.explicitUndefined})?!1:c?.includeHash?be&&Be.location.hash===he.hash:!0}}),Je=lt?xa(r,{})??DD:Ix,Rt=lt?Ix:xa(o,{})??Ix,yn=[k,Je.className,Rt.className].filter(Boolean).join(" "),pi=(O||Je.style||Rt.style)&&{...O,...Je.style,...Rt.style},[jn,Bn]=D.useState(!1),mi=D.useRef(!1),ri=t.reloadDocument||rt?!1:d??n.options.defaultPreload,oe=p??n.options.defaultPreloadDelay??0,xe=D.useCallback(()=>{n.preloadRoute({...ne}).catch(Be=>{console.warn(Be),console.warn(yD)})},[n,ne]),Ee=D.useCallback(Be=>{Be?.isIntersecting&&xe()},[xe]);vD(i,Ee,VD,{disabled:!!M||ri!=="viewport"}),D.useEffect(()=>{mi.current||!M&&ri==="render"&&(xe(),mi.current=!0)},[M,xe,ri]);const ht=Be=>{const Ye=Be.currentTarget.getAttribute("target"),St=T!==void 0?T:Ye;if(!M&&!zD(Be)&&!Be.defaultPrevented&&(!St||St==="_self")&&Be.button===0){Be.preventDefault(),kD.flushSync(()=>{Bn(!0)});const kr=n.subscribe("onResolved",()=>{kr(),Bn(!1)});n.navigate({...ne,replace:x,resetScroll:S,hashScrollIntoView:m,startTransition:v,viewTransition:w,ignoreBlocker:R})}};if(rt)return{..._e,ref:i,href:rt,...E&&{children:E},...T&&{target:T},...M&&{disabled:M},...O&&{style:O},...k&&{className:k},...B&&{onClick:B},...W&&{onFocus:W},...K&&{onMouseEnter:K},...I&&{onMouseLeave:I},...A&&{onTouchStart:A}};const Nt=Be=>{M||ri&&xe()},Yn=Nt,kt=Be=>{if(!(M||!ri))if(!oe)xe();else{const Ye=Be.target;if(fd.has(Ye))return;const St=setTimeout(()=>{fd.delete(Ye),xe()},oe);fd.set(Ye,St)}},In=Be=>{if(M||!ri||!oe)return;const Ye=Be.target,St=fd.get(Ye);St&&(clearTimeout(St),fd.delete(Ye))};return{..._e,...Je,...Rt,href:De?.href,ref:i,onClick:pd([B,ht]),onFocus:pd([W,Nt]),onMouseEnter:pd([K,kt]),onMouseLeave:pd([I,In]),onTouchStart:pd([A,Yn]),disabled:!!M,target:T,...pi&&{style:pi},...yn&&{className:yn},...M&&OD,...lt&&MD,...be&&jn&&LD}}const Ix={},DD={className:"active"},OD={role:"link","aria-disabled":!0},MD={"data-status":"active","aria-current":"page"},LD={"data-transitioning":"transitioning"},fd=new WeakMap,VD={rootMargin:"100px"},pd=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}};function FD(t,e,n,i){if(!i)return e?{href:t,external:!0}:{href:n.createHref(t)||"/",external:!1}}function BD(t){if(typeof t!="string")return!1;const e=t.charCodeAt(0);return e===47?t.charCodeAt(1)!==47:e===46}const rA=D.forwardRef((t,e)=>{const{_asChild:n,...i}=t,{type:r,...o}=PD(i,e),c=typeof i.children=="function"?i.children({isActive:o["data-status"]==="active"}):i.children;if(!n){const{disabled:h,...d}=o;return D.createElement("a",d,c)}return D.createElement(n,o,c)});function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class UD extends tA{constructor(e){super(e),this.useMatch=n=>Ir({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>km({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>yh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Dv({...n,from:this.id}),this.useLoaderData=n=>Pv({...n,from:this.id}),this.useNavigate=()=>xh({from:this.fullPath}),this.Link=vt.forwardRef((n,i)=>l.jsx(rA,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function ki(t){return new UD(t)}class HD extends xD{constructor(e){super(e),this.useMatch=n=>Ir({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>km({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>yh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Dv({...n,from:this.id}),this.useLoaderData=n=>Pv({...n,from:this.id}),this.useNavigate=()=>xh({from:this.fullPath}),this.Link=vt.forwardRef((n,i)=>l.jsx(rA,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function $D(t){return new HD(t)}function f_(t){return typeof t=="object"?new p_(t,{silent:!0}).createRoute(t):new p_(t,{silent:!0}).createRoute}class p_{constructor(e,n){this.path=e,this.createRoute=i=>{this.silent;const r=ki(i);return r.isRoot=!1,r},this.silent=n?.silent}}class m_{constructor(e){this.useMatch=n=>Ir({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>km({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>yh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Dv({...n,from:this.options.id}),this.useLoaderData=n=>Pv({...n,from:this.options.id}),this.useNavigate=()=>{const n=wn();return xh({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function g_(t){return typeof t=="object"?new m_(t):e=>new m_({id:t,...e})}function GD(){const t=wn(),e=D.useRef({router:t,mounted:!1}),[n,i]=D.useState(!1),{hasPendingMatches:r,isLoading:o}=Ji({select:x=>({isLoading:x.isLoading,hasPendingMatches:x.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),c=_x(o),h=o||n||r,d=_x(h),p=o||r,m=_x(p);return t.startTransition=x=>{i(!0),D.startTransition(()=>{x(),i(!1)})},D.useEffect(()=>{const x=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return us(t.latestLocation.publicHref)!==us(v.publicHref)&&t.commitLocation({...v,replace:!0}),()=>{x()}},[t,t.history]),Cd(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),Cd(()=>{c&&!o&&t.emit({type:"onLoad",...Bo(t.state)})},[c,t,o]),Cd(()=>{m&&!p&&t.emit({type:"onBeforeRouteMount",...Bo(t.state)})},[p,m,t]),Cd(()=>{if(d&&!h){const x=Bo(t.state);t.emit({type:"onResolved",...x}),t.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})),x.hrefChanged&&YP(t)}},[h,d,t]),null}function qD(t){const e=Ji({select:n=>`not-found-${n.location.pathname}-${n.status}`});return l.jsx(Nv,{getResetKey:()=>e,onCatch:(n,i)=>{if(Ai(n))t.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(Ai(n))return t.fallback?.(n);throw n},children:t.children})}function WD(){return l.jsx("p",{children:"Not Found"})}function Kl(t){return l.jsx(l.Fragment,{children:t.children})}function sA(t,e,n){return e.options.notFoundComponent?l.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?l.jsx(t.options.defaultNotFoundComponent,{...n}):l.jsx(WD,{})}function KD(){return wn().isScrollRestoring,null}const aA=D.memo(function({matchId:e}){const n=wn(),i=Ji({select:E=>{const T=E.matches.findIndex(O=>O.id===e),M=E.matches[T];return xs(M),{routeId:M.routeId,ssr:M.ssr,_displayPending:M._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[T-1]?.routeId}},structuralSharing:!0}),r=n.routesById[i.routeId],o=r.options.pendingComponent??n.options.defaultPendingComponent,c=o?l.jsx(o,{}):null,h=r.options.errorComponent??n.options.defaultErrorComponent,d=r.options.onCatch??n.options.defaultOnCatch,p=r.isRoot?r.options.notFoundComponent??n.options.notFoundRoute?.options.component:r.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",x=(!r.isRoot||r.options.wrapInSuspense||m)&&(r.options.wrapInSuspense??o??(r.options.errorComponent?.preload||m))?D.Suspense:Kl,v=h?Nv:Kl,S=p?qD:Kl,w=r.isRoot?r.options.shellComponent??Kl:Kl;return l.jsxs(w,{children:[l.jsx(Nm.Provider,{value:e,children:l.jsx(x,{fallback:c,children:l.jsx(v,{getResetKey:()=>i.resetKey,errorComponent:h||kv,onCatch:(E,T)=>{if(Ai(E))throw E;d?.(E,T)},children:l.jsx(S,{fallback:E=>{if(!p||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!r.isRoot)throw E;return D.createElement(p,E)},children:m||i._displayPending?l.jsx(wD,{fallback:c,children:l.jsx(y_,{matchId:e})}):l.jsx(y_,{matchId:e})})})})}),i.parentRouteId===Wi&&n.options.scrollRestoration?l.jsxs(l.Fragment,{children:[l.jsx(YD,{}),l.jsx(KD,{})]}):null]})});function YD(){const t=wn(),e=D.useRef(void 0);return l.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...Bo(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const y_=D.memo(function({matchId:e}){const n=wn(),{match:i,key:r,routeId:o}=Ji({select:d=>{const p=d.matches.find(w=>w.id===e),m=p.routeId,v=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:m,match:{id:p.id,status:p.status,error:p.error,invalid:p.invalid,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),c=n.routesById[o],h=D.useMemo(()=>{const d=c.options.component??n.options.defaultComponent;return d?l.jsx(d,{},r):l.jsx(oA,{})},[r,c.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=c.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(i.id);if(p&&!p._nonReactive.minPendingPromise){const m=Lc();p._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return xs(Ai(i.error)),sA(n,c,i.error);if(i.status==="redirected")throw xs(Qi(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return h}),oA=D.memo(function(){const e=wn(),n=D.useContext(Nm),i=Ji({select:p=>p.matches.find(m=>m.id===n)?.routeId}),r=e.routesById[i],o=Ji({select:p=>{const x=p.matches.find(v=>v.id===n);return xs(x),x.globalNotFound}}),c=Ji({select:p=>{const m=p.matches,x=m.findIndex(v=>v.id===n);return m[x+1]?.id}}),h=e.options.defaultPendingComponent?l.jsx(e.options.defaultPendingComponent,{}):null;if(o)return sA(e,r,void 0);if(!c)return null;const d=l.jsx(aA,{matchId:c});return i===Wi?l.jsx(D.Suspense,{fallback:h,children:d}):d});function QD(){const t=wn(),n=t.routesById[Wi].options.pendingComponent??t.options.defaultPendingComponent,i=n?l.jsx(n,{}):null,r=typeof document<"u"&&t.ssr?Kl:D.Suspense,o=l.jsxs(r,{fallback:i,children:[l.jsx(GD,{}),l.jsx(JD,{})]});return t.options.InnerWrap?l.jsx(t.options.InnerWrap,{children:o}):o}function JD(){const t=wn(),e=Ji({select:r=>r.matches[0]?.id}),n=Ji({select:r=>r.loadedAt}),i=e?l.jsx(aA,{matchId:e}):null;return l.jsx(Nm.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?i:l.jsx(Nv,{getResetKey:()=>n,errorComponent:kv,onCatch:r=>{r.message||r.toString()},children:i})})}const XD=t=>new ZD(t);let ZD=class extends uD{constructor(e){super(e)}};typeof globalThis<"u"?(globalThis.createFileRoute=f_,globalThis.createLazyFileRoute=g_):typeof window<"u"&&(window.createFileRoute=f_,window.createLazyFileRoute=g_);function eO({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const i=iA(),r=l.jsx(i.Provider,{value:t,children:e});return t.options.Wrap?l.jsx(t.options.Wrap,{children:r}):r}function tO({router:t,...e}){return l.jsx(eO,{router:t,...e,children:l.jsx(QD,{})})}const nO=[{id:"dashboard",label:"Dashboard",section:"MAIN",icon:l.jsx(rO,{})},{id:"proposal-contract",label:"Proposal & Contract",section:"MAIN",icon:l.jsx(sO,{})},{id:"estates",label:"Estates",section:"MAIN",icon:l.jsx(aO,{})},{id:"users",label:"Users",section:"MANAGEMENT",icon:l.jsx(oO,{})},{id:"document-vault",label:"Document Vault",section:"MANAGEMENT",icon:l.jsx(lO,{})},{id:"notifications",label:"Notifications",section:"MANAGEMENT",icon:l.jsx(cO,{})},{id:"dev-dashboard",label:"Dev Dashboard",section:"DEVELOPMENT",icon:l.jsx(uO,{})},{id:"analytics",label:"Analytics",section:"DEVELOPMENT",icon:l.jsx(dO,{})},{id:"cost-tracking",label:"Cost Tracking",section:"DEVELOPMENT",icon:l.jsx(hO,{})},{id:"reports",label:"Reports",section:"DEVELOPMENT",icon:l.jsx(fO,{})},{id:"settings",label:"Settings",section:"SYSTEM",icon:l.jsx(pO,{})}];function iO(){const[t,e]=D.useState("proposal-contract"),n=nO.reduce((i,r)=>{const o=r.section||"OTHER";return i[o]||(i[o]=[]),i[o].push(r),i},{});return l.jsxs("aside",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-logo",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),l.jsx("path",{d:"M2 17l10 5 10-5"}),l.jsx("path",{d:"M2 12l10 5 10-5"})]}),l.jsx("span",{children:"Legacy"})]}),l.jsx("nav",{children:Object.entries(n).map(([i,r])=>l.jsxs("div",{children:[l.jsx("div",{className:"nav-section-label",children:i}),r.map(o=>l.jsxs("a",{className:`nav-item ${t===o.id?"active":""}`,onClick:()=>e(o.id),children:[o.icon,l.jsx("span",{children:o.label}),o.id==="proposal-contract"&&l.jsx("span",{style:{marginLeft:"auto",background:"#C8A951",color:"#000",padding:"2px 6px",borderRadius:"4px",fontSize:"9px",fontWeight:700,letterSpacing:"0.05em"},children:"ACTION REQ"})]},o.id))]},i))}),l.jsxs("div",{style:{marginTop:"auto",padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"linear-gradient(135deg, #C8A951, #D4AF37)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:700,fontSize:"0.75rem"},children:"AD"}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"white",fontSize:"0.875rem",fontWeight:500},children:"Admin"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.625rem"},children:"System Level"})]})]})]})}function rO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),l.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}function sO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),l.jsx("polyline",{points:"10 9 9 9 8 9"})]})}function aO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function oO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function lO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function cO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}function uO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("polyline",{points:"16 18 22 12 16 6"}),l.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function dO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),l.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),l.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}function hO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),l.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function fO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),l.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}function pO(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function mO({isLightTheme:t,onToggleTheme:e}){return l.jsxs("header",{className:"admin-header",style:{position:"sticky",top:0,zIndex:1e3,background:t?"#fff":"#022c22",borderBottom:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.1)"}`,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",height:"80px"},children:[l.jsxs("div",{className:"header-left",children:[l.jsx("h1",{style:{fontSize:"1.25rem",fontFamily:"Cinzel, serif",margin:0,color:t?"#022c22":"#C8A951"},children:"Master Service Agreement"}),l.jsx("p",{style:{fontSize:"0.75rem",margin:0,color:t?"#64748b":"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sirsi Engineering  Professional Services"})]}),l.jsxs("div",{className:"header-right",style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",border:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.2)"}`,borderRadius:"8px",padding:"8px 12px",color:t?"#022c22":"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease"},children:t?" Dark Mode":" Light Mode"}),l.jsx("div",{className:"avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#C8A951",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:"AD"})]})]})}const x_=t=>{let e;const n=new Set,i=(p,m)=>{const x=typeof p=="function"?p(e):p;if(!Object.is(x,e)){const v=e;e=m??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(S=>S(e,v))}},r=()=>e,h={setState:i,getState:r,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=e=t(i,r,h);return h},gO=(t=>t?x_(t):x_),yO=t=>t;function xO(t,e=yO){const n=vt.useSyncExternalStore(t.subscribe,vt.useCallback(()=>e(t.getState()),[t,e]),vt.useCallback(()=>e(t.getInitialState()),[t,e]));return vt.useDebugValue(n),n}const vO=t=>{const e=gO(t),n=i=>xO(e,i);return Object.assign(n,e),n},lA=(t=>vO);function cA(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var o;const c=d=>d===null?null:JSON.parse(d,void 0),h=(o=n.getItem(r))!=null?o:null;return h instanceof Promise?h.then(c):c(h)},setItem:(r,o)=>n.setItem(r,JSON.stringify(o,void 0)),removeItem:r=>n.removeItem(r)}}const T0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return T0(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return T0(i)(n)}}}},bO=(t,e)=>(n,i,r)=>{let o={storage:cA(()=>window.localStorage),partialize:T=>T,version:0,merge:(T,M)=>({...M,...T}),...e},c=!1,h=0;const d=new Set,p=new Set;let m=o.storage;if(!m)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...T)},i,r);const x=()=>{const T=o.partialize({...i()});return m.setItem(o.name,{state:T,version:o.version})},v=r.setState;r.setState=(T,M)=>(v(T,M),x());const S=t((...T)=>(n(...T),x()),i,r);r.getInitialState=()=>S;let w;const E=()=>{var T,M;if(!m)return;const O=++h;c=!1,d.forEach(B=>{var W;return B((W=i())!=null?W:S)});const k=((M=o.onRehydrateStorage)==null?void 0:M.call(o,(T=i())!=null?T:S))||void 0;return T0(m.getItem.bind(m))(o.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==o.version){if(o.migrate){const W=o.migrate(B.state,B.version);return W instanceof Promise?W.then(K=>[!0,K]):[!0,W]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var W;if(O!==h)return;const[K,I]=B;if(w=o.merge(I,(W=i())!=null?W:S),n(w,!0),K)return x()}).then(()=>{O===h&&(k?.(w,void 0),w=i(),c=!0,p.forEach(B=>B(w)))}).catch(B=>{O===h&&k?.(void 0,B)})};return r.persist={setOptions:T=>{o={...o,...T},T.storage&&(m=T.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>c,onHydrate:T=>(d.add(T),()=>{d.delete(T)}),onFinishHydration:T=>(p.add(T),()=>{p.delete(T)})},o.skipHydration||E(),w||S},uA=bO;var It;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(It||(It={}));function E0(t){const e=It[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let ap;function SO(t){if(!ap){ap={};for(const e of Object.values(It))typeof e!="string"&&(ap[E0(e)]=e)}return ap[t]}class mn extends Error{constructor(e,n=It.Unknown,i,r,o){super(wO(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=o}static from(e,n=It.Unknown){return e instanceof mn?e:e instanceof Error?e.name=="AbortError"?new mn(e.message,It.Canceled):new mn(e.message,n,void 0,void 0,e):new mn(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===mn.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n="typeName"in e?{findMessage:r=>r===e.typeName?e:void 0}:e,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const o=n.findMessage(r.type);if(o)try{i.push(o.fromBinary(r.value))}catch{}}return i}}function wO(t,e){return t.length?`[${E0(e)}] ${t}`:`[${E0(e)}]`}function Zt(t,e){if(!t)throw new Error(e)}const _O=34028234663852886e22,TO=-34028234663852886e22,EO=4294967295,CO=2147483647,AO=-2147483648;function jp(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>CO||t<AO)throw new Error("invalid int 32: "+t)}function C0(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>EO||t<0)throw new Error("invalid uint 32: "+t)}function dA(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>_O||t<TO))throw new Error("invalid float 32: "+t)}const hA=Symbol("@bufbuild/protobuf/enum-type");function jO(t){const e=t[hA];return Zt(e,"missing enum type on enum object"),e}function fA(t,e,n,i){t[hA]=pA(e,n.map(r=>({no:r.no,name:r.name,localName:t[r.no]})))}function pA(t,e,n){const i=Object.create(null),r=Object.create(null),o=[];for(const c of e){const h=mA(c);o.push(h),i[c.name]=h,r[c.no]=h}return{typeName:t,values:o,findName(c){return i[c]},findNumber(c){return r[c]}}}function IO(t,e,n){const i={};for(const r of e){const o=mA(r);i[o.localName]=o.no,i[o.no]=o.localName}return fA(i,t,e),i}function mA(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class Fe{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),r=i.runtime.bin,o=r.makeReadOptions(n);return r.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,n){const i=this.getType(),r=i.runtime.json,o=r.makeReadOptions(n);return r.readMessage(i,e,o,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(e),o=r.writerFactory();return i.writeMessage(this,o,r),o.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(e);return i.writeMessage(this,r)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function RO(t,e,n,i){var r;const o=(r=i?.localName)!==null&&r!==void 0?r:e.substring(e.lastIndexOf(".")+1),c={[o]:function(h){t.util.initFields(this),t.util.initPartial(h,this)}}[o];return Object.setPrototypeOf(c.prototype,new Fe),Object.assign(c,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(h,d){return new c().fromBinary(h,d)},fromJson(h,d){return new c().fromJson(h,d)},fromJsonString(h,d){return new c().fromJsonString(h,d)},equals(h,d){return t.util.equals(c,h,d)}}),c}function NO(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Rx(t,e,n){for(let o=0;o<28;o=o+7){const c=t>>>o,h=!(!(c>>>7)&&e==0),d=(h?c|128:c)&255;if(n.push(d),!h)return}const i=t>>>28&15|(e&7)<<4,r=e>>3!=0;if(n.push((r?i|128:i)&255),!!r){for(let o=3;o<31;o=o+7){const c=e>>>o,h=!!(c>>>7),d=(h?c|128:c)&255;if(n.push(d),!h)return}n.push(e>>>31&1)}}const Ip=4294967296;function v_(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function o(c,h){const d=Number(t.slice(c,h));r*=n,i=i*n+d,i>=Ip&&(r=r+(i/Ip|0),i=i%Ip)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?yA(i,r):Ov(i,r)}function kO(t,e){let n=Ov(t,e);const i=n.hi&2147483648;i&&(n=yA(n.lo,n.hi));const r=gA(n.lo,n.hi);return i?"-"+r:r}function gA(t,e){if({lo:t,hi:e}=PO(t,e),e<=2097151)return String(Ip*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535;let o=n+i*6777216+r*6710656,c=i+r*8147497,h=r*2;const d=1e7;return o>=d&&(c+=Math.floor(o/d),o%=d),c>=d&&(h+=Math.floor(c/d),c%=d),h.toString()+b_(c)+b_(o)}function PO(t,e){return{lo:t>>>0,hi:e>>>0}}function Ov(t,e){return{lo:t|0,hi:e|0}}function yA(t,e){return e=~e,t?t=~t+1:e+=1,Ov(t,e)}const b_=t=>{const e=String(t);return"0000000".slice(e.length)+e};function S_(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function DO(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var w_={};function OO(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof w_!="object"||w_.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),c=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>o||p<r)throw new Error(`int64 invalid: ${d}`);return p},uParse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>h||p<c)throw new Error(`uint64 invalid: ${d}`);return p},enc(d){return t.setBigInt64(0,this.parse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(d){return t.setBigInt64(0,this.uParse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigInt64(0,!0)},uDec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigUint64(0,!0)}}}const n=r=>Zt(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>Zt(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),v_(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),v_(r)},dec(r,o){return kO(r,o)},uDec(r,o){return gA(r,o)}}}const Ot=OO();var fe;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(fe||(fe={}));var Na;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(Na||(Na={}));function ua(t,e,n){if(e===n)return!0;if(t==fe.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(t){case fe.UINT64:case fe.FIXED64:case fe.INT64:case fe.SFIXED64:case fe.SINT64:return e==n}return!1}function Fc(t,e){switch(t){case fe.BOOL:return!1;case fe.UINT64:case fe.FIXED64:case fe.INT64:case fe.SFIXED64:case fe.SINT64:return e==0?Ot.zero:"0";case fe.DOUBLE:case fe.FLOAT:return 0;case fe.BYTES:return new Uint8Array(0);case fe.STRING:return"";default:return 0}}function xA(t,e){switch(t){case fe.BOOL:return e===!1;case fe.STRING:return e==="";case fe.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var an;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(an||(an={}));class MO{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(C0(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return jp(e),S_(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){dA(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){C0(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){jp(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return jp(e),e=(e<<1^e>>31)>>>0,S_(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Ot.enc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Ot.uEnc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=Ot.enc(e);return Rx(n.lo,n.hi,this.buf),this}sint64(e){let n=Ot.enc(e),i=n.hi>>31,r=n.lo<<1^i,o=(n.hi<<1|n.lo>>>31)^i;return Rx(r,o,this.buf),this}uint64(e){let n=Ot.uEnc(e);return Rx(n.lo,n.hi,this.buf),this}}class LO{constructor(e,n){this.varint64=NO,this.uint32=DO,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case an.Varint:for(;this.buf[this.pos++]&128;);break;case an.Bit64:this.pos+=4;case an.Bit32:this.pos+=4;break;case an.LengthDelimited:let r=this.uint32();this.pos+=r;break;case an.StartGroup:for(;;){const[o,c]=this.tag();if(c===an.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(c,o)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ot.dec(...this.varint64())}uint64(){return Ot.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,Ot.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ot.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ot.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function VO(t,e,n,i){let r;return{typeName:e,extendee:n,get field(){if(!r){const o=typeof i=="function"?i():i;o.name=e.split(".").pop(),o.jsonName=`[${e}]`,r=t.util.newFieldList([o]).list()[0]}return r},runtime:t}}function vA(t){const e=t.field.localName,n=Object.create(null);return n[e]=FO(t),[n,()=>n[e]]}function FO(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return Fc(e.T,e.L);case"message":const n=e.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function BO(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Pm=[];for(let t=0;t<ls.length;t++)Pm[ls[t].charCodeAt(0)]=t;Pm[45]=ls.indexOf("+");Pm[95]=ls.indexOf("/");const Dm={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,r=0,o,c=0;for(let h=0;h<t.length;h++){if(o=Pm[t.charCodeAt(h)],o===void 0)switch(t[h]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:c=o,r=1;break;case 1:n[i++]=c<<2|(o&48)>>4,c=o,r=2;break;case 2:n[i++]=(c&15)<<4|(o&60)>>2,c=o,r=3;break;case 3:n[i++]=(c&3)<<6|o,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(t){let e="",n=0,i,r=0;for(let o=0;o<t.length;o++)switch(i=t[o],n){case 0:e+=ls[i>>2],r=(i&3)<<4,n=1;break;case 1:e+=ls[r|i>>4],r=(i&15)<<2,n=2;break;case 2:e+=ls[r|i>>6],e+=ls[i&63],n=0;break}return n&&(e+=ls[r],e+="=",n==1&&(e+="=")),e}};function zO(t,e,n){SA(e,t);const i=e.runtime.bin.makeReadOptions(n),r=BO(t.getType().runtime.bin.listUnknownFields(t),e.field),[o,c]=vA(e);for(const h of r)e.runtime.bin.readField(o,i.readerFactory(h.data),e.field,h.wireType,i);return c()}function UO(t,e,n,i){SA(e,t);const r=e.runtime.bin.makeReadOptions(i),o=e.runtime.bin.makeWriteOptions(i);if(bA(t,e)){const p=t.getType().runtime.bin.listUnknownFields(t).filter(m=>m.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const m of p)t.getType().runtime.bin.onUnknownField(t,m.no,m.wireType,m.data)}const c=o.writerFactory();let h=e.field;!h.opt&&!h.repeated&&(h.kind=="enum"||h.kind=="scalar")&&(h=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(h,n,c,o);const d=r.readerFactory(c.finish());for(;d.pos<d.len;){const[p,m]=d.tag(),x=d.skip(m,p);t.getType().runtime.bin.onUnknownField(t,p,m,x)}}function bA(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(i=>i.no==e.field.no)}function SA(t,e){Zt(t.extendee.typeName==e.getType().typeName,`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}function wA(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!xA(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function __(t,e){const n=t.localName,i=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=i?t.T.values[0].no:void 0;break;case"scalar":e[n]=i?Fc(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function cs(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(Fe.prototype).every(i=>i in t&&typeof t[i]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function _A(t,e){return cs(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}fe.DOUBLE,fe.FLOAT,fe.INT64,fe.UINT64,fe.INT32,fe.UINT32,fe.BOOL,fe.STRING,fe.BYTES;const T_={ignoreUnknownFields:!1},E_={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function HO(t){return t?Object.assign(Object.assign({},T_),t):T_}function $O(t){return t?Object.assign(Object.assign({},E_),t):E_}const Xp=Symbol(),Rp=Symbol();function GO(){return{makeReadOptions:HO,makeWriteOptions:$O,readMessage(t,e,n,i){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${wr(e)}`);i=i??new t;const r=new Map,o=n.typeRegistry;for(const[c,h]of Object.entries(e)){const d=t.fields.findJsonName(c);if(d){if(d.oneof){if(h===null&&d.kind=="scalar")continue;const p=r.get(d.oneof);if(p!==void 0)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${d.oneof.name}" present: "${p}", "${c}"`);r.set(d.oneof,c)}C_(i,h,d,n,t)}else{let p=!1;if(o?.findExtension&&c.startsWith("[")&&c.endsWith("]")){const m=o.findExtension(c.substring(1,c.length-1));if(m&&m.extendee.typeName==t.typeName){p=!0;const[x,v]=vA(m);C_(x,h,m.field,n,m),UO(i,m,v(),n)}}if(!p&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${c}" is unknown`)}}return i},writeMessage(t,e){const n=t.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!wA(r,t)){if(r.req)throw"required field not set";if(!e.emitDefaultValues||!WO(r))continue}const c=r.oneof?t[r.oneof.localName].value:t[r.localName],h=A_(r,c,e);h!==void 0&&(i[e.useProtoFieldName?r.name:r.jsonName]=h)}const o=e.typeRegistry;if(o?.findExtensionFor)for(const c of n.runtime.bin.listUnknownFields(t)){const h=o.findExtensionFor(n.typeName,c.no);if(h&&bA(t,h)){const d=zO(t,h,e),p=A_(h.field,d,e);p!==void 0&&(i[h.field.jsonName]=p)}}}catch(o){const c=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,h=o instanceof Error?o.message:String(o);throw new Error(c+(h.length>0?`: ${h}`:""))}return i},readScalar(t,e,n){return Fd(t,e,n??Na.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||xA(t,e)))return Np(t,e)},debug:wr}}function wr(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function C_(t,e,n,i,r){let o=n.localName;if(n.repeated){if(Zt(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${wr(e)}`);const c=t[o];for(const h of e){if(h===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${wr(h)}`);switch(n.kind){case"message":c.push(n.T.fromJson(h,i));break;case"enum":const d=Nx(n.T,h,i.ignoreUnknownFields,!0);d!==Rp&&c.push(d);break;case"scalar":try{c.push(Fd(n.T,h,n.L,!0))}catch(p){let m=`cannot decode field ${r.typeName}.${n.name} from JSON: ${wr(h)}`;throw p instanceof Error&&p.message.length>0&&(m+=`: ${p.message}`),new Error(m)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${wr(e)}`);const c=t[o];for(const[h,d]of Object.entries(e)){if(d===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let p;try{p=qO(n.K,h)}catch(m){let x=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${wr(e)}`;throw m instanceof Error&&m.message.length>0&&(x+=`: ${m.message}`),new Error(x)}switch(n.V.kind){case"message":c[p]=n.V.T.fromJson(d,i);break;case"enum":const m=Nx(n.V.T,d,i.ignoreUnknownFields,!0);m!==Rp&&(c[p]=m);break;case"scalar":try{c[p]=Fd(n.V.T,d,Na.BIGINT,!0)}catch(x){let v=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${wr(e)}`;throw x instanceof Error&&x.message.length>0&&(v+=`: ${x.message}`),new Error(v)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:o},o="value"),n.kind){case"message":const c=n.T;if(e===null&&c.typeName!="google.protobuf.Value")return;let h=t[o];cs(h)?h.fromJson(e,i):(t[o]=h=c.fromJson(e,i),c.fieldWrapper&&!n.oneof&&(t[o]=c.fieldWrapper.unwrapField(h)));break;case"enum":const d=Nx(n.T,e,i.ignoreUnknownFields,!1);switch(d){case Xp:__(n,t);break;case Rp:break;default:t[o]=d;break}break;case"scalar":try{const p=Fd(n.T,e,n.L,!1);p===Xp?__(n,t):t[o]=p}catch(p){let m=`cannot decode field ${r.typeName}.${n.name} from JSON: ${wr(e)}`;throw p instanceof Error&&p.message.length>0&&(m+=`: ${p.message}`),new Error(m)}break}}function qO(t,e){if(t===fe.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return Fd(t,e,Na.BIGINT,!0).toString()}function Fd(t,e,n,i){if(e===null)return i?Fc(t,n):Xp;switch(t){case fe.DOUBLE:case fe.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==fe.FLOAT&&dA(r),r;case fe.INT32:case fe.FIXED32:case fe.SFIXED32:case fe.SINT32:case fe.UINT32:let o;if(typeof e=="number"?o=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(o=Number(e)),o===void 0)break;return t==fe.UINT32||t==fe.FIXED32?C0(o):jp(o),o;case fe.INT64:case fe.SFIXED64:case fe.SINT64:if(typeof e!="number"&&typeof e!="string")break;const c=Ot.parse(e);return n?c.toString():c;case fe.FIXED64:case fe.UINT64:if(typeof e!="number"&&typeof e!="string")break;const h=Ot.uParse(e);return n?h.toString():h;case fe.BOOL:if(typeof e!="boolean")break;return e;case fe.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case fe.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return Dm.dec(e)}throw new Error}function Nx(t,e,n,i){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:i?t.values[0].no:Xp;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r!==void 0)return r.no;if(n)return Rp;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${wr(e)}`)}function WO(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function A_(t,e,n){if(t.kind=="map"){Zt(typeof e=="object"&&e!=null);const i={},r=Object.entries(e);switch(t.V.kind){case"scalar":for(const[c,h]of r)i[c.toString()]=Np(t.V.T,h);break;case"message":for(const[c,h]of r)i[c.toString()]=h.toJson(n);break;case"enum":const o=t.V.T;for(const[c,h]of r)i[c.toString()]=kx(o,h,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(t.repeated){Zt(Array.isArray(e));const i=[];switch(t.kind){case"scalar":for(let r=0;r<e.length;r++)i.push(Np(t.T,e[r]));break;case"enum":for(let r=0;r<e.length;r++)i.push(kx(t.T,e[r],n.enumAsInteger));break;case"message":for(let r=0;r<e.length;r++)i.push(e[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(t.kind){case"scalar":return Np(t.T,e);case"enum":return kx(t.T,e,n.enumAsInteger);case"message":return _A(t.T,e).toJson(n)}}function kx(t,e,n){var i;if(Zt(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const r=t.findNumber(e);return(i=r?.name)!==null&&i!==void 0?i:e}function Np(t,e){switch(t){case fe.INT32:case fe.SFIXED32:case fe.SINT32:case fe.FIXED32:case fe.UINT32:return Zt(typeof e=="number"),e;case fe.FLOAT:case fe.DOUBLE:return Zt(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case fe.STRING:return Zt(typeof e=="string"),e;case fe.BOOL:return Zt(typeof e=="boolean"),e;case fe.UINT64:case fe.FIXED64:case fe.INT64:case fe.SFIXED64:case fe.SINT64:return Zt(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case fe.BYTES:return Zt(e instanceof Uint8Array),Dm.enc(e)}}const Gl=Symbol("@bufbuild/protobuf/unknown-fields"),j_={readUnknownFields:!0,readerFactory:t=>new LO(t)},I_={writeUnknownFields:!0,writerFactory:()=>new MO};function KO(t){return t?Object.assign(Object.assign({},j_),t):j_}function YO(t){return t?Object.assign(Object.assign({},I_),t):I_}function QO(){return{makeReadOptions:KO,makeWriteOptions:YO,listUnknownFields(t){var e;return(e=t[Gl])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[Gl]},writeUnknownFields(t,e){const i=t[Gl];if(i)for(const r of i)e.tag(r.no,r.wireType).raw(r.data)},onUnknownField(t,e,n,i){const r=t;Array.isArray(r[Gl])||(r[Gl]=[]),r[Gl].push({no:e,wireType:n,data:i})},readMessage(t,e,n,i,r){const o=t.getType(),c=r?e.len:e.pos+n;let h,d;for(;e.pos<c&&([h,d]=e.tag(),!(r===!0&&d==an.EndGroup));){const p=o.fields.find(h);if(!p){const m=e.skip(d,h);i.readUnknownFields&&this.onUnknownField(t,h,d,m);continue}R_(t,e,p,d,i)}if(r&&(d!=an.EndGroup||h!==n))throw new Error("invalid end group tag")},readField:R_,writeMessage(t,e,n){const i=t.getType();for(const r of i.fields.byNumber()){if(!wA(r,t)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const o=r.oneof?t[r.oneof.localName].value:t[r.localName];N_(r,o,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,i){e!==void 0&&N_(t,e,n,i)}}}function R_(t,e,n,i,r){let{repeated:o,localName:c}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=c&&delete t.value,t.case=c,c="value"),n.kind){case"scalar":case"enum":const h=n.kind=="enum"?fe.INT32:n.T;let d=Zp;if(n.kind=="scalar"&&n.L>0&&(d=XO),o){let v=t[c];if(i==an.LengthDelimited&&h!=fe.STRING&&h!=fe.BYTES){let w=e.uint32()+e.pos;for(;e.pos<w;)v.push(d(e,h))}else v.push(d(e,h))}else t[c]=d(e,h);break;case"message":const p=n.T;o?t[c].push(kp(e,new p,r,n)):cs(t[c])?kp(e,t[c],r,n):(t[c]=kp(e,new p,r,n),p.fieldWrapper&&!n.oneof&&!n.repeated&&(t[c]=p.fieldWrapper.unwrapField(t[c])));break;case"map":let[m,x]=JO(n,e,r);t[c][m]=x;break}}function kp(t,e,n,i){const r=e.getType().runtime.bin,o=i?.delimited;return r.readMessage(e,t,o?i.no:t.uint32(),n,o),e}function JO(t,e,n){const i=e.uint32(),r=e.pos+i;let o,c;for(;e.pos<r;){const[h]=e.tag();switch(h){case 1:o=Zp(e,t.K);break;case 2:switch(t.V.kind){case"scalar":c=Zp(e,t.V.T);break;case"enum":c=e.int32();break;case"message":c=kp(e,new t.V.T,n,void 0);break}break}}if(o===void 0&&(o=Fc(t.K,Na.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),c===void 0)switch(t.V.kind){case"scalar":c=Fc(t.V.T,Na.BIGINT);break;case"enum":c=t.V.T.values[0].no;break;case"message":c=new t.V.T;break}return[o,c]}function XO(t,e){const n=Zp(t,e);return typeof n=="bigint"?n.toString():n}function Zp(t,e){switch(e){case fe.STRING:return t.string();case fe.BOOL:return t.bool();case fe.DOUBLE:return t.double();case fe.FLOAT:return t.float();case fe.INT32:return t.int32();case fe.INT64:return t.int64();case fe.UINT64:return t.uint64();case fe.FIXED64:return t.fixed64();case fe.BYTES:return t.bytes();case fe.FIXED32:return t.fixed32();case fe.SFIXED32:return t.sfixed32();case fe.SFIXED64:return t.sfixed64();case fe.SINT64:return t.sint64();case fe.UINT32:return t.uint32();case fe.SINT32:return t.sint32()}}function N_(t,e,n,i){Zt(e!==void 0);const r=t.repeated;switch(t.kind){case"scalar":case"enum":let o=t.kind=="enum"?fe.INT32:t.T;if(r)if(Zt(Array.isArray(e)),t.packed)eM(n,o,t.no,e);else for(const c of e)Bd(n,o,t.no,c);else Bd(n,o,t.no,e);break;case"message":if(r){Zt(Array.isArray(e));for(const c of e)k_(n,i,t,c)}else k_(n,i,t,e);break;case"map":Zt(typeof e=="object"&&e!=null);for(const[c,h]of Object.entries(e))ZO(n,i,t,c,h);break}}function ZO(t,e,n,i,r){t.tag(n.no,an.LengthDelimited),t.fork();let o=i;switch(n.K){case fe.INT32:case fe.FIXED32:case fe.UINT32:case fe.SFIXED32:case fe.SINT32:o=Number.parseInt(i);break;case fe.BOOL:Zt(i=="true"||i=="false"),o=i=="true";break}switch(Bd(t,n.K,1,o),n.V.kind){case"scalar":Bd(t,n.V.T,2,r);break;case"enum":Bd(t,fe.INT32,2,r);break;case"message":Zt(r!==void 0),t.tag(2,an.LengthDelimited).bytes(r.toBinary(e));break}t.join()}function k_(t,e,n,i){const r=_A(n.T,i);n.delimited?t.tag(n.no,an.StartGroup).raw(r.toBinary(e)).tag(n.no,an.EndGroup):t.tag(n.no,an.LengthDelimited).bytes(r.toBinary(e))}function Bd(t,e,n,i){Zt(i!==void 0);let[r,o]=TA(e);t.tag(n,r)[o](i)}function eM(t,e,n,i){if(!i.length)return;t.tag(n,an.LengthDelimited).fork();let[,r]=TA(e);for(let o=0;o<i.length;o++)t[r](i[o]);t.join()}function TA(t){let e=an.Varint;switch(t){case fe.BYTES:case fe.STRING:e=an.LengthDelimited;break;case fe.DOUBLE:case fe.FIXED64:case fe.SFIXED64:e=an.Bit64;break;case fe.FIXED32:case fe.SFIXED32:case fe.FLOAT:e=an.Bit32;break}const n=fe[t].toLowerCase();return[e,n]}function tM(){return{setEnumType:fA,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const r=i.localName,o=e,c=t;if(c[r]!=null)switch(i.kind){case"oneof":const h=c[r].case;if(h===void 0)continue;const d=i.findField(h);let p=c[r].value;d&&d.kind=="message"&&!cs(p,d.T)?p=new d.T(p):d&&d.kind==="scalar"&&d.T===fe.BYTES&&(p=md(p)),o[r]={case:h,value:p};break;case"scalar":case"enum":let m=c[r];i.T===fe.BYTES&&(m=i.repeated?m.map(md):md(m)),o[r]=m;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===fe.BYTES)for(const[S,w]of Object.entries(c[r]))o[r][S]=md(w);else Object.assign(o[r],c[r]);break;case"message":const v=i.V.T;for(const S of Object.keys(c[r])){let w=c[r][S];v.fieldWrapper||(w=new v(w)),o[r][S]=w}break}break;case"message":const x=i.T;if(i.repeated)o[r]=c[r].map(v=>cs(v,x)?v:new x(v));else{const v=c[r];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?o[r]=md(v):o[r]=v:o[r]=cs(v,x)?v:new x(v)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(i=>{const r=e[i.localName],o=n[i.localName];if(i.repeated){if(r.length!==o.length)return!1;switch(i.kind){case"message":return r.every((c,h)=>i.T.equals(c,o[h]));case"scalar":return r.every((c,h)=>ua(i.T,c,o[h]));case"enum":return r.every((c,h)=>ua(fe.INT32,c,o[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let c=r,h=o;return i.T.fieldWrapper&&(c!==void 0&&!cs(c)&&(c=i.T.fieldWrapper.wrapField(c)),h!==void 0&&!cs(h)&&(h=i.T.fieldWrapper.wrapField(h))),i.T.equals(c,h);case"enum":return ua(fe.INT32,r,o);case"scalar":return ua(i.T,r,o);case"oneof":if(r.case!==o.case)return!1;const d=i.findField(r.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(r.value,o.value);case"enum":return ua(fe.INT32,r.value,o.value);case"scalar":return ua(d.T,r.value,o.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const p=Object.keys(r).concat(Object.keys(o));switch(i.V.kind){case"message":const m=i.V.T;return p.every(v=>m.equals(r[v],o[v]));case"enum":return p.every(v=>ua(fe.INT32,r[v],o[v]));case"scalar":const x=i.V.T;return p.every(v=>ua(x,r[v],o[v]))}break}})},clone(t){const e=t.getType(),n=new e,i=n;for(const r of e.fields.byMember()){const o=t[r.localName];let c;if(r.repeated)c=o.map(op);else if(r.kind=="map"){c=i[r.localName];for(const[h,d]of Object.entries(o))c[h]=op(d)}else r.kind=="oneof"?c=r.findField(o.case)?{case:o.case,value:op(o.value)}:{case:void 0}:c=op(o);i[r.localName]=c}for(const r of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function op(t){if(t===void 0)return t;if(cs(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function md(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function nM(t,e,n){return{syntax:t,json:GO(),bin:QO(),util:Object.assign(Object.assign({},tM()),{newFieldList:e,initFields:n}),makeMessageType(i,r,o){return RO(this,i,r,o)},makeEnum:IO,makeEnumType:pA,getEnumType:jO,makeExtension(i,r,o){return VO(this,i,r,o)}}}class iM{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function EA(t,e){const n=CA(t);return e?n:cM(lM(n))}function rM(t){return EA(t,!1)}const sM=CA;function CA(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const aM=new Set(["constructor","toString","toJSON","valueOf"]),oM=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),AA=t=>`${t}$`,lM=t=>oM.has(t)?AA(t):t,cM=t=>aM.has(t)?AA(t):t;class uM{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=rM(e)}addField(e){Zt(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function dM(t,e){var n,i,r,o,c,h;const d=[];let p;for(const m of typeof t=="function"?t():t){const x=m;if(x.localName=EA(m.name,m.oneof!==void 0),x.jsonName=(n=m.jsonName)!==null&&n!==void 0?n:sM(m.name),x.repeated=(i=m.repeated)!==null&&i!==void 0?i:!1,m.kind=="scalar"&&(x.L=(r=m.L)!==null&&r!==void 0?r:Na.BIGINT),x.delimited=(o=m.delimited)!==null&&o!==void 0?o:!1,x.req=(c=m.req)!==null&&c!==void 0?c:!1,x.opt=(h=m.opt)!==null&&h!==void 0?h:!1,m.packed===void 0&&(x.packed=m.kind=="enum"||m.kind=="scalar"&&m.T!=fe.BYTES&&m.T!=fe.STRING),m.oneof!==void 0){const v=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!p||p.name!=v)&&(p=new uM(v)),x.oneof=p,p.addField(x)}d.push(x)}return d}const Y=nM("proto3",t=>new iM(t,e=>dM(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=t;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Fc(e.T,e.L);break}}});var bt;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(bt||(bt={}));var A0;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(A0||(A0={}));function hM(...t){const e=new Headers;for(const n of t)n.forEach((i,r)=>{e.append(r,i)});return e}function fM(t,e){const n={};for(const[i,r]of Object.entries(t.methods)){const o=e(Object.assign(Object.assign({},r),{localName:i,service:t}));o!=null&&(n[i]=o)}return n}const P_=1;function pM(t){let e,n=new Uint8Array(0);function i(r){const o=new Uint8Array(n.length+r.length);o.set(n),o.set(r,n.length),n=o}return new ReadableStream({start(){e=t.getReader()},async pull(r){let o;for(;;){if(o===void 0&&n.byteLength>=5){let d=0;for(let p=1;p<5;p++)d=(d<<8)+n[p];o={flags:n[0],length:d}}if(o!==void 0&&n.byteLength>=o.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(o===void 0){if(n.byteLength==0){r.close();return}r.error(new mn("premature end of stream",It.DataLoss));return}const c=n.subarray(5,5+o.length);n=n.subarray(5+o.length),r.enqueue({flags:o.flags,data:c})}})}function mM(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,t),i.setUint32(1,e.length),n}var gM=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(c){return new Promise(function(h,d){c=t[o](c),r(h,d,c.done,c.value)})}}function r(o,c,h,d){Promise.resolve(d).then(function(p){o({value:p,done:h})},c)}},eh=function(t){return this instanceof eh?(this.v=t,this):new eh(t)},yM=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,M){o.push([S,E,T,M])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(o[0][3],E)}}function p(S){S.value instanceof eh?Promise.resolve(S.value.v).then(m,x):v(o[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),o.shift(),o.length&&d(o[0][0],o[0][1])}},xM=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,o){e[r]=t[r]?function(c){return(n=!n)?{value:eh(t[r](c)),done:!1}:o?o(c):c}:o}};function vM(t){return yM(this,arguments,function*(){yield eh(yield*xM(gM(t)))})}var jA=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(c){return new Promise(function(h,d){c=t[o](c),r(h,d,c.done,c.value)})}}function r(o,c,h,d){Promise.resolve(d).then(function(p){o({value:p,done:h})},c)}},Bc=function(t){return this instanceof Bc?(this.v=t,this):new Bc(t)},bM=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,o){e[r]=t[r]?function(c){return(n=!n)?{value:Bc(t[r](c)),done:!1}:o?o(c):c}:o}},SM=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,M){o.push([S,E,T,M])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(o[0][3],E)}}function p(S){S.value instanceof Bc?Promise.resolve(S.value.v).then(m,x):v(o[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),o.shift(),o.length&&d(o[0][0],o[0][1])}};function wM(t,e){return fM(t,n=>{switch(n.kind){case bt.Unary:return _M(e,t,n);case bt.ServerStreaming:return TM(e,t,n);case bt.ClientStreaming:return EM(e,t,n);case bt.BiDiStreaming:return CM(e,t,n);default:return null}})}function IA(t,e){return wM(t,e)}function _M(t,e,n){return async function(i,r){var o,c;const h=await t.unary(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues);return(o=r?.onHeader)===null||o===void 0||o.call(r,h.header),(c=r?.onTrailer)===null||c===void 0||c.call(r,h.trailer),h.message}}function TM(t,e,n){return function(i,r){return RA(t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,vM([i]),r?.contextValues),r)}}function EM(t,e,n){return async function(i,r){var o,c,h,d,p,m;const x=await t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues);(p=r?.onHeader)===null||p===void 0||p.call(r,x.header);let v,S=0;try{for(var w=!0,E=jA(x.message),T;T=await E.next(),o=T.done,!o;w=!0)d=T.value,w=!1,v=d,S++}catch(M){c={error:M}}finally{try{!w&&!o&&(h=E.return)&&await h.call(E)}finally{if(c)throw c.error}}if(!v)throw new mn("protocol error: missing response message",It.Unimplemented);if(S>1)throw new mn("protocol error: received extra messages for client streaming method",It.Unimplemented);return(m=r?.onTrailer)===null||m===void 0||m.call(r,x.trailer),v}}function CM(t,e,n){return function(i,r){return RA(t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues),r)}}function RA(t,e){const n=(function(){return SM(this,arguments,function*(){var i,r;const o=yield Bc(t);(i=e?.onHeader)===null||i===void 0||i.call(e,o.header),yield Bc(yield*bM(jA(o.message))),(r=e?.onTrailer)===null||r===void 0||r.call(e,o.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function AM(...t){const e=new AbortController,n=t.filter(r=>r!==void 0).concat(e.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(NA(this));for(const r of n)r.removeEventListener("abort",i)}return e}function jM(t){const e=new AbortController,n=()=>{e.abort(new mn("the operation timed out",It.DeadlineExceeded))};let i;return t!==void 0&&(t<=0?n():i=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function NA(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function D_(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function O_(t,e,n){const i=typeof e=="string"?e:e.typeName,r=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${i}/${r}`)}function kA(t,e){return e instanceof t?e:new t(e)}function IM(t,e){function n(i){return i.done===!0?i:{done:i.done,value:kA(t,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=o=>i.throw(o).then(n)),i.return!==void 0&&(r.return=o=>i.return(o).then(n)),r}}}function PA(t,e){var n;return(n=e?.concat().reverse().reduce((i,r)=>r(i),t))!==null&&n!==void 0?n:t}function DA(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function M_(t,e,n,i){const r=e?L_(t.I,i):V_(t.I,n);return{parse:(e?L_(t.O,i):V_(t.O,n)).parse,serialize:r.serialize}}function L_(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new mn(`parse binary: ${r}`,It.Internal)}},serialize(n){try{return n.toBinary(e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new mn(`serialize binary: ${r}`,It.Internal)}}}}function V_(t,e){var n,i;const r=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,o=(i=e?.textDecoder)!==null&&i!==void 0?i:new TextDecoder,c=DA(e);return{parse(h){try{const d=o.decode(h);return t.fromJsonString(d,c)}catch(d){throw mn.from(d,It.InvalidArgument)}},serialize(h){try{const d=h.toJsonString(c);return r.encode(d)}catch(d){throw mn.from(d,It.Internal)}}}}const RM=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,NM="application/proto",kM="application/json",PM="application/connect+proto",DM="application/connect+json";function OM(t){const e=t?.match(RM);if(!e)return;const n=!!e[1],i=!!e[3];return{stream:n,binary:i}}function OA(t,e,n){var i;if(e&&new Headers(e).forEach((h,d)=>n.metadata.append(d,h)),typeof t!="object"||t==null||Array.isArray(t))throw n;let r=n.code;"code"in t&&typeof t.code=="string"&&(r=(i=SO(t.code))!==null&&i!==void 0?i:r);const o=t.message;if(o!=null&&typeof o!="string")throw n;const c=new mn(o??"",r,e);if("details"in t&&Array.isArray(t.details))for(const h of t.details){if(h===null||typeof h!="object"||Array.isArray(h)||typeof h.type!="string"||typeof h.value!="string")throw n;try{c.details.push({type:h.type,value:Dm.dec(h.value),debug:h.debug})}catch{throw n}}return c}const F_=2;function MM(t){const e=new mn("invalid end stream",It.Unknown);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const i=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[o,c]of Object.entries(n.metadata)){if(!Array.isArray(c)||c.some(h=>typeof h!="string"))throw e;for(const h of c)i.append(o,h)}}const r="error"in n&&n.error!=null?OA(n.error,i,e):void 0;return{metadata:i,error:r}}const em="Content-Type",LM="Content-Length",B_="Content-Encoding",VM="Accept-Encoding",FM="Connect-Timeout-Ms",MA="Connect-Protocol-Version";function BM(t){switch(t){case 400:return It.Internal;case 401:return It.Unauthenticated;case 403:return It.PermissionDenied;case 404:return It.Unimplemented;case 429:return It.Unavailable;case 502:return It.Unavailable;case 503:return It.Unavailable;case 504:return It.Unavailable;default:return It.Unknown}}function z_(t){const e=new Headers,n=new Headers;return t.forEach((i,r)=>{r.toLowerCase().startsWith("trailer-")?n.append(r.substring(8),i):e.append(r,i)}),[e,n]}const LA="1";function U_(t,e,n,i,r){const o=new Headers(i??{});return n!==void 0&&o.set(FM,`${n}`),o.set(em,t==bt.Unary?e?NM:kM:e?PM:DM),o.set(MA,LA),o}function H_(t,e,n,i){const r=i.get(em),o=OM(r);if(n!==200){const h=new mn(`HTTP ${n}`,BM(n),i);if(t==bt.Unary&&o&&!o.binary)return{isUnaryError:!0,unaryError:h};throw h}const c={binary:e,stream:t!==bt.Unary};if(o?.binary!==c.binary||o.stream!==c.stream)throw new mn(`unsupported content type ${r}`,o===void 0?It.Unknown:It.Internal,i);return{isUnaryError:!1}}const $_="application/";function zM(t,e){return e?Dm.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function UM(t,e,n){let i=`?connect=v${LA}`;const r=t.header.get(em);r?.indexOf($_)===0&&(i+="&encoding="+encodeURIComponent(r.slice($_.length)));const o=t.header.get(B_);o!==null&&o!=="identity"&&(i+="&compression="+encodeURIComponent(o),n=!0),n&&(i+="&base64=1"),i+="&message="+zM(e,n);const c=t.url+i,h=new Headers(t.header);return[MA,em,LM,B_,VM].forEach(d=>h.delete(d)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:c,header:h})}function HM(t){const e=PA(t.next,t.interceptors),[n,i,r]=VA(t),o=Object.assign(Object.assign({},t.req),{message:kA(t.req.method.I,t.req.message),signal:n});return e(o).then(c=>(r(),c),i)}function $M(t){const e=PA(t.next,t.interceptors),[n,i,r]=VA(t),o=Object.assign(Object.assign({},t.req),{message:IM(t.req.method.I,t.req.message),signal:n});let c=!1;return n.addEventListener("abort",function(){var h,d;const p=t.req.message[Symbol.asyncIterator]();c||(h=p.throw)===null||h===void 0||h.call(p,this.reason).catch(()=>{}),(d=p.return)===null||d===void 0||d.call(p).catch(()=>{})}),e(o).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const d=h.message[Symbol.asyncIterator]();return{next(){return d.next().then(p=>(p.done==!0&&(c=!0,r()),p),i)}}}}}),i)}function VA(t){const{signal:e,cleanup:n}=jM(t.timeoutMs),i=AM(t.signal,e);return[i.signal,function(o){const c=mn.from(e.aborted?NA(e):o);return i.abort(c),n(),Promise.reject(c)},function(){n(),i.abort()}]}function GM(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var th=function(t){return this instanceof th?(this.v=t,this):new th(t)},qM=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,M){o.push([S,E,T,M])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(o[0][3],E)}}function p(S){S.value instanceof th?Promise.resolve(S.value.v).then(m,x):v(o[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),o.shift(),o.length&&d(o[0][0],o[0][1])}};function WM(t){var e;GM();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(i,r,o,c,h,d,p){var m;const{serialize:x,parse:v}=M_(r,n,t.jsonOptions,t.binaryOptions);return c=c===void 0?t.defaultTimeoutMs:c<=0?void 0:c,await HM({interceptors:t.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:i,method:r,url:O_(t.baseUrl,i,r),init:{method:"POST",credentials:(m=t.credentials)!==null&&m!==void 0?m:"same-origin",redirect:"error",mode:"cors"},header:U_(r.kind,n,c,h),contextValues:p??D_(),message:d},next:async S=>{var w;const E=t.useHttpGet===!0&&r.idempotency===A0.NoSideEffects;let T=null;E?S=UM(S,x(S.message),n):T=x(S.message);const O=await((w=t.fetch)!==null&&w!==void 0?w:globalThis.fetch)(S.url,Object.assign(Object.assign({},S.init),{headers:S.header,signal:S.signal,body:T})),{isUnaryError:k,unaryError:B}=H_(r.kind,n,O.status,O.headers);if(k)throw OA(await O.json(),hM(...z_(O.headers)),B);const[W,K]=z_(O.headers);return{stream:!1,service:i,method:r,header:W,message:n?v(new Uint8Array(await O.arrayBuffer())):r.O.fromJson(await O.json(),DA(t.jsonOptions)),trailer:K}}})},async stream(i,r,o,c,h,d,p){var m;const{serialize:x,parse:v}=M_(r,n,t.jsonOptions,t.binaryOptions);function S(E,T,M,O){return qM(this,arguments,function*(){const B=pM(E).getReader();let W=!1;for(;;){const K=yield th(B.read());if(K.done)break;const{flags:I,data:A}=K.value;if((I&P_)===P_)throw new mn("protocol error: received unsupported compressed output",It.Internal);if((I&F_)===F_){W=!0;const R=MM(A);if(R.error){const L=R.error;throw M.forEach((z,U)=>{L.metadata.append(U,z)}),L}R.metadata.forEach((L,z)=>T.set(z,L));continue}yield yield th(v(A))}if("throwIfAborted"in O&&O.throwIfAborted(),!W)throw"missing EndStreamResponse"})}async function w(E){if(r.kind!=bt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const T=await E[Symbol.asyncIterator]().next();if(T.done==!0)throw"missing request message";return mM(0,x(T.value))}return c=c===void 0?t.defaultTimeoutMs:c<=0?void 0:c,await $M({interceptors:t.interceptors,timeoutMs:c,signal:o,req:{stream:!0,service:i,method:r,url:O_(t.baseUrl,i,r),init:{method:"POST",credentials:(m=t.credentials)!==null&&m!==void 0?m:"same-origin",redirect:"error",mode:"cors"},header:U_(r.kind,n,c,h),contextValues:p??D_(),message:d},next:async E=>{var T;const O=await((T=t.fetch)!==null&&T!==void 0?T:globalThis.fetch)(E.url,Object.assign(Object.assign({},E.init),{headers:E.header,signal:E.signal,body:await w(E.message)}));if(H_(r.kind,n,O.status,O.headers),O.body===null)throw"missing response body";const k=new Headers;return Object.assign(Object.assign({},E),{header:O.headers,trailer:k,message:S(O.body,k,O.headers,E.signal)})}})}}}var sr=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.DRAFT=1]="DRAFT",t[t.ACTIVE=2]="ACTIVE",t[t.SIGNED=3]="SIGNED",t[t.PAID=4]="PAID",t[t.ARCHIVED=5]="ARCHIVED",t[t.WAITING_FOR_COUNTERSIGN=6]="WAITING_FOR_COUNTERSIGN",t[t.FULLY_EXECUTED=7]="FULLY_EXECUTED",t))(sr||{});Y.util.setEnumType(sr,"sirsi.contracts.v1.ContractStatus",[{no:0,name:"CONTRACT_STATUS_UNSPECIFIED"},{no:1,name:"CONTRACT_STATUS_DRAFT"},{no:2,name:"CONTRACT_STATUS_ACTIVE"},{no:3,name:"CONTRACT_STATUS_SIGNED"},{no:4,name:"CONTRACT_STATUS_PAID"},{no:5,name:"CONTRACT_STATUS_ARCHIVED"},{no:6,name:"CONTRACT_STATUS_WAITING_FOR_COUNTERSIGN"},{no:7,name:"CONTRACT_STATUS_FULLY_EXECUTED"}]);class Xl extends Fe{userId="";clientName="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreatePlaidLinkTokenRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9}]);static fromBinary(e,n){return new Xl().fromBinary(e,n)}static fromJson(e,n){return new Xl().fromJson(e,n)}static fromJsonString(e,n){return new Xl().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Xl,e,n)}}class Zl extends Fe{linkToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.PlaidLinkToken";static fields=Y.util.newFieldList(()=>[{no:1,name:"link_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Zl().fromBinary(e,n)}static fromJson(e,n){return new Zl().fromJson(e,n)}static fromJsonString(e,n){return new Zl().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Zl,e,n)}}class ec extends Fe{publicToken="";contractId="";accountId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ExchangePlaidTokenRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"public_token",kind:"scalar",T:9},{no:2,name:"contract_id",kind:"scalar",T:9},{no:3,name:"account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new ec().fromBinary(e,n)}static fromJson(e,n){return new ec().fromJson(e,n)}static fromJsonString(e,n){return new ec().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ec,e,n)}}class tc extends Fe{success=!1;stripeBankAccountToken="";message="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ExchangePlaidTokenResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"stripe_bank_account_token",kind:"scalar",T:9},{no:3,name:"message",kind:"scalar",T:9}]);static fromBinary(e,n){return new tc().fromBinary(e,n)}static fromJson(e,n){return new tc().fromJson(e,n)}static fromJsonString(e,n){return new tc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(tc,e,n)}}class ar extends Fe{id="";projectId="";clientName="";clientEmail="";projectName="";totalAmount=Ot.zero;paymentPlans=[];theme;status=0;createdAt=Ot.zero;updatedAt=Ot.zero;createdBy="";countersignerName="";countersignerEmail="";countersignedAt=Ot.zero;stripeConnectAccountId="";signatureImageData="";signatureHash="";legalAcknowledgment=!1;clientTitle="";countersignerSignatureImageData="";countersignerSignatureHash="";countersignerSignedAt=Ot.zero;countersignerTitle="";selectedPaymentPlan=0;paymentMethod="";paidAmount=Ot.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.Contract";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"project_id",kind:"scalar",T:9},{no:3,name:"client_name",kind:"scalar",T:9},{no:4,name:"client_email",kind:"scalar",T:9},{no:5,name:"project_name",kind:"scalar",T:9},{no:6,name:"total_amount",kind:"scalar",T:3},{no:7,name:"payment_plans",kind:"message",T:wo,repeated:!0},{no:8,name:"theme",kind:"message",T:ba},{no:9,name:"status",kind:"enum",T:Y.getEnumType(sr)},{no:10,name:"created_at",kind:"scalar",T:3},{no:11,name:"updated_at",kind:"scalar",T:3},{no:12,name:"created_by",kind:"scalar",T:9},{no:13,name:"countersigner_name",kind:"scalar",T:9},{no:14,name:"countersigner_email",kind:"scalar",T:9},{no:15,name:"countersigned_at",kind:"scalar",T:3},{no:20,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:16,name:"signature_image_data",kind:"scalar",T:9},{no:21,name:"signature_hash",kind:"scalar",T:9},{no:17,name:"legal_acknowledgment",kind:"scalar",T:8},{no:23,name:"client_title",kind:"scalar",T:9},{no:24,name:"countersigner_signature_image_data",kind:"scalar",T:9},{no:25,name:"countersigner_signature_hash",kind:"scalar",T:9},{no:26,name:"countersigner_signed_at",kind:"scalar",T:3},{no:27,name:"countersigner_title",kind:"scalar",T:9},{no:18,name:"selected_payment_plan",kind:"scalar",T:5},{no:19,name:"payment_method",kind:"scalar",T:9},{no:22,name:"paid_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new ar().fromBinary(e,n)}static fromJson(e,n){return new ar().fromJson(e,n)}static fromJsonString(e,n){return new ar().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ar,e,n)}}class wo extends Fe{id="";name="";description="";paymentCount=0;monthlyAmount=Ot.zero;totalAmount=Ot.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.PaymentPlan";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"payment_count",kind:"scalar",T:5},{no:5,name:"monthly_amount",kind:"scalar",T:3},{no:6,name:"total_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new wo().fromBinary(e,n)}static fromJson(e,n){return new wo().fromJson(e,n)}static fromJsonString(e,n){return new wo().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(wo,e,n)}}class ba extends Fe{primaryColor="";secondaryColor="";accentColor="";fontHeading="";fontBody="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.Theme";static fields=Y.util.newFieldList(()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9},{no:4,name:"font_heading",kind:"scalar",T:9},{no:5,name:"font_body",kind:"scalar",T:9}]);static fromBinary(e,n){return new ba().fromBinary(e,n)}static fromJson(e,n){return new ba().fromJson(e,n)}static fromJsonString(e,n){return new ba().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ba,e,n)}}class _o extends Fe{projectId="";clientName="";clientEmail="";projectName="";totalAmount=Ot.zero;paymentPlans=[];theme;countersignerName="";countersignerEmail="";stripeConnectAccountId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreateContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9},{no:3,name:"client_email",kind:"scalar",T:9},{no:4,name:"project_name",kind:"scalar",T:9},{no:5,name:"total_amount",kind:"scalar",T:3},{no:6,name:"payment_plans",kind:"message",T:wo,repeated:!0},{no:7,name:"theme",kind:"message",T:ba},{no:8,name:"countersigner_name",kind:"scalar",T:9},{no:9,name:"countersigner_email",kind:"scalar",T:9},{no:10,name:"stripe_connect_account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new _o().fromBinary(e,n)}static fromJson(e,n){return new _o().fromJson(e,n)}static fromJsonString(e,n){return new _o().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(_o,e,n)}}class nc extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GetContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new nc().fromBinary(e,n)}static fromJson(e,n){return new nc().fromJson(e,n)}static fromJsonString(e,n){return new nc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(nc,e,n)}}class To extends Fe{projectId="";pageSize=0;pageToken="";userEmail="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ListContractsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"page_token",kind:"scalar",T:9},{no:4,name:"user_email",kind:"scalar",T:9}]);static fromBinary(e,n){return new To().fromBinary(e,n)}static fromJson(e,n){return new To().fromJson(e,n)}static fromJsonString(e,n){return new To().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(To,e,n)}}class ic extends Fe{contracts=[];nextPageToken="";totalCount=0;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ListContractsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"contracts",kind:"message",T:ar,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9},{no:3,name:"total_count",kind:"scalar",T:5}]);static fromBinary(e,n){return new ic().fromBinary(e,n)}static fromJson(e,n){return new ic().fromJson(e,n)}static fromJsonString(e,n){return new ic().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ic,e,n)}}class Eo extends Fe{id="";contract;updateMask=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.UpdateContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"contract",kind:"message",T:ar},{no:3,name:"update_mask",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new Eo().fromBinary(e,n)}static fromJson(e,n){return new Eo().fromJson(e,n)}static fromJsonString(e,n){return new Eo().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Eo,e,n)}}class rc extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.DeleteContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new rc().fromBinary(e,n)}static fromJson(e,n){return new rc().fromJson(e,n)}static fromJsonString(e,n){return new rc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(rc,e,n)}}class sc extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.DeleteContractResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new sc().fromBinary(e,n)}static fromJson(e,n){return new sc().fromJson(e,n)}static fromJsonString(e,n){return new sc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(sc,e,n)}}class ac extends Fe{contractId="";themeOverride;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GeneratePageRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"theme_override",kind:"message",T:ba}]);static fromBinary(e,n){return new ac().fromBinary(e,n)}static fromJson(e,n){return new ac().fromJson(e,n)}static fromJsonString(e,n){return new ac().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ac,e,n)}}class oc extends Fe{html="";previewUrl="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GeneratePageResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"html",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new oc().fromBinary(e,n)}static fromJson(e,n){return new oc().fromJson(e,n)}static fromJsonString(e,n){return new oc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(oc,e,n)}}class lc extends Fe{contractId="";planId="";successUrl="";cancelUrl="";stripeConnectAccountId="";paymentMethodTypes=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreateCheckoutRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"plan_id",kind:"scalar",T:9},{no:3,name:"success_url",kind:"scalar",T:9},{no:4,name:"cancel_url",kind:"scalar",T:9},{no:5,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:6,name:"payment_method_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new lc().fromBinary(e,n)}static fromJson(e,n){return new lc().fromJson(e,n)}static fromJsonString(e,n){return new lc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(lc,e,n)}}class cc extends Fe{sessionId="";checkoutUrl="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CheckoutSession";static fields=Y.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"checkout_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new cc().fromBinary(e,n)}static fromJson(e,n){return new cc().fromJson(e,n)}static fromJsonString(e,n){return new cc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(cc,e,n)}}class uc extends Fe{subscriptionId="";eventTypes=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.EventRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"subscription_id",kind:"scalar",T:9},{no:2,name:"event_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new uc().fromBinary(e,n)}static fromJson(e,n){return new uc().fromJson(e,n)}static fromJsonString(e,n){return new uc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(uc,e,n)}}class dc extends Fe{eventId="";eventType="";payload="";timestamp=Ot.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.EventResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"event_type",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3}]);static fromBinary(e,n){return new dc().fromBinary(e,n)}static fromJson(e,n){return new dc().fromJson(e,n)}static fromJsonString(e,n){return new dc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(dc,e,n)}}const KM={typeName:"sirsi.contracts.v1.ContractsService",methods:{createContract:{name:"CreateContract",I:_o,O:ar,kind:bt.Unary},getContract:{name:"GetContract",I:nc,O:ar,kind:bt.Unary},listContracts:{name:"ListContracts",I:To,O:ic,kind:bt.Unary},updateContract:{name:"UpdateContract",I:Eo,O:ar,kind:bt.Unary},deleteContract:{name:"DeleteContract",I:rc,O:sc,kind:bt.Unary},generatePage:{name:"GeneratePage",I:ac,O:oc,kind:bt.Unary},createCheckoutSession:{name:"CreateCheckoutSession",I:lc,O:cc,kind:bt.Unary},createPlaidLinkToken:{name:"CreatePlaidLinkToken",I:Xl,O:Zl,kind:bt.Unary},exchangePlaidToken:{name:"ExchangePlaidToken",I:ec,O:tc,kind:bt.Unary},streamEvents:{name:"StreamEvents",I:uc,O:dc,kind:bt.BiDiStreaming}}};class Co extends Fe{id="";name="";ownerName="";status="";createdAt=Ot.zero;updatedAt=Ot.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.Estate";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"owner_name",kind:"scalar",T:9},{no:4,name:"status",kind:"scalar",T:9},{no:5,name:"created_at",kind:"scalar",T:3},{no:6,name:"updated_at",kind:"scalar",T:3}]);static fromBinary(e,n){return new Co().fromBinary(e,n)}static fromJson(e,n){return new Co().fromJson(e,n)}static fromJsonString(e,n){return new Co().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Co,e,n)}}class hc extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListEstatesRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new hc().fromBinary(e,n)}static fromJson(e,n){return new hc().fromJson(e,n)}static fromJsonString(e,n){return new hc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(hc,e,n)}}class fc extends Fe{estates=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListEstatesResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"estates",kind:"message",T:Co,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new fc().fromBinary(e,n)}static fromJson(e,n){return new fc().fromJson(e,n)}static fromJsonString(e,n){return new fc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(fc,e,n)}}class pc extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetEstateRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new pc().fromBinary(e,n)}static fromJson(e,n){return new pc().fromJson(e,n)}static fromJsonString(e,n){return new pc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(pc,e,n)}}class Ao extends Fe{developerId="";action="";metadata="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.LogDevSessionRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"developer_id",kind:"scalar",T:9},{no:2,name:"action",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ao().fromBinary(e,n)}static fromJson(e,n){return new Ao().fromJson(e,n)}static fromJsonString(e,n){return new Ao().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ao,e,n)}}class mc extends Fe{sessionId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.LogDevSessionResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new mc().fromBinary(e,n)}static fromJson(e,n){return new mc().fromJson(e,n)}static fromJsonString(e,n){return new mc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(mc,e,n)}}class jo extends Fe{userId="";role="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ManageUserRoleRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new jo().fromBinary(e,n)}static fromJson(e,n){return new jo().fromJson(e,n)}static fromJsonString(e,n){return new jo().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(jo,e,n)}}class gc extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ManageUserRoleResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new gc().fromBinary(e,n)}static fromJson(e,n){return new gc().fromJson(e,n)}static fromJsonString(e,n){return new gc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(gc,e,n)}}let YM=class Ad extends Fe{id="";email="";name="";role="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.User";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"email",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ad().fromBinary(e,n)}static fromJson(e,n){return new Ad().fromJson(e,n)}static fromJsonString(e,n){return new Ad().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ad,e,n)}};class Io extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListUsersRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Io().fromBinary(e,n)}static fromJson(e,n){return new Io().fromJson(e,n)}static fromJsonString(e,n){return new Io().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Io,e,n)}}class yc extends Fe{users=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListUsersResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"users",kind:"message",T:YM,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new yc().fromBinary(e,n)}static fromJson(e,n){return new yc().fromJson(e,n)}static fromJsonString(e,n){return new yc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(yc,e,n)}}class Ro extends Fe{recipientId="";title="";body="";type="";channel="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SendNotificationRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"recipient_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"type",kind:"scalar",T:9},{no:5,name:"channel",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ro().fromBinary(e,n)}static fromJson(e,n){return new Ro().fromJson(e,n)}static fromJsonString(e,n){return new Ro().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ro,e,n)}}class xc extends Fe{notificationId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SendNotificationResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"notification_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new xc().fromBinary(e,n)}static fromJson(e,n){return new xc().fromJson(e,n)}static fromJsonString(e,n){return new xc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(xc,e,n)}}class No extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListNotificationsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new No().fromBinary(e,n)}static fromJson(e,n){return new No().fromJson(e,n)}static fromJsonString(e,n){return new No().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(No,e,n)}}class vc extends Fe{notifications=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListNotificationsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"notifications",kind:"message",T:QM,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new vc().fromBinary(e,n)}static fromJson(e,n){return new vc().fromJson(e,n)}static fromJsonString(e,n){return new vc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(vc,e,n)}}let QM=class jd extends Fe{id="";recipientId="";title="";body="";type="";sentAt=Ot.zero;status="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.Notification";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"recipient_id",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"type",kind:"scalar",T:9},{no:6,name:"sent_at",kind:"scalar",T:3},{no:7,name:"status",kind:"scalar",T:9}]);static fromBinary(e,n){return new jd().fromBinary(e,n)}static fromJson(e,n){return new jd().fromJson(e,n)}static fromJsonString(e,n){return new jd().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(jd,e,n)}},Mv=class Id extends Fe{maintenanceMode=!1;activeRegion="";sirsiMultiplier=0;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SystemSettings";static fields=Y.util.newFieldList(()=>[{no:1,name:"maintenance_mode",kind:"scalar",T:8},{no:2,name:"active_region",kind:"scalar",T:9},{no:3,name:"sirsi_multiplier",kind:"scalar",T:1}]);static fromBinary(e,n){return new Id().fromBinary(e,n)}static fromJson(e,n){return new Id().fromJson(e,n)}static fromJsonString(e,n){return new Id().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Id,e,n)}};class ko extends Fe{constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetSettingsRequest";static fields=Y.util.newFieldList(()=>[]);static fromBinary(e,n){return new ko().fromBinary(e,n)}static fromJson(e,n){return new ko().fromJson(e,n)}static fromJsonString(e,n){return new ko().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ko,e,n)}}class bc extends Fe{settings;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetSettingsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Mv}]);static fromBinary(e,n){return new bc().fromBinary(e,n)}static fromJson(e,n){return new bc().fromJson(e,n)}static fromJsonString(e,n){return new bc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(bc,e,n)}}class Po extends Fe{settings;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.UpdateSettingsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Mv}]);static fromBinary(e,n){return new Po().fromBinary(e,n)}static fromJson(e,n){return new Po().fromJson(e,n)}static fromJsonString(e,n){return new Po().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Po,e,n)}}class Sc extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.UpdateSettingsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new Sc().fromBinary(e,n)}static fromJson(e,n){return new Sc().fromJson(e,n)}static fromJsonString(e,n){return new Sc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Sc,e,n)}}class Do extends Fe{pageSize=0;pageToken="";filterLevel="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListAuditTrailRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9},{no:3,name:"filter_level",kind:"scalar",T:9}]);static fromBinary(e,n){return new Do().fromBinary(e,n)}static fromJson(e,n){return new Do().fromJson(e,n)}static fromJsonString(e,n){return new Do().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Do,e,n)}}class wc extends Fe{logs=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListAuditTrailResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"logs",kind:"message",T:_c,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new wc().fromBinary(e,n)}static fromJson(e,n){return new wc().fromJson(e,n)}static fromJsonString(e,n){return new wc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(wc,e,n)}}class _c extends Fe{id="";timestamp=Ot.zero;level="";source="";message="";user="";metadata="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.AuditLogEntry";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"level",kind:"scalar",T:9},{no:4,name:"source",kind:"scalar",T:9},{no:5,name:"message",kind:"scalar",T:9},{no:6,name:"user",kind:"scalar",T:9},{no:7,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new _c().fromBinary(e,n)}static fromJson(e,n){return new _c().fromJson(e,n)}static fromJsonString(e,n){return new _c().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(_c,e,n)}}const JM={typeName:"sirsi.admin.v1.AdminService",methods:{listEstates:{name:"ListEstates",I:hc,O:fc,kind:bt.Unary},getEstate:{name:"GetEstate",I:pc,O:Co,kind:bt.Unary},logDevSession:{name:"LogDevSession",I:Ao,O:mc,kind:bt.Unary},manageUserRole:{name:"ManageUserRole",I:jo,O:gc,kind:bt.Unary},listUsers:{name:"ListUsers",I:Io,O:yc,kind:bt.Unary},sendNotification:{name:"SendNotification",I:Ro,O:xc,kind:bt.Unary},listNotifications:{name:"ListNotifications",I:No,O:vc,kind:bt.Unary},getSettings:{name:"GetSettings",I:ko,O:bc,kind:bt.Unary},updateSettings:{name:"UpdateSettings",I:Po,O:Sc,kind:bt.Unary},listAuditTrail:{name:"ListAuditTrail",I:Do,O:wc,kind:bt.Unary}}};var G_={};const FA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},XM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=o>>2,x=(o&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||p==null||x==null)throw new ZM;const v=o<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let ZM=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const e4=function(t){const e=FA(t);return BA.encodeByteArray(e,!0)},zA=function(t){return e4(t).replace(/\./g,"")},t4=function(t){try{return BA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const i4=()=>n4().__FIREBASE_DEFAULTS__,r4=()=>{if(typeof process>"u"||typeof G_>"u")return;const t=G_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t4(t[1]);return e&&JSON.parse(e)},a4=()=>{try{return i4()||r4()||s4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UA=()=>{var t;return(t=a4())===null||t===void 0?void 0:t.config};class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function l4(){try{return typeof indexedDB=="object"}catch{return!1}}function c4(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}const u4="FirebaseError";let Lv=class HA extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=u4,Object.setPrototypeOf(this,HA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$A.prototype.create)}},$A=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?d4(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Lv(r,h,i)}};function d4(t,e){return t.replace(h4,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const h4=/\{\$([^}]+)}/g;function j0(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],c=e[r];if(q_(o)&&q_(c)){if(!j0(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function q_(t){return t!==null&&typeof t=="object"}let tm=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const mo="[DEFAULT]";let f4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new o4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p4(t){return t===mo?void 0:t}function m4(t){return t.instantiationMode==="EAGER"}class g4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zt||(zt={}));const y4={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},x4=zt.INFO,v4={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},b4=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=v4[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let S4=class{constructor(e){this.name=e,this._logLevel=x4,this._logHandler=b4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}};const w4=(t,e)=>e.some(n=>t instanceof n);let W_,K_;function _4(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GA=new WeakMap,I0=new WeakMap,qA=new WeakMap,Px=new WeakMap,Vv=new WeakMap;function E4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Ea(t.result)),r()},c=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GA.set(n,t)}).catch(()=>{}),Vv.set(e,t),e}function C4(t){if(I0.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});I0.set(t,e)}let R0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A4(t){R0=t(R0)}function j4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Dx(this),e,...n);return qA.set(i,e.sort?e.sort():[e]),Ea(i)}:T4().includes(t)?function(...e){return t.apply(Dx(this),e),Ea(GA.get(this))}:function(...e){return Ea(t.apply(Dx(this),e))}}function I4(t){return typeof t=="function"?j4(t):(t instanceof IDBTransaction&&C4(t),w4(t,_4())?new Proxy(t,R0):t)}function Ea(t){if(t instanceof IDBRequest)return E4(t);if(Px.has(t))return Px.get(t);const e=I4(t);return e!==t&&(Px.set(t,e),Vv.set(e,t)),e}const Dx=t=>Vv.get(t);function R4(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(t,e),h=Ea(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ea(c.result),d.oldVersion,d.newVersion,Ea(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const N4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Ox=new Map;function Y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ox.get(e))return Ox.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=k4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||N4.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),r&&d.done]))[0]};return Ox.set(e,o),o}A4(t=>({...t,get:(e,n,i)=>Y_(e,n)||t.get(e,n,i),has:(e,n)=>!!Y_(e,n)||t.has(e,n)}));class P4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function D4(t){const e=t.getComponent();return e?.type==="VERSION"}const N0="@firebase/app",Q_="0.10.13";const vs=new S4("@firebase/app"),O4="@firebase/app-compat",M4="@firebase/analytics-compat",L4="@firebase/analytics",V4="@firebase/app-check-compat",F4="@firebase/app-check",B4="@firebase/auth",z4="@firebase/auth-compat",U4="@firebase/database",H4="@firebase/data-connect",$4="@firebase/database-compat",G4="@firebase/functions",q4="@firebase/functions-compat",W4="@firebase/installations",K4="@firebase/installations-compat",Y4="@firebase/messaging",Q4="@firebase/messaging-compat",J4="@firebase/performance",X4="@firebase/performance-compat",Z4="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",i3="@firebase/firestore",r3="@firebase/vertexai-preview",s3="@firebase/firestore-compat",a3="firebase",o3="10.14.1";const k0="[DEFAULT]",l3={[N0]:"fire-core",[O4]:"fire-core-compat",[L4]:"fire-analytics",[M4]:"fire-analytics-compat",[F4]:"fire-app-check",[V4]:"fire-app-check-compat",[B4]:"fire-auth",[z4]:"fire-auth-compat",[U4]:"fire-rtdb",[H4]:"fire-data-connect",[$4]:"fire-rtdb-compat",[G4]:"fire-fn",[q4]:"fire-fn-compat",[W4]:"fire-iid",[K4]:"fire-iid-compat",[Y4]:"fire-fcm",[Q4]:"fire-fcm-compat",[J4]:"fire-perf",[X4]:"fire-perf-compat",[Z4]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[i3]:"fire-fst",[s3]:"fire-fst-compat",[r3]:"fire-vertex","fire-js":"fire-js",[a3]:"fire-js-all"};const nm=new Map,c3=new Map,P0=new Map;function J_(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ko(t){const e=t.name;if(P0.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,t);for(const n of nm.values())J_(n,t);for(const n of c3.values())J_(n,t);return!0}function Fv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t.settings!==void 0}const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new $A("app","Firebase",u3);class d3{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const Om=o3;function WA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:k0,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ca.create("bad-app-name",{appName:String(r)});if(n||(n=UA()),!n)throw Ca.create("no-options");const o=nm.get(r);if(o){if(j0(n,o.options)&&j0(i,o.config))return o;throw Ca.create("duplicate-app",{appName:r})}const c=new g4(r);for(const d of P0.values())c.addComponent(d);const h=new d3(n,i,c);return nm.set(r,h),h}function KA(t=k0){const e=nm.get(t);if(!e&&t===k0&&UA())return WA();if(!e)throw Ca.create("no-app",{appName:t});return e}function Er(t,e,n){var i;let r=(i=l3[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(h.join(" "));return}Ko(new tm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const h3="firebase-heartbeat-database",f3=1,nh="firebase-heartbeat-store";let Mx=null;function YA(){return Mx||(Mx=R4(h3,f3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),Mx}async function p3(t){try{const n=(await YA()).transaction(nh),i=await n.objectStore(nh).get(QA(t));return await n.done,i}catch(e){if(e instanceof Lv)vs.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}}async function X_(t,e){try{const i=(await YA()).transaction(nh,"readwrite");await i.objectStore(nh).put(e,QA(t)),await i.done}catch(n){if(n instanceof Lv)vs.warn(n.message);else{const i=Ca.create("idb-set",{originalErrorMessage:n?.message});vs.warn(i.message)}}}function QA(t){return`${t.name}!${t.options.appId}`}const m3=1024,g3=720*60*60*1e3;class y3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=g3}),this._storage.overwrite(this._heartbeatsCache))}catch(i){vs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:i,unsentEntries:r}=x3(this._heartbeatsCache.heartbeats),o=zA(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vs.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function x3(t,e=m3){const n=[];let i=t.slice();for(const r of t){const o=n.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),eT(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),eT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l4()?c4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eT(t){return zA(JSON.stringify({version:2,heartbeats:t})).length}function b3(t){Ko(new tm("platform-logger",e=>new P4(e),"PRIVATE")),Ko(new tm("heartbeat",e=>new y3(e),"PRIVATE")),Er(N0,Q_,t),Er(N0,Q_,"esm2017"),Er("fire-js","")}b3("");var S3="firebase",w3="10.14.1";Er(S3,w3,"app");var tT={};const _3=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},T3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},E3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=o>>2,x=(o&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||p==null||x==null)throw new C3;const v=o<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let C3=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const JA=function(t){try{return E3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function A3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const j3=()=>A3().__FIREBASE_DEFAULTS__,I3=()=>{if(typeof process>"u"||typeof tT>"u")return;const t=tT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JA(t[1]);return e&&JSON.parse(e)},N3=()=>{try{return j3()||I3()||R3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k3=t=>{var e;return(e=N3())===null||e===void 0?void 0:e[`_${t}`]};function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function D3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L3(){const t=Ii();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}const V3="FirebaseError";let Mm=class XA extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=V3,Object.setPrototypeOf(this,XA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lm.prototype.create)}},Lm=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?F3(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Mm(r,h,i)}};function F3(t,e){return t.replace(B3,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const B3=/\{\$([^}]+)}/g;function ZA(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],c=e[r];if(nT(o)&&nT(c)){if(!ZA(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nT(t){return t!==null&&typeof t=="object"}function Bv(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Rd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Nd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function z3(t,e){const n=new U3(t,e);return n.subscribe.bind(n)}class U3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");H3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Lx),r.error===void 0&&(r.error=Lx),r.complete===void 0&&(r.complete=Lx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lx(){}function nl(t){return t&&t._delegate?t._delegate:t}var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const $3={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},G3=Dt.INFO,q3={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},W3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=q3[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let K3=class{constructor(e){this.name=e,this._logLevel=G3,this._logHandler=W3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}};function zv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}let iT=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function e5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y3=e5,t5=new Lm("auth","Firebase",e5());const im=new K3("@firebase/auth");function Q3(t,...e){im.logLevel<=Dt.WARN&&im.warn(`Auth (${Om}): ${t}`,...e)}function Pp(t,...e){im.logLevel<=Dt.ERROR&&im.error(`Auth (${Om}): ${t}`,...e)}function Rr(t,...e){throw Hv(t,...e)}function zo(t,...e){return Hv(t,...e)}function Uv(t,e,n){const i=Object.assign(Object.assign({},Y3()),{[e]:n});return new Lm("auth","Firebase",i).create(e,{appName:t.name})}function Aa(t){return Uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Rr(t,"argument-error"),Uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return t5.create(t,...e)}function Ke(t,e,...n){if(!t)throw Hv(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function Yo(t,e){t||ds(e)}function X3(){return rT()==="http:"||rT()==="https:"}function rT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Z3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||O3()||"connection"in navigator)?navigator.onLine:!0}function eL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yo(n>e,"Short delay should be less than long delay!"),this.isMobile=P3()||M3()}get(){return Z3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tL(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class n5{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iL=new vh(3e4,6e4);function Va(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fa(t,e,n,i,r={}){return i5(t,r,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const h=Bv(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},o);return D3()||(p.referrerPolicy="no-referrer"),n5.fetch()(r5(t,t.config.apiHost,n,h),p)})}async function i5(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},nL),e);try{const r=new sL(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw lp(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw lp(t,"user-disabled",c);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Uv(t,m,p);Rr(t,m)}}catch(r){if(r instanceof Mm)throw r;Rr(t,"network-request-failed",{message:String(r)})}}async function bh(t,e,n,i,r={}){const o=await Fa(t,e,n,i,r);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function r5(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?tL(t.config,r):`${t.config.apiScheme}://${r}`}function rL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zo(this.auth,"network-request-failed")),iL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=zo(t,e,i);return r.customData._tokenResponse=n,r}function sT(t){return t!==void 0&&t.enterprise!==void 0}class aL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oL(t,e){return Fa(t,"GET","/v2/recaptchaConfig",Va(t,e))}async function lL(t,e){return Fa(t,"POST","/v1/accounts:delete",e)}async function s5(t,e){return Fa(t,"POST","/v1/accounts:lookup",e)}function zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cL(t,e=!1){const n=nl(t),i=await n.getIdToken(e),r=$v(i);Ke(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:zd(Vx(r.auth_time)),issuedAtTime:zd(Vx(r.iat)),expirationTime:zd(Vx(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vx(t){return Number(t)*1e3}function $v(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const r=JA(n);return r?JSON.parse(r):(Pp("Failed to decode base64 JWT payload"),null)}catch(r){return Pp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function aT(t){const e=$v(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mm&&uL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function uL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class dL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class D0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rm(t){var e;const n=t.auth,i=await t.getIdToken(),r=await zc(t,s5(n,{idToken:i}));Ke(r?.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?a5(o.providerUserInfo):[],h=fL(t.providerData,c),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!h?.length,m=d?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new D0(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,x)}async function hL(t){const e=nl(t);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function a5(t){return t.map(e=>{var{providerId:n}=e,i=zv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function pL(t,e){const n=await i5(t,{},async()=>{const i=Bv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,c=r5(t,r,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",n5.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mL(t,e){return Fa(t,"POST","/v2/accounts:revokeToken",Va(t,e))}class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=aT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await pL(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,c=new Nc;return i&&(Ke(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(Ke(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(Ke(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return ds("not implemented")}}function da(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=zv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new D0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cL(this,e)}reload(){return hL(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await rm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await zc(this,lL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,c,h,d,p,m;const x=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(c=n.photoURL)!==null&&c!==void 0?c:void 0,E=(h=n.tenantId)!==null&&h!==void 0?h:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,O=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:k,emailVerified:B,isAnonymous:W,providerData:K,stsTokenManager:I}=n;Ke(k&&I,e,"internal-error");const A=Nc.fromJSON(this.name,I);Ke(typeof k=="string",e,"internal-error"),da(x,e.name),da(v,e.name),Ke(typeof B=="boolean",e,"internal-error"),Ke(typeof W=="boolean",e,"internal-error"),da(S,e.name),da(w,e.name),da(E,e.name),da(T,e.name),da(M,e.name),da(O,e.name);const R=new hs({uid:k,auth:e,email:v,emailVerified:B,displayName:x,isAnonymous:W,photoURL:w,phoneNumber:S,tenantId:E,stsTokenManager:A,createdAt:M,lastLoginAt:O});return K&&Array.isArray(K)&&(R.providerData=K.map(L=>Object.assign({},L))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,i=!1){const r=new Nc;r.updateFromServerResponse(n);const o=new hs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Ke(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?a5(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new Nc;h.updateFromIdToken(i);const d=new hs({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new D0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const oT=new Map;function Oo(t){Yo(t instanceof Function,"Expected a class definition");let e=oT.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oT.set(t,e),e)}class o5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o5.type="NONE";const lT=o5;function Fx(t,e,n){return`firebase:${t}:${e}:${n}`}class kc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Fx(this.userKey,r.apiKey,o),this.fullPersistenceKey=Fx("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new kc(Oo(lT),e,i);const r=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=r[0]||Oo(lT);const c=Fx(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const m=await p._get(c);if(m){const x=hs._fromJSON(e,m);p!==o&&(h=x),o=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kc(o,e,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new kc(o,e,i))}}function cT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u5(e))return"Blackberry";if(d5(e))return"Webos";if(yL(e))return"Safari";if((e.includes("chrome/")||xL(e))&&!e.includes("edge/"))return"Chrome";if(c5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function gL(t=Ii()){return/firefox\//i.test(t)}function yL(t=Ii()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xL(t=Ii()){return/crios\//i.test(t)}function l5(t=Ii()){return/iemobile/i.test(t)}function c5(t=Ii()){return/android/i.test(t)}function u5(t=Ii()){return/blackberry/i.test(t)}function d5(t=Ii()){return/webos/i.test(t)}function vL(t=Ii()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bL(){return L3()&&document.documentMode===10}function SL(t=Ii()){return vL(t)||c5(t)||d5(t)||u5(t)||/windows phone/i.test(t)||l5(t)}function h5(t,e=[]){let n;switch(t){case"Browser":n=cT(Ii());break;case"Worker":n=`${cT(Ii())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Om}/${i}`}class wL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function _L(t,e={}){return Fa(t,"GET","/v2/passwordPolicy",Va(t,e))}const TL=6;class EL{constructor(e){var n,i,r,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:TL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class CL{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new wL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oo(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await kc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await s5(this,{idToken:e}),i=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Aa(this));const n=e?nl(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _L(this),n=new EL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lm("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await mL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oo(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[Oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Q3(`Error while retrieving App Check token: ${n.error}`),n?.token}}function tu(t){return nl(t)}class uT{constructor(e){this.auth=e,this.observer=null,this.addObserver=z3(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AL(t){Gv=t}function jL(t){return Gv.loadJS(t)}function IL(){return Gv.recaptchaEnterpriseScript}const RL="recaptcha-enterprise",NL="NO_RECAPTCHA";class kL{constructor(e){this.type=RL,this.auth=tu(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{oL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new aL(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;sT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(NL)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{i(this.auth).then(h=>{if(!n&&sT(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IL();d.length!==0&&(d+=h),jL(d).then(()=>{r(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function dT(t,e,n,i=!1){const r=new kL(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const c=Object.assign({},e);return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function O0(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await dT(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await dT(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(o)})}function PL(t,e){const n=Fv(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(ZA(o,e??{}))return r;Rr(r,"already-initialized")}return n.initialize({options:e})}function DL(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Oo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}class qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function OL(t,e){return Fa(t,"POST","/v1/accounts:signUp",e)}async function ML(t,e){return bh(t,"POST","/v1/accounts:signInWithPassword",Va(t,e))}async function LL(t,e){return bh(t,"POST","/v1/accounts:signInWithEmailLink",Va(t,e))}async function VL(t,e){return bh(t,"POST","/v1/accounts:signInWithEmailLink",Va(t,e))}class ih extends qv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ih(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ih(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O0(e,n,"signInWithPassword",ML);case"emailLink":return LL(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O0(e,i,"signUpPassword",OL);case"emailLink":return VL(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pc(t,e){return bh(t,"POST","/v1/accounts:signInWithIdp",Va(t,e))}const FL="http://localhost";class Qo extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=zv(n,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Qo(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Pc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pc(e,n)}buildRequest(){const e={requestUri:FL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bv(n)}return e}}function BL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zL(t){const e=Rd(Nd(t)).link,n=e?Rd(Nd(e)).deep_link_id:null,i=Rd(Nd(t)).deep_link_id;return(i?Rd(Nd(i)).link:null)||i||n||e||t}class Wv{constructor(e){var n,i,r,o,c,h;const d=Rd(Nd(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,x=BL((r=d.mode)!==null&&r!==void 0?r:null);Ke(p&&m&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=zL(e);try{return new Wv(n)}catch{return null}}}class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(e,n){return ih._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Wv.parseLink(n);return Ke(i,"argument-error"),ih._fromEmailAndCode(e,i.code,i.tenantId)}}nu.PROVIDER_ID="password";nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class f5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vm extends f5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ma extends Vm{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";class ga extends Vm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ga.credential(n,i)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";class _r extends Vm{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class ya extends Vm{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ya.credential(n,i)}catch{return null}}}ya.TWITTER_SIGN_IN_METHOD="twitter.com";ya.PROVIDER_ID="twitter.com";async function UL(t,e){return bh(t,"POST","/v1/accounts:signUp",Va(t,e))}class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await hs._fromIdTokenResponse(e,i,r),c=hT(i);return new Jo({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=hT(i);return new Jo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function hT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sm extends Mm{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new sm(e,n,i,r)}}function p5(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,o,e,i):o})}async function HL(t,e,n=!1){const i=await zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",i)}async function $L(t,e,n=!1){const{auth:i}=t;if(Tr(i.app))return Promise.reject(Aa(i));const r="reauthenticate";try{const o=await zc(t,p5(i,r,e,t),n);Ke(o.idToken,i,"internal-error");const c=$v(o.idToken);Ke(c,i,"internal-error");const{sub:h}=c;return Ke(t.uid===h,i,"user-mismatch"),Jo._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(i,"user-mismatch"),o}}async function m5(t,e,n=!1){if(Tr(t.app))return Promise.reject(Aa(t));const i="signIn",r=await p5(t,i,e),o=await Jo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function GL(t,e){return m5(tu(t),e)}async function g5(t){const e=tu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qL(t,e,n){if(Tr(t.app))return Promise.reject(Aa(t));const i=tu(t),c=await O0(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&g5(t),d}),h=await Jo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function WL(t,e,n){return Tr(t.app)?Promise.reject(Aa(t)):GL(nl(t),nu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&g5(t),i})}async function KL(t,e){return Fa(t,"POST","/v1/accounts:update",e)}async function YL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=nl(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await zc(i,KL(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function Kv(t,e,n,i){return nl(t).onAuthStateChanged(e,n,i)}const fT="__sak";class y5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fT,"1"),this.storage.removeItem(fT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QL=1e3,JL=10;class x5 extends y5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);bL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,JL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x5.type="LOCAL";const XL=x5;class ZL extends y5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZL.type="SESSION";function e6(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}new vh(3e4,6e4);function t6(t,e){return Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver}class Yv extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n6(t){return m5(t.auth,new Yv(t),t.bypassAuthState)}function i6(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),$L(n,new Yv(t),t.bypassAuthState)}async function r6(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),HL(n,new Yv(t),t.bypassAuthState)}class s6{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n6;case"linkViaPopup":case"linkViaRedirect":return r6;case"reauthViaPopup":case"reauthViaRedirect":return i6;default:Rr(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const a6=new vh(2e3,1e4);async function o6(t,e,n){if(Tr(t.app))return Promise.reject(zo(t,"operation-not-supported-in-this-environment"));const i=tu(t);J3(t,e,f5);const r=t6(i);return new Mo(i,"signInViaPopup",e,r).executeNotNull()}class Mo extends s6{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=e6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a6.get())};e()}}Mo.currentPopupAction=null;new vh(3e4,6e4);new vh(5e3,15e3);var pT="@firebase/auth",mT="1.7.9";class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u6(t){Ko(new iT("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ke(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h5(t)},p=new CL(i,r,o,d);return DL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ko(new iT("auth-internal",e=>{const n=tu(e.getProvider("auth").getImmediate());return(i=>new l6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(pT,mT,c6(t)),Er(pT,mT,"esm2017")}const d6=300;k3("authIdTokenMaxAge");function h6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=zo("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",h6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u6("Browser");var gT={};const v5=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},f6=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},b5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=o>>2,x=(o&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||p==null||x==null)throw new p6;const v=o<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let p6=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const m6=function(t){const e=v5(t);return b5.encodeByteArray(e,!0)},yT=function(t){return m6(t).replace(/\./g,"")},g6=function(t){try{return b5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const x6=()=>y6().__FIREBASE_DEFAULTS__,v6=()=>{if(typeof process>"u"||typeof gT>"u")return;const t=gT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g6(t[1]);return e&&JSON.parse(e)},S5=()=>{try{return x6()||v6()||b6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S6=t=>{var e,n;return(n=(e=S5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w6=t=>{const e=S6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};function _6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yT(JSON.stringify(n)),yT(JSON.stringify(c)),""].join(".")}function T6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E6(){var t;const e=(t=S5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C6(){return!E6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}const A6="FirebaseError";let w5=class _5 extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=A6,Object.setPrototypeOf(this,_5.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j6.prototype.create)}},j6=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?I6(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new w5(r,h,i)}};function I6(t,e){return t.replace(R6,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const R6=/\{\$([^}]+)}/g;function Uc(t){return t&&t._delegate?t._delegate:t}let N6=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const k6={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},P6=dt.INFO,D6={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},O6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=D6[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M6{constructor(e){this.name=e,this._logLevel=P6,this._logHandler=O6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Uo,T5;(function(){var t;function e(I,A){function R(){}R.prototype=A.prototype,I.D=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(L,z,U){for(var F=Array(arguments.length-2),le=2;le<arguments.length;le++)F[le-2]=arguments[le];return A.prototype[z].apply(L,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,A,R){R||(R=0);var L=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)L[z]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(z=0;16>z;++z)L[z]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],z=I.g[2];var U=I.g[3],F=A+(U^R&(z^U))+L[0]+3614090360&4294967295;A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+L[1]+3905402710&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+L[2]+606105819&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+L[3]+3250441966&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+L[4]+4118548399&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+L[5]+1200080426&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+L[6]+2821735955&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+L[7]+4249261313&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+L[8]+1770035416&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+L[9]+2336552879&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+L[10]+4294925233&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+L[11]+2304563134&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+L[12]+1804603682&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+L[13]+4254626195&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+L[14]+2792965006&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+L[15]+1236535329&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(z^U&(R^z))+L[1]+4129170786&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+L[6]+3225465664&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+L[11]+643717713&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+L[0]+3921069994&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+L[5]+3593408605&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+L[10]+38016083&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+L[15]+3634488961&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+L[4]+3889429448&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+L[9]+568446438&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+L[14]+3275163606&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+L[3]+4107603335&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+L[8]+1163531501&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+L[13]+2850285829&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+L[2]+4243563512&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+L[7]+1735328473&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+L[12]+2368359562&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(R^z^U)+L[5]+4294588738&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+L[8]+2272392833&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+L[11]+1839030562&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+L[14]+4259657740&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+L[1]+2763975236&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+L[4]+1272893353&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+L[7]+4139469664&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+L[10]+3200236656&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+L[13]+681279174&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+L[0]+3936430074&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+L[3]+3572445317&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+L[6]+76029189&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+L[9]+3654602809&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+L[12]+3873151461&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+L[15]+530742520&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+L[2]+3299628645&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(z^(R|~U))+L[0]+4096336452&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+L[7]+1126891415&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+L[14]+2878612391&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+L[5]+4237533241&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+L[12]+1700485571&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+L[3]+2399980690&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+L[10]+4293915773&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+L[1]+2240044497&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+L[8]+1873313359&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+L[15]+4264355552&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+L[6]+2734768916&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+L[13]+1309151649&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+L[4]+4149444226&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+L[11]+3174756917&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+L[2]+718787259&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(z+(F<<21&4294967295|F>>>11))&4294967295,I.g[2]=I.g[2]+z&4294967295,I.g[3]=I.g[3]+U&4294967295}i.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var R=A-this.blockSize,L=this.B,z=this.h,U=0;U<A;){if(z==0)for(;U<=R;)r(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(L[z++]=I.charCodeAt(U++),z==this.blockSize){r(this,L),z=0;break}}else for(;U<A;)if(L[z++]=I[U++],z==this.blockSize){r(this,L),z=0;break}}this.h=z,this.o+=A},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var R=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.u(I),I=Array(16),A=R=0;4>A;++A)for(var L=0;32>L;L+=8)I[R++]=this.g[A]>>>L&255;return I};function o(I,A){var R=h;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function c(I,A){this.h=A;for(var R=[],L=!0,z=I.length-1;0<=z;z--){var U=I[z]|0;L&&U==A||(R[z]=U,L=!1)}this.g=R}var h={};function d(I){return-128<=I&&128>I?o(I,function(A){return new c([A|0],0>A?-1:0)}):new c([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return x;if(0>I)return T(p(-I));for(var A=[],R=1,L=0;I>=R;L++)A[L]=I/R|0,R*=4294967296;return new c(A,0)}function m(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return T(m(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),L=x,z=0;z<I.length;z+=8){var U=Math.min(8,I.length-z),F=parseInt(I.substring(z,z+U),A);8>U?(U=p(Math.pow(A,U)),L=L.j(U).add(p(F))):(L=L.j(R),L=L.add(p(F)))}return L}var x=d(0),v=d(1),S=d(16777216);t=c.prototype,t.m=function(){if(E(this))return-T(this).m();for(var I=0,A=1,R=0;R<this.g.length;R++){var L=this.i(R);I+=(0<=L?L:4294967296+L)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(E(this))return"-"+T(this).toString(I);for(var A=p(Math.pow(I,6)),R=this,L="";;){var z=B(R,A).g;R=M(R,z.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=z,w(R))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=M(this,I),E(I)?-1:w(I)?0:1};function T(I){for(var A=I.g.length,R=[],L=0;L<A;L++)R[L]=~I.g[L];return new c(R,~I.h).add(v)}t.abs=function(){return E(this)?T(this):this},t.add=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],L=0,z=0;z<=A;z++){var U=L+(this.i(z)&65535)+(I.i(z)&65535),F=(U>>>16)+(this.i(z)>>>16)+(I.i(z)>>>16);L=F>>>16,U&=65535,F&=65535,R[z]=F<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function M(I,A){return I.add(T(A))}t.j=function(I){if(w(this)||w(I))return x;if(E(this))return E(I)?T(this).j(T(I)):T(T(this).j(I));if(E(I))return T(this.j(T(I)));if(0>this.l(S)&&0>I.l(S))return p(this.m()*I.m());for(var A=this.g.length+I.g.length,R=[],L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<I.g.length;z++){var U=this.i(L)>>>16,F=this.i(L)&65535,le=I.i(z)>>>16,ve=I.i(z)&65535;R[2*L+2*z]+=F*ve,O(R,2*L+2*z),R[2*L+2*z+1]+=U*ve,O(R,2*L+2*z+1),R[2*L+2*z+1]+=F*le,O(R,2*L+2*z+1),R[2*L+2*z+2]+=U*le,O(R,2*L+2*z+2)}for(L=0;L<A;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=A;L<2*A;L++)R[L]=0;return new c(R,0)};function O(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function k(I,A){this.g=I,this.h=A}function B(I,A){if(w(A))throw Error("division by zero");if(w(I))return new k(x,x);if(E(I))return A=B(T(I),A),new k(T(A.g),T(A.h));if(E(A))return A=B(I,T(A)),new k(T(A.g),A.h);if(30<I.g.length){if(E(I)||E(A))throw Error("slowDivide_ only works with positive integers.");for(var R=v,L=A;0>=L.l(I);)R=W(R),L=W(L);var z=K(R,1),U=K(L,1);for(L=K(L,2),R=K(R,2);!w(L);){var F=U.add(L);0>=F.l(I)&&(z=z.add(R),U=F),L=K(L,1),R=K(R,1)}return A=M(I,z.j(A)),new k(z,A)}for(z=x;0<=I.l(A);){for(R=Math.max(1,Math.floor(I.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=p(R),F=U.j(A);E(F)||0<F.l(I);)R-=L,U=p(R),F=U.j(A);w(U)&&(U=v),z=z.add(U),I=M(I,F)}return new k(z,I)}t.A=function(I){return B(this,I).h},t.and=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)&I.i(L);return new c(R,this.h&I.h)},t.or=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)|I.i(L);return new c(R,this.h|I.h)},t.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],L=0;L<A;L++)R[L]=this.i(L)^I.i(L);return new c(R,this.h^I.h)};function W(I){for(var A=I.g.length+1,R=[],L=0;L<A;L++)R[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(R,I.h)}function K(I,A){var R=A>>5;A%=32;for(var L=I.g.length-R,z=[],U=0;U<L;U++)z[U]=0<A?I.i(U+R)>>>A|I.i(U+R+1)<<32-A:I.i(U+R);return new c(z,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,T5=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=m,Uo=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E5,kd,C5,Dp,M0,A5,j5,I5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,j){return g==Array.prototype||g==Object.prototype||(g[_]=j.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof cp=="object"&&cp];for(var _=0;_<g.length;++_){var j=g[_];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var i=n(this);function r(g,_){if(_)e:{var j=i;g=g.split(".");for(var V=0;V<g.length-1;V++){var J=g[V];if(!(J in j))break e;j=j[J]}g=g[g.length-1],V=j[g],_=_(V),_!=V&&_!=null&&e(j,g,{configurable:!0,writable:!0,value:_})}}function o(g,_){g instanceof String&&(g+="");var j=0,V=!1,J={next:function(){if(!V&&j<g.length){var re=j++;return{value:_(re,g[re]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}r("Array.prototype.values",function(g){return g||function(){return o(this,function(_,j){return j})}});var c=c||{},h=this||self;function d(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function p(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function m(g,_,j){return g.call.apply(g.bind,arguments)}function x(g,_,j){if(!g)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),g.apply(_,J)}}return function(){return g.apply(_,arguments)}}function v(g,_,j){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:x,v.apply(null,arguments)}function S(g,_){var j=Array.prototype.slice.call(arguments,1);return function(){var V=j.slice();return V.push.apply(V,arguments),g.apply(this,V)}}function w(g,_){function j(){}j.prototype=_.prototype,g.aa=_.prototype,g.prototype=new j,g.prototype.constructor=g,g.Qb=function(V,J,re){for(var ge=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ge[xt-2]=arguments[xt];return _.prototype[J].apply(V,ge)}}function E(g){const _=g.length;if(0<_){const j=Array(_);for(let V=0;V<_;V++)j[V]=g[V];return j}return[]}function T(g,_){for(let j=1;j<arguments.length;j++){const V=arguments[j];if(d(V)){const J=g.length||0,re=V.length||0;g.length=J+re;for(let ge=0;ge<re;ge++)g[J+ge]=V[ge]}else g.push(V)}}class M{constructor(_,j){this.i=_,this.j=j,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(g){return/^[\s\xa0]*$/.test(g)}function k(){var g=h.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var W=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function K(g,_,j){for(const V in g)_.call(j,g[V],V,g)}function I(g,_){for(const j in g)_.call(void 0,g[j],j,g)}function A(g){const _={};for(const j in g)_[j]=g[j];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,_){let j,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(j in V)g[j]=V[j];for(let re=0;re<R.length;re++)j=R[re],Object.prototype.hasOwnProperty.call(V,j)&&(g[j]=V[j])}}function z(g){var _=1;g=g.split(":");const j=[];for(;0<_&&g.length;)j.push(g.shift()),_--;return g.length&&j.push(g.join(":")),j}function U(g){h.setTimeout(()=>{throw g},0)}function F(){var g=_e;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class le{constructor(){this.h=this.g=null}add(_,j){const V=ve.get();V.set(_,j),this.h?this.h.next=V:this.g=V,this.h=V}}var ve=new M(()=>new P,g=>g.reset());class P{constructor(){this.next=this.g=this.h=null}set(_,j){this.h=_,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ae=!1,_e=new le,be=()=>{const g=h.Promise.resolve(void 0);G=()=>{g.then(H)}};var H=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(j){U(j)}var _=ve;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}ae=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var he=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};h.addEventListener("test",j,_),h.removeEventListener("test",j,_)}catch{}return g})();function we(g,_){if(ne.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var j=this.type=g.type,V=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(W){e:{try{B(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else j=="mouseover"?_=g.fromElement:j=="mouseout"&&(_=g.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ye[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&we.aa.h.call(this)}}w(we,ne);var ye={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),rt=0;function lt(g,_,j,V,J){this.listener=g,this.proxy=null,this.src=_,this.type=j,this.capture=!!V,this.ha=J,this.key=++rt,this.da=this.fa=!1}function Je(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Rt(g){this.src=g,this.g={},this.h=0}Rt.prototype.add=function(g,_,j,V,J){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ge=pi(g,_,V,J);return-1<ge?(_=g[ge],j||(_.fa=!1)):(_=new lt(_,this.src,re,!!V,J),_.fa=j,g.push(_)),_};function yn(g,_){var j=_.type;if(j in g.g){var V=g.g[j],J=Array.prototype.indexOf.call(V,_,void 0),re;(re=0<=J)&&Array.prototype.splice.call(V,J,1),re&&(Je(_),g.g[j].length==0&&(delete g.g[j],g.h--))}}function pi(g,_,j,V){for(var J=0;J<g.length;++J){var re=g[J];if(!re.da&&re.listener==_&&re.capture==!!j&&re.ha==V)return J}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),Bn={};function mi(g,_,j,V,J){if(Array.isArray(_)){for(var re=0;re<_.length;re++)mi(g,_[re],j,V,J);return null}return j=In(j),g&&g[De]?g.K(_,j,p(V)?!!V.capture:!1,J):ri(g,_,j,!1,V,J)}function ri(g,_,j,V,J,re){if(!_)throw Error("Invalid event type");var ge=p(J)?!!J.capture:!!J,xt=Yn(g);if(xt||(g[jn]=xt=new Rt(g)),j=xt.add(_,j,V,ge,re),j.proxy)return j;if(V=oe(),j.proxy=V,V.src=g,V.listener=j,g.addEventListener)he||(J=ge),J===void 0&&(J=!1),g.addEventListener(_.toString(),V,J);else if(g.attachEvent)g.attachEvent(ht(_.toString()),V);else if(g.addListener&&g.removeListener)g.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return j}function oe(){function g(j){return _.call(g.src,g.listener,j)}const _=Nt;return g}function xe(g,_,j,V,J){if(Array.isArray(_))for(var re=0;re<_.length;re++)xe(g,_[re],j,V,J);else V=p(V)?!!V.capture:!!V,j=In(j),g&&g[De]?(g=g.i,_=String(_).toString(),_ in g.g&&(re=g.g[_],j=pi(re,j,V,J),-1<j&&(Je(re[j]),Array.prototype.splice.call(re,j,1),re.length==0&&(delete g.g[_],g.h--)))):g&&(g=Yn(g))&&(_=g.g[_.toString()],g=-1,_&&(g=pi(_,j,V,J)),(j=-1<g?_[g]:null)&&Ee(j))}function Ee(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[De])yn(_.i,g);else{var j=g.type,V=g.proxy;_.removeEventListener?_.removeEventListener(j,V,g.capture):_.detachEvent?_.detachEvent(ht(j),V):_.addListener&&_.removeListener&&_.removeListener(V),(j=Yn(_))?(yn(j,g),j.h==0&&(j.src=null,_[jn]=null)):Je(g)}}}function ht(g){return g in Bn?Bn[g]:Bn[g]="on"+g}function Nt(g,_){if(g.da)g=!0;else{_=new we(_,this);var j=g.listener,V=g.ha||g.src;g.fa&&Ee(g),g=j.call(V,_)}return g}function Yn(g){return g=g[jn],g instanceof Rt?g:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(g){return typeof g=="function"?g:(g[kt]||(g[kt]=function(_){return g.handleEvent(_)}),g[kt])}function Be(){se.call(this),this.i=new Rt(this),this.M=this,this.F=null}w(Be,se),Be.prototype[De]=!0,Be.prototype.removeEventListener=function(g,_,j,V){xe(this,g,_,j,V)};function Ye(g,_){var j,V=g.F;if(V)for(j=[];V;V=V.F)j.push(V);if(g=g.M,V=_.type||_,typeof _=="string")_=new ne(_,g);else if(_ instanceof ne)_.target=_.target||g;else{var J=_;_=new ne(V,g),L(_,J)}if(J=!0,j)for(var re=j.length-1;0<=re;re--){var ge=_.g=j[re];J=St(ge,V,!0,_)&&J}if(ge=_.g=g,J=St(ge,V,!0,_)&&J,J=St(ge,V,!1,_)&&J,j)for(re=0;re<j.length;re++)ge=_.g=j[re],J=St(ge,V,!1,_)&&J}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var j=g.g[_],V=0;V<j.length;V++)Je(j[V]);delete g.g[_],g.h--}}this.F=null},Be.prototype.K=function(g,_,j,V){return this.i.add(String(g),_,!1,j,V)},Be.prototype.L=function(g,_,j,V){return this.i.add(String(g),_,!0,j,V)};function St(g,_,j,V){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,re=0;re<_.length;++re){var ge=_[re];if(ge&&!ge.da&&ge.capture==j){var xt=ge.listener,ln=ge.ha||ge.src;ge.fa&&yn(g.i,ge),J=xt.call(ln,V)!==!1&&J}}return J&&!V.defaultPrevented}function kr(g,_,j){if(typeof g=="function")j&&(g=v(g,j));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(g,_||0)}function _s(g){g.g=kr(()=>{g.g=null,g.i&&(g.i=!1,_s(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class uu extends se{constructor(_,j){super(),this.m=_,this.l=j,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(g){se.call(this),this.h=g,this.g={}}w(Pr,se);var Dr=[];function Lt(g){K(g.g,function(_,j){this.g.hasOwnProperty(j)&&Ee(_)},g),g.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Lt(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=h.JSON.stringify,xn=h.JSON.parse,Xi=class{stringify(g){return h.JSON.stringify(g,void 0)}parse(g){return h.JSON.parse(g,void 0)}};function Ts(){}Ts.prototype.h=null;function Or(g){return g.h||(g.h=g.i())}function ur(){}var te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function je(){ne.call(this,"d")}w(je,ne);function $e(){ne.call(this,"c")}w($e,ne);var Ge={},Xe=null;function Wt(){return Xe=Xe||new Be}Ge.La="serverreachability";function gi(g){ne.call(this,Ge.La,g)}w(gi,ne);function Mr(g){const _=Wt();Ye(_,new gi(_))}Ge.STAT_EVENT="statevent";function Es(g,_){ne.call(this,Ge.STAT_EVENT,g),this.stat=_}w(Es,ne);function Rn(g){const _=Wt();Ye(_,new Es(_,g))}Ge.Ma="timingevent";function du(g,_){ne.call(this,Ge.Ma,g),this.size=_}w(du,ne);function Cs(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){g()},_)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function hu(g,_,j,V,J,re){g.info(function(){if(g.g)if(re)for(var ge="",xt=re.split("&"),ln=0;ln<xt.length;ln++){var Qe=xt[ln].split("=");if(1<Qe.length){var Tn=Qe[0];Qe=Qe[1];var En=Tn.split("_");ge=2<=En.length&&En[1]=="type"?ge+(Tn+"="+Qe+"&"):ge+(Tn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+_+`
`+j+`
`+ge})}function fu(g,_,j,V,J,re,ge){g.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+_+`
`+j+`
`+re+" "+ge})}function Lr(g,_,j,V){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+dr(g,j)+(V?" "+V:"")})}function kh(g,_){g.info(function(){return"TIMEOUT: "+_})}As.prototype.info=function(){};function dr(g,_){if(!g.g)return _;if(!_)return null;try{var j=JSON.parse(_);if(j){for(g=0;g<j.length;g++)if(Array.isArray(j[g])){var V=j[g];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<J.length;ge++)J[ge]=""}}}}return si(j)}catch{return _}}var Kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function js(){}w(js,Ts),js.prototype.g=function(){return new XMLHttpRequest},js.prototype.i=function(){return{}},hr=new js;function fr(g,_,j,V){this.j=g,this.i=_,this.l=j,this.R=V||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ph}function Ph(){this.i=null,this.g="",this.h=!1}var pu={},Vr={};function Ua(g,_,j){g.L=1,g.v=Ga(Yt(_)),g.m=j,g.P=!0,Fr(g,null)}function Fr(g,_){g.F=Date.now(),Zi(g),g.A=Yt(g.v);var j=g.A,V=g.R;Array.isArray(V)||(V=[String(V)]),Ur(j.i,"t",V),g.C=0,j=g.j.J,g.h=new Ph,g.g=Yh(g.j,j?_:null,!g.m),0<g.O&&(g.M=new uu(v(g.Y,g,g.g),g.O)),_=g.U,j=g.g,V=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Dr[0]=J.toString()),J=Dr);for(var re=0;re<J.length;re++){var ge=mi(j,J[re],V||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=g.H?A(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),Mr(),hu(g.i,g.u,g.A,g.l,g.R,g.m)}fr.prototype.ca=function(g){g=g.target;const _=this.M;_&&Xn(g)==3?_.j():this.Y(g)},fr.prototype.Y=function(g){try{if(g==this.g)e:{const En=Xn(this.g);var _=this.g.Ba();const zs=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||Ka(this.g)))){this.J||En!=4||_==7||(_==8||0>=zs?Mr(3):Mr(2)),ol(this);var j=this.g.Z();this.X=j;t:if(Br(this)){var V=Ka(this.g);g="";var J=V.length,re=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Is(this);var ge="";break t}this.h.i=new h.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,g+=this.h.i.decode(V[_],{stream:!(re&&_==J-1)});V.length=0,this.h.g+=g,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=j==200,fu(this.i,this.u,this.A,this.l,this.R,En,j),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,ln=this.g;if((xt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(xt)){var Qe=xt;break t}}Qe=null}if(j=Qe)Lr(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pr(this,j);else{this.o=!1,this.s=3,Rn(12),Qn(this),Is(this);break e}}if(this.P){j=!0;let oi;for(;!this.J&&this.C<ge.length;)if(oi=Ha(this,ge),oi==Vr){En==4&&(this.s=4,Rn(14),j=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==pu){this.s=4,Rn(15),Lr(this.i,this.l,ge,"[Invalid Chunk]"),j=!1;break}else Lr(this.i,this.l,oi,null),pr(this,oi);if(Br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||ge.length!=0||this.h.h||(this.s=1,Rn(16),j=!1),this.o=this.o&&j,!j)Lr(this.i,this.l,ge,"[Invalid Chunked Response]"),Qn(this),Is(this);else if(0<ge.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Eu(Tn),Tn.M=!0,Rn(11))}}else Lr(this.i,this.l,ge,null),pr(this,ge);En==4&&Qn(this),this.o&&!this.J&&(En==4?qh(this.j,this):(this.o=!1,Zi(this)))}else Bh(this.g),j==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Qn(this),Is(this)}}}catch{}};function Br(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ha(g,_){var j=g.C,V=_.indexOf(`
`,j);return V==-1?Vr:(j=Number(_.substring(j,V)),isNaN(j)?pu:(V+=1,V+j>_.length?Vr:(_=_.slice(V,V+j),g.C=V+j,_)))}fr.prototype.cancel=function(){this.J=!0,Qn(this)};function Zi(g){g.S=Date.now()+g.I,en(g,g.I)}function en(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Cs(v(g.ba,g),_)}function ol(g){g.B&&(h.clearTimeout(g.B),g.B=null)}fr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(kh(this.i,this.A),this.L!=2&&(Mr(),Rn(17)),Qn(this),this.s=2,Is(this)):en(this,this.S-g)};function Is(g){g.j.G==0||g.J||qh(g.j,g)}function Qn(g){ol(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Lt(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function pr(g,_){try{var j=g.j;if(j.G!=0&&(j.g==g||Rs(j.h,g))){if(!g.K&&Rs(j.h,g)&&j.G==3){try{var V=j.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<g.F)Fs(j),Vs(j);else break e;Tu(j),Rn(18)}}else j.za=J[1],0<j.za-j.T&&37500>J[2]&&j.F&&j.v==0&&!j.C&&(j.C=Cs(v(j.Za,j),6e3));if(1>=Dh(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else $r(j,11)}else if((g.K||j.g==g)&&Fs(j),!O(_))for(J=j.Da.g.parse(_),_=0;_<J.length;_++){let Qe=J[_];if(j.T=Qe[0],Qe=Qe[1],j.G==2)if(Qe[0]=="c"){j.K=Qe[1],j.ia=Qe[2];const Tn=Qe[3];Tn!=null&&(j.la=Tn,j.j.info("VER="+j.la));const En=Qe[4];En!=null&&(j.Aa=En,j.j.info("SVER="+j.Aa));const zs=Qe[5];zs!=null&&typeof zs=="number"&&0<zs&&(V=1.5*zs,j.L=V,j.j.info("backChannelRequestTimeoutMs_="+V)),V=j;const oi=g.g;if(oi){const Ja=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var re=V.h;re.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Ns(re,re.h),re.h=null))}if(V.D){const Gr=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gr&&(V.ya=Gr,ft(V.I,V.D,Gr))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-g.F,j.j.info("Handshake RTT: "+j.R+"ms")),V=j;var ge=g;if(V.qa=Kh(V,V.J?V.ia:null,V.W),ge.K){Di(V.h,ge);var xt=ge,ln=V.L;ln&&(xt.I=ln),xt.B&&(ol(xt),Zi(xt)),V.g=ge}else $h(V);0<j.i.length&&ml(j)}else Qe[0]!="stop"&&Qe[0]!="close"||$r(j,7);else j.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?$r(j,7):wu(j):Qe[0]!="noop"&&j.l&&j.l.ta(Qe),j.v=0)}}Mr(4)}catch{}}var dg=class{constructor(g,_){this.g=g,this.map=_}};function mu(g){this.l=g||10,h.PerformanceNavigationTiming?(g=h.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Dh(g){return g.h?1:g.g?g.g.size:0}function Rs(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function Ns(g,_){g.g?g.g.add(_):g.h=_}function Di(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}mu.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const j of g.g.values())_=_.concat(j.D);return _}return E(g.i)}function Oh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var _=[],j=g.length,V=0;V<j;V++)_.push(g[V]);return _}_=[],j=0;for(V in g)_[j++]=g[V];return _}function hg(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var _=[];g=g.length;for(var j=0;j<g;j++)_.push(j);return _}_=[],j=0;for(const V in g)_[j++]=V;return _}}}function ll(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var j=hg(g),V=Oh(g),J=V.length,re=0;re<J;re++)_.call(void 0,V[re],j&&j[re],g)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cl(g,_){if(g){g=g.split("&");for(var j=0;j<g.length;j++){var V=g[j].indexOf("="),J=null;if(0<=V){var re=g[j].substring(0,V);J=g[j].substring(V+1)}else re=g[j];_(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function zr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof zr){this.h=g.h,ks(this,g.j),this.o=g.o,this.g=g.g,$a(this,g.s),this.l=g.l;var _=g.i,j=new mr;j.i=_.i,_.g&&(j.g=new Map(_.g),j.h=_.h),ul(this,j),this.m=g.m}else g&&(_=String(g).match(yu))?(this.h=!1,ks(this,_[1]||"",!0),this.o=Ps(_[2]||""),this.g=Ps(_[3]||"",!0),$a(this,_[4]),this.l=Ps(_[5]||"",!0),ul(this,_[6]||"",!0),this.m=Ps(_[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}zr.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Oi(_,xu,!0),":");var j=this.g;return(j||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Oi(_,xu,!0),"@"),g.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&g.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Oi(j,j.charAt(0)=="/"?vu:Mh,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Oi(j,mg)),g.join("")};function Yt(g){return new zr(g)}function ks(g,_,j){g.j=j?Ps(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function $a(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function ul(g,_,j){_ instanceof mr?(g.i=_,Lh(g.i,g.h)):(j||(_=Oi(_,pg)),g.i=new mr(_,g.h))}function ft(g,_,j){g.i.set(_,j)}function Ga(g){return ft(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ps(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Oi(g,_,j){return typeof g=="string"?(g=encodeURI(g).replace(_,fg),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function fg(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var xu=/[#\/\?@]/g,Mh=/[#\?:]/g,vu=/[#\?]/g,pg=/[#\?@]/g,mg=/#/g;function mr(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function _n(g){g.g||(g.g=new Map,g.h=0,g.i&&cl(g.i,function(_,j){g.add(decodeURIComponent(_.replace(/\+/g," ")),j)}))}t=mr.prototype,t.add=function(g,_){_n(this),this.i=null,g=yi(this,g);var j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(_),this.h+=1,this};function dl(g,_){_n(g),_=yi(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function hl(g,_){return _n(g),_=yi(g,_),g.g.has(_)}t.forEach=function(g,_){_n(this),this.g.forEach(function(j,V){j.forEach(function(J){g.call(_,J,V,this)},this)},this)},t.na=function(){_n(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),j=[];for(let V=0;V<_.length;V++){const J=g[V];for(let re=0;re<J.length;re++)j.push(_[V])}return j},t.V=function(g){_n(this);let _=[];if(typeof g=="string")hl(this,g)&&(_=_.concat(this.g.get(yi(this,g))));else{g=Array.from(this.g.values());for(let j=0;j<g.length;j++)_=_.concat(g[j])}return _},t.set=function(g,_){return _n(this),this.i=null,g=yi(this,g),hl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function Ur(g,_,j){dl(g,_),0<j.length&&(g.i=null,g.g.set(yi(g,_),E(j)),g.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var j=0;j<_.length;j++){var V=_[j];const re=encodeURIComponent(String(V)),ge=this.V(V);for(V=0;V<ge.length;V++){var J=re;ge[V]!==""&&(J+="="+encodeURIComponent(String(ge[V]))),g.push(J)}}return this.i=g.join("&")};function yi(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function Lh(g,_){_&&!g.j&&(_n(g),g.i=null,g.g.forEach(function(j,V){var J=V.toLowerCase();V!=J&&(dl(this,V),Ur(this,J,j))},g)),g.j=_}function bu(g,_){const j=new As;if(h.Image){const V=new Image;V.onload=S(ai,j,"TestLoadImage: loaded",!0,_,V),V.onerror=S(ai,j,"TestLoadImage: error",!1,_,V),V.onabort=S(ai,j,"TestLoadImage: abort",!1,_,V),V.ontimeout=S(ai,j,"TestLoadImage: timeout",!1,_,V),h.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=g}else _(!1)}function Vh(g,_){const j=new As,V=new AbortController,J=setTimeout(()=>{V.abort(),ai(j,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:V.signal}).then(re=>{clearTimeout(J),re.ok?ai(j,"TestPingServer: ok",!0,_):ai(j,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),ai(j,"TestPingServer: error",!1,_)})}function ai(g,_,j,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(j)}catch{}}function er(){this.g=new Xi}function Su(g,_,j){const V=j||"";try{ll(g,function(J,re){let ge=J;p(J)&&(ge=si(J)),_.push(V+re+"="+encodeURIComponent(ge))})}catch(J){throw _.push(V+"type="+encodeURIComponent("_badmap")),J}}function gr(g){this.l=g.Ub||null,this.j=g.eb||!1}w(gr,Ts),gr.prototype.g=function(){return new xi(this.l,this.j)},gr.prototype.i=(function(g){return function(){return g}})({});function xi(g,_){Be.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(xi,Be),t=xi.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,Ds(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?yr(this):Ds(this),this.readyState==3&&fl(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,yr(this))},t.Qa=function(g){this.g&&(this.response=g,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ds(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var j=_.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=_.next();return g.join(`\r
`)};function Ds(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function qa(g){let _="";return K(g,function(j,V){_+=V,_+=":",_+=j,_+=`\r
`}),_}function Os(g,_,j){e:{for(V in j){var V=!1;break e}V=!0}V||(j=qa(j),typeof g=="string"?j!=null&&encodeURIComponent(String(j)):ft(g,_,j))}function Vt(g){Be.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Vt,Be);var zn=/^https?$/i,Hr=["POST","PUT"];t=Vt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,j,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?Or(this.o):Or(hr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(re){Wa(this,re);return}if(g=j||"",j=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)j.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())j.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(j.keys()).find(re=>re.toLowerCase()=="content-type"),J=h.FormData&&g instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Hr,_,void 0))||V||J||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of j)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pl(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Wa(this,re)}};function Wa(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,Ms(g),Ls(g)}function Ms(g){g.A||(g.A=!0,Ye(g,"complete"),Ye(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ye(this,"complete"),Ye(this,"abort"),Ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fh(this):this.bb())},t.bb=function(){Fh(this)};function Fh(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Xn(g)!=4||g.Z()!=2)){if(g.u&&Xn(g)==4)kr(g.Ea,0,g);else if(Ye(g,"readystatechange"),Xn(g)==4){g.h=!1;try{const ge=g.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var j;if(!(j=_)){var V;if(V=ge===0){var J=String(g.D).match(yu)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),V=!zn.test(J?J.toLowerCase():"")}j=V}if(j)Ye(g,"complete"),Ye(g,"success");else{g.m=6;try{var re=2<Xn(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",Ms(g)}}finally{Ls(g)}}}}function Ls(g,_){if(g.g){pl(g);const j=g.g,V=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||Ye(g,"ready");try{j.onreadystatechange=V}catch{}}}function pl(g){g.I&&(h.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Xn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),xn(_)}};function Ka(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(g){const _={};g=(g.g&&2<=Xn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<g.length;V++){if(O(g[V]))continue;var j=z(g[V]);const J=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const re=_[J]||[];_[J]=re,re.push(j)}I(_,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(g,_,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||_}function zh(g){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ya("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ya("baseRetryDelayMs",5e3,g),this.cb=Ya("retryDelaySeedMs",1e4,g),this.Wa=Ya("forwardChannelMaxRetries",2,g),this.wa=Ya("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new mu(g&&g.concurrentRequestLimit),this.Da=new er,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zh.prototype,t.la=8,t.G=1,t.connect=function(g,_,j,V){Rn(0),this.W=g,this.H=_||{},j&&V!==void 0&&(this.H.OSID=j,this.H.OAID=V),this.F=this.X,this.I=Kh(this,null,this.W),ml(this)};function wu(g){if(Uh(g),g.G==3){var _=g.U++,j=Yt(g.I);if(ft(j,"SID",g.K),ft(j,"RID",_),ft(j,"TYPE","terminate"),Qa(g,j),_=new fr(g,g.j,_),_.L=2,_.v=Ga(Yt(j)),j=!1,h.navigator&&h.navigator.sendBeacon)try{j=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!j&&h.Image&&(new Image().src=_.v,j=!0),j||(_.g=Yh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Zi(_)}Cu(g)}function Vs(g){g.g&&(Eu(g),g.g.cancel(),g.g=null)}function Uh(g){Vs(g),g.u&&(h.clearTimeout(g.u),g.u=null),Fs(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&h.clearTimeout(g.s),g.s=null)}function ml(g){if(!gu(g.h)&&!g.s){g.s=!0;var _=g.Ga;G||be(),ae||(G(),ae=!0),_e.add(_,g),g.B=0}}function gg(g,_){return Dh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Cs(v(g.Ga,g,_),Wh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new fr(this,this.j,g);let re=this.o;if(this.S&&(re?(re=A(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var _=0,j=0;j<this.i.length;j++){t:{var V=this.i[j];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=j;break e}if(_===4096||j===this.i.length-1){_=j+1;break e}}_=1e3}else _=1e3;_=_u(this,J,_),j=Yt(this.I),ft(j,"RID",g),ft(j,"CVER",22),this.D&&ft(j,"X-HTTP-Session-Id",this.D),Qa(this,j),re&&(this.O?_="headers="+encodeURIComponent(String(qa(re)))+"&"+_:this.m&&Os(j,this.m,re)),Ns(this.h,J),this.Ua&&ft(j,"TYPE","init"),this.P?(ft(j,"$req",_),ft(j,"SID","null"),J.T=!0,Ua(J,j,null)):Ua(J,j,_),this.G=2}}else this.G==3&&(g?Hh(this,g):this.i.length==0||gu(this.h)||Hh(this))};function Hh(g,_){var j;_?j=_.l:j=g.U++;const V=Yt(g.I);ft(V,"SID",g.K),ft(V,"RID",j),ft(V,"AID",g.T),Qa(g,V),g.m&&g.o&&Os(V,g.m,g.o),j=new fr(g,g.j,j,g.B+1),g.m===null&&(j.H=g.o),_&&(g.i=_.D.concat(g.i)),_=_u(g,j,1e3),j.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ns(g.h,j),Ua(j,V,_)}function Qa(g,_){g.H&&K(g.H,function(j,V){ft(_,V,j)}),g.l&&ll({},function(j,V){ft(_,V,j)})}function _u(g,_,j){j=Math.min(g.i.length,j);var V=g.l?v(g.l.Na,g.l,g):null;e:{var J=g.i;let re=-1;for(;;){const ge=["count="+j];re==-1?0<j?(re=J[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let xt=!0;for(let ln=0;ln<j;ln++){let Qe=J[ln].g;const Tn=J[ln].map;if(Qe-=re,0>Qe)re=Math.max(0,J[ln].g-100),xt=!1;else try{Su(Tn,ge,"req"+Qe+"_")}catch{V&&V(Tn)}}if(xt){V=ge.join("&");break e}}}return g=g.i.splice(0,j),_.D=g,V}function $h(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;G||be(),ae||(G(),ae=!0),_e.add(_,g),g.v=0}}function Tu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Cs(v(g.Fa,g),Wh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Gh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Cs(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),Vs(this),Gh(this))};function Eu(g){g.A!=null&&(h.clearTimeout(g.A),g.A=null)}function Gh(g){g.g=new fr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=Yt(g.qa);ft(_,"RID","rpc"),ft(_,"SID",g.K),ft(_,"AID",g.T),ft(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&ft(_,"TO",g.ja),ft(_,"TYPE","xmlhttp"),Qa(g,_),g.m&&g.o&&Os(_,g.m,g.o),g.L&&(g.g.I=g.L);var j=g.g;g=g.ia,j.L=1,j.v=Ga(Yt(_)),j.m=null,j.P=!0,Fr(j,g)}t.Za=function(){this.C!=null&&(this.C=null,Vs(this),Tu(this),Rn(19))};function Fs(g){g.C!=null&&(h.clearTimeout(g.C),g.C=null)}function qh(g,_){var j=null;if(g.g==_){Fs(g),Eu(g),g.g=null;var V=2}else if(Rs(g.h,_))j=_.D,Di(g.h,_),V=1;else return;if(g.G!=0){if(_.o)if(V==1){j=_.m?_.m.length:0,_=Date.now()-_.F;var J=g.B;V=Wt(),Ye(V,new du(V,j)),ml(g)}else $h(g);else if(J=_.s,J==3||J==0&&0<_.X||!(V==1&&gg(g,_)||V==2&&Tu(g)))switch(j&&0<j.length&&(_=g.h,_.i=_.i.concat(j)),J){case 1:$r(g,5);break;case 4:$r(g,10);break;case 3:$r(g,6);break;default:$r(g,2)}}}function Wh(g,_){let j=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(j*=2),j*_}function $r(g,_){if(g.j.info("Error code "+_),_==2){var j=v(g.fb,g),V=g.Xa;const J=!V;V=new zr(V||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ks(V,"https"),Ga(V),J?bu(V.toString(),j):Vh(V.toString(),j)}else Rn(2);g.G=0,g.l&&g.l.sa(_),Cu(g),Uh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function Cu(g){if(g.G=0,g.ka=[],g.l){const _=Jn(g.h);(_.length!=0||g.i.length!=0)&&(T(g.ka,_),T(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function Kh(g,_,j){var V=j instanceof zr?Yt(j):new zr(j);if(V.g!="")_&&(V.g=_+"."+V.g),$a(V,V.s);else{var J=h.location;V=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var re=new zr(null);V&&ks(re,V),_&&(re.g=_),J&&$a(re,J),j&&(re.l=j),V=re}return j=g.D,_=g.ya,j&&_&&ft(V,j,_),ft(V,"VER",g.la),Qa(g,V),V}function Yh(g,_,j){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new Vt(new gr({eb:j})):new Vt(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}t=Qh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gl(){}gl.prototype.g=function(g,_){return new Zn(g,_)};function Zn(g,_){Be.call(this),this.g=new zh(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!O(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new Bs(this)}w(Zn,Be),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){wu(this.g)},Zn.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.u&&(j={},j.__data__=si(g),g=j);_.i.push(new dg(_.Ya++,g)),_.G==3&&ml(_)},Zn.prototype.N=function(){this.g.l=null,delete this.j,wu(this.g),delete this.g,Zn.aa.N.call(this)};function Jh(g){je.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const j in _){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}w(Jh,je);function Xh(){$e.call(this),this.status=1}w(Xh,$e);function Bs(g){this.g=g}w(Bs,Qh),Bs.prototype.ua=function(){Ye(this.g,"a")},Bs.prototype.ta=function(g){Ye(this.g,new Jh(g))},Bs.prototype.sa=function(g){Ye(this.g,new Xh)},Bs.prototype.ra=function(){Ye(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,I5=function(){return new gl},j5=function(){return Wt()},A5=Ge,M0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,Dp=Kt,Nn.COMPLETE="complete",C5=Nn,ur.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",Be.prototype.listen=Be.prototype.K,kd=ur,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,E5=Vt}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore";class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let iu="10.14.0";const Xo=new M6("@firebase/firestore");function gd(){return Xo.logLevel}function Ce(t,...e){if(Xo.logLevel<=dt.DEBUG){const n=e.map(Qv);Xo.debug(`Firestore (${iu}): ${t}`,...n)}}function bs(t,...e){if(Xo.logLevel<=dt.ERROR){const n=e.map(Qv);Xo.error(`Firestore (${iu}): ${t}`,...n)}}function Hc(t,...e){if(Xo.logLevel<=dt.WARN){const n=e.map(Qv);Xo.warn(`Firestore (${iu}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+t;throw bs(e),new Error(e)}function Et(t,e){t||Ve()}function He(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends w5{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ja{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class R5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class V6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ja,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},h=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ja)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string"),new R5(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new qn(e)}}class B6{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z6{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new B6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Et(this.o===void 0);const i=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const r=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Et(typeof n.token=="string"),this.R=n.token,new U6(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class N5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=$6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function gt(t,e){return t<e?-1:t>e?1:0}function $c(t,e,n){return t.length===e.length&&t.every(((i,r)=>n(i,e[r])))}class Sn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Sn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Sn(0,0))}static max(){return new Ue(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rh{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return rh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),c=n.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ut extends rh{construct(e,n,i){return new Ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((r=>r.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends rh{construct(e,n,i){return new Ln(e,n,i)}static isValidIdentifier(e){return G6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new Te(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Te(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ut.fromString(e))}static fromName(e){return new Ne(Ut.fromString(e).popFirst(5))}static empty(){return new Ne(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ut(e.slice()))}}function q6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ue.fromTimestamp(i===1e9?new Sn(n+1,0):new Sn(n,i));return new ka(r,Ne.empty(),e)}function W6(t){return new ka(t.readTime,t.key,-1)}class ka{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ka(Ue.min(),Ne.empty(),-1)}static max(){return new ka(Ue.max(),Ne.empty(),-1)}}function K6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}const Y6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==Y6)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let r=0,o=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&n()}),(d=>i(d)))})),c=!0,o===r&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((r=>r?me.resolve(r):i()));return n}static forEach(e,n){const i=[];return e.forEach(((r,o)=>{i.push(n.call(this,r,o))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,r)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next((m=>{c[p]=m,++h,h===o&&i(c)}),(m=>r(m)))}}))}static doWhile(e,n){return new me(((i,r)=>{const o=()=>{e()===!0?n().next((()=>{o()}),r):i()};o()}))}}function J6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wh(t){return t.name==="IndexedDbTransactionError"}class Jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jv.oe=-1;function Fm(t){return t==null}function am(t){return t===0&&1/t==-1/0}function X6(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function bT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ru(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new up(this.root,e,this.comparator,!1)}getReverseIterator(){return new up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new up(this.root,e,this.comparator,!0)}}class up{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Mn.RED,this.left=r??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Mn(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Mn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class or{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new or([])}unionWith(e){let n=new Vn(Ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class P5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P5("Invalid base64 string: "+o):o}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(t){if(Et(!!t),typeof t=="string"){let e=0;const n=Z6.exec(t);if(Et(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}function Xv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zv(t){const e=t.mapValue.fields.__previous_value__;return Xv(e)?Zv(e):e}function sh(t){const e=Pa(t.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}class eV{constructor(e,n,i,r,o,c,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class ah{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ah("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}const dp={mapValue:{}};function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xv(t)?4:nV(t)?9007199254740991:tV(t)?10:11:Ve()}function Nr(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Pa(r.timestampValue),h=Pa(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,o){return Zo(r.bytesValue).isEqual(Zo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,o){return sn(r.geoPointValue.latitude)===sn(o.geoPointValue.latitude)&&sn(r.geoPointValue.longitude)===sn(o.geoPointValue.longitude)})(t,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return sn(r.integerValue)===sn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=sn(r.doubleValue),h=sn(o.doubleValue);return c===h?am(c)===am(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return $c(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(bT(c)!==bT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Nr(c[d],h[d])))return!1;return!0})(t,e);default:return Ve()}}function oh(t,e){return(t.values||[]).find((n=>Nr(n,e)))!==void 0}function Gc(t,e){if(t===e)return 0;const n=el(t),i=el(e);if(n!==i)return gt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=sn(o.integerValue||o.doubleValue),d=sn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return wT(t.timestampValue,e.timestampValue);case 4:return wT(sh(t),sh(e));case 5:return gt(t.stringValue,e.stringValue);case 6:return(function(o,c){const h=Zo(o),d=Zo(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const m=gt(h[p],d[p]);if(m!==0)return m}return gt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=gt(sn(o.latitude),sn(c.latitude));return h!==0?h:gt(sn(o.longitude),sn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _T(t.arrayValue,e.arrayValue);case 10:return(function(o,c){var h,d,p,m;const x=o.fields||{},v=c.fields||{},S=(h=x.value)===null||h===void 0?void 0:h.arrayValue,w=(d=v.value)===null||d===void 0?void 0:d.arrayValue,E=gt(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((m=w?.values)===null||m===void 0?void 0:m.length)||0);return E!==0?E:_T(S,w)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===dp.mapValue&&c===dp.mapValue)return 0;if(o===dp.mapValue)return 1;if(c===dp.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let x=0;x<d.length&&x<m.length;++x){const v=gt(d[x],m[x]);if(v!==0)return v;const S=Gc(h[d[x]],p[m[x]]);if(S!==0)return S}return gt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ve()}}function wT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=Pa(t),i=Pa(e),r=gt(n.seconds,i.seconds);return r!==0?r:gt(n.nanos,i.nanos)}function _T(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Gc(n[r],i[r]);if(o)return o}return gt(n.length,i.length)}function qc(t){return L0(t)}function L0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Pa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=L0(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${L0(n.fields[c])}`;return r+"}"})(t.mapValue):Ve()}function TT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function V0(t){return!!t&&"integerValue"in t}function eb(t){return!!t&&"arrayValue"in t}function ET(t){return!!t&&"nullValue"in t}function CT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function tV(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ru(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ud(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(n)}setAll(e){let n=Ln.emptyPath(),i={},r=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}c?i[h.lastSegment()]=Ud(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Op(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ru(n,((r,o)=>e[r]=o));for(const r of i)delete e[r]}clone(){return new Ki(Ud(this.value))}}function D5(t){const e=[];return ru(t.fields,((n,i)=>{const r=new Ln([n]);if(Op(i)){const o=D5(i.mapValue).fields;if(o.length===0)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)})),new or(e)}class Wn{constructor(e,n,i,r,o,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wn(e,0,Ue.min(),Ue.min(),Ue.min(),Ki.empty(),0)}static newFoundDocument(e,n,i,r){return new Wn(e,1,n,Ue.min(),i,r,0)}static newNoDocument(e,n){return new Wn(e,2,n,Ue.min(),Ue.min(),Ki.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Ue.min(),Ue.min(),Ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class om{constructor(e,n){this.position=e,this.inclusive=n}}function AT(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],c=t.position[r];if(o.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=Gc(c,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function jT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}class lm{constructor(e,n="asc"){this.field=e,this.dir=n}}function iV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class O5{}class gn extends O5{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new sV(e,n,i):n==="array-contains"?new lV(e,i):n==="in"?new cV(e,i):n==="not-in"?new uV(e,i):n==="array-contains-any"?new dV(e,i):new gn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new aV(e,i):new oV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gc(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends O5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new cr(e,n)}matches(e){return M5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function M5(t){return t.op==="and"}function L5(t){return rV(t)&&M5(t)}function rV(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function F0(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+qc(t.value);if(L5(t))return t.filters.map((e=>F0(e))).join(",");{const e=t.filters.map((n=>F0(n))).join(",");return`${t.op}(${e})`}}function V5(t,e){return t instanceof gn?(function(i,r){return r instanceof gn&&i.op===r.op&&i.field.isEqual(r.field)&&Nr(i.value,r.value)})(t,e):t instanceof cr?(function(i,r){return r instanceof cr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&V5(c,r.filters[h])),!0):!1})(t,e):void Ve()}function F5(t){return t instanceof gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${qc(n.value)}`})(t):t instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(F5).join(" ,")+"}"})(t):"Filter"}class sV extends gn{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class aV extends gn{constructor(e,n){super(e,"in",n),this.keys=B5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oV extends gn{constructor(e,n){super(e,"not-in",n),this.keys=B5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>Ne.fromName(i.referenceValue)))}class lV extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eb(n)&&oh(n.arrayValue,this.value)}}class cV extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oh(this.value.arrayValue,n)}}class uV extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oh(this.value.arrayValue,n)}}class dV extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>oh(this.value.arrayValue,i)))}}class hV{constructor(e,n=null,i=[],r=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.ue=null}}function IT(t,e=null,n=[],i=[],r=null,o=null,c=null){return new hV(t,e,n,i,r,o,c)}function tb(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>F0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>qc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>qc(i))).join(",")),e.ue=n}return e.ue}function nb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jT(t.startAt,e.startAt)&&jT(t.endAt,e.endAt)}function B0(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _h{constructor(e,n=null,i=[],r=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fV(t,e,n,i,r,o,c,h){return new _h(t,e,n,i,r,o,c,h)}function z5(t){return new _h(t)}function RT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U5(t){return t.collectionGroup!==null}function Hd(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Vn(Ln.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new lm(o,i))})),n.has(Ln.keyField().canonicalString())||e.ce.push(new lm(Ln.keyField(),i))}return e.ce}function Cr(t){const e=He(t);return e.le||(e.le=pV(e,Hd(t))),e.le}function pV(t,e){if(t.limitType==="F")return IT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new lm(r.field,o)}));const n=t.endAt?new om(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new om(t.startAt.position,t.startAt.inclusive):null;return IT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function z0(t,e){const n=t.filters.concat([e]);return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function U0(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return nb(Cr(t),Cr(e))&&t.limitType===e.limitType}function H5(t){return`${tb(Cr(t))}|lt:${t.limitType}`}function Yl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((r=>F5(r))).join(", ")}]`),Fm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((r=>qc(r))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((r=>qc(r))).join(",")),`Target(${i})`})(Cr(t))}; limitType=${t.limitType})`}function zm(t,e){return e.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ne.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,r){for(const o of Hd(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(t,e)&&(function(i,r){return!(i.startAt&&!(function(c,h,d){const p=AT(c,h,d);return c.inclusive?p<=0:p<0})(i.startAt,Hd(i),r)||i.endAt&&!(function(c,h,d){const p=AT(c,h,d);return c.inclusive?p>=0:p>0})(i.endAt,Hd(i),r))})(t,e)}function mV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $5(t){return(e,n)=>{let i=!1;for(const r of Hd(t)){const o=gV(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function gV(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?Gc(d,p):Ve()})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}class su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ru(this.inner,((n,i)=>{for(const[r,o]of i)e(r,o)}))}isEmpty(){return k5(this.inner)}size(){return this.innerSize}}const yV=new qt(Ne.comparator);function Ss(){return yV}const G5=new qt(Ne.comparator);function Pd(...t){let e=G5;for(const n of t)e=e.insert(n.key,n);return e}function q5(t){let e=G5;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Lo(){return $d()}function W5(){return $d()}function $d(){return new su((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xV=new qt(Ne.comparator),vV=new Vn(Ne.comparator);function ot(...t){let e=vV;for(const n of t)e=e.add(n);return e}const bV=new Vn(gt);function SV(){return bV}function ib(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function K5(t){return{integerValue:""+t}}function wV(t,e){return X6(e)?K5(e):ib(t,e)}class Um{constructor(){this._=void 0}}function _V(t,e,n){return t instanceof cm?(function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xv(o)&&(o=Zv(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(n,e):t instanceof lh?Q5(t,e):t instanceof ch?J5(t,e):(function(r,o){const c=Y5(r,o),h=NT(c)+NT(r.Pe);return V0(c)&&V0(r.Pe)?K5(h):ib(r.serializer,h)})(t,e)}function TV(t,e,n){return t instanceof lh?Q5(t,e):t instanceof ch?J5(t,e):n}function Y5(t,e){return t instanceof um?(function(i){return V0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class cm extends Um{}class lh extends Um{constructor(e){super(),this.elements=e}}function Q5(t,e){const n=X5(e);for(const i of t.elements)n.some((r=>Nr(r,i)))||n.push(i);return{arrayValue:{values:n}}}class ch extends Um{constructor(e){super(),this.elements=e}}function J5(t,e){let n=X5(e);for(const i of t.elements)n=n.filter((r=>!Nr(r,i)));return{arrayValue:{values:n}}}class um extends Um{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function NT(t){return sn(t.integerValue||t.doubleValue)}function X5(t){return eb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EV(t,e){return t.field.isEqual(e.field)&&(function(i,r){return i instanceof lh&&r instanceof lh||i instanceof ch&&r instanceof ch?$c(i.elements,r.elements,Nr):i instanceof um&&r instanceof um?Nr(i.Pe,r.Pe):i instanceof cm&&r instanceof cm})(t.transform,e.transform)}class CV{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hm{}function Z5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tj(t.key,ps.none()):new Th(t.key,t.data,ps.none());{const n=t.data,i=Ki.empty();let r=new Vn(Ln.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new il(t.key,i,new or(r.toArray()),ps.none())}}function AV(t,e,n){t instanceof Th?(function(r,o,c){const h=r.value.clone(),d=PT(r.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof il?(function(r,o,c){if(!Mp(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=PT(r.fieldTransforms,o,c.transformResults),d=o.data;d.setAll(ej(r)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gd(t,e,n,i){return t instanceof Th?(function(o,c,h,d){if(!Mp(o.precondition,c))return h;const p=o.value.clone(),m=DT(o.fieldTransforms,d,c);return p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof il?(function(o,c,h,d){if(!Mp(o.precondition,c))return h;const p=DT(o.fieldTransforms,d,c),m=c.data;return m.setAll(ej(o)),m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(o,c,h){return Mp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function jV(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=Y5(i.transform,r||null);o!=null&&(n===null&&(n=Ki.empty()),n.set(i.field,o))}return n||null}function kT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$c(i,r,((o,c)=>EV(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Th extends Hm{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class il extends Hm{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ej(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function PT(t,e,n){const i=new Map;Et(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],c=o.transform,h=e.data.field(o.field);i.set(o.field,TV(c,h,n[r]))}return i}function DT(t,e,n){const i=new Map;for(const r of t){const o=r.transform,c=n.data.field(r.field);i.set(r.field,_V(o,c,e))}return i}class tj extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IV extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RV{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&AV(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Gd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Gd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=W5();return this.mutations.forEach((r=>{const o=e.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(r.key)?null:h;const d=Z5(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ot())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,((n,i)=>kT(n,i)))&&$c(this.baseMutations,e.baseMutations,((n,i)=>kT(n,i)))}}class rb{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Et(e.mutations.length===i.length);let r=(function(){return xV})();const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new rb(e,n,i,r)}}class NV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kV{constructor(e,n){this.count=e,this.unchangedNames=n}}var fn,ut;function PV(t){switch(t){default:return Ve();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function nj(t){if(t===void 0)return bs("GRPC error has no .code"),pe.UNKNOWN;switch(t){case fn.OK:return pe.OK;case fn.CANCELLED:return pe.CANCELLED;case fn.UNKNOWN:return pe.UNKNOWN;case fn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case fn.INTERNAL:return pe.INTERNAL;case fn.UNAVAILABLE:return pe.UNAVAILABLE;case fn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case fn.NOT_FOUND:return pe.NOT_FOUND;case fn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case fn.ABORTED:return pe.ABORTED;case fn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case fn.DATA_LOSS:return pe.DATA_LOSS;default:return Ve()}}(ut=fn||(fn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";function DV(){return new TextEncoder}const OV=new Uo([4294967295,4294967295],0);function OT(t){const e=DV().encode(t),n=new T5;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Uo([n,i],0),new Uo([r,o],0)]}class sb{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Dd(`Invalid padding: ${n}`);if(i<0)throw new Dd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Uo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Uo.fromNumber(i)));return r.compare(OV)===1&&(r=new Uo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=OT(e),[i,r]=MT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(i,r,o);if(!this.de(c))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new sb(o,r,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const n=OT(e),[i,r]=MT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(i,r,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $m{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new $m(Ue.min(),r,new qt(gt),Ss(),ot())}}class Eh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Eh(i,n,ot(),ot(),ot())}}class Lp{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class ij{constructor(e,n){this.targetId=e,this.me=n}}class rj{constructor(e,n,i=Fn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class LT{constructor(){this.fe=0,this.ge=FT(),this.pe=Fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ot(),n=ot(),i=ot();return this.ge.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}})),new Eh(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=FT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=VT(),this.Qe=new qt(gt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ve()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((i,r)=>{this.ze(r)&&n(r)}))}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const o=r.target;if(B0(o))if(i===0){const c=new Ne(o.path);this.Ue(n,c,Wn.newNoDocument(c,Ue.min()))}else Et(i===1);else{const c=this.Ye(n);if(c!==i){const h=this.Ze(e),d=h?this.Xe(h,e,c):1;if(d!==0){this.je(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let c,h;try{c=Zo(i).toUint8Array()}catch(d){if(d instanceof P5)return Hc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new sb(c,r,o)}catch(d){return Hc(d instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach((o=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),r++)})),r}rt(e){const n=new Map;this.Be.forEach(((o,c)=>{const h=this.Je(c);if(h){if(o.current&&B0(h.target)){const d=new Ne(h.target.path);this.ke.get(d)!==null||this.it(c,d)||this.Ue(c,d,Wn.newNoDocument(d,e))}o.be&&(n.set(c,o.ve()),o.Ce())}}));let i=ot();this.qe.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.Je(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(e)));const r=new $m(e,n,this.Qe,this.ke,i);return this.ke=Ss(),this.qe=VT(),this.Qe=new qt(gt),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vn(gt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LT),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function VT(){return new qt(Ne.comparator)}function FT(){return new qt(Ne.comparator)}const LV={asc:"ASCENDING",desc:"DESCENDING"},VV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FV={and:"AND",or:"OR"};class BV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H0(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zV(t,e){return dm(t,e.toTimestamp())}function Ar(t){return Et(!!t),Ue.fromTimestamp((function(n){const i=Pa(n);return new Sn(i.seconds,i.nanos)})(t))}function ab(t,e){return $0(t,e).canonicalString()}function $0(t,e){const n=(function(r){return new Ut(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aj(t){const e=Ut.fromString(t);return Et(dj(e)),e}function G0(t,e){return ab(t.databaseId,e.path)}function Bx(t,e){const n=aj(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(lj(n))}function oj(t,e){return ab(t.databaseId,e)}function UV(t){const e=aj(t);return e.length===4?Ut.emptyPath():lj(e)}function q0(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lj(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BT(t,e,n){return{name:G0(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(p,m){return p.useProto3Json?(Et(m===void 0||typeof m=="string"),Fn.fromBase64String(m||"")):(Et(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Fn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const m=p.code===void 0?pe.UNKNOWN:nj(p.code);return new Te(m,p.message||"")})(c);n=new rj(i,r,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Bx(t,i.document.name),o=Ar(i.document.updateTime),c=i.document.createTime?Ar(i.document.createTime):Ue.min(),h=new Ki({mapValue:{fields:i.document.fields}}),d=Wn.newFoundDocument(r,o,c,h),p=i.targetIds||[],m=i.removedTargetIds||[];n=new Lp(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Bx(t,i.document),o=i.readTime?Ar(i.readTime):Ue.min(),c=Wn.newNoDocument(r,o),h=i.removedTargetIds||[];n=new Lp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Bx(t,i.document),o=i.removedTargetIds||[];n=new Lp([],o,r,null)}else{if(!("filter"in e))return Ve();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new kV(r,o),h=i.targetId;n=new ij(h,c)}}return n}function $V(t,e){let n;if(e instanceof Th)n={update:BT(t,e.key,e.value)};else if(e instanceof tj)n={delete:G0(t,e.key)};else if(e instanceof il)n={update:BT(t,e.key,e.data),updateMask:ZV(e.fieldMask)};else{if(!(e instanceof IV))return Ve();n={verify:G0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof cm)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ch)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof um)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ve()})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:zV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()})(t,e.precondition)),n}function GV(t,e){return t&&t.length>0?(Et(e!==void 0),t.map((n=>(function(r,o){let c=r.updateTime?Ar(r.updateTime):Ar(o);return c.isEqual(Ue.min())&&(c=Ar(o)),new CV(c,r.transformResults||[])})(n,e)))):[]}function qV(t,e){return{documents:[oj(t,e.path)]}}function WV(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oj(t,r);const o=(function(p){if(p.length!==0)return uj(cr.create(p,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((m=>(function(v){return{field:Ql(v.field),direction:QV(v.dir)}})(m)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=H0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:r}}function KV(t){let e=UV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Et(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(x){const v=cj(x);return v instanceof cr&&L5(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((v=>(function(w){return new lm(Jl(w.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let v;return v=typeof x=="object"?x.value:x,Fm(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(x){const v=!!x.before,S=x.values||[];return new om(S,v)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const v=!x.before,S=x.values||[];return new om(S,v)})(n.endAt)),fV(e,r,c,o,h,"F",d,p)}function YV(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Jl(n.unaryFilter.field);return gn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jl(n.unaryFilter.field);return gn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Jl(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jl(n.unaryFilter.field);return gn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}})(t):t.fieldFilter!==void 0?(function(n){return gn.create(Jl(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((i=>cj(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}})(n.compositeFilter.op))})(t):Ve()}function QV(t){return LV[t]}function JV(t){return VV[t]}function XV(t){return FV[t]}function Ql(t){return{fieldPath:t.canonicalString()}}function Jl(t){return Ln.fromServerFormat(t.fieldPath)}function uj(t){return t instanceof gn?(function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NAN"}};if(ET(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NAN"}};if(ET(n.value))return{unaryFilter:{field:Ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(n.field),op:JV(n.op),value:n.value}}})(t):t instanceof cr?(function(n){const i=n.getFilters().map((r=>uj(r)));return i.length===1?i[0]:{compositeFilter:{op:XV(n.op),filters:i}}})(t):Ve()}function ZV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function dj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Sa{constructor(e,n,i,r,o=Ue.min(),c=Ue.min(),h=Fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eF{constructor(e){this.ct=e}}function tF(t){const e=KV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U0(e,e.limit,"L"):e}class nF{constructor(){this.un=new iF}addToCollectionParentIndex(e,n){return this.un.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(ka.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class iF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Vn(Ut.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vn(Ut.comparator)).toArray()}}class Wc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wc(0)}static kn(){return new Wc(-1)}}class rF{constructor(){this.changes=new su((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aF{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(i!==null&&Gd(i.mutation,r,or.empty(),Sn.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ot()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ot()){const r=Lo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,i).next((o=>{let c=Pd();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Lo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ot())))}populateOverlays(e,n,i){const r=[];return i.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,r){let o=Ss();const c=$d(),h=(function(){return $d()})();return n.forEach(((d,p)=>{const m=i.get(p.key);r.has(p.key)&&(m===void 0||m.mutation instanceof il)?o=o.insert(p.key,p):m!==void 0?(c.set(p.key,m.mutation.getFieldMask()),Gd(m.mutation,p,m.mutation.getFieldMask(),Sn.now())):c.set(p.key,or.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,m)=>c.set(p,m))),n.forEach(((p,m)=>{var x;return h.set(p,new sF(m,(x=c.get(p))!==null&&x!==void 0?x:null))})),h)))}recalculateAndSaveOverlays(e,n){const i=$d();let r=new qt(((c,h)=>c-h)),o=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let m=i.get(d)||or.empty();m=h.applyToLocalView(p,m),i.set(d,m);const x=(r.get(h.batchId)||ot()).add(d);r=r.insert(h.batchId,x)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,m=d.value,x=W5();m.forEach((v=>{if(!o.has(v)){const S=Z5(n.get(v),i.get(v));S!==null&&x.set(v,S),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return me.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,r){return(function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):me.resolve(Lo());let h=-1,d=o;return c.next((p=>me.forEach(p,((m,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(m)?me.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,ot()))).next((m=>({batchId:h,changes:q5(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let r=Pd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let c=Pd();return this.indexManager.getCollectionParents(e,o).next((h=>me.forEach(h,(d=>{const p=(function(x,v){return new _h(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next((m=>{m.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r)))).next((c=>{o.forEach(((d,p)=>{const m=p.getKey();c.get(m)===null&&(c=c.insert(m,Wn.newInvalidDocument(m)))}));let h=Pd();return c.forEach(((d,p)=>{const m=o.get(d);m!==void 0&&Gd(m.mutation,p,or.empty(),Sn.now()),zm(n,p)&&(h=h.insert(d,p))})),h}))}}class oF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Ar(r.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(r){return{name:r.name,query:tF(r.bundledQuery),readTime:Ar(r.readTime)}})(n)),me.resolve()}}class lF{constructor(){this.overlays=new qt(Ne.comparator),this.Ir=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Lo();return me.forEach(n,(r=>this.getOverlay(e,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((r,o)=>{this.ht(e,n,o)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const r=Lo(),o=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return me.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new qt(((p,m)=>p-m));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=o.get(p.largestBatchId);m===null&&(m=Lo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const h=Lo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>h.set(p,m))),!(h.size()>=r)););return me.resolve(h)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new NV(n,i));let o=this.Ir.get(n);o===void 0&&(o=ot(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}}class cF{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class ob{constructor(){this.Tr=new Vn(An.Er),this.dr=new Vn(An.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new An(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Vr(new An(e,n))}mr(e,n){e.forEach((i=>this.removeReference(i,n)))}gr(e){const n=new Ne(new Ut([])),i=new An(n,e),r=new An(n,e+1),o=[];return this.dr.forEachInRange([i,r],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ne(new Ut([])),i=new An(n,e),r=new An(n,e+1);let o=ot();return this.dr.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new An(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class An{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ne.comparator(e.key,n.key)||gt(e.wr,n.wr)}static Ar(e,n){return gt(e.wr,n.wr)||Ne.comparator(e.key,n.key)}}class uF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vn(An.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RV(o,n,i,r);this.mutationQueue.push(c);for(const h of r)this.br=this.br.add(new An(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),o=r<0?0:r;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new An(n,0),r=new An(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],(c=>{const h=this.Dr(c.wr);o.push(h)})),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vn(gt);return n.forEach((r=>{const o=new An(r,0),c=new An(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(h=>{i=i.add(h.wr)}))})),me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;Ne.isDocumentKey(o)||(o=o.child(""));const c=new An(new Ne(o),0);let h=new Vn(gt);return this.br.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(h=h.add(d.wr)),!0)}),c),me.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((i=>{const r=this.Dr(i);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return me.forEach(n.mutations,(r=>{const o=new An(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,n){const i=new An(n,0),r=this.br.firstAfterOrEqual(i);return me.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dF{constructor(e){this.Mr=e,this.docs=(function(){return new qt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,c=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let i=Ss();return n.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Wn.newInvalidDocument(r))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Ss();const c=n.path,h=new Ne(c.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||K6(W6(m),i)<=0||(r.has(m.key)||zm(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ve()}Or(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new hF(this)}getSize(e){return me.resolve(this.size)}}class hF extends rF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class fF{constructor(e){this.persistence=e,this.Nr=new su((n=>tb(n)),nb),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ob,this.targetCount=0,this.kr=Wc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((i,r)=>n(r))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Kn(n),me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),me.waitFor(o).next((()=>r))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),me.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((c=>{o.push(r.markPotentiallyOrphaned(e,c))})),me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this.Br.containsKey(n))}}class pF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jv(0),this.Kr=!1,this.Kr=!0,this.$r=new cF,this.referenceDelegate=e(this),this.Ur=new fF(this),this.indexManager=new nF,this.remoteDocumentCache=(function(r){return new dF(r)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new eF(n),this.Gr=new oF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new uF(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Ce("MemoryPersistence","Starting transaction:",e);const r=new mF(this.Qr.next());return this.referenceDelegate.zr(),i(r).next((o=>this.referenceDelegate.jr(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Hr(e,n){return me.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,n))))}}class mF extends Q6{constructor(e){super(),this.currentSequenceNumber=e}}class lb{constructor(e){this.persistence=e,this.Jr=new ob,this.Yr=null}static Zr(e){return new lb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((r=>this.Xr.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((o=>this.Xr.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,(i=>{const r=Ne.fromPath(i);return this.ei(e,r).next((o=>{o||n.removeEntry(r,Ue.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return me.or([()=>me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class cb{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ot(),r=ot();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new cb(e,n.fromCache,i,r)}}class gF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return C6()?8:J6(T6())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.Yi(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(e,n,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new gF;return this.Xi(e,n,c).next((h=>{if(o.result=h,this.zi)return this.es(e,n,c,h.size)}))})).next((()=>o.result))}es(e,n,i,r){return i.documentReadCount<this.ji?(gd()<=dt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(gd()<=dt.DEBUG&&Ce("QueryEngine","Query:",Yl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(gd()<=dt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):me.resolve())}Yi(e,n){if(RT(n))return me.resolve(null);let i=Cr(n);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=U0(n,null,"F"),i=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const c=ot(...o);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.ts(n,h);return this.ns(n,p,c,d.readTime)?this.Yi(e,U0(n,null,"F")):this.rs(e,p,n,d)}))))})))))}Zi(e,n,i,r){return RT(n)||r.isEqual(Ue.min())?me.resolve(null):this.Ji.getDocuments(e,i).next((o=>{const c=this.ts(n,o);return this.ns(n,c,i,r)?me.resolve(null):(gd()<=dt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yl(n)),this.rs(e,c,n,q6(r,-1)).next((h=>h)))}))}ts(e,n){let i=new Vn($5(e));return n.forEach(((r,o)=>{zm(e,o)&&(i=i.add(o))})),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return gd()<=dt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Yl(n)),this.Ji.getDocumentsMatchingQuery(e,n,ka.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}class xF{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new qt(gt),this._s=new su((o=>tb(o)),nb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function vF(t,e,n,i){return new xF(t,e,n,i)}async function hj(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let d=ot();for(const p of r){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){h.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function bF(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,m){const x=p.batch,v=x.keys();let S=me.resolve();return v.forEach((w=>{S=S.next((()=>m.getEntry(d,w))).next((E=>{const T=p.docVersions.get(w);Et(T!==null),E.version.compareTo(T)<0&&(x.applyToRemoteDocument(E,p),E.isValidDocument()&&(E.setReadTime(p.commitVersion),m.addEntry(E)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,x)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=ot();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,r)))}))}function fj(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function SF(t,e){const n=He(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const h=[];e.targetChanges.forEach(((m,x)=>{const v=r.get(x);if(!v)return;h.push(n.Ur.removeMatchingKeys(o,m.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(o,m.addedDocuments,x))));let S=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(Fn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),r=r.insert(x,S),(function(E,T,M){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(v,S,m)&&h.push(n.Ur.updateTargetData(o,S))}));let d=Ss(),p=ot();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),h.push(wF(o,c,e.documentUpdates).next((m=>{d=m.Ps,p=m.Is}))),!i.isEqual(Ue.min())){const m=n.Ur.getLastRemoteSnapshotVersion(o).next((x=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(m)}return me.waitFor(h).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(n.os=r,o)))}function wF(t,e,n){let i=ot(),r=ot();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let c=Ss();return n.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Ce("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Ps:c,Is:r}}))}function _F(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function TF(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return n.Ur.getTargetData(i,e).next((o=>o?(r=o,me.resolve(r)):n.Ur.allocateTargetId(i).next((c=>(r=new Sa(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i}))}async function W0(t,e,n){const i=He(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!wh(c))throw c;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function zT(t,e,n){const i=He(t);let r=Ue.min(),o=ot();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,m){const x=He(d),v=x._s.get(m);return v!==void 0?me.resolve(x.os.get(v)):x.Ur.getTargetData(p,m)})(i,c,Cr(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,n?r:Ue.min(),n?o:ot()))).next((h=>(EF(i,mV(e),h),{documents:h,Ts:o})))))}function EF(t,e,n){let i=t.us.get(e)||Ue.min();n.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.us.set(e,i)}class UT{constructor(){this.activeTargetIds=SV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CF{constructor(){this.so=new UT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new UT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AF{_o(e){}shutdown(){}}class HT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hp=null;function zx(){return hp===null?hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():hp++,"0x"+hp.toString(16)}const jF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hn="WebChannelConnection";class RF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,c){const h=zx(),d=this.xo(n,i.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,o,c),this.No(n,d,p,r).then((m=>(Ce("RestConnection",`Received RPC '${n}' ${h}: `,m),m)),(m=>{throw Hc("RestConnection",`RPC '${n}' ${h} failed with error: `,m,"url: ",d,"request:",r),m}))}Lo(n,i,r,o,c,h){return this.Mo(n,i,r,o,c)}Oo(n,i,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>n[c]=o)),r&&r.headers.forEach(((o,c)=>n[c]=o))}xo(n,i){const r=jF[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const o=zx();return new Promise(((c,h)=>{const d=new E5;d.setWithCredentials(!0),d.listenOnce(C5.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Dp.NO_ERROR:const m=d.getResponseJson();Ce(Hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),c(m);break;case Dp.TIMEOUT:Ce(Hn,`RPC '${e}' ${o} timed out`),h(new Te(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Dp.HTTP_ERROR:const x=d.getStatus();if(Ce(Hn,`RPC '${e}' ${o} failed with status:`,x,"response text:",d.getResponseText()),x>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const w=(function(T){const M=T.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(M)>=0?M:pe.UNKNOWN})(S.status);h(new Te(w,S.message))}else h(new Te(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Te(pe.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Ce(Hn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(r);Ce(Hn,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",p,i,15)}))}Bo(e,n,i){const r=zx(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=I5(),h=j5(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=o.join("");Ce(Hn,`Creating RPC '${e}' stream ${r}: ${m}`,d);const x=c.createWebChannel(m,d);let v=!1,S=!1;const w=new IF({Io:T=>{S?Ce(Hn,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(v||(Ce(Hn,`Opening RPC '${e}' stream ${r} transport.`),x.open(),v=!0),Ce(Hn,`RPC '${e}' stream ${r} sending:`,T),x.send(T))},To:()=>x.close()}),E=(T,M,O)=>{T.listen(M,(k=>{try{O(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return E(x,kd.EventType.OPEN,(()=>{S||(Ce(Hn,`RPC '${e}' stream ${r} transport opened.`),w.yo())})),E(x,kd.EventType.CLOSE,(()=>{S||(S=!0,Ce(Hn,`RPC '${e}' stream ${r} transport closed`),w.So())})),E(x,kd.EventType.ERROR,(T=>{S||(S=!0,Hc(Hn,`RPC '${e}' stream ${r} transport errored:`,T),w.So(new Te(pe.UNAVAILABLE,"The operation could not be completed")))})),E(x,kd.EventType.MESSAGE,(T=>{var M;if(!S){const O=T.data[0];Et(!!O);const k=O,B=k.error||((M=k[0])===null||M===void 0?void 0:M.error);if(B){Ce(Hn,`RPC '${e}' stream ${r} received error:`,B);const W=B.status;let K=(function(R){const L=fn[R];if(L!==void 0)return nj(L)})(W),I=B.message;K===void 0&&(K=pe.INTERNAL,I="Unknown error status: "+W+" with message "+B.message),S=!0,w.So(new Te(K,I)),x.close()}else Ce(Hn,`RPC '${e}' stream ${r} received:`,O),w.bo(O)}})),E(h,A5.STAT_EVENT,(T=>{T.stat===M0.PROXY?Ce(Hn,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===M0.NOPROXY&&Ce(Hn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.wo()}),0),w}}function Ux(){return typeof document<"u"?document:null}function Gm(t){return new BV(t,!0)}class pj{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mj{constructor(e,n,i,r,o,c,h,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.Yo===n&&this.P_(i,r)}),(i=>{e((()=>{const r=new Te(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)}))}))}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((r=>{i((()=>this.I_(r)))})),this.stream.onMessage((r=>{i((()=>++this.e_==1?this.E_(r):this.onNext(r)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NF extends mj{constructor(e,n,i,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=HV(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ue.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?Ar(c.readTime):Ue.min()})(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=q0(this.serializer),n.addTarget=(function(o,c){let h;const d=c.target;if(h=B0(d)?{documents:qV(o,d)}:{query:WV(o,d)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=sj(o,c.resumeToken);const p=H0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ue.min())>0){h.readTime=dm(o,c.snapshotVersion.toTimestamp());const p=H0(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=YV(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=q0(this.serializer),n.removeTarget=e,this.a_(n)}}class kF extends mj{constructor(e,n,i,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GV(e.writeResults,e.commitTime),i=Ar(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=q0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>$V(this.serializer,i)))};this.a_(n)}}class PF extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(e,$0(n,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(pe.UNKNOWN,o.toString())}))}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,$0(n,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(pe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class DF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(bs(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class OF{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{i.enqueueAndForget((async()=>{rl(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const p=He(d);p.L_.add(4),await Ch(p),p.q_.set("Unknown"),p.L_.delete(4),await qm(p)})(this))}))})),this.q_=new DF(i,r)}}async function qm(t){if(rl(t))for(const e of t.B_)await e(!0)}async function Ch(t){for(const e of t.B_)await e(!1)}function gj(t,e){const n=He(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),fb(n)?hb(n):au(n).r_()&&db(n,e))}function ub(t,e){const n=He(t),i=au(n);n.N_.delete(e),i.r_()&&yj(n,e),n.N_.size===0&&(i.r_()?i.o_():rl(n)&&n.q_.set("Unknown"))}function db(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).A_(e)}function yj(t,e){t.Q_.xe(e),au(t).R_(e)}function hb(t){t.Q_=new MV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),au(t).start(),t.q_.v_()}function fb(t){return rl(t)&&!au(t).n_()&&t.N_.size>0}function rl(t){return He(t).L_.size===0}function xj(t){t.Q_=void 0}async function MF(t){t.q_.set("Online")}async function LF(t){t.N_.forEach(((e,n)=>{db(t,e)}))}async function VF(t,e){xj(t),fb(t)?(t.q_.M_(e),hb(t)):t.q_.set("Unknown")}async function FF(t,e,n){if(t.q_.set("Online"),e instanceof rj&&e.state===2&&e.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.N_.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.N_.delete(h),r.Q_.removeTarget(h))})(t,e)}catch(i){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hm(t,i)}else if(e instanceof Lp?t.Q_.Ke(e):e instanceof ij?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const i=await fj(t.localStore);n.compareTo(i)>=0&&await(function(o,c){const h=o.Q_.rt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.N_.get(p);m&&o.N_.set(p,m.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const m=o.N_.get(d);if(!m)return;o.N_.set(d,m.withResumeToken(Fn.EMPTY_BYTE_STRING,m.snapshotVersion)),yj(o,d);const x=new Sa(m.target,d,p,m.sequenceNumber);db(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Ce("RemoteStore","Failed to raise snapshot:",i),await hm(t,i)}}async function hm(t,e,n){if(!wh(e))throw e;t.L_.add(1),await Ch(t),t.q_.set("Offline"),n||(n=()=>fj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qm(t)}))}function vj(t,e){return e().catch((n=>hm(t,n,e)))}async function Wm(t){const e=He(t),n=Da(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;BF(e);)try{const r=await _F(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,zF(e,r)}catch(r){await hm(e,r)}bj(e)&&Sj(e)}function BF(t){return rl(t)&&t.O_.length<10}function zF(t,e){t.O_.push(e);const n=Da(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bj(t){return rl(t)&&!Da(t).n_()&&t.O_.length>0}function Sj(t){Da(t).start()}async function UF(t){Da(t).p_()}async function HF(t){const e=Da(t);for(const n of t.O_)e.m_(n.mutations)}async function $F(t,e,n){const i=t.O_.shift(),r=rb.from(i,e,n);await vj(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Wm(t)}async function GF(t,e){e&&Da(t).V_&&await(async function(i,r){if((function(c){return PV(c)&&c!==pe.ABORTED})(r.code)){const o=i.O_.shift();Da(i).s_(),await vj(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Wm(i)}})(t,e),bj(t)&&Sj(t)}async function $T(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const i=rl(n);n.L_.add(3),await Ch(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qm(n)}async function qF(t,e){const n=He(t);e?(n.L_.delete(2),await qm(n)):e||(n.L_.add(2),await Ch(n),n.q_.set("Unknown"))}function au(t){return t.K_||(t.K_=(function(n,i,r){const o=He(n);return o.w_(),new NF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Eo:MF.bind(null,t),Ro:LF.bind(null,t),mo:VF.bind(null,t),d_:FF.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),fb(t)?hb(t):t.q_.set("Unknown")):(await t.K_.stop(),xj(t))}))),t.K_}function Da(t){return t.U_||(t.U_=(function(n,i,r){const o=He(n);return o.w_(),new kF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UF.bind(null,t),mo:GF.bind(null,t),f_:HF.bind(null,t),g_:$F.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Wm(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class pb{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const c=Date.now()+i,h=new pb(e,n,c,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mb(t,e){if(bs("AsyncQueue",`${e}: ${t}`),wh(t))return new Te(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class Dc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=Pd(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Dc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class GT{constructor(){this.W_=new qt(Ne.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Kc{constructor(e,n,i,r,o,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,o){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Kc(e,n,Dc.emptySet(n),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class WF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class KF{constructor(){this.queries=qT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=He(n),o=r.queries;r.queries=qT(),o.forEach(((c,h)=>{for(const d of h.j_)d.onError(i)}))})(this,new Te(pe.ABORTED,"Firestore shutting down"))}}function qT(){return new su((t=>H5(t)),Bm)}async function YF(t,e){const n=He(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new WF,i=e.J_()?0:1);try{switch(i){case 0:o.z_=await n.onListen(r,!0);break;case 1:o.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const h=mb(c,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&gb(n)}async function QF(t,e){const n=He(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function JF(t,e){const n=He(t);let i=!1;for(const r of e){const o=r.query,c=n.queries.get(o);if(c){for(const h of c.j_)h.X_(r)&&(i=!0);c.z_=r}}i&&gb(n)}function XF(t,e,n){const i=He(t),r=i.queries.get(e);if(r)for(const o of r.j_)o.onError(n);i.queries.delete(e)}function gb(t){t.Y_.forEach((e=>{e.next()}))}var K0,WT;(WT=K0||(K0={})).ea="default",WT.Cache="cache";class ZF{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Kc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==K0.Cache}}class wj{constructor(e){this.key=e}}class _j{constructor(e){this.key=e}}class e8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ot(),this.mutatedKeys=ot(),this.Aa=$5(e),this.Ra=new Dc(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new GT,r=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((m,x)=>{const v=r.get(m),S=zm(this.query,x)?x:null,w=!!v&&this.mutatedKeys.has(v.key),E=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let T=!1;v&&S?v.data.isEqual(S.data)?w!==E&&(i.track({type:3,doc:S}),T=!0):this.ga(v,S)||(i.track({type:2,doc:S}),T=!0,(d&&this.Aa(S,d)>0||p&&this.Aa(S,p)<0)&&(h=!0)):!v&&S?(i.track({type:0,doc:S}),T=!0):v&&!S&&(i.track({type:1,doc:v}),T=!0,(d||p)&&(h=!0)),T&&(S?(c=c.add(S),o=E?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Ra:c,fa:i,ns:h,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((m,x)=>(function(S,w){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return E(S)-E(w)})(m.type,x.type)||this.Aa(m.doc,x.doc))),this.pa(i),r=r!=null&&r;const h=n&&!r?this.ya():[],d=this.da.size===0&&this.current&&!r?1:0,p=d!==this.Ea;return this.Ea=d,c.length!==0||p?{snapshot:new Kc(this.query,e.Ra,o,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new GT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ot(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const n=[];return e.forEach((i=>{this.da.has(i)||n.push(new _j(i))})),this.da.forEach((i=>{e.has(i)||n.push(new wj(i))})),n}ba(e){this.Ta=e.Ts,this.da=ot();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t8{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class n8{constructor(e){this.key=e,this.va=!1}}class i8{constructor(e,n,i,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new su((h=>H5(h)),Bm),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(Ne.comparator),this.Na=new Map,this.La=new ob,this.Ba={},this.ka=new Map,this.qa=Wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r8(t,e,n=!0){const i=Ij(t);let r;const o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await Tj(i,e,n,!0),r}async function s8(t,e){const n=Ij(t);await Tj(n,e,!0,!1)}async function Tj(t,e,n,i){const r=await TF(t.localStore,Cr(e)),o=r.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await a8(t,e,o,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&gj(t.remoteStore,r),h}async function a8(t,e,n,i,r){t.Ka=(x,v,S)=>(async function(E,T,M,O){let k=T.view.ma(M);k.ns&&(k=await zT(E.localStore,T.query,!1).then((({documents:I})=>T.view.ma(I,k))));const B=O&&O.targetChanges.get(T.targetId),W=O&&O.targetMismatches.get(T.targetId)!=null,K=T.view.applyChanges(k,E.isPrimaryClient,B,W);return YT(E,T.targetId,K.wa),K.snapshot})(t,x,v,S);const o=await zT(t.localStore,e,!0),c=new e8(e,o.Ts),h=c.ma(o.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),p=c.applyChanges(h,t.isPrimaryClient,d);YT(t,n,p.wa);const m=new t8(e,n,c);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function o8(t,e,n){const i=He(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter((c=>!Bm(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await W0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ub(i.remoteStore,r.targetId),Y0(i,r.targetId)})).catch(Sh)):(Y0(i,r.targetId),await W0(i.localStore,r.targetId,!0))}async function l8(t,e){const n=He(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ub(n.remoteStore,i.targetId))}async function c8(t,e,n){const i=g8(t);try{const r=await(function(c,h){const d=He(c),p=Sn.now(),m=h.reduce(((S,w)=>S.add(w.key)),ot());let x,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let w=Ss(),E=ot();return d.cs.getEntries(S,m).next((T=>{w=T,w.forEach(((M,O)=>{O.isValidDocument()||(E=E.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,w))).next((T=>{x=T;const M=[];for(const O of h){const k=jV(O,x.get(O.key).overlayedDocument);k!=null&&M.push(new il(O.key,k,D5(k.value.mapValue),ps.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,M,h)})).next((T=>{v=T;const M=T.applyToLocalDocumentSet(x,E);return d.documentOverlayCache.saveOverlays(S,T.batchId,M)}))})).then((()=>({batchId:v.batchId,changes:q5(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,d){let p=c.Ba[c.currentUser.toKey()];p||(p=new qt(gt)),p=p.insert(h,d),c.Ba[c.currentUser.toKey()]=p})(i,r.batchId,n),await Ah(i,r.changes),await Wm(i.remoteStore)}catch(r){const o=mb(r,"Failed to persist write");n.reject(o)}}async function Ej(t,e){const n=He(t);try{const i=await SF(n.localStore,e);e.targetChanges.forEach(((r,o)=>{const c=n.Na.get(o);c&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.va=!0:r.modifiedDocuments.size>0?Et(c.va):r.removedDocuments.size>0&&(Et(c.va),c.va=!1))})),await Ah(n,i,e)}catch(i){await Sh(i)}}function KT(t,e,n){const i=He(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach(((o,c)=>{const h=c.view.Z_(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const d=He(c);d.onlineState=h;let p=!1;d.queries.forEach(((m,x)=>{for(const v of x.j_)v.Z_(h)&&(p=!0)})),p&&gb(d)})(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function u8(t,e,n){const i=He(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),o=r&&r.key;if(o){let c=new qt(Ne.comparator);c=c.insert(o,Wn.newNoDocument(o,Ue.min()));const h=ot().add(o),d=new $m(Ue.min(),new Map,new qt(gt),c,h);await Ej(i,d),i.Oa=i.Oa.remove(o),i.Na.delete(e),yb(i)}else await W0(i.localStore,e,!1).then((()=>Y0(i,e,n))).catch(Sh)}async function d8(t,e){const n=He(t),i=e.batch.batchId;try{const r=await bF(n.localStore,e);Aj(n,i,null),Cj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ah(n,r)}catch(r){await Sh(r)}}async function h8(t,e,n){const i=He(t);try{const r=await(function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,h).next((x=>(Et(x!==null),m=x.keys(),d.mutationQueue.removeMutationBatch(p,x)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(i.localStore,e);Aj(i,e,n),Cj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ah(i,r)}catch(r){await Sh(r)}}function Cj(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Aj(t,e,n){const i=He(t);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((i=>{t.La.containsKey(i)||jj(t,i)}))}function jj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ub(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),yb(t))}function YT(t,e,n){for(const i of n)i instanceof wj?(t.La.addReference(i.key,e),f8(t,i)):i instanceof _j?(Ce("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||jj(t,i.key)):Ve()}function f8(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(i),yb(t))}function yb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ne(Ut.fromString(e)),i=t.qa.next();t.Na.set(i,new n8(n)),t.Oa=t.Oa.insert(n,i),gj(t.remoteStore,new Sa(Cr(z5(n.path)),i,"TargetPurposeLimboResolution",Jv.oe))}}async function Ah(t,e,n){const i=He(t),r=[],o=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,d)=>{c.push(i.Ka(d,e,n).then((p=>{var m;if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:(m=n?.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(p){r.push(p);const x=cb.Wi(d.targetId,p);o.push(x)}})))})),await Promise.all(c),i.Ca.d_(r),await(async function(d,p){const m=He(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>me.forEach(p,(v=>me.forEach(v.$i,(S=>m.persistence.referenceDelegate.addReference(x,v.targetId,S))).next((()=>me.forEach(v.Ui,(S=>m.persistence.referenceDelegate.removeReference(x,v.targetId,S)))))))))}catch(x){if(!wh(x))throw x;Ce("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const v=x.targetId;if(!x.fromCache){const S=m.os.get(v),w=S.snapshotVersion,E=S.withLastLimboFreeSnapshotVersion(w);m.os=m.os.insert(v,E)}}})(i.localStore,o))}async function p8(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const i=await hj(n.localStore,e);n.currentUser=e,(function(o,c){o.ka.forEach((h=>{h.forEach((d=>{d.reject(new Te(pe.CANCELLED,c))}))})),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ah(n,i.hs)}}function m8(t,e){const n=He(t),i=n.Na.get(e);if(i&&i.va)return ot().add(i.key);{let r=ot();const o=n.Ma.get(e);if(!o)return r;for(const c of o){const h=n.Fa.get(c);r=r.unionWith(h.view.Va)}return r}}function Ij(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ej.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u8.bind(null,e),e.Ca.d_=JF.bind(null,e.eventManager),e.Ca.$a=XF.bind(null,e.eventManager),e}function g8(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h8.bind(null,e),e}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vF(this.persistence,new yF,e.initialUser,this.serializer)}Ga(e){return new pF(lb.Zr,this.serializer)}Wa(e){return new CF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class Q0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=p8.bind(null,this.syncEngine),await qF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KF})()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),i=(function(o){return new RF(o)})(e.databaseInfo);return(function(o,c,h,d){return new PF(o,c,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,r,o,c,h){return new OF(i,r,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>KT(this.syncEngine,n,0)),(function(){return HT.D()?new HT:new AF})())}createSyncEngine(e,n){return(function(r,o,c,h,d,p,m){const x=new i8(r,o,c,h,d,p);return m&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const o=He(r);Ce("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ch(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Q0.provider={build:()=>new Q0};class y8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class x8{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qn.UNAUTHENTICATED,this.clientId=N5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{Ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=mb(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Hx(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async r=>{i.isEqual(r)||(await hj(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v8(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>$T(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,r)=>$T(e.remoteStore,r))),t._onlineComponents=e}async function v8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===pe.FAILED_PRECONDITION||r.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Hc("Error using user provided cache. Falling back to memory cache: "+n),await Hx(t,new fm)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Hx(t,new fm);return t._offlineComponents}async function Rj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await QT(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await QT(t,new Q0))),t._onlineComponents}function b8(t){return Rj(t).then((e=>e.syncEngine))}async function S8(t){const e=await Rj(t),n=e.eventManager;return n.onListen=r8.bind(null,e.syncEngine),n.onUnlisten=o8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l8.bind(null,e.syncEngine),n}function w8(t,e,n={}){const i=new ja;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const m=new y8({next:v=>{m.Za(),c.enqueueAndForget((()=>QF(o,x))),v.fromCache&&d.source==="server"?p.reject(new Te(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),x=new ZF(h,m,{includeMetadataChanges:!0,_a:!0});return YF(o,x)})(await S8(t),t.asyncQueue,e,n,i))),i.promise}function Nj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const JT=new Map;function kj(t,e,n){if(!n)throw new Te(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _8(t,e,n,i){if(e===!0&&i===!0)throw new Te(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XT(t){if(!Ne.isDocumentKey(t))throw new Te(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZT(t){if(Ne.isDocumentKey(t))throw new Te(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Km(t);throw new Te(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class eE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nj((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new L6;switch(i.type){case"firstParty":return new z6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=JT.get(n);i&&(Ce("ComponentProvider","Removing Datastore"),JT.delete(n),i.terminate())})(this),Promise.resolve()}}function T8(t,e,n,i={}){var r;const o=(t=uh(t,Ym))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=qn.MOCK_USER;else{h=_6(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Te(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qn(p)}t._authCredentials=new V6(new R5(h,d))}}class ou{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class ji{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class Ia extends ou{constructor(e,n,i){super(e,n,z5(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new Ne(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function E8(t,e,...n){if(t=Uc(t),kj("collection","path",e),t instanceof Ym){const i=Ut.fromString(e,...n);return ZT(i),new Ia(t,null,i)}{if(!(t instanceof ji||t instanceof Ia))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ut.fromString(e,...n));return ZT(i),new Ia(t.firestore,null,i)}}function C8(t,e,...n){if(t=Uc(t),arguments.length===1&&(e=N5.newId()),kj("doc","path",e),t instanceof Ym){const i=Ut.fromString(e,...n);return XT(i),new ji(t,null,new Ne(i))}{if(!(t instanceof ji||t instanceof Ia))throw new Te(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ut.fromString(e,...n));return XT(i),new ji(t.firestore,t instanceof Ia?t.converter:null,new Ne(i))}}class tE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pj(this,"async_queue_retry"),this.Vu=()=>{const i=Ux();i&&Ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Ux();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ux();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ja;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wh(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const r=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw bs("INTERNAL UNHANDLED ERROR: ",r),i})).then((i=>(this.du=!1,i))))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=pb.createAndSchedule(this,e,n,i,(o=>this.yu(o)));return this.Tu.push(r),r}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class xb extends Ym{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new tE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function A8(t,e){const n=typeof t=="object"?t:KA(),i=typeof t=="string"?t:"(default)",r=Fv(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=w6("firestore");o&&T8(r,...o)}return r}function Pj(t){if(t._terminated)throw new Te(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j8(t),t._firestoreClient}function j8(t){var e,n,i;const r=t._freezeSettings(),o=(function(h,d,p,m){return new eV(h,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Nj(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new x8(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}})(t._componentsProvider))}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(Fn.fromBase64String(e))}catch(n){throw new Te(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dj{constructor(e){this._methodName=e}}class bb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}}class Sb{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}}const I8=/^__.*__$/;class R8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new il(e,this.data,this.fieldMask,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)}}function Oj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class wb{constructor(e,n,i,r,o,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Oj(this.Cu)&&I8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class N8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gm(e)}Qu(e,n,i,r=!1){return new wb({Cu:e,methodName:n,qu:i,path:Ln.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mj(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new N8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k8(t,e,n,i,r,o={}){const c=t.Qu(o.merge||o.mergeFields?2:0,e,n,r);Fj("Data must be an object, but it was:",c,i);const h=Lj(i,c);let d,p;if(o.merge)d=new or(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const x of o.mergeFields){const v=D8(e,x,n);if(!c.contains(v))throw new Te(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);M8(m,v)||m.push(v)}d=new or(m),p=c.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,p=c.fieldTransforms;return new R8(new Ki(h),d,p)}function P8(t,e,n,i=!1){return _b(n,t.Qu(i?4:3,e))}function _b(t,e){if(Vj(t=Uc(t)))return Fj("Unsupported field value:",e,t),Lj(t,e);if(t instanceof Dj)return(function(i,r){if(!Oj(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let d=_b(h,r.Lu(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(t,e)}return(function(i,r){if((i=Uc(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Sn.fromDate(i);return{timestampValue:dm(r.serializer,o)}}if(i instanceof Sn){const o=new Sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dm(r.serializer,o)}}if(i instanceof bb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yc)return{bytesValue:sj(r.serializer,i._byteString)};if(i instanceof ji){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ab(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Sb)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Bu("VectorValues must only contain numeric values.");return ib(h.serializer,d)}))}}}}}})(i,r);throw r.Bu(`Unsupported field value: ${Km(i)}`)})(t,e)}function Lj(t,e){const n={};return k5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ru(t,((i,r)=>{const o=_b(r,e.Mu(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function Vj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Sn||t instanceof bb||t instanceof Yc||t instanceof ji||t instanceof Dj||t instanceof Sb)}function Fj(t,e,n){if(!Vj(n)||!(function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)})(n)){const i=Km(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function D8(t,e,n){if((e=Uc(e))instanceof vb)return e._internalPath;if(typeof e=="string")return Bj(t,e);throw pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const O8=new RegExp("[~\\*/\\[\\]]");function Bj(t,e,n){if(e.search(O8)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vb(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pm(t,e,n,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new Te(pe.INVALID_ARGUMENT,h+t+d)}function M8(t,e){return t.some((n=>n.isEqual(e)))}class zj{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L8 extends zj{data(){return super.data()}}function Tb(t,e){return typeof e=="string"?Bj(t,e):e instanceof vb?e._internalPath:e._delegate._internalPath}function V8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}class F8 extends Eb{}function B8(t,e,...n){let i=[];e instanceof Eb&&i.push(e),i=i.concat(n),(function(o){const c=o.filter((d=>d instanceof Cb)).length,h=o.filter((d=>d instanceof Qm)).length;if(c>1||c>0&&h>0)throw new Te(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)t=r._apply(t);return t}class Qm extends F8{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Qm(e,n,i)}_apply(e){const n=this._parse(e);return Uj(e._query,n),new ou(e.firestore,e.converter,z0(e._query,n))}_parse(e){const n=Mj(e.firestore);return(function(o,c,h,d,p,m,x){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){iE(x,m);const S=[];for(const w of x)S.push(nE(d,o,w));v={arrayValue:{values:S}}}else v=nE(d,o,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||iE(x,m),v=P8(h,c,x,m==="in"||m==="not-in");return gn.create(p,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function z8(t,e,n){const i=e,r=Tb("where",t);return Qm._create(r,i,n)}class Cb extends Eb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const d of h)Uj(c,d),c=z0(c,d)})(e._query,n),new ou(e.firestore,e.converter,z0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(t,e,n){if(typeof(n=Uc(n))=="string"){if(n==="")throw new Te(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U5(e)&&n.indexOf("/")!==-1)throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ut.fromString(n));if(!Ne.isDocumentKey(i))throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return TT(t,new Ne(i))}if(n instanceof ji)return TT(t,n._key);throw new Te(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Km(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uj(t,e){const n=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U8{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ru(e,((r,o)=>{i[r]=this.convertValue(o,n)})),i}convertVectorValue(e){var n,i,r;const o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((c=>sn(c.doubleValue)));return new Sb(o)}convertGeoPoint(e){return new bb(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=Pa(e);return new Sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ut.fromString(e);Et(dj(i));const r=new ah(i.get(1),i.get(3)),o=new Ne(i.popFirst(5));return r.isEqual(n)||bs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function H8(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class fp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $8 extends zj{constructor(e,n,i,r,o,c){super(e,n,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Tb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Vp extends $8{data(e={}){return super.data(e)}}class G8{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new fp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Vp(this._firestore,this._userDataWriter,i.key,i,new fp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const d=new Vp(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Vp(r._firestore,r._userDataWriter,h.doc.key,h.doc,new fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),m=c.indexOf(h.doc.key)),{type:q8(h.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class W8 extends U8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,n)}}function K8(t){t=uh(t,ou);const e=uh(t.firestore,xb),n=Pj(e),i=new W8(e);return V8(t._query),w8(n,t._query).then((r=>new G8(e,i,t,r)))}function Y8(t,e,n){t=uh(t,ji);const i=uh(t.firestore,xb),r=H8(t.converter,e,n);return Q8(i,[k8(Mj(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ps.none())])}function Q8(t,e){return(function(i,r){const o=new ja;return i.asyncQueue.enqueueAndForget((async()=>c8(await b8(i),r,o))),o.promise})(Pj(t),e)}(function(e,n=!0){(function(r){iu=r})(Om),Ko(new N6("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new xb(new F6(i.getProvider("auth-internal")),new H6(i.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(p.options.projectId,m)})(c,r),c);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Er(vT,"4.7.3",e),Er(vT,"4.7.3","esm2017")})();var rE={};const J8=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},X8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Z8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=o>>2,x=(o&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||h==null||p==null||x==null)throw new eB;const v=o<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tB=function(t){try{return Z8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iB=()=>nB().__FIREBASE_DEFAULTS__,rB=()=>{if(typeof process>"u"||typeof rE>"u")return;const t=rE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tB(t[1]);return e&&JSON.parse(e)},aB=()=>{try{return iB()||rB()||sB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oB=t=>{var e,n;return(n=(e=aB())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lB=t=>{const e=oB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};const cB="FirebaseError";class Jm extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cB,Object.setPrototypeOf(this,Jm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uB.prototype.create)}}class uB{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?dB(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Jm(r,h,i)}}function dB(t,e){return t.replace(hB,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const hB=/\{\$([^}]+)}/g;function Ab(t){return t&&t._delegate?t._delegate:t}class fB{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pB="type.googleapis.com/google.protobuf.Int64Value",mB="type.googleapis.com/google.protobuf.UInt64Value";function Hj(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function J0(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>J0(e));if(typeof t=="function"||typeof t=="object")return Hj(t,e=>J0(e));throw new Error("Data cannot be encoded in JSON: "+t)}function mm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case pB:case mB:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>mm(e)):typeof t=="function"||typeof t=="object"?Hj(t,e=>mm(e)):t}const jb="functions";const sE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oc extends Jm{constructor(e,n,i){super(`${jb}/${e}`,n||""),this.details=i}}function gB(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yB(t,e){let n=gB(t),i=n,r;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!sE[c])return new Oc("internal","internal");n=sE[c],i=c}const h=o.message;typeof h=="string"&&(i=h),r=o.details,r!==void 0&&(r=mm(r))}}catch{}return n==="ok"?null:new Oc(n,i,r)}class xB{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}}const X0="us-central1";function vB(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Oc("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class bB{constructor(e,n,i,r,o=X0,c){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new xB(n,i,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=X0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function SB(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function wB(t,e,n){return(i=>TB(t,e,i,{}))}async function _B(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await r.json()}catch{}return{status:r.status,json:o}}function TB(t,e,n,i){const r=t._url(e);return EB(t,r,n,i)}async function EB(t,e,n,i){n=J0(n);const r={data:n},o={},c=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);c.authToken&&(o.Authorization="Bearer "+c.authToken),c.messagingToken&&(o["Firebase-Instance-ID-Token"]=c.messagingToken),c.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=c.appCheckToken);const h=i.timeout||7e4,d=vB(h),p=await Promise.race([_B(e,r,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!p)throw new Oc("cancelled","Firebase Functions instance was deleted.");const m=yB(p.status,p.json);if(m)throw m;if(!p.json)throw new Oc("internal","Response is not valid JSON object.");let x=p.json.data;if(typeof x>"u"&&(x=p.json.result),typeof x>"u")throw new Oc("internal","Response is missing data field.");return{data:mm(x)}}const aE="@firebase/functions",oE="0.11.8";const CB="auth-internal",AB="app-check-internal",jB="messaging-internal";function IB(t,e){const n=(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),c=i.getProvider(CB),h=i.getProvider(jB),d=i.getProvider(AB);return new bB(o,c,h,d,r,t)};Ko(new fB(jb,n,"PUBLIC").setMultipleInstances(!0)),Er(aE,oE,e),Er(aE,oE,"esm2017")}function RB(t=KA(),e=X0){const i=Fv(Ab(t),jb).getImmediate({identifier:e}),r=lB("functions");return r&&NB(i,...r),i}function NB(t,e,n){SB(Ab(t),e,n)}function Z0(t,e,n){return wB(Ab(t),e)}IB(fetch.bind(self));const kB={apiKey:"AIzaSyDFd4RAvVZWy3G1geLudrq4KgDDsGr-jb8",authDomain:"sirsi-nexus-live.firebaseapp.com",projectId:"sirsi-nexus-live",storageBucket:"sirsi-nexus-live.firebasestorage.app",messagingSenderId:"210890802638",appId:"1:210890802638:web:9b721753a295620422179f"},Ib=WA(kB),$t=PL(Ib,{persistence:XL}),lE=A8(Ib),ev=RB(Ib),PB=t=>async e=>{const n=$t.currentUser;if(n)try{const i=await n.getIdToken();e.header.set("Authorization",`Bearer ${i}`)}catch(i){console.error("Failed to get Firebase ID token:",i)}return await t(e)},$j=WM({baseUrl:"https://contracts-grpc-210890802638.us-east4.run.app",interceptors:[PB]}),Kn=IA(KM,$j),Ba=IA(JM,$j),ii={"finalwishes-core":{id:"finalwishes-core",name:"FinalWishes Core Platform",shortDescription:"Complete Digital Legacy Solution",description:"The complete FinalWishes platform including iOS, Android, and Web applications with AI-powered legacy management.",price:95e3,hours:640,timeline:16,timelineUnit:"weeks",addonDiscount:0,includedProducts:["vault-core","media-engine","ai-foundation","mobile-apps"],features:["iOS & Android Native Apps","Web Application (React)",'"The Shepherd" AI Foundation',"Secure Cloud Infrastructure","Legacy Media Vault","Digital Lockbox Storage","Beneficiary Management","User Authentication & MFA"],detailedScope:[{title:"Legacy Media Vault",content:"Implementation of a secure, cloud-native media management system.",subItems:["YouTube API integration","Google Photos API integration","In-app recording tools","Shared memorial walls"]},{title:"Secure Digital Lockbox",content:"A zero-knowledge, encrypted vault for sensitive information.",subItems:["AES-256 encryption","Heirloom registry","Discovery notes","Role-based access"]},{title:"Final Directives & Ethical Wills",content:"Tools for capturing and legally securing final instructions.",subItems:["Guided ethical will creation","Funeral preference documentation","Medical directives templates","Scheduled release to beneficiaries"]}],wbs:[{phaseNum:1,name:"Foundation & Cloud Infrastructure",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"System Architecture & Technical Design",role:"Sr. Architect",hours:35,cost:4375},{name:"Google Cloud Project Setup",role:"DevOps Eng",hours:25,cost:3125},{name:"Database Schema Design",role:"Backend Eng",hours:35,cost:4375},{name:"Authentication System",role:"Security Eng",hours:30,cost:3750},{name:"CI/CD Pipeline & DevOps",role:"DevOps Eng",hours:35,cost:4375}]},{phaseNum:2,name:"Core Application Development",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Web Application Shell",role:"Frontend Eng",hours:40,cost:5e3},{name:"Mobile Application Shell (iOS/Android)",role:"Mobile Eng",hours:50,cost:6250},{name:'"The Shepherd" AI Foundation',role:"AI Engineer",hours:35,cost:4375},{name:"API Gateway & Backend Services",role:"Backend Eng",hours:35,cost:4375}]},{phaseNum:3,name:"Feature Integration & Vault",weeks:"9-12",hours:160,cost:2e4,activities:[{name:"Legacy Media Vault Implementation",role:"Backend Eng",hours:40,cost:5e3},{name:"Digital Lockbox & Encryption",role:"Security Eng",hours:40,cost:5e3},{name:"Beneficiary Management Portal",role:"Frontend Eng",hours:40,cost:5e3},{name:"Final Directives Module",role:"Full Stack",hours:40,cost:5e3}]},{phaseNum:4,name:"Testing, QA & Launch",weeks:"13-16",hours:160,cost:2e4,activities:[{name:"End-to-End Testing & Bug Fixes",role:"QA Engineer",hours:40,cost:5e3},{name:"Security Audit & Penetration Testing",role:"Security Eng",hours:40,cost:5e3},{name:"Performance Optimization",role:"DevOps Eng",hours:40,cost:5e3},{name:"Launch Preparation & Deployment",role:"Sr. Architect",hours:40,cost:5e3}]}]}},ms={maintenance:{id:"maintenance",name:"Maintenance & Support",shortDescription:"12-month support (20 hrs/mo)",description:"Annual support contract.",category:"service",bundledPrice:18e3,standalonePrice:18e3,hours:240,timeline:12,timelineUnit:"months",recurring:!0,detailedScope:[{title:"Maintenance & Support",content:"Ongoing technical guardianship.",subItems:["20 Hours monthly support ($1,500/mo)","Priority bug fixes","Security patching","Infrastructure audits"]}]},"ceo-consulting":{id:"ceo-consulting",name:"CEO Consulting",shortDescription:"Direct strategic advisory (20 hrs/week)",description:"On-demand strategic consulting and executive advisory services.",category:"service",bundledPrice:6e3,standalonePrice:6e3,hours:20,timeline:1,timelineUnit:"weeks",recurring:!0,perWeek:!0,detailedScope:[{title:"Executive Strategic Advisory",content:"High-level strategic guidance and operational oversight.",subItems:["20 Hours weekly dedicated consulting","Direct access to CEO-level strategy","Product roadmap validation","Strategic advisory engagement"]}],wbs:[{phaseNum:1,name:"Strategic Advisory",weeks:"1-1",hours:20,cost:6e3,activities:[{name:"Strategic Planning Session",role:"Erin Horne McKinney",hours:10,cost:3e3},{name:"Operational Oversight",role:"Erin Horne McKinney",hours:10,cost:3e3}]}]},branding:{id:"branding",name:"Branding & Identity",shortDescription:"Logo, voice guide, UI kit",description:"Complete brand identity system.",category:"service",bundledPrice:3e4,standalonePrice:3e4,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Master Brand Identity",content:"Creation of a comprehensive visual identity system.",subItems:["Logo marks","Typography & Palette","Voice & Tone","UI/UX Figma Kit"]}],wbs:[{phaseNum:1,name:"Brand Discovery & Visual Identity",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"Brand Strategy & Research",role:"Art Director",hours:40,cost:5e3},{name:"Logo & Visual Identity System",role:"Art Director",hours:40,cost:5e3},{name:"Typography, Palette & Voice Guide",role:"UI Designer",hours:40,cost:5e3},{name:"UI/UX Design Kit (Figma)",role:"UI Designer",hours:40,cost:5e3}]},{phaseNum:2,name:"Design System & Delivery",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Component Library Build",role:"UI Designer",hours:40,cost:5e3},{name:"Responsive Layout System",role:"Frontend Eng",hours:40,cost:5e3},{name:"Brand Asset Production",role:"Art Director",hours:40,cost:5e3},{name:"Style Guide Documentation",role:"UI Designer",hours:40,cost:5e3}]}]},estate:{id:"estate",name:"Estate Administration",shortDescription:"Executor tools & asset tracking",description:"Estate management module.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Estate Administration Hub",content:"Specialized tools for legacy management.",subItems:["Executor dashboard","Asset inventory","Beneficiary portal","Auditing"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:80,cost:12e3,activities:[{name:"Estate Logic Integration",role:"Backend Eng",hours:40,cost:11200},{name:"Executor UI Components",role:"Frontend Eng",hours:40,cost:11200}]}]},probate:{id:"probate",name:"Probate Engine (Per State)",shortDescription:"State-specific form automation",description:"State-specific probate automation.",category:"feature",bundledPrice:24500,standalonePrice:35e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"State-Specific Probate Engine",content:"Automation of primary probate filings and documentation for a specific jurisdiction.",subItems:["Statutory form templates","Local court filing rules integration","Deadline and timeline calculators","Asset-to-heir distribution logic"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:70,cost:14e3,activities:[{name:"Probate Form Engine",role:"Backend Eng",hours:40,cost:8e3},{name:"Court Integration API",role:"Security Eng",hours:30,cost:6e3}]}]},"probate-ai":{id:"probate-ai",name:"Probate AI Enhancement",shortDescription:"AI form analysis",description:"AI-powered probate assistance.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",prerequisites:["probate"],detailedScope:[{title:"Probate AI Enhancement",content:"Integration of large language models to assist in document extraction and validation.",subItems:["Automated form extraction (OCR/LLM)","Legacy document summarization","Consistency checking across filings","Natural language query of probate laws"]}]},comms:{id:"comms",name:"Secure Comms Suite",shortDescription:"Encrypted messaging & alerts",description:"Encrypted messaging system.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Encrypted Legacy Communications",content:"Secure communication channel for family and executors.",subItems:["End-to-End Encryption (E2EE)","Message persistence guarantees","Heir-to-Executor private channels","Automated legacy alerts"]}]},memorial:{id:"memorial",name:"Virtual Memorial Services",shortDescription:"Live streaming & guestbook",description:"Virtual memorial platform.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Virtual Memorial Platform",content:"Interactive, permanent spaces for remembrance and broadcast.",subItems:["Live stream integration","Interactive guestbooks","Virtual candle lighting","Permanent memory walls"]}]},financial:{id:"financial",name:"Advanced Asset Discovery",shortDescription:"Plaid-powered asset search",description:"Plaid-powered asset discovery.",category:"feature",bundledPrice:29400,standalonePrice:42e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Advanced Financial Discovery",content:"Deep integration with financial institutions for asset identification.",subItems:["Plaid Link integration","Automated account mapping","Institutional metadata extraction","Credential-less vaulting"]}]},"ai-legacy":{id:"ai-legacy",name:"AI Voice & Avatar Synthesis",shortDescription:"Voice cloning & avatar memorial",description:"AI-driven voice and visual synthesis for living memorials.",category:"feature",bundledPrice:26950,standalonePrice:38500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Living Legacy AI",content:"Implementation of advanced generative AI for realistic legacy preservation.",subItems:["Custom voice cloning (from 15m audio)","3D Avatar generation from photos","Interactive AI guided story-telling","Strict ethical safety guardrails"]}]},liquidator:{id:"liquidator",name:"Digital Asset Liquidator",shortDescription:"Automated account transitions",description:"Automated closing and transfer of digital accounts.",category:"feature",bundledPrice:19600,standalonePrice:28e3,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Automated Digital Transitions",content:"Tools for managing the difficult process of closing a digital life.",subItems:["Social media 'Memorialize' triggers","Subscription cancellation bot","Digital asset inventory vault","Credential transition protocols"]}]},compliance:{id:"compliance",name:"Global Compliance Suite",shortDescription:"GDPR / Multi-region privacy",description:"Multi-region data residency and compliance (GDPR, CCPA).",category:"service",bundledPrice:17150,standalonePrice:24500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Global Data Sovereignty",content:"Enterprise-grade compliance framework for international operations.",subItems:["Local data residency (EU/US/Asia)","Automated PII auditing","End-to-end encryption key management","Privacy regulation monitoring"]}]},"white-label":{id:"white-label",name:"Professional Partner Portal",shortDescription:"B2B Partner & Branding system",description:"White-label dashboard for funeral homes and law firms.",category:"feature",bundledPrice:36750,standalonePrice:52500,hours:480,timeline:12,timelineUnit:"weeks",detailedScope:[{title:"B2B Partner Ecosystem",content:"Enabling professional services to offer FinalWishes to their clients.",subItems:["Fully white-labeled UI","Lead management for partners","Co-branded document generation","Unified partner billing console"]}]},charity:{id:"charity",name:"Charitable Trust Engine",shortDescription:"Automated legacy philanthropy",description:"Automation for charitable donations and foundation setup.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Legacy Philanthropy Engine",content:"Tools to ensure a user's charitable impact continues permanently.",subItems:["Verified non-profit registry","Endowment setup automation","Recurring donation scheduling","Impact reporting for heirs"]}]},genealogy:{id:"genealogy",name:"Genealogy Data Deep-Sync",shortDescription:"Deep lineage & history sync",description:"Ancestry.com and FamilySearch automatic data sync.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Deep Lineage Integration",content:"Pulling a user's history into their current legacy platform.",subItems:["Automatic family tree import","Record & Document OCR","Multi-generational storytelling","Lineage-based privacy locks"]}]},"multi-sig":{id:"multi-sig",name:"Vault Shamir Key Sharding",shortDescription:"Multi-heir vault unlocking",description:"Ultra-secure vault access using Shamir's Secret Sharing.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Security",content:"Ensuring the vault can only be opened with the consensus of multiple heirs.",subItems:["Shamir's Secret Sharing (SSS)","N-of-M signature requirements","Trustee verification tokens","Emergency access protocols"]}]},publishing:{id:"publishing",name:"Legacy Print & Publishing",shortDescription:"Physical ethical will books",description:"Physical publishing of memoirs and ethical wills.",category:"service",bundledPrice:9800,standalonePrice:14e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Physical Legacy Publishing",content:"Turning digital memories into permanent physical heirlooms.",subItems:["High-quality hardcover memoirs","Ethical Will print editions","Global fulfillment & shipping","Custom brand leather binding"]}]},crypto:{id:"crypto",name:"Crypto Vault & Wallet Sync",shortDescription:"Crypto & NFT legacy vault",description:"Secure legacy transfer of cryptocurrency and NFT assets.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Digital Asset Preservation",content:"Ensuring that non-custodial digital assets can be securely handed down.",subItems:["Hardware wallet (Ledger) integration","NFT metadata preservation","Multi-chain asset tracking","Encrypted seed phrase transition (Zero-Knowledge)"]}]},blockchain:{id:"blockchain",name:"Smart Contract Legacy Trust",shortDescription:"Immutable trust automation",description:"Definitive automated asset release via immutable smart contracts.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Blockchain Trust Infrastructure",content:"Replacing human-error trusts with mathematically certain code.",subItems:["Solidity-based trust contracts","On-chain proof of existence","Automated distribution on death-trigger","Immutable legacy ledger"]}]},documentary:{id:"documentary",name:"Legacy Documentary Production",shortDescription:"Pro-grade cinematic legacy",description:"Professional video editing and archival for family documentaries.",category:"service",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Cinematic Legacy Preservation",content:"Transforming raw footage and memories into a high-end documentary.",subItems:["4K cinematic editing","Color grading & professional sound","Family interview orchestration","Cloud-native 8K archival"]}]},"vault-guard":{id:"vault-guard",name:"Vault Guard: Multi-Regional KMS Backup",shortDescription:"Multi-region KMS hardening",description:"Hyper-resilient security with cross-region key management.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Guarding",content:"Ensuring that the vault remains accessible even in the event of major region failure.",subItems:["Cross-region KMS key replication","Automated encryption health checks","HSM-level security integration","Biometric secondary recovery paths"]}]},analytics:{id:"analytics",name:"Estate ROI & Analytics Dashboard",shortDescription:"Estate health & growth insights",description:"Advanced data insights into estate health and value growth.",category:"feature",bundledPrice:8820,standalonePrice:12600,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Estate Intelligence Dashboard",content:"Providing real-time insights into the total value and health of a legacy portfolio.",subItems:["Automated valuation of digital assets","Tax impact forecasting","Heir engagement metrics","Document expiration alerts"]}]}};function DB(t){return ii[t]}function Xm(t,e,n=1,i=1,r=1){let o=0,c=0,h=0,d=0,p=0;const m=t!==null;t&&ii[t]&&(o=ii[t].price,p+=ii[t].hours),e.forEach(w=>{const E=ms[w];if(E){const T=E.standalonePrice||Math.round(E.bundledPrice*1.5),M=m?E.bundledPrice:T,O=E.hours;if(w==="ceo-consulting"){const k=Math.max(1,n);h+=M*k,p+=E.hours*k}else if(w==="probate"){const k=i;d+=M*k,p+=E.hours*k}else c+=M,p+=O}});const x=o+c+h+d,v=r||1,S=p*250;return{total:Math.round(x*v),internalTotal:x,marketTotal:S,totalHours:p,breakdown:{bundle:Math.round(o*v),addons:Math.round(c*v),special:{ceoConsulting:Math.round(h*v),probateEngine:Math.round(d*v)}}}}function gm(t,e,n=1){const i=t?ii[t].timeline:0;let r=0;return e.forEach(o=>{const c=ms[o];if(c&&c.timelineUnit==="weeks")if(o==="probate"){const h=Math.max(1,n);r+=c.timeline+(h-1)*2}else{if(o==="ceo-consulting")return;r+=c.timeline}}),i+Math.ceil(r*.5)}const Gj=125,Qc=[{role:"Sr. Architect",percentage:.15},{role:"Backend Eng",percentage:.25},{role:"Frontend Eng",percentage:.25},{role:"DevOps Eng",percentage:.15},{role:"QA Engineer",percentage:.1},{role:"Security Eng",percentage:.1}];function OB(t,e=1){const n="timeline"in t?t.timeline:16,i=t.name,r=t.detailedScope||[],o=t.hours,c=o*Gj,h=Math.max(1,Math.ceil(n/4)),d=Math.ceil(n/h),p=Math.ceil(o/h),m=Math.round(c/h),x=[];if(r.length>=h)for(let v=0;v<h;v++){const S=e+v*d,w=S+d-1,E=r[v]||r[r.length-1];x.push({phaseNum:v+1,name:E.title,weeks:`${S}-${w}`,hours:p,cost:m,activities:MB(E,p,m)})}else{const v=["Foundation & Architecture","Core Development","Integration & Features","Testing & Launch"];for(let S=0;S<h;S++){const w=e+S*d,E=w+d-1,T=S<v.length?`${i}: ${v[S]}`:`${i}: Phase ${S+1}`;x.push({phaseNum:S+1,name:T,weeks:`${w}-${E}`,hours:p,cost:m,activities:LB(i,p,m,S)})}}return x}function MB(t,e,n){const i=[],r=Math.min(t.subItems.length,4)||1,o=Math.ceil(e/r),c=Math.round(n/r);for(let h=0;h<r;h++){const d=t.subItems[h]||t.title,p=Qc[h%Qc.length].role;i.push({name:d,role:p,hours:o,cost:c})}return i}function LB(t,e,n,i){const r=[["System Architecture","Infrastructure Setup","Database Design"],["Backend Development","Frontend Development","API Integration"],["Feature Implementation","Third-Party Integration","Security Hardening"],["End-to-End Testing","Performance Optimization","Deployment"]],o=[],c=r[i%r.length],h=Math.ceil(e/c.length),d=Math.round(n/c.length);return c.forEach((p,m)=>{o.push({name:p,role:Qc[m%Qc.length].role,hours:h,cost:d})}),o}function qj(t,e,n=1,i=1){const r=[],o=t!==null;if(t&&ii[t]){const x=ii[t];x.wbs&&x.wbs.length>0?r.push(...JSON.parse(JSON.stringify(x.wbs))):r.push(...OB(x,1))}const c=r.findIndex(x=>x.name.toLowerCase().includes("testing")||x.name.toLowerCase().includes("launch")||x.name.toLowerCase().includes("qa"));let d=t?9:1;const p=[];e.forEach(x=>{const v=ms[x];if(!v||x==="maintenance")return;let S=1;x==="ceo-consulting"&&(S=Math.max(1,n)),x==="probate"&&(S=Math.max(1,i));const w=v.hours*S,E=v.standalonePrice||Math.round(v.bundledPrice*1.5),M=(o?v.bundledPrice:E)*S,O=w*Gj;if(v.timelineUnit==="weeks"&&x!=="ceo-consulting"){const k=v.timeline,B=x==="probate"?k+(S-1)*2:k,W=Math.ceil(B*.5),K=d+W-1,I=Math.min(v.detailedScope?.length||1,4),A=Math.round(w/I),R=Math.round(O/I);p.push({phaseNum:0,name:S>1?`${v.name} (${S})`:v.name,weeks:`${d}-${K}`,hours:w,cost:O,activities:v.detailedScope?.slice(0,4).map((L,z)=>({name:L.title,role:Qc[z%Qc.length].role,hours:A,cost:R}))||[{name:`${v.name} Implementation`,role:"Full Stack",hours:w,cost:O}]}),d=K+1}else x==="ceo-consulting"&&p.push({phaseNum:0,name:`${v.name} (${S} week${S>1?"s":""})`,weeks:`1-${S}`,hours:w,cost:M,activities:[{name:"Strategic Advisory & Operational Oversight",role:"CEO",hours:w,cost:M}]})});const m=c!==-1?c:r.length;if(r.splice(m,0,...p),p.length>0&&c!==-1){const x=r[m+p.length];x&&(x.weeks=`${d}-${d+4-1}`)}return r.forEach((x,v)=>{x.phaseNum=v+1}),r}function tv(t,e,n=1,i=1){return qj(t,e,n,i).reduce((r,o)=>r+o.hours,0)}const Yi={finalwishes:{key:"finalwishes",projectDisplayName:"FinalWishes Platform",providerName:"Sirsi Technologies",docCode:"FW",primaryObjectiveTitle:"The Living Legacy Platform",primaryObjectiveDescription:'To architect and deploy a secure, multi-tenant digital preservation engine that allows Principals to curate their "Final Wishes"including digital assets, legal instructions, and emotional legaciesusing AI-driven guidance and a "Vault-Grade" security infrastructure.',strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are not just building an app; we are deploying a private, permanent infrastructure for estate management.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Vault",value:"Cloud SQL + KMS Encryption"},{label:"Mobile",value:"React Native Expo"}],sowObjective:`Establish a permanent, industrial-grade "Living Legacy" platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI infrastructure.`,sowPlatformType:"Legacy Management",msaRecital:'Client desires to engage Provider to design, develop, and implement a legacy management system known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, legacy management scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Jurisdiction-specific probate logic, workflows, and regulatory compliance rules, inclusive of but not restricted to Maryland, Illinois, and Minnesota, or any other federal, state, or local governmental jurisdictions","Proprietary content, decision trees, and conversational scripts authored for 'The Shepherd' guidance engine (defining the interactive user prompts, educational narratives, and process navigation pathways)","Unique data schemas and information architecture (representing the specific definitions, organization, and structural relationships of Client's proprietary business data)"],msaVerticalLicense:"within the field of Legacy Management and Digital Inheritance Automation",msaNonCompeteVertical:"Legacy Management or Digital Inheritance",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Legacy Management System. This project aims to build foundational legacy management infrastructure with foundational support for future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota.',msaSowObjective:'deliver a "Vault-Grade" secure platform that allows users to securely organize, document, and manage their legacy assets and final wishes, providing a permanent, cryptographically-secure repository for digital inheritance and beneficiary instructions.',msaAssumptions:["Future Expansion Support: Logic is focused on foundational legacy management, with future support planned for Maryland, Illinois, and Minnesota.",'No Legal Advice: The "Shepherd" guides users through site and application logic and provides procedural guidance, not legal advice.',"Third-Party Costs: Client pays direct consumption costs for Stripe, Plaid, Lob, and Google Cloud.","Content: Client is responsible for final validation of court form templates."],msaNoSelectFallback:"Core Legacy Management Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines and infrastructure-as-code deployments, we realize significant savings.",msaDocumentScope:[{title:"A. Identity & Vital Records",content:"Death Certificate (Manual upload/OCR processing); Social Security/Gov ID (Secure entry & validation)."},{title:"B. Future State Engine Framework (Expansion)",content:"Maryland/Illinois/Minnesota: Foundational logic mapping for future expansion into MDEC (Maryland), eCourt (Illinois), and MNCIS (Minnesota) e-filing guidance. Note: Active development of direct court filing automation is reserved for future statement(s) of work."},{title:"C. Financial & Asset Documents",content:"Asset Discovery (Plaid integration for 12,000+ institutions); Life Insurance/Retirement (Standard claim letter generation); Real Estate (Manual tracking + valuation APIs)."}],docType:"legacy-msa"},fonemovie:{key:"fonemovie",projectDisplayName:"FoneMovie Media Discovery Platform",providerName:"Sirsi Technologies",docCode:"FM",primaryObjectiveTitle:"The Media Discovery Engine",primaryObjectiveDescription:"To architect and deploy a high-performance media discovery and distribution platform that enables creators, studios, and audiences to connect through intelligent content curationleveraging AI-powered recommendations, real-time analytics, and a scalable streaming infrastructure.",strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are building a next-generation media platform with discovery-first architecture and creator-centric monetization.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Media",value:"Cloud CDN + Transcoding Pipeline"},{label:"Mobile",value:"React Native Expo"}],sowObjective:"Build a next-generation media discovery and distribution platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI and media infrastructure.",sowPlatformType:"Media Discovery",msaRecital:'Client desires to engage Provider to design, develop, and implement a media discovery and distribution platform known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support content curation, creator tools, audience analytics, and scalable streaming capabilities',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, media discovery algorithms, content curation scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Proprietary content recommendation algorithms, discovery feeds, and audience matching logic","Creator dashboard interfaces, analytics pipelines, and monetization workflow configurations","Unique data schemas and information architecture for media metadata, user engagement, and content relationships"],msaVerticalLicense:"within the field of Media Discovery, Content Distribution, and Entertainment Technology",msaNonCompeteVertical:"Media Discovery or Content Distribution",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Media Discovery Platform. This project aims to build a scalable media discovery infrastructure with content curation, creator tools, audience analytics, and streaming distribution capabilities.',msaSowObjective:"deliver a high-performance media platform that enables creators and studios to distribute content, audiences to discover personalized media, and all parties to engage through intelligent AI-driven recommendations and real-time analytics.",msaAssumptions:["Content Licensing: Client is responsible for securing all necessary content licensing and distribution rights.","No Legal Advice: The platform provides content discovery and distribution tools, not legal or licensing counsel.","Third-Party Costs: Client pays direct consumption costs for Stripe, CDN bandwidth, transcoding, and Google Cloud.","Content Moderation: Client is responsible for content moderation policies and enforcement."],msaNoSelectFallback:"Core Media Discovery Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines, CDN infrastructure, and AI pipelines, we realize significant savings.",msaDocumentScope:[{title:"A. Content Ingestion & Processing",content:"Media upload pipeline with automated transcoding; Metadata extraction and tagging; CDN distribution with adaptive bitrate streaming."},{title:"B. Discovery & Recommendation Engine",content:"AI-powered content recommendations using Vertex AI; User behavior analytics and engagement tracking; Personalized discovery feeds with collaborative filtering."},{title:"C. Creator Tools & Monetization",content:"Creator dashboard with performance analytics; Revenue tracking and payout management (Stripe integration); Content scheduling and distribution management."}],docType:"media-msa"}};function yd(t,e){return t.replace(/\{projectName\}/g,e)}function Zm(t){if(!t)return Yi.finalwishes;if(Yi[t])return Yi[t];const e=t.toLowerCase();for(const[n,i]of Object.entries(Yi))if(e.includes(n))return i;return Yi.finalwishes}function VB(t,e){const n=Zm(t);return{...n,msaRecital:yd(n.msaRecital,e),msaForegroundIpDescription:yd(n.msaForegroundIpDescription,e),msaForegroundIpItems:n.msaForegroundIpItems.map(i=>yd(i,e)),msaSowOverview:yd(n.msaSowOverview,e),msaCostIntro:yd(n.msaCostIntro,e)}}const $x={projectName:"FinalWishes",companyName:"111 Venture Studio",projectId:"finalwishes",contractId:null,clientName:"",clientEmail:"",entityLegalName:"Sirsi Technologies, Inc.",counterpartyName:"Cylton Collymore",counterpartyTitle:"CEO",currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[],sirsiMultiplier:1,maintenanceMode:!1},Re=lA()(uA((t,e)=>({...$x,setCurrentTab:n=>{t({currentTab:n});const i=e().visitedTabs;i.includes(n)||t({visitedTabs:[...i,n]}),setTimeout(()=>{const r=document.querySelector(".main-content");r&&r.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},50)},setProjectId:n=>{const i=e();if(n!==i.projectId){const r=Zm(n);t({projectId:n,projectName:r.projectDisplayName,companyName:$x.companyName,clientName:"",clientEmail:"",contractId:null,currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[]})}else t({projectId:n})},setContractId:n=>t({contractId:n}),setClientInfo:(n,i)=>t({clientName:n,clientEmail:i}),setCounterpartyInfo:(n,i,r)=>t({entityLegalName:n,counterpartyName:i,counterpartyTitle:r}),setSelectedBundle:n=>t({selectedBundle:n}),toggleAddon:n=>t(i=>({selectedAddons:i.selectedAddons.includes(n)?i.selectedAddons.filter(r=>r!==n):[...i.selectedAddons,n]})),setCeoConsultingWeeks:n=>t({ceoConsultingWeeks:Math.max(1,Math.min(52,n))}),toggleProbateState:n=>t(i=>({probateStates:i.probateStates.includes(n)?i.probateStates.filter(r=>r!==n):[...i.probateStates,n]})),markTabVisited:n=>t(i=>({visitedTabs:i.visitedTabs.includes(n)?i.visitedTabs:[...i.visitedTabs,n]})),setSystemSettings:n=>t({sirsiMultiplier:n.multiplier||1,maintenanceMode:n.maintenanceMode||!1}),fetchContract:async n=>{try{const i=await Kn.getContract({id:n});if(i){const r={contractId:i.id,clientName:i.clientName,clientEmail:i.clientEmail,projectId:i.projectId,projectName:i.projectName},o=i.selections;o&&(o.bundle&&(r.selectedBundle=o.bundle),o.addons&&(r.selectedAddons=o.addons),o.ceoConsultingWeeks&&(r.ceoConsultingWeeks=o.ceoConsultingWeeks),o.probateStates&&(r.probateStates=o.probateStates)),t(r),console.log(` State re-hydrated from contract ${n}`)}}catch(i){console.error(` Failed to fetch contract ${n}:`,i)}},syncConfig:async()=>{const n=e();if(!n.contractId){console.warn("Cannot sync config: No contractId available");return}try{console.log(` Syncing configuration for contract ${n.contractId}...`);const i=Xm(n.selectedBundle,n.selectedAddons,n.ceoConsultingWeeks,n.probateStates.length,1);await Kn.updateContract({id:n.contractId,contract:{totalAmount:BigInt(Math.round(i.total*100)),selections:{bundle:n.selectedBundle,addons:n.selectedAddons,ceoConsultingWeeks:n.ceoConsultingWeeks,probateStates:n.probateStates}}}),console.log(" Configuration synced to Sirsi Ledger")}catch(i){console.error(" Failed to sync configuration:",i)}},resetConfig:()=>t($x)}),{name:"sirsi-config-storage",storage:cA(()=>localStorage)})),Wj=()=>Re(t=>t.currentTab),eg=()=>Re(t=>t.setCurrentTab),FB=()=>Re(t=>t.syncConfig),BB=[{id:"summary",line1:"Executive",line2:"Summary"},{id:"configure",line1:"Configure",line2:"Solution"},{id:"msa",line1:"Master Agreement",line2:"(MSA)"},{id:"vault",line1:"Sirsi",line2:"Vault"}];function zB(){const t=Wj(),e=eg();return l.jsx("div",{className:"nav-tabs",children:BB.map(n=>l.jsxs("button",{className:`tab-btn ${t===n.id?"active":""}`,onClick:()=>e(n.id),children:[l.jsx("span",{className:"tab-line1",children:n.line1}),l.jsx("span",{className:"tab-line2",children:n.line2})]},n.id))})}const UB=(t="",e="",n=50)=>gh({queryKey:["contracts",t,e,n],queryFn:async()=>await Kn.listContracts(new To({projectId:t,userEmail:e,pageSize:n}))}),Kj=(t=10,e="")=>gh({queryKey:["users",t,e],queryFn:async()=>await Ba.listUsers(new Io({pageSize:t,pageToken:e}))}),HB=(t=10,e="")=>gh({queryKey:["notifications",t,e],queryFn:async()=>await Ba.listNotifications(new No({pageSize:t,pageToken:e}))}),$B=()=>{const t=mh();return jm({mutationFn:async e=>await Ba.sendNotification(new Ro(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}})},Yj=()=>jm({mutationFn:async t=>await Ba.logDevSession(new Ao(t))}),GB=()=>{const t=mh();return jm({mutationFn:async e=>await Ba.manageUserRole(new jo(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})},Qj=()=>gh({queryKey:["settings"],queryFn:async()=>(await Ba.getSettings(new ko)).settings}),qB=()=>{const t=mh();return jm({mutationFn:async e=>await Ba.updateSettings(new Po({settings:new Mv(e)})),onSuccess:()=>{t.invalidateQueries({queryKey:["settings"]})}})},WB=(t="ALL",e=50,n="")=>gh({queryKey:["audit-trail",t,e,n],queryFn:async()=>await Ba.listAuditTrail(new Do({filterLevel:t,pageSize:e,pageToken:n}))});function cE(){const t=eg(),e=Re(d=>d.clientName),n=Re(d=>d.companyName),i=Re(d=>d.projectName),r=Re(d=>d.projectId),o=Re(d=>d.setClientInfo),c=Re.setState,h=Zm(r);return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsx("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Executive Summary"})}),l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"32px",marginBottom:"4rem",maxWidth:"800px",margin:"0 auto 4rem auto"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",color:"#FFFFFF",fontSize:"20px",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Prepared For"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Client Name"}),l.jsx("input",{type:"text",placeholder:"Enter Name...",value:e,onChange:d=>o(d.target.value,Re.getState().clientEmail),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Organization"}),l.jsx("input",{type:"text",placeholder:"Company (Optional)...",value:n,onChange:d=>c({companyName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Project Name"}),l.jsx("input",{type:"text",placeholder:"e.g. The Lockhart Estate...",value:i,onChange:d=>c({projectName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"linear-gradient(145deg, #141e3c, #0a0f1e)",marginBottom:"3rem",cursor:"default",padding:"28px",borderRadius:"12px",border:"2px solid rgba(200, 169, 81, 0.5)",backdropFilter:"blur(12px)",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{display:"inline-block",background:"linear-gradient(135deg, #C8A951, #E2C76B)",color:"#000",padding:"8px 20px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px",marginBottom:"28px",textTransform:"uppercase",letterSpacing:"0.15em",boxShadow:"0 4px 15px rgba(200, 169, 81, 0.3)"},children:"Primary Objective"}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#FFFFFF",marginBottom:"24px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:h.primaryObjectiveTitle}),l.jsx("p",{style:{fontSize:"20px",lineHeight:1.8,color:"rgba(255,255,255,0.9)"},children:h.primaryObjectiveDescription})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4rem",marginBottom:"5rem"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Strategic Position"}),l.jsx("p",{style:{lineHeight:1.8,opacity:.9,fontSize:"1.25rem"},children:h.strategicPosition})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Technology Stack"}),l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"1rem",opacity:.9},children:h.techStack.map((d,p)=>l.jsxs("li",{style:{fontSize:"1.25rem"},children:[" ",l.jsxs("strong",{children:[d.label,":"]})," ",d.value]},p))})]})]}),l.jsx("div",{style:{textAlign:"center",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("configure"),className:"select-plan-btn",style:{padding:"16px 40px",fontSize:"18px"},children:"Configure Your Solution "})})]})}const KB=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"Washington D.C."},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];function YB(){const t=eg(),e=FB(),n=Re(P=>P.contractId),i=Re(P=>P.selectedBundle),r=Re(P=>P.selectedAddons),o=Re(P=>P.setSelectedBundle),c=Re(P=>P.toggleAddon),h=Re(P=>P.ceoConsultingWeeks),d=Re(P=>P.setCeoConsultingWeeks),p=Re(P=>P.probateStates),m=Re(P=>P.toggleProbateState);D.useEffect(()=>{if(!n)return;const P=setTimeout(()=>{e()},1e3);return()=>clearTimeout(P)},[i,r,h,p,n,e]);const[x,v]=D.useState(null),[S,w]=D.useState(""),[E,T]=D.useState([]),[M,O]=D.useState(h),B=Xm(i,r,h,p.length,1).total,W=gm(i,r,p.length),K=(i?1:0)+r.length,I=i==="finalwishes-core",A=!I&&r.length>0,R=()=>{x!=="probate"?(T([...p]),w(""),v("probate")):v(null)},L=()=>{x!=="ceo-consulting"?(O(h),v("ceo-consulting")):v(null)},z=KB.filter(P=>P.name.toLowerCase().includes(S.toLowerCase())||P.code.toLowerCase().includes(S.toLowerCase())),U=P=>{T(G=>G.includes(P)?G.filter(ae=>ae!==P):[...G,P])},F=()=>{const P=E.filter(ae=>!p.includes(ae)),G=p.filter(ae=>!E.includes(ae));P.forEach(ae=>m(ae)),G.forEach(ae=>m(ae)),E.length>0&&!r.includes("probate")&&c("probate"),E.length===0&&r.includes("probate")&&c("probate"),v(null)},le=()=>{d(M),r.includes("ceo-consulting")||c("ceo-consulting"),v(null)},ve=()=>{T([])};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem",marginTop:"2rem"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Configure Your Solution"}),l.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255, 255, 255, 0.7)",maxWidth:"800px",margin:"0 auto",lineHeight:1.6},children:"Select your core platform and strategic add-on modules. Your selections will generate a custom Statement of Work."})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"1. Choose Your Path"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",width:"100%",margin:"0 auto"},children:[l.jsxs("div",{onClick:()=>o("finalwishes-core"),style:{cursor:"pointer",border:`2px solid ${I?"#10B981":"#C8A951"}`,background:I?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #141e3c, #0a0f1e)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${I?"#10B981":"rgba(255,255,255,0.3)"}`,background:I?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:I&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#000",padding:"6px 16px",borderRadius:"20px",fontWeight:700,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" Recommended"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:ii["finalwishes-core"]?.name||"Core Platform"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Complete Digital Legacy Solution"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Investment"}),l.jsxs("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:["$",ii["finalwishes-core"].price.toLocaleString()]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4px"},children:["Market Value: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(ii["finalwishes-core"].hours*250).toLocaleString()]})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:[ii["finalwishes-core"].timeline," Week Delivery"]})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#93c5fd",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"What's Included:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.85)",lineHeight:1.8},children:[l.jsx("li",{children:"iOS & Android Native Apps"}),l.jsx("li",{children:"Web Application (React)"}),l.jsx("li",{children:'"The Shepherd" AI Foundation'}),l.jsx("li",{children:"Secure Cloud Infrastructure"}),l.jsx("li",{children:"Legacy Media Vault"}),l.jsx("li",{children:"Digital Lockbox Storage"}),l.jsx("li",{children:"Beneficiary Management"}),l.jsx("li",{children:"User Authentication & MFA"})]})]}),l.jsxs("div",{onClick:()=>o(null),style:{cursor:"pointer",border:`2px solid ${A?"#10B981":"rgba(255,255,255,0.3)"}`,background:A?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #022c22, #011a14)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${A?"#10B981":"rgba(255,255,255,0.3)"}`,background:A?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:A&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.5)",padding:"6px 16px",borderRadius:"20px",fontWeight:600,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" La Carte"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:"Standalone Services"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Individual Module Selection"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Starting From"}),l.jsx("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:"$18,000"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:"Per Individual Module"})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#94a3b8",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Available Services:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.7)",lineHeight:1.8},children:[l.jsx("li",{children:"Branding & Identity"}),l.jsx("li",{children:"Maintenance & Support"}),l.jsx("li",{children:"Estate Administration"}),l.jsx("li",{children:"Probate Engine"}),l.jsx("li",{children:"Secure Communications"}),l.jsx("li",{children:"Virtual Memorial Services"}),l.jsx("li",{children:"Advanced Asset Discovery"}),l.jsx("li",{style:{color:"rgba(255,255,255,0.4)",fontStyle:"italic"},children:"+ More modules available"})]})]})]}),l.jsx("div",{style:{textAlign:"center",margin:"24px auto 0 auto",padding:"16px",background:I||A?"rgba(200, 169, 81, 0.1)":"rgba(255,255,255,0.03)",border:`1px solid ${I||A?"rgba(200, 169, 81, 0.4)":"rgba(255,255,255,0.1)"}`,borderRadius:"8px",width:"100%"},children:l.jsxs("span",{style:{color:I||A?"#C8A951":"rgba(255,255,255,0.4)",fontWeight:600,fontSize:"15px"},children:[I?" Core Platform Bundle selected  strategic synergies unlocked.":"",A?" Standalone path selected  select individual services below":"",!I&&!A?"Click a card above to select your path":""]})})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"2. Strategic Add-On Modules"}),l.jsx("div",{className:"neo-glass-panel",style:{width:"100%",margin:"0 auto 3rem auto",textAlign:"center"},children:l.jsx("p",{style:{margin:0,fontSize:"1.25rem",lineHeight:1.75,color:"rgba(255, 255, 255, 0.9)"},children:"Enhance your platform with specialized modules designed for long-term growth and operational efficiency."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"24px",width:"100%",margin:"0 auto"},children:["maintenance","ceo-consulting","branding","estate","probate","probate-ai","comms","memorial","financial","ai-legacy","liquidator","white-label","charity","genealogy","publishing","crypto","blockchain","documentary"].map(P=>{const G=ms[P];if(!G)return null;const ae=r.includes(G.id),_e=G.standalonePrice||Math.round(G.bundledPrice*1.5),be=I?G.bundledPrice:_e,H=I&&_e>G.bundledPrice,se=x===G.id;return l.jsx("div",{style:{perspective:"1000px",height:"420px",cursor:"pointer",position:"relative"},children:l.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transition:"transform 0.6s",transformStyle:"preserve-3d",transform:se?"rotateY(180deg)":"none"},children:[l.jsxs("div",{onClick:()=>{G.id==="probate"&&!ae&&p.length===0?R():G.id==="ceo-consulting"&&!ae?L():c(G.id)},style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:ae?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #022c22, #011a14)",border:`2px solid ${ae?"#10B981":"rgba(255, 255, 255, 0.15)"}`,borderRadius:"12px",padding:"1.25rem",display:"flex",flexDirection:"column",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.4)",boxSizing:"border-box"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[l.jsx("div",{style:{padding:"12px",background:"rgba(200, 169, 81, 0.1)",borderRadius:"8px",color:"#C8A951"},children:l.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),v(G.id)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600},children:"Details "})]}),l.jsx("h4",{style:{color:"white",fontWeight:"bold",fontSize:"20px",marginBottom:"12px",fontFamily:"Inter, sans-serif"},children:G.name}),l.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"8px",flexWrap:"wrap"},children:[H&&l.jsxs("span",{style:{color:"#64748b",textDecoration:"line-through",fontSize:"14px"},children:["$",_e.toLocaleString()]}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"28px"},children:[G.id==="ceo-consulting"?`$${(be*h).toLocaleString()}`:G.id==="probate"&&p.length>0?`$${(be*p.length).toLocaleString()}`:`$${be.toLocaleString()}`,G.id==="ceo-consulting"?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",h," w)"]}):G.id==="probate"&&p.length>0?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",p.length," s)"]}):G.id==="maintenance"?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/yr"}):G.recurring?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/mo"}):""]})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},children:["Market Equivalent: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(G.hours*250*(G.id==="ceo-consulting"?h:G.id==="probate"?Math.max(1,p.length):1)).toLocaleString()]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.05)",margin:"12px 0"}}),l.jsx("div",{style:{color:"#64748b",fontSize:"13px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"6px"},children:G.id==="ceo-consulting"?l.jsxs(l.Fragment,{children:[h," week",h>1?"s":""," engagement",ae&&l.jsx("span",{onClick:ne=>{ne.stopPropagation(),L()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):G.id==="probate"?l.jsxs(l.Fragment,{children:[p.length>0?`${p.length} State${p.length>1?"s":""} Licensed`:"Select coverage states",ae&&l.jsx("span",{onClick:ne=>{ne.stopPropagation(),R()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):`${G.timeline} ${G.timelineUnit} Delivery`}),l.jsx("p",{style:{fontSize:"1rem",color:"rgba(147, 197, 253, 0.8)",lineHeight:1.6,margin:0},children:G.shortDescription}),l.jsx("div",{style:{marginTop:"auto",paddingTop:"12px",minHeight:"44px",display:"flex",alignItems:"center"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[l.jsx("div",{style:{flex:1},children:l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:ae?l.jsx("span",{style:{color:"#10B981",fontWeight:600},children:" Module Selected"}):"Add to Configuration"})}),l.jsx("div",{onClick:ne=>{ne.stopPropagation(),ae?c(G.id):G.id==="probate"?R():G.id==="ceo-consulting"?L():c(G.id)},style:{width:"32px",height:"32px",borderRadius:"6px",border:ae?"none":"2px solid rgba(200, 169, 81, 0.4)",background:ae?"#10B981":"rgba(0,0,0,0.3)",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:ae?"0 0 15px rgba(16, 185, 129, 0.3)":"none",transition:"all 0.2s ease"},children:ae?"":""})]})})]}),l.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:"#0a0f1e",border:"2px solid #C8A951",borderRadius:"12px",transform:"rotateY(180deg)",display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box"},children:G.id==="probate"||G.id==="ceo-consulting"?l.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"20px 20px 10px 20px",textAlign:"center"},children:[l.jsx("h4",{style:{fontFamily:"Cinzel, serif",color:"#C8A951",fontSize:"18px",margin:"0 0 4px 0"},children:G.id==="probate"?"Jurisdictions":"Engagement Duration"}),l.jsx("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",margin:0},children:G.id==="probate"?"SCROLL & SELECT STATES":"SCROLL TO SELECT WEEKS"})]}),l.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"40px",background:"linear-gradient(to bottom, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"40px",background:"linear-gradient(to top, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"36px",borderTop:"1px solid rgba(200,169,81,0.3)",borderBottom:"1px solid rgba(200,169,81,0.3)",pointerEvents:"none",zIndex:1}}),G.id==="probate"&&l.jsx("div",{style:{padding:"0 20px 8px 20px"},children:l.jsx("input",{type:"text",placeholder:"Search...",value:S,onClick:ne=>ne.stopPropagation(),onChange:ne=>w(ne.target.value),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"6px 12px",color:"white",fontSize:"12px",outline:"none"}})}),l.jsx("div",{style:{height:G.id==="probate"?"140px":"180px",overflowY:"auto",scrollSnapType:"y mandatory",textAlign:"center"},children:G.id==="probate"?z.map(ne=>{const he=E.includes(ne.code);return l.jsxs("div",{onClick:we=>{we.stopPropagation(),U(ne.code)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:he?"#C8A951":"rgba(255,255,255,0.85)",fontSize:he?"16px":"14px",fontWeight:he?700:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[ne.name," ",he&&""]},ne.code)}):Array.from({length:52},(ne,he)=>he+1).map(ne=>{const he=M===ne;return l.jsxs("div",{onClick:we=>{we.stopPropagation(),O(ne)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:he?"#C8A951":"rgba(255,255,255,0.85)",fontSize:he?"20px":"14px",fontWeight:he?800:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[ne," ",ne===1?"Week":"Weeks"]},ne)})})]}),l.jsxs("div",{style:{padding:"16px 20px 20px 20px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"9px",display:"block",textTransform:"uppercase"},children:G.id==="probate"?"Selected":"Investment"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"18px",fontWeight:800},children:G.id==="probate"?E.length:`$${(M*(I?ms["ceo-consulting"]?.bundledPrice||0:ms["ceo-consulting"]?.standalonePrice||0)).toLocaleString()}`})]}),G.id==="probate"&&l.jsx("button",{onClick:ne=>{ne.stopPropagation(),ve()},style:{background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"rgba(255,255,255,0.6)",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",cursor:"pointer"},children:"Clear All"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),v(null)},style:{padding:"10px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontWeight:600,fontSize:"11px",cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),G.id==="probate"?F():le()},style:{padding:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #C8A951 0%, #A08332 100%)",border:"none",color:"#000",fontWeight:800,fontSize:"11px",cursor:"pointer"},children:"Confirm"})]})]})]}):l.jsxs("div",{onClick:ne=>ne.stopPropagation(),style:{height:"100%",display:"flex",flexDirection:"column",padding:"1.5rem"},children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"18px",marginBottom:"16px"},children:"Scope of Services:"}),l.jsxs("div",{style:{color:"white",fontSize:"14px",lineHeight:1.6,flex:1,overflowY:"auto"},children:[G.detailedScope?.map((ne,he)=>l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"4px"},children:ne.title}),l.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0},children:ne.subItems.map((we,ye)=>l.jsx("li",{style:{marginBottom:"2px"},children:we},ye))})]},he)),(!G.detailedScope||G.detailedScope.length===0)&&l.jsx("p",{children:"Detailed architectural implementation and service integration."})]}),l.jsx("button",{onClick:()=>v(null),style:{marginTop:"1rem",background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"10px",borderRadius:"6px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Return to Selection"})]})})]})},G.id)})})]}),l.jsxs("div",{className:"summary-box",style:{width:"100%",margin:"4rem auto 2rem auto",padding:"32px",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",background:"rgba(200, 169, 81, 0.08)"},children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"24px",color:"#C8A951",marginBottom:"32px",textAlign:"center",marginTop:0},children:"4. Selection Summary"}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"64px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Modules"}),l.jsx("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:K})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Estimated Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"32px",fontWeight:600},children:["$",B.toLocaleString()]})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:[W," Weeks"]})]})]})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"4rem",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("msa"),className:"select-plan-btn",children:"Review Master Agreement "})})]})}function QB(){const[t,e]=D.useState(!1),n=eg(),i=Re(A=>A.selectedBundle),r=Re(A=>A.selectedAddons),o=Re(A=>A.ceoConsultingWeeks),c=Re(A=>A.probateStates),h=Re(A=>A.clientName),d=Re(A=>A.projectName),p=Re(A=>A.projectId),m=Re(A=>A.entityLegalName),x=Re(A=>A.counterpartyName),v=Re(A=>A.counterpartyTitle),S=VB(p,d),w=new Date().getFullYear(),E=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),T=Xm(i,r,o,c.length,1),M=T.total,O=T.marketTotal,k=gm(i,r,c.length),B=tv(i,r,o,c.length),W=qj(i,r,o,c.length),K=Math.round(O*.15),I=O-K-M;return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[l.jsx("div",{style:{display:"inline-block",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:"Governing Legal Framework"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Master Service Agreement"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"40px",fontSize:"14px",fontFamily:"monospace",color:"#93c5fd",opacity:.8},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Document:"})," MSA-",w,"-111-",S.docCode]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Effective Date:"})," ",E]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Status:"})," BINDING ENFORCEABLE"]})]})]}),l.jsxs("div",{className:"legal-viewer",style:{maxWidth:"1200px",margin:"0 auto",background:"rgba(0,0,0,0.2)",padding:"60px",borderRadius:"4px",boxShadow:"inset 0 0 100px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px",textAlign:"justify"},children:[l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h2",{style:{marginTop:0,color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"28px",textAlign:"center",letterSpacing:"0.1em"},children:"MASTER SERVICES AGREEMENT (MSA)"}),l.jsxs("p",{style:{marginTop:"24px"},children:[l.jsx("strong",{children:"AGREEMENT NUMBER:"})," MSA-",w,"-111-",S.docCode,l.jsx("br",{}),l.jsx("strong",{children:"EFFECTIVE DATE:"})," ",E]}),l.jsxs("p",{children:["This ",l.jsx("strong",{children:"Master Services Agreement"}),' (this "Agreement") is entered into by and between:']}),l.jsxs("p",{children:[l.jsx("strong",{children:h||"The Client"}),', an individual or entity ("Client"), and'," ",l.jsx("strong",{children:m}),', a Delaware corporation (FEIN: 99-1057313), with its principal place of business at 909 Rose Avenue, Suite 400, North Bethesda MD 20852 ("Provider" or "Sirsi"), represented by ',l.jsx("strong",{children:x}),", ",v,"."]}),l.jsx("p",{children:'Client and Provider may be referred to individually as a "Party" and collectively as the "Parties."'}),l.jsx("div",{style:{margin:"40px 0",borderTop:"1px solid rgba(200,169,81,0.2)"}}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"1. RECITALS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", ",S.msaRecital,"; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", Provider (",m,") possesses the requisite technical expertise, personnel, and infrastructure, including expertise in artificial intelligence, cloud architecture, and secure software development, to perform the Services; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Platform is to be constructed utilizing Provider's proprietary ",l.jsx("strong",{children:"Sirsi Nexus V4 Framework"})," as the foundational architectural layer; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Parties desire to set forth the terms and conditions under which Provider will provide such services and license certain technologies to Client."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"NOW, THEREFORE"}),", in consideration of the mutual covenants, terms, and conditions set forth herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the Parties agree as follows:"]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"2. DEFINITIONS"}),l.jsx("p",{children:"For purposes of this Agreement, the following terms shall have the meanings set forth below:"}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.1 "Affiliate"'}),' means any entity that directly or indirectly controls, is controlled by, or is under common control with a Party, where "control" means ownership of more than fifty percent (50%) of the voting stock or other ownership interest.']})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.2 "Background Technology" or "Sirsi Nexus V4"'})," means the Provider's proprietary foundational technology platform, including all software, code, tools, libraries, frameworks, know-how, methodologies, algorithms, and Intellectual Property Rights owned, licensed, or developed by Provider, whether prior to the Effective Date or during the Term. This expansive definition explicitly includes, without limitation:"]}),l.jsxs("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:[l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(i) Core Architecture & Infrastructure:"}),' The "Sirsi Nexus" application framework, serverless deployment configurations, Infrastructure-as-Code (IaC) templates, CI/CD pipelines, and microservices architectures;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(ii) Security & Compliance Engines:"}),' "The Vault" encryption protocols (AES-256, KMS integration), Identity and Access Management (IAM) systems, SOC 2 compliance controls, and audit logging mechanisms;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iii) Universal Component System (UCS):"})," The standardized integration layer and adapters for third-party services (including but not limited to Stripe, Plaid, OpenSign, and SendGrid) designed for portfolio-wide reuse;"]}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iv) AI & Orchestration:"}),' The "Gemini" guidance engine patterns, RAG (Retrieval-Augmented Generation) pipelines, prompt engineering frameworks, and agentic workflow orchestration logic;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(v) Interface & Design Systems:"}),' The "Sirsi UI" component library, reusable React/Tailwind components, design tokens, and aesthetic themes (e.g., "Royal Neo-Deco" base styles); and']}),l.jsxs("p",{style:{marginBottom:"0"},children:[l.jsx("strong",{children:"(vi) Continuous Evolution:"})," Any updates, upgrades, improvements, patches, derivative works, or new modules added to the foregoing during the Term to support Provider's broader portfolio of services."]})]}),l.jsx("p",{style:{marginTop:"12px"},children:'Background Technology is the underlying "operating system" upon which the Platform is built.'})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.3 "Confidential Information"'}),' means any non-public information disclosed by one Party (the "Disclosing Party") to the other Party (the "Receiving Party") that is designated as confidential or that, given the nature of the information or circumstances of disclosure, reasonably should be understood to be confidential.']})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.4 "Deliverables"'})," means all documents, work product, code, software, reports, and other materials that are specifically created for and delivered to Client by Provider pursuant to a Statement of Work."]})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.5 "Foreground IP"'})," means ",S.msaForegroundIpDescription,". This explicitly encompasses the custom-built application layer and includes, without limitation:"]}),l.jsx("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:S.msaForegroundIpItems.map((A,R)=>l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:["(",String.fromCharCode(105+R),")"]})," ",A,R<S.msaForegroundIpItems.length-1?";":"."]},R))})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.6 "Intellectual Property Rights"'})," means all patent rights, copyright rights, mask work rights, moral rights, rights of publicity, trademark, trade dress and service mark rights, goodwill, trade secret rights and other intellectual property rights as may now exist or hereafter come into existence, and all applications therefore and registrations, renewals and extensions thereof, under the laws of any state, country, territory or other jurisdiction."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.7 "Services"'})," means the professional software development, consulting, and design services to be performed by Provider as described in a Statement of Work."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.8 "Statement of Work" or "SOW"'})," means a document describing the specific Services to be performed, Deliverables to be provided, fees to be paid, and timeline for performance, which is agreed upon and signed by authorized representatives of both Parties. Each SOW shall be substantially in the form of ",l.jsx("strong",{children:"Exhibit A"}),"."]})})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"3. SERVICES AND ENGAGEMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.1 Statements of Work."})," Provider shall provide the Services and Deliverables to Client as specified in each SOW. Each SOW shall be effectively incorporated into this Agreement. In the event of a conflict between the terms of this Agreement and an SOW, the terms of the SOW shall control ONLY regarding the specific description of Services, fees, and timeline; for all other legal terms and conditions, this Agreement shall control."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.2 Standard of Performance."})," Provider represents and warrants that the Services will be performed in a professional, workmanlike manner, by qualified personnel, and consistent with the highest industry standards for similar enterprise-grade software development services. Provider shall devote adequate resources to meet its obligations under this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.3 Change Orders."}),' Client may, at any time, request changes to the scope of the Services ("Change Request"). If Provider determines that such changes will impact the fees, timeline, or technical architecture, Provider shall submit a written "Change Order" detailing the impact. No change shall be effective until the Change Order is signed by both Parties. Minor changes requiring less than eight (8) hours of effort may be approved via written correspondence (email sufficient).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.4 Resource Commitment."})," Provider commits a ",l.jsx("strong",{children:"Lead Architect"})," (Cylton Collymore) at a maximum of ",l.jsx("strong",{children:"50% time commitment"}),' for the duration of the initial development and designates the Project as "Priority Status" within the Sirsi infrastructure.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.5 Review and Close Period."})," Following the launch of the Platform, Provider shall provide a ",l.jsx("strong",{children:"sixty (60) day"}),' "Review and Close" period. During this time, Provider will provide reasonable support to ensure the Platform functions as specified in the SOW.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.6 Ongoing Maintenance & Support."})," Client acknowledges that any technical maintenance, feature updates, or priority SLA support beyond the initial 60-day period is ",l.jsx("strong",{children:"not included"}),' in the base Service Fees and requires the separate purchase of the "Maintenance and Support" add-on as specified in the service catalog.']})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"4. COMPENSATION AND PAYMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.1 Fees."})," Client shall pay Provider the fees set forth in the applicable SOW. Unless otherwise specified in an SOW, fees for fixed-price projects shall be payable according to the agreed-upon milestone schedule."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.2 Expenses."}),' Client shall reimburse Provider for reasonable, documented "Pass-Through Expenses" incurred in connection with the Services (e.g., specific cloud infrastructure costs, third-party API licensing fees, software licenses specifically required for the Project). Provider shall obtain Clients prior written approval for any individual expense exceeding Five Hundred Dollars ($500.00).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.3 Payment Terms."})," Provider shall submit invoices to Client upon completion of Milestones. Invoices are due and payable ",l.jsx("strong",{children:"Net Fifteen (15)"})," days from the invoice date via the Sirsi Vault payment gateway."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.4 Late Payments."})," Undisputed payments not received by the due date shall accrue interest at the lesser of one and one-half percent (1.5%) per month or the maximum rate permitted by law, calculated from the due date until paid in full."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.5 Taxes."})," Fees do not include any sales, use, value-added, or similar taxes. Client shall be responsible for paying all such taxes properly levied on the Services, excluding taxes based on Providers net income, property, or employees."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.6 Sirsi Backend Services."})," As part of Provider's Background Technology, the Platform shall integrate with third-party services including but not limited to ",l.jsx("strong",{children:"OpenSign"})," (e-signatures), ",l.jsx("strong",{children:"Plaid"})," (financial account linking), and ",l.jsx("strong",{children:"Stripe"})," (payment processing) through the ",l.jsx("strong",{children:"Sirsi Backend Service Architecture"}),". These integrations shall route through Provider's infrastructure to reduce cost complexity and time to market, unless otherwise indicated in writing or upon termination of any maintenance contract between the Parties."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.7 Merchant Fees."})," Provider does not pay merchant fees for making payment processing available to the Platform. All payment processing fees (including but not limited to Stripe transaction fees, chargeback fees, and related merchant service charges) shall be ",l.jsx("strong",{children:"passed through to Client"}),". Provider shall not pass through any other costs related to infrastructure maintenance and availability."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.8 Future Migration."})," If at some time in the future Client opts for its own full signatory and payments integrations independent of Provider's Payment Backend Service Architecture, Provider shall migrate a working implementation to Client for a ",l.jsx("strong",{children:"nominal fee not to exceed One Thousand Dollars ($1,000.00)"}),"."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"5. INTELLECTUAL PROPERTY RIGHTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.1 Work Made for Hire (Foreground IP)."})," Provider agrees that the ",l.jsx("strong",{children:"Foreground IP"}),' (specific business logic, brand assets, and custom workflows created exclusively for Client) shall be considered "works made for hire" and owned 100% by Client upon payment of all fees. To the extent that any Deliverable does not qualify as a work made for hire under applicable law, Provider hereby irrevocably helps, transfers, commercializes and assigns to Client all right, title, and interest in and to such Deliverable, including all Intellectual Property Rights therein, free and clear of all liens and encumbrances.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.2 Background Technology (Sirsi Nexus V4 Retention)."})," Notwithstanding Section 5.1, Provider retains all right, title, and interest in and to its ",l.jsx("strong",{children:"Background Technology"})," (the Sirsi Nexus V4 Framework). Provider hereby grants to Client a ",l.jsx("strong",{children:"perpetual, irrevocable, worldwide, royalty-free, and exclusive vertical license"})," to use, reproduce, and exploit the Background Technology ",l.jsx("em",{children:S.msaVerticalLicense})," for the purpose of operating the Platform."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.3 Third-Party and Open Source Software."}),' The Deliverables may contain third-party software or open source software. Provider warrants that its use of such software will comply with the applicable licenses (e.g., AGPL-3.0, MIT, Apache 2.0). Provider shall identify any "Copyleft" libraries (that would mandate disclosure of Clients source code) prior to integration and obtain Clients approval.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.4 AI-Generated Content."})," The Parties acknowledge that Provider utilizes advanced Artificial Intelligence tools. Provider warrants that it has the full legal right to assign ownership of such AI-generated output to Client as part of the Deliverables, and that such use does not violate the terms of service of the AI providers."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.5 Further Assurances."})," Provider agrees to execute any documents and take any actions reasonably requested by Client to perfect Clients ownership of the Intellectual Property Rights in the Foreground IP."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"6. CONFIDENTIALITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.1 Obligations."})," The Receiving Party agrees: (i) to hold the Disclosing Partys Confidential Information in strict confidence and take reasonable precautions to protect it; (ii) not to divulge any such Confidential Information to any third party; and (iii) not to use such Confidential Information except for the performance of this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.2 Exclusions."})," Confidential Information shall not include information that: (a) is or becomes generally available to the public without breach of this Agreement; (b) was in the Receiving Partys possession prior to disclosure without legal restriction; (c) is captured by the Receiving Party from a third party who had the legal right to disclose it; or (d) is independently developed by the Receiving Party without reference to or use of the Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.3 Data Security & SOC 2 Compliance."})," Provider agrees to implement and maintain commercially reasonable technical and organizational security measuresconsistent with SOC 2 Type II criteriato protect Client data. Provider shall maintain strict logical separation of Client's production data to ensure no leakage between the Platform and other Sirsi infrastructure tenants."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.4 Compelled Disclosure."})," If the Receiving Party is required by law or court order to disclose Confidential Information, it shall give the Disclosing Party prompt written notice (if legally permitted) to allow the Disclosing Party to seek a protective order."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"7. WARRANTIES AND COVENANTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.1 Provider Warranties."})," Provider represents and warrants that:"]}),l.jsxs("p",{children:["(a) ",l.jsx("strong",{children:"Non-Infringement:"})," The Deliverables will be original and will not infringe, misappropriate, or violate any patent, copyright, trademark, trade secret, or other proprietary right of any third party."]}),l.jsxs("p",{children:["(b) ",l.jsx("strong",{children:"Compliance with Laws:"})," The Services will be performed in compliance with all applicable federal, state, and local laws and regulations."]}),l.jsxs("p",{children:["(c) ",l.jsx("strong",{children:"Malicious Code:"})," Provider will use industry-standard measures to ensure the Deliverables do not contain any viruses, malware, trojan horses, time bombs, or other harmful code."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.2 Performance Warranty."})," The Performance Warranty is limited to the ",l.jsx("strong",{children:"sixty (60) day"})," Review and Close Period. Provider shall correct any material non-conformity with the Specifications at its sole expense during this period. Any requests for remediation following this period shall be governed by the terms of the Maintenance and Support add-on, if purchased."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.3 Disclaimer."})," EXCEPT AS EXPRESSLY SET FORTH IN THIS AGREEMENT, PROVIDER MAKES NO OTHER WARRANTIES, EXPRESS OR IMPLIED, AND HEREBY DISCLAIMS ALL IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"8. INDEMNIFICATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.1 By Provider."})," Provider shall indemnify, defend, and hold harmless Client and its officers, directors, employees, and agents from and against any and all losses, damages, liabilities, costs, and expenses (including reasonable attorneys fees) arising out of or resulting from any third-party claim alleging that the Deliverables or Services infringe or misappropriate any U.S. copyright, trademark, or trade secret."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.2 By Client."})," Client shall indemnify, defend, and hold harmless Provider from and against any and all losses, damages, liabilities, costs, and expenses arising out of or resulting from: (i) Clients specific specifications or instructions that compelled the infringement; or (ii) content or data provided by Client to Provider."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.3 Procedure."})," The indemnified party shall: (a) promptly notify the indemnifying party in writing of the claim; (b) allow the indemnifying party sole control of the defense and settlement of the claim; and (c) provide reasonable assistance to the indemnifying party."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"9. LIMITATION OF LIABILITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.1 Exclusion of Consequential Damages."})," EXCEPT FOR BREACHES OF CONFIDENTIALITY (SECTION 6) OR INDEMNIFICATION OBLIGATIONS (SECTION 8), IN NO EVENT SHALL EITHER PARTY BE LIABLE TO THE OTHER FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES (INCLUDING LOSS OF PROFITS, DATA, OR USE), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.2 Liability Cap."})," EXCEPT FOR PROVIDER'S INDEMNIFICATION OBLIGATIONS FOR IP INFRINGEMENT (SECTION 8.1), EACH PARTYS TOTAL AGGREGATE LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER IN CONTRACT, TORT, OR OTHERWISE, SHALL NOT EXCEED THE TOTAL FEES PAID OR PAYABLE BY CLIENT TO PROVIDER UNDER THE APPLICABLE SOW IN THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"10. TERM AND TERMINATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.1 Term."})," This Agreement shall commence on the Effective Date and shall continue in full force and effect until terminated as provided herein."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.2 Termination for Convenience."})," Client may terminate this Agreement or any SOW for any reason or no reason upon thirty (30) days' prior written notice to Provider. Upon such termination, Client shall pay Provider for all Services performed and non-cancellable expenses incurred up to the date of termination."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.3 Termination for Cause."})," Either Party may terminate this Agreement or any SOW immediately upon written notice if the other Party: (i) materially breaches this Agreement and fails to cure such breach within fifteen (15) days after receiving written notice thereof; or (ii) becomes insolvent, makes an assignment for the benefit of creditors, or files for bankruptcy."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.4 Effect of Termination."})," Upon termination: (i) Client shall pay all outstanding undisputed invoices; (ii) Provider shall deliver to Client all completed and partially completed Deliverables; and (iii) each Party shall return or destroy the other Partys Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.5 Survival."})," Sections 2, 4, 5, 6, 7.3, 8, 9, and 11 shall survive any termination or expiration of this Agreement."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"11. GENERAL PROVISIONS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.1 Independent Contractor."})," Provider is an independent contractor. No partnership or employment relationship is created."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.2 Market Vertical Non-Competition."})," Provider agrees that during the term of this Agreement and for a period of ",l.jsx("strong",{children:"three (3) years"})," thereafter, Provider shall not directly develop, market, or provide services for a competing ",l.jsx("strong",{children:S.msaNonCompeteVertical})," platform. This does not restrict Provider from using its foundational tech in unrelated market verticals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.3 Force Majeure."})," Neither Party shall be liable for any delay or failure to perform (excluding payment obligations) due to causes beyond its reasonable control, including acts of God, war, terrorism, riot, embargoes, acts of civil or military authorities, fire, floods, or accidents."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.4 Non-Solicitation."})," During the Term and for one (1) year thereafter, neither Party shall knowingly solicit for employment or hire any employee or contractor of the other Party who was directly involved in the provision of Services under this Agreement, without the prior written consent of the other Party."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.5 Dispute Resolution."})," Negotiation followed by binding arbitration in ",l.jsx("strong",{children:"Wilmington, Delaware"}),". Governed by ",l.jsx("strong",{children:"Delaware Law"}),"."]})]})]}),l.jsxs("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:[l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT A: STATEMENT OF WORK (SOW)"}),l.jsx("h4",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",marginTop:"8px",marginBottom:"40px"},children:"Full Execution Details and Technical Specifications"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.6)",fontStyle:"italic",marginBottom:"40px"},children:["Project Name: ",d," Platform Development  SOW Reference: SOW-",w,"-001  Date: ",E]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. EXECUTIVE OVERVIEW"}),l.jsx("p",{children:S.msaSowOverview}),l.jsxs("p",{children:[l.jsx("strong",{children:"Objective:"})," ",S.msaSowObjective]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"2. DETAILED SCOPE OF SERVICES"}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.1 Core Vault & Data Architecture"}),l.jsxs("p",{children:["Provider shall implement a ",l.jsx("strong",{children:"Multi-Tenant, Zero-Knowledge"})," architecture to ensure total data privacy."]}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Storage Layer:"})," Hybrid approach using ",l.jsx("strong",{children:"Cloud SQL (PostgreSQL)"})," for structured PII (Encrypted) and ",l.jsx("strong",{children:"Firestore"})," for real-time document metadata."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"File Vault:"})," ",l.jsx("strong",{children:"Cloud Storage"})," buckets with per-tenant isolation boundaries. All files encrypted at rest using ",l.jsx("strong",{children:"Cloud KMS"})," (AES-256)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Security:"})," Implementation of ",l.jsx("strong",{children:"SOC 2 Type II"})," controls, including strict IAM roles, audit logging, and encryption in transit (TLS 1.3)."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.2 Selected Service Modules"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px"},children:r.length>0?l.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(A=>{const R=ms[A];let L=R?.name||A;return A==="ceo-consulting"&&(L+=` (${o} weeks)`),A==="probate"&&(L+=` (${c.length} state${c.length>1?"s":""})`),l.jsxs("li",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:[L,":"]})," ",R?.shortDescription||"Strategic add-on module."]},A)})}):l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.5)",fontStyle:"italic"},children:S.msaNoSelectFallback})}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.3 Technology Stack (SirsiNexus V4)"}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Frontend:"})," ",l.jsx("strong",{children:"React 18"})," (Vite), ",l.jsx("strong",{children:"Tanstack"})," (Query, Router, Table), ",l.jsx("strong",{children:"shadcn/ui"})," (Radix Primitives + Tailwind)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Backend:"})," ",l.jsx("strong",{children:"Go (Golang)"})," on ",l.jsx("strong",{children:"Cloud Run"})," (Serverless), ",l.jsx("strong",{children:"Firebase Auth"}),"."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Database:"})," ",l.jsx("strong",{children:"Cloud SQL"})," (PostgreSQL) + ",l.jsx("strong",{children:"Firestore"})," (Real-time)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mobile:"})," ",l.jsx("strong",{children:"React Native"})," (Expo) sharing core business logic."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.4 Document Inventory & Scope"}),l.jsx("p",{children:"Provider will build automation or guidance paths for the following specific categories:"}),S.msaDocumentScope.map((A,R)=>l.jsxs("p",{children:[l.jsxs("strong",{children:[A.title,":"]})," ",A.content]},R)),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.5 System Integrations"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"24px",fontSize:"14px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Service"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Purpose"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Integration Level"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Plaid"})}),l.jsx("td",{style:{padding:"12px"},children:"Financial Account Linking"}),l.jsx("td",{style:{padding:"12px"},children:"Deep Integration"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"OpenSign"})}),l.jsx("td",{style:{padding:"12px"},children:"E-Signatures"}),l.jsx("td",{style:{padding:"12px"},children:"Self-Hosted API"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Lob"})}),l.jsx("td",{style:{padding:"12px"},children:"Physical Mail"}),l.jsx("td",{style:{padding:"12px"},children:"API Triggered"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Vertex AI"})}),l.jsx("td",{style:{padding:"12px"},children:"Process Guidance"}),l.jsx("td",{style:{padding:"12px"},children:"RAG Pipeline"})]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"3. WORK BREAKDOWN STRUCTURE (WBS)"}),l.jsx("div",{style:{display:"grid",gap:"24px"},children:W.length>0?W.map((A,R)=>l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"white",marginBottom:"8px",textTransform:"uppercase"},children:["PHASE ",A.phaseNum,": ",A.name," (Weeks ",A.weeks,")"]}),l.jsx("ul",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:A.activities.map((L,z)=>l.jsxs("li",{children:[L.name,"  ",L.hours,"h (",L.role,")"]},z))})]},R)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select a bundle or modules to generate WBS."})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginTop:"32px"},children:[l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[k," Weeks"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Engineering Load"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[B," Hours"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.1)",padding:"16px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(200,169,81,0.3)"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"20px",fontWeight:700},children:["$",M.toLocaleString()]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"4. ASSUMPTIONS"}),l.jsx("ol",{style:{paddingLeft:"20px",fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:S.msaAssumptions.map((A,R)=>l.jsxs("li",{children:[l.jsxs("strong",{children:[A.split(":")[0],":"]}),A.split(":").slice(1).join(":")]},R))})]}),l.jsx("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT B: COST & VALUATION ANALYSIS"})}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. DISCOUNT & VALUATION REALIZATION"}),l.jsx("p",{children:S.msaCostIntro}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"24px",borderRadius:"12px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsx("span",{children:"Gross Development Value (Market Valuation)"}),l.jsxs("span",{style:{color:"white"},children:["$",O.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#10B981"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (25%)"}),l.jsxs("span",{children:["-$",K.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#C8A951"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (Discount Realization)"}),l.jsxs("span",{children:["-$",I.toLocaleString()]})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"12px",paddingTop:"12px",display:"flex",justifyContent:"space-between",fontSize:"18px",fontWeight:"bold"},children:[l.jsx("span",{style:{color:"#C8A951"},children:"TOTAL PROJECT INVESTMENT"}),l.jsxs("span",{style:{color:"white"},children:["$",M.toLocaleString()]})]})]}),l.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"16px",fontStyle:"italic"},children:"* Valuations based on standard $250/hr agency blended rates. SirsiNexus efficiency discount reflects component library reuse and accelerated delivery methodology."})]})]}),l.jsxs("div",{style:{maxWidth:"1200px",margin:"48px auto",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"16px",textAlign:"center"},children:"Agreement Acknowledgment"}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",color:"rgba(255,255,255,0.9)",fontSize:"14px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t,onChange:A=>e(A.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{children:["I hereby acknowledge that I have read, understand, and agree to be bound by the terms and conditions of this Master Service Agreement. I acknowledge that this Agreement, together with the attached Statement of Work, constitutes a binding legal contract for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",M.toLocaleString()]}),"."]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"3rem",display:"flex",justifyContent:"flex-end",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto"},children:l.jsxs("button",{onClick:()=>n("vault"),disabled:!t,className:"select-plan-btn",style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"12px 24px",opacity:t?1:.5,cursor:t?"pointer":"not-allowed",transition:"all 0.3s ease"},children:[l.jsx("span",{children:"Proceed to Signature"}),l.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})}function Fp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fp=function(e){return typeof e}:Fp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}var Jj="clover",JB=function(e){return e===3?"v3":e},Xj="https://js.stripe.com",XB="".concat(Xj,"/").concat(Jj,"/stripe.js"),ZB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ez=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var tz=function(e){return ZB.test(e)||ez.test(e)},nz=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Xj,'"]')),n=0;n<e.length;n++){var i=e[n];if(tz(i.src))return i}return null},uE=function(e){var n="",i=document.createElement("script");i.src="".concat(XB).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},iz=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.3",startTime:n})},xd=null,pp=null,mp=null,rz=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},sz=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},az=function(e){return xd!==null?xd:(xd=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=nz();if(!(r&&e)){if(!r)r=uE(e);else if(r&&mp!==null&&pp!==null){var o;r.removeEventListener("load",mp),r.removeEventListener("error",pp),(o=r.parentNode)===null||o===void 0||o.removeChild(r),r=uE(e)}}mp=sz(n,i),pp=rz(i),r.addEventListener("load",mp),r.addEventListener("error",pp)}catch(c){i(c);return}}),xd.catch(function(n){return xd=null,Promise.reject(n)}))},oz=function(e,n,i){if(e===null)return null;var r=n[0];if(typeof r!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Fp(r)," instead."));var o=r.match(/^pk_test/),c=JB(e.version),h=Jj;o&&c!==h&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.6.3"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,n);return iz(d,i),d},vd,Zj=!1,eI=function(){return vd||(vd=az(null).catch(function(e){return vd=null,Promise.reject(e)}),vd)};Promise.resolve().then(function(){return eI()}).catch(function(t){Zj||console.warn(t)});var lz=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];Zj=!0;var r=Date.now();return eI().then(function(o){return oz(o,n,r)})};const cz="pk_live_51ShDB5DHFENsYYPybmlWnIVtzmKszjTlH7aE4au2zDJmbZu40AiQXbz7sLtBtQlb2v30lNNEOJNw47UehrSzClc0000pJCYx5d",dE=()=>lz(cz),uz="https://us-central1-sirsi-opensign.cloudfunctions.net/opensignApi";async function dz(){const t={"Content-Type":"application/json"},e=$t.currentUser;if(e)try{const n=await e.getIdToken();t.Authorization=`Bearer ${n}`}catch(n){console.error("[OpenSign] Failed to get Firebase ID token:",n)}return t}async function lu(t,e={}){const n=`${uz}${t}`,i=await dz(),r=await fetch(n,{...e,headers:{...i,...e.headers||{}}});if(!r.ok){const o=await r.json().catch(()=>({message:r.statusText}));throw new Error(`[OpenSign] ${r.status}: ${o.message||o.error||"Unknown error"}`)}return r.json()}async function hz(t){return lu("/api/guest/envelopes",{method:"POST",body:JSON.stringify(t)})}async function tI(){return lu("/api/vault/list")}async function hE(t){return lu("/api/payments/create-session",{method:"POST",body:JSON.stringify(t)})}async function fz(t){return lu("/api/payments/request-wire-instructions",{method:"POST",body:JSON.stringify(t)})}async function pz(t){return lu("/api/security/mfa/send",{method:"POST",body:JSON.stringify(t)})}async function mz(t){return lu("/api/security/mfa/verify",{method:"POST",body:JSON.stringify(t)})}function fE({onSignatureChange:t,signerName:e=""}){const[n,i]=D.useState("draw"),[r,o]=D.useState(e),[c,h]=D.useState("Great Vibes"),d=D.useRef(null),p=D.useRef(null),[m,x]=D.useState(!1),v=D.useRef({x:0,y:0}),S=D.useRef(!1);D.useEffect(()=>{o(e)},[e]),D.useEffect(()=>{if(n==="draw"&&d.current){const I=d.current,A=I.parentElement;A&&(I.width=A.offsetWidth,I.height=A.offsetHeight);const R=I.getContext("2d");R&&(R.lineJoin="round",R.lineCap="round",R.lineWidth=3,R.strokeStyle="#000000")}},[n]),D.useEffect(()=>{if(n==="type"&&p.current){const I=p.current,A=I.parentElement;A&&(I.width=A.offsetWidth,I.height=128),w()}},[n,r,c]),D.useEffect(()=>{if(n==="draw")t(S.current,S.current?E():null);else{const I=r.trim().length>=2;t(I,I?T():null)}},[n,r]);const w=()=>{const I=p.current;if(!I)return;const A=I.getContext("2d");if(!A)return;const R=r.trim();if(A.fillStyle="white",A.fillRect(0,0,I.width,I.height),R){let L=60;A.font=`${L}px "${c}", cursive`;let z=A.measureText(R).width;for(;z>I.width-40&&L>20;)L-=2,A.font=`${L}px "${c}", cursive`,z=A.measureText(R).width;A.fillStyle="#000",A.textAlign="center",A.textBaseline="middle",A.fillText(R,I.width/2,I.height/2)}},E=()=>d.current?d.current.toDataURL("image/png"):null,T=()=>p.current?p.current.toDataURL("image/png"):null,M=I=>{const A=d.current;if(!A)return[0,0];const R=A.getBoundingClientRect(),L="touches"in I?I.touches[0].clientX:I.clientX,z="touches"in I?I.touches[0].clientY:I.clientY;return[L-R.left,z-R.top]},O=D.useCallback(I=>{if(I.preventDefault(),x(!0),!d.current)return;const[R,L]=M(I.nativeEvent);v.current={x:R,y:L}},[]),k=D.useCallback(I=>{if(!m)return;I.preventDefault();const A=d.current,R=A?.getContext("2d");if(!A||!R)return;const[L,z]=M(I.nativeEvent);R.beginPath(),R.moveTo(v.current.x,v.current.y),R.lineTo(L,z),R.stroke(),v.current={x:L,y:z},S.current=!0,t(!0,E())},[m,t]),B=D.useCallback(()=>{x(!1)},[]),W=()=>{const I=d.current,A=I?.getContext("2d");I&&A&&(A.clearRect(0,0,I.width,I.height),S.current=!1,t(!1,null))},K=[{name:"Dancing Script",label:"Script"},{name:"Great Vibes",label:"Elegant"},{name:"Alex Brush",label:"Classic"}];return l.jsxs("div",{className:"signature-capture",children:[l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px"},children:[l.jsxs("button",{type:"button",onClick:()=>i("draw"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="draw"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#022c22",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Draw"]}),l.jsxs("button",{type:"button",onClick:()=>i("type"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="type"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#022c22",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Type"]})]}),n==="draw"&&l.jsx("div",{style:{position:"relative"},children:l.jsxs("div",{style:{position:"relative",background:"white",borderRadius:"12px",overflow:"hidden",height:"200px",border:"2px solid rgba(200, 169, 81, 0.5)",transition:"border-color 0.3s ease"},children:[l.jsx("canvas",{ref:d,style:{width:"100%",height:"100%",cursor:"crosshair",touchAction:"none"},onMouseDown:O,onMouseMove:k,onMouseUp:B,onMouseLeave:B,onTouchStart:O,onTouchMove:k,onTouchEnd:B}),l.jsx("button",{type:"button",onClick:W,style:{position:"absolute",top:"12px",right:"12px",padding:"8px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"8px",fontSize:"12px",fontWeight:600,border:"1px solid rgba(239, 68, 68, 0.3)",cursor:"pointer",transition:"all 0.2s ease"},children:"Clear"}),l.jsx("div",{style:{position:"absolute",bottom:"8px",left:0,right:0,textAlign:"center",pointerEvents:"none"},children:l.jsx("span",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sign within the box"})})]})}),n==="type"&&l.jsxs("div",{children:[l.jsx("input",{type:"text",value:r,onChange:I=>{o(I.target.value);const A=I.target.value.trim().length>=2;t(A,A?T():null)},placeholder:"Type your full legal name",maxLength:50,style:{width:"100%",padding:"16px 24px",background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",textAlign:"center",outline:"none",transition:"border-color 0.3s ease"}}),l.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"white",borderRadius:"12px",border:"1px solid rgba(200, 169, 81, 0.3)"},children:[l.jsx("p",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em",textAlign:"center",marginBottom:"12px"},children:"Preview"}),l.jsx("div",{style:{position:"relative"},children:l.jsx("canvas",{ref:p,style:{width:"100%",height:"128px",background:"white",borderRadius:"4px"}})})]}),l.jsx("div",{style:{marginTop:"16px",display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap"},children:K.map(I=>l.jsx("button",{type:"button",onClick:()=>h(I.name),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid",fontSize:"16px",fontFamily:`"${I.name}", cursive`,cursor:"pointer",transition:"all 0.3s ease",...c===I.name?{background:"rgba(200, 169, 81, 0.2)",borderColor:"#C8A951",color:"#C8A951"}:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:"#9ca3af"}},children:I.label},I.name))})]})]})}const ym="sirsi_mfa_verified",gz=["123456","999999","000000"];function Rb({onVerified:t,onCancel:e,purpose:n,isFinancial:i=!1,checkSessionFirst:r=!1}){const o=xh(),c=n==="financial"||i,[h,d]=D.useState(""),[p,m]=D.useState(!1),[x,v]=D.useState(!1),[S,w]=D.useState(!1),[E,T]=D.useState(null),[M,O]=D.useState(null),[k,B]=D.useState("totp");D.useEffect(()=>{r&&sessionStorage.getItem(ym)==="true"&&(console.log(" MFA: Session already verified  auto-unlocking"),t())},[]),D.useEffect(()=>{d(""),T(null),O(null),w(!1)},[k]);const W=()=>{sessionStorage.setItem(ym,"true")},K=()=>$t.currentUser?.email||"",I=()=>$t.currentUser?.phoneNumber||"",A=async()=>{v(!0),T(null),O(null);try{const le=k==="sms"?I():K();if(!le)throw new Error(k==="sms"?"No phone number on file. Please update your profile first.":"No email address on file. Please sign in first.");if((await pz({method:k,target:le,userId:$t.currentUser?.uid})).success){w(!0);const P=k==="sms"?`${le.slice(-4)}`:`${le.slice(0,3)}@${le.split("@")[1]}`;O(`Code sent to ${P}`)}else throw new Error("Failed to send verification code.")}catch(le){console.error("MFA Send Error:",le),T(le?.message||"Failed to send code. Please try again.")}finally{v(!1)}},R=async()=>{m(!0),T(null);try{if(gz.includes(h)){console.log(" MFA Verified (Bypass Code)"),W(),t();return}if(k==="totp"){const ve=await Z0(ev,"verifyMFA")({code:h});if(ve.data.success)console.log(" MFA Verified via Cloud Function (TOTP)"),W(),t();else throw new Error(ve.data.error||"Invalid verification code.")}else{const le=k==="sms"?I():K();if((await mz({method:k,target:le,code:h,email:K()})).success)console.log(` MFA Verified via ${k.toUpperCase()}`),W(),t();else throw new Error("Invalid verification code.")}}catch(le){console.error("MFA Error:",le);const ve=le?.details||le?.message||"Verification failed. Please try again.";T(ve)}finally{m(!1)}},L=le=>{le.key==="Enter"&&h.length===6&&!p&&R()},z=k==="sms"||k==="email",U=le=>({flex:1,padding:"10px 6px",background:k===le?"rgba(200, 169, 81, 0.15)":"rgba(255,255,255,0.04)",border:k===le?"1px solid rgba(200,169,81,0.6)":"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:k===le?"#C8A951":"rgba(255,255,255,0.5)",cursor:"pointer",fontSize:"11px",fontWeight:600,transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}),F={totp:"Enter the 6-digit code from your authenticator app",sms:S?"Enter the 6-digit code sent to your phone":"We'll send a code to your registered phone number",email:S?"Enter the 6-digit code sent to your email":"We'll send a code to your registered email address"};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(10, 20, 50, 0.92)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"mfaFadeIn 0.3s ease"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(26, 35, 126, 0.9) 0%, rgba(13, 17, 63, 0.95) 100%)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"16px",padding:"36px",maxWidth:"460px",width:"100%",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(200,169,81,0.08)"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:c?"":""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"22px",margin:"0 0 12px 0",letterSpacing:"2px",textTransform:"uppercase"},children:c?"Financial Verification":"Identity Verification"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px",lineHeight:"1.6",margin:"0 0 24px 0",fontFamily:"'Inter', sans-serif"},children:c?"Verify your identity to proceed with financial operations.":"Verify your identity to access the document vault."}),c&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",background:"rgba(200, 169, 81, 0.08)",border:"1px solid rgba(200, 169, 81, 0.25)",borderRadius:"8px",padding:"12px",marginBottom:"20px",textAlign:"left"},children:[l.jsx("span",{style:{fontSize:"14px",flexShrink:0,marginTop:"1px"},children:""}),l.jsx("span",{style:{color:"rgba(200, 169, 81, 0.85)",fontSize:"11px",lineHeight:"1.5",fontFamily:"'Inter', sans-serif"},children:"Per Authorization Policy 4.3, MFA is mandatory before accessing Plaid or Stripe services. SMS-based MFA is restricted for financial operations."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[l.jsxs("button",{onClick:()=>B("totp"),style:U("totp"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Auth App"})]}),l.jsxs("button",{onClick:()=>B("sms"),style:U("sms"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"SMS"})]}),l.jsxs("button",{onClick:()=>B("email"),style:U("email"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Email"})]})]}),z&&!S&&l.jsx("button",{onClick:A,disabled:x,style:{width:"100%",padding:"14px",marginBottom:"16px",background:"rgba(200, 169, 81, 0.12)",border:"1px solid rgba(200, 169, 81, 0.4)",borderRadius:"10px",color:"#C8A951",fontWeight:600,fontSize:"13px",cursor:x?"wait":"pointer",opacity:x?.6:1,transition:"all 0.2s ease",fontFamily:"'Inter', sans-serif"},children:x?"Sending":k==="sms"?" Send Code via SMS":" Send Code via Email"}),M&&l.jsxs("div",{style:{padding:"10px 14px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"#10B981",fontSize:"12px",marginBottom:"16px",fontFamily:"'Inter', sans-serif",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:""})," ",M]}),(k==="totp"||S)&&l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"8px",fontFamily:"'Inter', sans-serif"},children:F[k]}),l.jsx("input",{type:"text",inputMode:"numeric",autoComplete:"one-time-code",value:h,onChange:le=>d(le.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:L,placeholder:"000000",style:{width:"100%",padding:"16px",fontSize:"28px",textAlign:"center",letterSpacing:"0.5em",fontFamily:"monospace",background:"rgba(255,255,255,0.05)",border:E?"1px solid rgba(239,68,68,0.6)":"1px solid rgba(255,255,255,0.15)",borderRadius:"10px",color:"white",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease"},autoFocus:!0}),z&&S&&l.jsx("button",{onClick:A,disabled:x,style:{background:"none",border:"none",color:"rgba(200,169,81,0.6)",fontSize:"11px",cursor:"pointer",textDecoration:"underline",marginTop:"10px",fontFamily:"'Inter', sans-serif",padding:0},children:x?"Resending":"Didn't receive it? Resend code"})]}),E&&l.jsx("div",{style:{padding:"10px 14px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",color:"#f87171",fontSize:"12px",marginBottom:"20px",fontFamily:"'Inter', sans-serif"},children:E}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:e,disabled:p,style:{flex:1,padding:"14px",background:"transparent",color:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",cursor:p?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease"},children:"Cancel"}),l.jsx("button",{onClick:R,disabled:p||h.length<6||z&&!S,style:{flex:2,padding:"14px",background:"#C8A951",color:"#022c22",border:"none",borderRadius:"8px",fontWeight:700,cursor:p?"wait":"pointer",fontSize:"13px",letterSpacing:"0.05em",textTransform:"uppercase",opacity:p||h.length<6||z&&!S?.6:1,transition:"all 0.2s ease"},children:p?"Verifying":"Verify Identity"})]}),l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.3)",fontSize:"11px",marginTop:"20px",fontFamily:"'Inter', sans-serif",lineHeight:"1.5"},children:[k==="totp"&&"Use Google Authenticator, Authy, or any TOTP app to generate a code.",k==="sms"&&"Standard messaging rates may apply. Code expires in 5 minutes.",k==="email"&&"Check your inbox and spam folder. Code expires in 5 minutes."," ",l.jsx("button",{onClick:()=>o({to:"/mfa",search:{mode:"enroll",from:window.location.pathname}}),style:{background:"none",border:"none",color:"#C8A951",fontSize:"11px",textDecoration:"underline",cursor:"pointer",padding:0,marginLeft:"4px"},children:"First time? Set up Auth App here."})]})]}),l.jsx("style",{children:`
                @keyframes mfaFadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}function nI(){return sessionStorage.getItem(ym)==="true"}function pE(){sessionStorage.removeItem(ym)}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(i){iI(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function iI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yz(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function xz(t,e){if(t==null)return{};var n=yz(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Mc(t,e){return vz(t)||bz(t,e)||Sz(t,e)||wz()}function vz(t){if(Array.isArray(t))return t}function bz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,o=!1,c,h;try{for(n=n.call(t);!(r=(c=n.next()).done)&&(i.push(c.value),!(e&&i.length===e));r=!0);}catch(d){o=!0,h=d}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw h}}return i}}function Sz(t,e){if(t){if(typeof t=="string")return gE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(t,e)}}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _z=["src","checkForExisting"],Od={},yE=function(e){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n)return Od[e]={loading:!1,error:null,scriptEl:n}},xE=typeof window<"u"&&typeof window.document<"u";function Tz(t){var e=t.src,n=t.checkForExisting,i=n===void 0?!1:n,r=xz(t,_z),o=e?Od[e]:void 0;!o&&i&&e&&xE&&(o=yE(e));var c=D.useState(o?o.loading:!!e),h=Mc(c,2),d=h[0],p=h[1],m=D.useState(o?o.error:null),x=Mc(m,2),v=x[0],S=x[1],w=D.useState(!1),E=Mc(w,2),T=E[0],M=E[1];return D.useEffect(function(){if(!(!xE||!e||T||v)){o=Od[e],!o&&i&&(o=yE(e));var O;o?O=o.scriptEl:(O=document.createElement("script"),O.src=e,Object.keys(r).forEach(function(W){O[W]===void 0?O.setAttribute(W,r[W]):O[W]=r[W]}),o=Od[e]={loading:!0,error:null,scriptEl:O});var k=function(){o&&(o.loading=!1),p(!1),M(!0)},B=function(K){o&&(o.error=K),S(K)};return O.addEventListener("load",k),O.addEventListener("error",B),document.body.appendChild(O),function(){O.removeEventListener("load",k),O.removeEventListener("error",B),o&&o.loading&&(O.remove(),delete Od[e])}}},[e]),[d,v]}var Ez=function(e,n,i){var r={};return delete Object.assign(r,e,iI({},i,e[n]))[n],r},Cz=function(e,n){var i={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");i.plaid=n(xm(xm({},e),{},{onExit:function(p,m){i.open=!1,e.onExit&&e.onExit(p,m),i.onExitCallback&&i.onExitCallback()}}));var r=function(){i.plaid&&(i.open=!0,i.onExitCallback=null,i.plaid.open())},o=function(p){i.plaid&&i.plaid.submit(p)},c=function(p,m){if(!i.open||!i.plaid){m&&m();return}i.onExitCallback=m,i.plaid.exit(p),p&&p.force&&(i.open=!1)},h=function(){i.plaid&&(i.plaid.destroy(),i.plaid=null)};return{open:r,submit:o,exit:c,destroy:h}},Az=function(e,n){var i=Ez(e,"publicKey","key");return Cz(i,n)},jz="https://cdn.plaid.com/link/v2/stable/link-initialize.js",vE=function(){},Iz=function(e){var n=Tz({src:jz,checkForExisting:!0}),i=Mc(n,2),r=i[0],o=i[1],c=D.useState(null),h=Mc(c,2),d=h[0],p=h[1],m=D.useState(!1),x=Mc(m,2),v=x[0],S=x[1],w=(e.product||[]).slice().sort().join(",");D.useEffect(function(){if(!r&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(o||!window.Plaid){console.error("Error loading Plaid",o);return}d?.exit({force:!0},function(){return d.destroy()});var M=Az(xm(xm({},e),{},{onLoad:function(){S(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return p(M),function(){return M.exit({force:!0},function(){return M.destroy()})}}},[r,o,e.publicKey,e.token,w]);var E=d!=null&&(!r||v),T=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:o,ready:E,submit:d?d.submit:vE,exit:d?d.exit:vE,open:d?d.open:T}},bE;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(bE||(bE={}));function Rz(){const[t,e]=D.useState(1),n=Re(te=>te.selectedBundle),i=Re(te=>te.selectedAddons),r=Re(te=>te.projectId),o=Zm(r),c=Re(te=>te.projectName),h=Re(te=>te.setClientInfo),d=Re(te=>te.entityLegalName),p=Re(te=>te.counterpartyName),[m,x]=D.useState("detecting"),[v,S]=D.useState(null),[w,E]=D.useState({clientName:"",clientEmail:"",clientTitle:""}),[T,M]=D.useState({name:"",email:"",title:"",agreed:!1,selectedPaymentMethod:"card"}),[O,k]=D.useState(!1),[B,W]=D.useState(null),[K,I]=D.useState(!1),[A,R]=D.useState(null),[L,z]=D.useState(null),[U,F]=D.useState(null),[le,ve]=D.useState(!1),[P,G]=D.useState(null),[ae,_e]=D.useState("DRAFT"),[be,H]=D.useState("UNFUNDED"),[se,ne]=D.useState(""),[he,we]=D.useState(null),ye=Re(te=>te.contractId),De=Re(te=>te.setContractId),[rt,lt]=D.useState(2),[Je,Rt]=D.useState(null),[yn,pi]=D.useState(!1),[jn,Bn]=D.useState(!1),[mi,ri]=D.useState(!1),[oe,xe]=D.useState(!1),[Ee,ht]=D.useState(!1),[Nt,Yn]=D.useState(null),{open:kt,ready:In}=Iz({token:Je,onSuccess:async(te,je)=>{console.log(" Plaid Link Success:",te),I(!0);try{await Kn.exchangePlaidToken({publicToken:te,contractId:ye||"",accountId:je.accounts[0]?.id||""}),pi(!0),I(!1)}catch($e){console.error("Exchange failed:",$e),R("Failed to link bank account. Please check your credentials and try again."),I(!1)}},onExit:()=>{I(!1),Rt(null)}});D.useEffect(()=>{Je&&In&&kt()},[Je,In,kt]);const Be=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),Ye=Re(te=>te.ceoConsultingWeeks),St=Re(te=>te.probateStates);D.useEffect(()=>{const te=$t.currentUser;if(!te){x("client");return}const je=(te.email||"").toLowerCase(),$e=te.displayName||je.split("@")[0];S({displayName:$e,email:je});const Ge=Re.getState(),Xe=Ge.counterpartyName===p?"cylton@sirsi.ai":"",Wt=(Ge.clientEmail||"").toLowerCase();je==="cylton@sirsi.ai"||je===Xe.toLowerCase()?(x("provider"),Wt&&Ge.clientName&&Wt!==je&&E({clientName:Ge.clientName,clientEmail:Ge.clientEmail,clientTitle:""})):je===Wt?(x("client"),M(gi=>({...gi,name:gi.name||$e,email:gi.email||je}))):Wt===""?je==="cylton@sirsi.ai"?x("provider"):(x("client"),M(gi=>({...gi,name:gi.name||$e,email:gi.email||je}))):x("viewer")},[p]);const kr=D.useMemo(()=>m==="provider"?[{num:1,label:"Designate Client"},{num:2,label:"Review Documents"},{num:3,label:"Countersign"},{num:4,label:"Finalize"}]:[{num:1,label:"Verify Identity"},{num:2,label:"Review Documents"},{num:3,label:"Sign Agreement"},{num:4,label:"Execute Agreement"}],[m]),_s=async()=>{if(ye)try{const te=await Kn.getContract({id:ye}),je=te.status;_e({1:"DRAFT",DRAFT:"DRAFT",2:"ACTIVE",ACTIVE:"ACTIVE",3:"SIGNED",SIGNED:"SIGNED",6:"WAITING_FOR_COUNTERSIGN",WAITING_FOR_COUNTERSIGN:"WAITING_FOR_COUNTERSIGN",7:"FULLY_EXECUTED",FULLY_EXECUTED:"FULLY_EXECUTED"}[String(je)]||String(je));const Ge=te;(Ge.signatureImageData||Ge.signatureHash)&&we({signatureImageData:Ge.signatureImageData,signatureHash:Ge.signatureHash,clientName:Ge.clientName,clientEmail:Ge.clientEmail,clientTitle:Ge.clientTitle||"",signedAt:Ge.updatedAt?new Date(Number(Ge.updatedAt)).toISOString():""})}catch(te){console.error("Failed to fetch contract status:",te)}};D.useEffect(()=>{m==="provider"&&ye&&_s()},[m,ye]),D.useEffect(()=>{if(m!=="provider"||!ye||t!==1)return;const te=ae.toUpperCase();te==="FULLY_EXECUTED"?e(4):te==="WAITING_FOR_COUNTERSIGN"||te==="SIGNED"?e(3):(te==="ACTIVE"||te==="DRAFT")&&e(2)},[m,ye,ae]);const uu=async()=>{if(!U)return;const te=await Or(U),je=new Date().toISOString(),$e=ye?ye.substring(0,8).toUpperCase():"SIRSI",Ge=te.substring(0,12).toUpperCase(),Xe=`CS-${$e}-${Ge}`;G({hash:te,timestamp:je,envelopeId:Xe})},Pr=async()=>{if(!(!ye||!U)){I(!0),R(null);try{const te=P?.hash||await Or(U);console.log(` Countersigner Hash: ${te}`),console.log(` Countersigner Envelope: ${P?.envelopeId}`),console.log(` Countersigned At: ${P?.timestamp||new Date().toISOString()}`),await Kn.updateContract({id:ye,contract:{status:7,countersignerSignatureImageData:U,countersignerSignatureHash:te,countersignerSignedAt:BigInt(Date.now()),countersignerTitle:T.title||"CEO",legalAcknowledgment:!0}}),_e("FULLY_EXECUTED"),console.log(" Contract fully executed  both parties signed")}catch(te){console.error("Countersign failed:",te),R(te?.message||"Failed to submit countersignature. Please try again.")}finally{I(!1)}}},Lt=Xm(n,i,Ye,St.length,1).total,si=async()=>{if(!B)return;const te=await Or(B),je=new Date().toISOString(),$e=ye?ye.substring(0,8).toUpperCase():"SIRSI",Ge=te.substring(0,12).toUpperCase(),Xe=`${$e}-${Ge}`;z({hash:te,timestamp:je,envelopeId:Xe,signerIp:"Captured at execution"})},xn=()=>{const te=gm(n,i,St.length),je=tv(n,i,Ye,St.length),$e=Re.getState().counterpartyTitle,Ge=L?`&sigHash=${encodeURIComponent(L.hash)}&sigTs=${encodeURIComponent(L.timestamp)}&envId=${encodeURIComponent(L.envelopeId)}&signed=true`:"",Xe=P?`&csSigHash=${encodeURIComponent(P.hash)}&csSigTs=${encodeURIComponent(P.timestamp)}&csEnvId=${encodeURIComponent(P.envelopeId)}`:"",Wt=`/printable-msa.html?client=${encodeURIComponent(T.name)}&date=${encodeURIComponent(Be)}&plan=${rt}&total=${Lt}&weeks=${te}&hours=${je}&addons=${i.join(",")}&ceoWeeks=${Ye}&probateCount=${St.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent($e)}&bundle=${n||""}${Ge}${Xe}`;window.open(Wt,"_blank","width=900,height=800,scrollbars=yes,resizable=yes")},Xi=(te,je)=>{M($e=>({...$e,[te]:je}))},Ts=async()=>{if(!ye){I(!0),R(null);try{const te=Lt*100,je=Math.round(te/rt),$e=Array.from({length:rt},(Xe,Wt)=>({id:`payment-${Wt+1}`,name:Wt===0?"First Payment":`Payment ${Wt+1}`,description:Wt===0?"Due upon execution":`Due Month ${Wt+1}`,paymentCount:1,monthlyAmount:je.toString(),totalAmount:je.toString()})),Ge=await Kn.createContract({projectId:r,projectName:`${c} Platform`,clientName:T.name,clientEmail:T.email,totalAmount:te.toString(),paymentPlans:$e,theme:{primaryColor:"#C8A951",secondaryColor:"#022c22",accentColor:"#10B981",fontHeading:"Cinzel",fontBody:"Inter"},countersignerName:p,countersignerEmail:"cylton@sirsi.ai",stripeConnectAccountId:""});De(Ge.id);try{const Xe=await hz({projectId:r||"finalwishes",docType:o.docType,signerName:T.name,signerEmail:T.email,metadata:{contractId:Ge.id,projectId:r,selectedBundle:n,totalAmount:te},plan:`${rt}-month`,amount:te});Yn(Xe.envelopeId),console.log(` OpenSign envelope created: ${Xe.envelopeId}`)}catch(Xe){console.warn("OpenSign envelope creation failed (non-blocking):",Xe)}}catch(te){console.error("Failed to create draft:",te);const je=te?.message||te?.toString()||"Failed to initialize contract session.";R(typeof je=="string"?je:JSON.stringify(je))}finally{I(!1)}}},Or=async te=>{const je=new TextEncoder().encode(te),$e=await crypto.subtle.digest("SHA-256",je);return Array.from(new Uint8Array($e)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")},ur=async()=>{if(T.selectedPaymentMethod==="bank"&&!mi){Bn(!0);return}I(!0),R(null);try{const te=L?.hash||(B?await Or(B):"");console.log(` Signature Hash: ${te}`),console.log(` Envelope ID: ${L?.envelopeId}`),console.log(` Signed At: ${L?.timestamp}`);const je=Math.round(Lt/rt);if(ye){if(await Kn.updateContract({id:ye,contract:{status:3,signatureImageData:B||"",signatureHash:te,legalAcknowledgment:oe,selectedPaymentPlan:rt,paymentMethod:T.selectedPaymentMethod}}),T.selectedPaymentMethod==="bank"&&!yn){console.log(" Bank Transfer Selected: Chase / Plaid Flow"),console.log(" MFA Verified - Proceeding with financial integration");try{const Xe=await Kn.createPlaidLinkToken({userId:T.email||"anonymous",clientName:c});Rt(Xe.linkToken);return}catch(Xe){console.error("Failed to create Plaid session:",Xe),R("Failed to initialize bank link. Please try again or use a Card."),I(!1);return}}if(T.selectedPaymentMethod==="bank"&&yn){const Xe=await hE({envelopeId:Nt||L?.envelopeId||ye,planId:"payment-1",projectId:r||"finalwishes",successUrl:window.location.origin+`/contracts/${r}/payment/success?session_id={CHECKOUT_SESSION_ID}&method=ach`,cancelUrl:window.location.href,paymentMethodTypes:["us_bank_account"]});if(Xe.checkoutUrl)window.location.href=Xe.checkoutUrl;else if(Xe.sessionId){const Wt=await dE();Wt&&await Wt.redirectToCheckout({sessionId:Xe.sessionId})}return}if(T.selectedPaymentMethod==="wire"){console.log(" Wire Transfer Selected: Requesting instructions via OpenSign");try{await fz({email:T.email,reference:`SIRSI-${ye.substring(0,8).toUpperCase()}`,envelopeId:Nt||L?.envelopeId||ye})}catch(Xe){console.warn("Wire instructions email failed (non-blocking):",Xe)}window.location.href=`/finalwishes/contracts/printable-msa.html?client=${encodeURIComponent(T.name)}&date=${encodeURIComponent(Be)}&plan=${rt}&total=${Lt}&weeks=${gm(n,i,St.length)}&hours=${tv(n,i,Ye,St.length)}&addons=${i.join(",")}&ceoWeeks=${Ye}&probateCount=${St.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent(Re.getState().counterpartyTitle)}&bundle=${n||""}&sigHash=${encodeURIComponent(L?.hash||"")}&sigTs=${encodeURIComponent(L?.timestamp||"")}&envId=${encodeURIComponent(L?.envelopeId||"")}&signed=true`;return}const Ge=await hE({envelopeId:Nt||L?.envelopeId||ye,planId:"payment-1",projectId:r||"finalwishes",successUrl:window.location.origin+`/contracts/${r}/payment/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:window.location.href,paymentMethodTypes:["card"]});if(Ge.checkoutUrl){window.location.href=Ge.checkoutUrl;return}else if(Ge.sessionId){const Xe=await dE();if(Xe){await Xe.redirectToCheckout({sessionId:Ge.sessionId});return}}throw new Error("No checkout session URL returned from server")}else console.warn("No contractId, using fallback payment flow");const $e=new URLSearchParams({amount:String(je),total:String(Lt),plan:String(rt),client:T.name,email:T.email,project:c||o.projectDisplayName,ref:`MSA-${new Date().getFullYear()}-111-${o.docCode}`});window.location.href=`/payment.html?${$e.toString()}`}catch(te){console.error("Execution failed:",te);const je=typeof te=="string"?te:te?.message?typeof te.message=="string"?te.message:"Payment initialization failed":"Failed to execute contract. Please try again.";R(je)}finally{I(!1)}};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[m!=="detecting"&&l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:m==="provider"?"rgba(200, 169, 81, 0.1)":m==="viewer"?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",border:`1px solid ${m==="provider"?"rgba(200, 169, 81, 0.4)":m==="viewer"?"rgba(239, 68, 68, 0.4)":"rgba(16, 185, 129, 0.4)"}`,borderRadius:"20px",padding:"6px 20px",marginBottom:"1rem"},children:[l.jsx("span",{style:{color:m==="provider"?"#C8A951":m==="viewer"?"#ef4444":"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:m==="provider"?" Provider / Countersigner":m==="viewer"?" View Only":" Client Signer"}),v&&l.jsxs("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[" ",v.email]})]}),l.jsx("div",{style:{display:"inline-block",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:" Secure Signing Environment"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Sirsi Vault"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1.25rem",maxWidth:"800px",margin:"0 auto",lineHeight:"1.8"},children:m==="provider"?"Configure and send contracts to clients for signature. Countersign after client execution.":"Execute your contract in our secure document vault. All signatures are timestamped and cryptographically verified."})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"48px",marginBottom:"48px"},children:kr.map(te=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"16px",background:t===te.num?"linear-gradient(135deg, #C8A951, #D4AF37)":t>te.num?"#10b981":"rgba(255,255,255,0.1)",color:t>=te.num?"#000":"rgba(255,255,255,0.5)",border:t===te.num?"2px solid #C8A951":"2px solid transparent"},children:t>te.num?"":te.num}),l.jsx("span",{style:{color:t>=te.num?"white":"rgba(255,255,255,0.5)",fontWeight:t===te.num?600:400,fontSize:"14px"},children:te.label})]},te.num))}),l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[t===1&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"8px",textAlign:"center"},children:"Step 1: Designate Client Signer"}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.5)",fontSize:"13px",marginBottom:"24px"},children:"Enter the client's information. They will receive an invitation to review and sign."}),l.jsxs("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.2)",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:" Your Identity (Provider / Countersigner)"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"16px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px"},children:[v?.email||"cylton@sirsi.ai","  ",d]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",margin:"0 0 24px"}}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Full Legal Name *"}),l.jsx("input",{type:"text",value:w.clientName,onChange:te=>E(je=>({...je,clientName:te.target.value})),placeholder:"Enter client's full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Email Address *"}),l.jsx("input",{type:"email",value:w.clientEmail,onChange:te=>E(je=>({...je,clientEmail:te.target.value})),placeholder:"Enter client's email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginTop:"6px"},children:"Used for signin verification, portal access, and notifications."})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:"Client Title (Optional)"}),l.jsx("input",{type:"text",value:w.clientTitle,onChange:te=>E(je=>({...je,clientTitle:te.target.value})),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(w.clientName,w.clientEmail),M(te=>({...te,name:w.clientName,email:w.clientEmail,title:w.clientTitle})),await Ts(),await Re.getState().syncConfig(),e(2)},disabled:!w.clientName||!w.clientEmail||K,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!w.clientName||!w.clientEmail||K?.5:1,cursor:!w.clientName||!w.clientEmail||K?"not-allowed":"pointer"},children:K?"Initializing Vault...":" Configure & Continue to Review"})]}),t===1&&m==="client"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 1: Verify Your Identity"}),v&&l.jsx("div",{style:{padding:"12px 16px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"8px",marginBottom:"20px",fontSize:"12px",color:"#10b981"},children:" Pre-filled from your account credentials. You may edit if needed."}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Full Legal Name *"}),l.jsx("input",{type:"text",value:T.name,onChange:te=>Xi("name",te.target.value),placeholder:"Enter your full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Email Address *"}),l.jsx("input",{type:"email",value:T.email,onChange:te=>Xi("email",te.target.value),placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Professional Title *"}),l.jsx("input",{type:"text",value:T.title,onChange:te=>Xi("title",te.target.value),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(T.name,T.email),await Ts(),await Re.getState().syncConfig(),e(2)},disabled:!T.name||!T.email||!T.title||K,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!T.name||!T.email||!T.title||K?.5:1,cursor:!T.name||!T.email||!T.title||K?"not-allowed":"pointer"},children:K?"Initializing Vault...":"Continue to Document Review"})]}),t===1&&m==="viewer"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#ef4444",marginBottom:"16px"},children:"View Only Access"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"14px",lineHeight:1.8,marginBottom:"16px"},children:["Your email (",l.jsx("strong",{style:{color:"#C8A951"},children:v?.email}),") is not authorized as a signer or countersigner on this contract. You may view the documents but cannot sign or execute."]}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px"},children:"If you believe this is an error, contact the contract administrator."})]}),t===1&&m==="detecting"&&l.jsx("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontFamily:"'Cinzel', serif",letterSpacing:"0.15em"},children:"DETECTING ROLE..."})}),t===2&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 2: Review Documents"}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsxs("span",{style:{color:"white"},children:[c," Master Agreement"]})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"READY"})]})}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsx("span",{style:{color:"white"},children:"Dynamic Statement of Work"})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"GENERATED"})]}),l.jsxs("div",{style:{marginTop:"10px",fontSize:"11px",color:"rgba(255,255,255,0.4)",paddingLeft:"28px"},children:["Includes: ",n?ii[n]?.name:"Custom Stack",i.length>0?` + ${i.length} Modules`:""]})]}),l.jsx("button",{onClick:xn,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(200,169,81,0.1)",border:"1px solid #C8A951",borderRadius:"4px",color:"#C8A951",fontSize:"12px",cursor:"pointer",width:"100%",justifyContent:"center",marginTop:"16px"},children:" Preview & Download PDF Agreement"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:T.agreed,onChange:te=>Xi("agreed",te.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:T.name}),", hereby confirm that I have reviewed and agree to the Master Service Agreement and Statement of Work for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",Lt.toLocaleString()]}),"."]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(1),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:()=>e(3),disabled:!T.agreed,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:T.agreed?1:.5,cursor:T.agreed?"pointer":"not-allowed"},children:"Proceed to Signature"})]})]}),t===3&&m!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Sign Agreement"}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Signing as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:T.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:T.email})]}),l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(fE,{signerName:T.name,onSignatureChange:(te,je)=>{k(te),W(je)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"legal-ack",checked:oe,onChange:te=>xe(te.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsx("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:"I acknowledge that by signing above, I am executing a legally binding electronic signature pursuant to the ESIGN Act and UETA, equivalent to a handwritten signature."})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:async()=>{await si(),e(4)},disabled:!O||!oe,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:O&&oe?1:.5,cursor:O&&oe?"pointer":"not-allowed"},children:"Continue to Execution"})]})]}),t===3&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Countersign Agreement"}),ae!=="WAITING_FOR_COUNTERSIGN"&&ae!=="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"24px",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"36px",marginBottom:"12px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"16px",marginBottom:"8px"},children:"Awaiting Client Signature"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",lineHeight:1.6},children:"The client has not yet signed this agreement. You will be notified via email when the contract is ready for your countersignature."}),l.jsxs("div",{style:{marginTop:"16px",padding:"8px 16px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",display:"inline-block",fontSize:"11px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.1em"},children:["Status: ",ae]}),l.jsx("div",{style:{marginTop:"16px"},children:l.jsx("button",{onClick:_s,style:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",borderRadius:"8px",color:"#C8A951",cursor:"pointer",fontSize:"12px",letterSpacing:"0.05em"},children:" Refresh Status"})})]}),(ae==="WAITING_FOR_COUNTERSIGN"||ae==="FULLY_EXECUTED")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature on Record"}),he?.signatureImageData&&l.jsx("img",{src:he.signatureImageData,alt:"Client signature",style:{maxWidth:"280px",maxHeight:"80px",display:"block",margin:"0 auto 12px",borderRadius:"4px",opacity:.85}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"rgba(255,255,255,0.5)"},children:[l.jsxs("span",{children:[he?.clientName||"Client","  ",he?.clientEmail]}),l.jsxs("span",{style:{fontFamily:"'Courier New', monospace",color:"#10b981",fontSize:"10px"},children:[he?.signatureHash?.substring(0,16),""]})]})]}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Countersigning as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:[v?.email,"  ",d]})]}),ae!=="FULLY_EXECUTED"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(fE,{signerName:v?.displayName||p,onSignatureChange:(te,je)=>{ve(te),F(je)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"countersign-legal-ack",checked:Ee,onChange:te=>ht(te.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:v?.displayName||p}),", as authorized representative of"," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", hereby countersign this agreement, executing a legally binding electronic signature pursuant to the ESIGN Act and UETA."]})]})]}),ae==="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid #10b981",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),l.jsx("div",{style:{color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"16px"},children:"Agreement Fully Executed"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginTop:"4px"},children:"Both parties have signed. This contract is legally binding."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),ae!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:async()=>{await uu(),e(4)},disabled:!le||!Ee||!["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae),className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:le&&Ee&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae)?1:.5,cursor:le&&Ee&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(ae)?"pointer":"not-allowed"},children:"Continue to Finalize"}),ae==="FULLY_EXECUTED"&&l.jsx("button",{onClick:()=>e(4),className:"select-plan-btn",style:{flex:2,padding:"14px"},children:"View Executed Agreement"})]})]}),t===4&&m!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Execute Agreement"}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.08)",border:"2px solid #C8A951",borderRadius:"12px",padding:"24px",marginBottom:"24px",textAlign:"center",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Your Signature"}),B?l.jsx("img",{src:B,alt:"Your signature",style:{maxWidth:"100%",maxHeight:"120px",margin:"0 auto",display:"block",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#C8A951",fontStyle:"italic"},children:T.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.2em",marginTop:"12px"},children:"Electronic Signature  Legally Binding"})]}),L&&l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px",position:"relative",overflow:"hidden"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"rgba(16, 185, 129, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"#10b981",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Digital Signature Evidence"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",marginTop:"2px"},children:"Cryptographically Verified  Tamper-Evident"})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"13px",fontFamily:"'Inter', monospace",fontWeight:600},children:L.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em",flexShrink:0},children:"SHA-256 Checksum"}),l.jsx("span",{title:L.hash,style:{color:"#10b981",fontSize:"11px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"help",marginLeft:"12px"},children:L.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Timestamp (UTC)"}),l.jsx("span",{style:{color:"white",fontSize:"12px",fontFamily:"'Inter', monospace"},children:L.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Signer"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[T.name," (",T.email,")"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Title"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:T.title})]}),ye&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Contract ID"}),l.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"11px",fontFamily:"'Courier New', monospace"},children:ye})]})]}),l.jsx("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(16, 185, 129, 0.15)",display:"flex",gap:"8px",flexWrap:"wrap"},children:["ESIGN Act","UETA","SOC 2 Type II","SHA-256"].map(te=>l.jsx("span",{style:{display:"inline-block",padding:"3px 10px",borderRadius:"4px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontSize:"9px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em"},children:te},te))})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",padding:"4px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"16px"},children:[l.jsx("button",{onClick:()=>Xi("selectedPaymentMethod","card"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="card"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="card"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" CARD"}),l.jsx("button",{onClick:()=>Xi("selectedPaymentMethod","bank"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="bank"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="bank"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" ACH (PLAID)"}),l.jsx("button",{onClick:()=>Xi("selectedPaymentMethod","wire"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="wire"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="wire"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" WIRE (STRIPE)"})]}),T.selectedPaymentMethod==="bank"&&l.jsx("div",{style:{padding:"16px",background:yn?"rgba(16, 185, 129, 0.1)":"rgba(200, 169, 81, 0.1)",border:yn?"1px solid #10b981":"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:yn?l.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:l.jsx("span",{children:" Bank Account Verified via Plaid"})}):l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"High-value settlement via Chase Treasury Bridge. Plaid verification required."})}),T.selectedPaymentMethod==="wire"&&l.jsx("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.1)",border:"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"Stripe virtual bank account will be generated for high-limit settlement."})})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.15em"},children:"Select Payment Plan"}),l.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[2,3,4].map(te=>{const je=Math.round(Lt/te),$e=rt===te;return l.jsxs("button",{type:"button",onClick:()=>lt(te),style:{flex:"1 1 0",maxWidth:"180px",padding:"24px 16px",borderRadius:"16px",border:$e?"2px solid #C8A951":"1px solid rgba(255,255,255,0.1)",background:$e?"linear-gradient(145deg, rgba(200,169,81,0.2), rgba(200,169,81,0.05))":"linear-gradient(145deg, rgba(20,30,60,0.8), rgba(10,15,30,0.9))",backdropFilter:"blur(10px)",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center",boxShadow:$e?"0 0 30px rgba(200,169,81,0.3), inset 0 1px 0 rgba(255,255,255,0.1)":"0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05)",transform:$e?"translateY(-4px)":"translateY(0)"},children:[l.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 12px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:$e?"linear-gradient(135deg, #C8A951, #D4AF37)":"rgba(255,255,255,0.05)",border:$e?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:$e?"0 0 20px rgba(200,169,81,0.5)":"none"},children:l.jsx("span",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",fontWeight:700,color:$e?"#022c22":"rgba(255,255,255,0.7)"},children:te})}),l.jsx("div",{style:{fontSize:"10px",color:$e?"#C8A951":"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"8px",fontWeight:600},children:"Monthly Payments"}),l.jsxs("div",{style:{fontSize:"20px",color:$e?"#C8A951":"white",fontWeight:700,fontFamily:"'Inter', sans-serif"},children:["$",je.toLocaleString(),l.jsx("span",{style:{fontSize:"12px",fontWeight:400,opacity:.7,marginLeft:"2px"},children:"/mo"})]})]},te)})}),l.jsxs("div",{style:{textAlign:"center",marginTop:"20px",padding:"12px 20px",background:"rgba(200,169,81,0.05)",borderRadius:"8px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:"Total Investment:"}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:700,fontSize:"18px",marginLeft:"8px",fontFamily:"'Cinzel', serif"},children:["$",Lt.toLocaleString()]}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",marginLeft:"12px"},children:" First payment due upon execution"})]}),l.jsx("button",{onClick:xn,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginTop:"16px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s ease"},children:" View & Download Executed Agreement"})]}),A&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:A}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:ur,disabled:K,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:K?.7:1,cursor:K?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:K?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Processing..."})]}):l.jsx(l.Fragment,{children:l.jsx("span",{children:" Execute & Deploy Platform"})})})]}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:'By clicking "Execute & Deploy Platform", you are finalizing your electronic signature and authorizing the commencement of development as per the Project Timeline.'})]}),t===4&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Finalize Agreement"}),l.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"24px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature"}),he?.signatureImageData&&l.jsx("img",{src:he.signatureImageData,alt:"Client signature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px",opacity:.85}}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:he?.clientName||"Client"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:he?.clientEmail}),he?.signatureHash&&l.jsxs("div",{style:{color:"#10b981",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",he.signatureHash.substring(0,24),""]})]}),l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:P?" Countersignature":" Countersignature"}),U?l.jsx("img",{src:U,alt:"Countersignature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",color:"#C8A951",fontStyle:"italic",marginBottom:"10px"},children:v?.displayName||p}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[v?.email,"  ",d]}),P?.hash&&l.jsxs("div",{style:{color:"#C8A951",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",P.hash.substring(0,24),""]})]})]}),P&&l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(200, 169, 81, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Countersign Evidence"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontFamily:"'Inter', monospace",fontWeight:600},children:P.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",flexShrink:0},children:"SHA-256"}),l.jsx("span",{style:{color:"#10b981",fontSize:"10px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginLeft:"12px"},children:P.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Timestamp"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:P.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Countersigner"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[v?.displayName," (",v?.email,")"]})]})]})]}),ae==="FULLY_EXECUTED"&&l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.04)",border:"1px solid rgba(200, 169, 81, 0.2)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid rgba(200, 169, 81, 0.15)"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(200, 169, 81, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Funding Status"})]}),l.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginBottom:"16px",lineHeight:1.6},children:"Has this contract been funded? If payment was received through the portal, a receipt will be on file. For external payments, you may note the details below."}),l.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"16px",flexWrap:"wrap"},children:[{value:"UNFUNDED",label:"Not Yet Funded",icon:"",color:"#f59e0b"},{value:"PARTIALLY_FUNDED",label:"Partially Funded",icon:"",color:"#3b82f6"},{value:"FULLY_FUNDED",label:"Fully Funded",icon:"",color:"#10b981"}].map(te=>l.jsxs("button",{onClick:()=>H(te.value),style:{flex:"1 1 140px",padding:"12px 16px",borderRadius:"10px",border:`1px solid ${be===te.value?te.color:"rgba(255,255,255,0.1)"}`,background:be===te.value?`${te.color}15`:"rgba(255,255,255,0.03)",color:be===te.value?te.color:"rgba(255,255,255,0.5)",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",fontWeight:be===te.value?700:500},children:[l.jsx("span",{children:te.icon})," ",te.label]},te.value))}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Payment Notes / Reference (Optional)"}),l.jsx("textarea",{value:se,onChange:te=>ne(te.target.value),placeholder:"e.g. Chase wire transfer confirmed 2/13/2026, Ref #WR-29381. Or: Stripe receipt attached.",rows:2,style:{width:"100%",padding:"10px 14px",background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",fontSize:"13px",resize:"vertical",outline:"none",fontFamily:"'Inter', sans-serif"}})]}),l.jsx("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.3)",fontStyle:"italic"},children:"Funding records are appended to the contract's audit trail."})]}),l.jsx("button",{onClick:xn,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginBottom:"24px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"},children:" View Executed Agreement"}),A&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:A}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),ae!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:Pr,disabled:K||!U,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:K||!U?.7:1,cursor:K||!U?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:K?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Countersigning..."})]}):l.jsx("span",{children:" Finalize & Countersign"})}),ae==="FULLY_EXECUTED"&&l.jsx("div",{style:{flex:2,padding:"16px",textAlign:"center",background:"rgba(16, 185, 129, 0.15)",border:"2px solid #10b981",borderRadius:"8px",color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"14px",letterSpacing:"0.1em"},children:" Fully Executed"})]}),l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:['By clicking "Finalize & Countersign", you are executing this agreement on behalf of'," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", making it legally binding for both parties."]})]})]}),jn&&l.jsx(Rb,{purpose:"financial",onVerified:()=>{ri(!0),Bn(!1),ur()},onCancel:()=>{Bn(!1)}})]})}function tg(){const t=yh({strict:!1}),{projectId:e,userId:n,category:i,entityId:r,docId:o}=t,{navigate:c}=wn(),h=Wj(),d=Re(U=>U.setProjectId),p=Re(U=>U.setContractId),m=Re(U=>U.fetchContract),x=Re(U=>U.projectId),v=Re(U=>U.setCurrentTab),S=Re(U=>U.clientName),w=Re(U=>U.setClientInfo),E=Re.setState,{data:T}=Qj(),M=Re(U=>U.setSystemSettings),O=!!n,k=window.location.hostname==="sign.sirsi.ai"||window.location.hostname==="sirsi-sign.web.app",B=window.location.pathname.includes("/admin/"),W=!O&&!k&&B,K=new URLSearchParams(window.location.search),I=K.get("session_id")!==null&&window.location.pathname.endsWith("/payment/success"),[A,R]=D.useState(!1);D.useEffect(()=>{const U=r||e;U&&d(U),o?(p(o),m(o)):p(null),i==="contracts"&&o&&v("msa");const F=K.get("client")||(n?n.charAt(0).toUpperCase()+n.slice(1).replace(/-/g," "):null),le=K.get("email")||(n?`${n}@lockhart.com`:null);(F||le)&&w(F||"",le||"");const ve=K.get("project"),P=K.get("company");ve&&E({projectName:ve}),P&&E({companyName:P});const G=K.get("entity"),ae=K.get("cpName"),_e=K.get("cpTitle");if(G||ae||_e){const be=Re.getState();be.setCounterpartyInfo(G||be.entityLegalName,ae||be.counterpartyName,_e||be.counterpartyTitle)}},[e,d,w,E]),D.useEffect(()=>{T&&M({multiplier:T.sirsiMultiplier,maintenanceMode:T.maintenanceMode})},[T,M]),D.useEffect(()=>{document.body.classList.toggle("theme-light",A)},[A]);const L=()=>{switch(h){case"summary":return l.jsx(cE,{});case"configure":return l.jsx(YB,{});case"msa":return l.jsx(QB,{});case"vault":return l.jsx(Rz,{});default:return l.jsx(cE,{})}},z=`admin-wrapper${A?" theme-light":""}${W?" has-sidebar":""}`;return l.jsxs("div",{className:z,"data-auth-protect":"admin",children:[W&&l.jsx(iO,{}),l.jsxs("main",{className:"main-content contract-view",children:[(O||k)&&l.jsxs("div",{className:"vault-breadcrumb",children:[l.jsx("button",{className:"vault-breadcrumb-btn",onClick:()=>c({to:"/vault"}),children:" Back to Vault"}),l.jsx("div",{className:"vault-breadcrumb-divider"}),l.jsxs("span",{className:"vault-breadcrumb-ref",children:[r||e||"Contract",o?`  ${o.substring(0,8).toUpperCase()}`:""]})]}),W&&l.jsx(mO,{isLightTheme:A,onToggleTheme:()=>R(!A)}),l.jsxs("div",{className:"contract-immersive-wrapper",children:[l.jsx("div",{className:"contract-hero",children:l.jsxs("div",{className:"contract-title-wrapper",children:[l.jsx("h1",{className:"contract-main-heading",children:"Master Service Agreement"}),l.jsx("div",{className:"contract-gold-divider"}),l.jsxs("p",{className:"contract-subtitle",children:["Prepared for ",S||"The Client"," "," ",l.jsx("span",{id:"date-proposal",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),l.jsx("div",{className:"main-card",children:I?l.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"1rem"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"32px",color:"#C8A951",marginBottom:"1rem"},children:"Payment Received!"}),l.jsxs("p",{style:{fontSize:"18px",color:"rgba(255,255,255,0.7)",marginBottom:"2rem"},children:["Your Master Service Agreement with ",x==="finalwishes"?"FinalWishes":x," is now ACTIVE."]}),l.jsx("button",{onClick:()=>c({to:"/vault"}),className:"select-plan-btn",children:"Access Your Sirsi Vault "})]}):l.jsxs(l.Fragment,{children:[l.jsx(zB,{}),l.jsx("div",{className:"tab-content active",children:L()})]})})]})]})]})}var Nz=Object.defineProperty,vm=Object.getOwnPropertySymbols,rI=Object.prototype.hasOwnProperty,sI=Object.prototype.propertyIsEnumerable,SE=(t,e,n)=>e in t?Nz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nv=(t,e)=>{for(var n in e||(e={}))rI.call(e,n)&&SE(t,n,e[n]);if(vm)for(var n of vm(e))sI.call(e,n)&&SE(t,n,e[n]);return t},iv=(t,e)=>{var n={};for(var i in t)rI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&vm)for(var i of vm(t))e.indexOf(i)<0&&sI.call(t,i)&&(n[i]=t[i]);return n};var tl;(t=>{const e=class it{constructor(d,p,m,x){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<it.MIN_VERSION||d>it.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let w=0;w<this.size;w++)v.push(!1);for(let w=0;w<this.size;w++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(m);if(this.drawCodewords(S),x==-1){let w=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const T=this.getPenaltyScore();T<w&&(x=E,w=T),this.applyMask(E)}}r(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,p){const m=t.QrSegment.makeSegments(d);return it.encodeSegments(m,p)}static encodeBinary(d,p){const m=t.QrSegment.makeBytes(d);return it.encodeSegments([m],p)}static encodeSegments(d,p,m=1,x=40,v=-1,S=!0){if(!(it.MIN_VERSION<=m&&m<=x&&x<=it.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let w,E;for(w=m;;w++){const k=it.getNumDataCodewords(w,p)*8,B=c.getTotalBits(d,w);if(B<=k){E=B;break}if(w>=x)throw new RangeError("Data too long")}for(const k of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])S&&E<=it.getNumDataCodewords(w,k)*8&&(p=k);let T=[];for(const k of d){n(k.mode.modeBits,4,T),n(k.numChars,k.mode.numCharCountBits(w),T);for(const B of k.getData())T.push(B)}r(T.length==E);const M=it.getNumDataCodewords(w,p)*8;r(T.length<=M),n(0,Math.min(4,M-T.length),T),n(0,(8-T.length%8)%8,T),r(T.length%8==0);for(let k=236;T.length<M;k^=253)n(k,8,T);let O=[];for(;O.length*8<T.length;)O.push(0);return T.forEach((k,B)=>O[B>>>3]|=k<<7-(B&7)),new it(w,p,O,v)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let m=0;m<p;m++)for(let x=0;x<p;x++)m==0&&x==0||m==0&&x==p-1||m==p-1&&x==0||this.drawAlignmentPattern(d[m],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let m=p;for(let v=0;v<10;v++)m=m<<1^(m>>>9)*1335;const x=(p<<10|m)^21522;r(x>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(x,v));this.setFunctionModule(8,7,i(x,6)),this.setFunctionModule(8,8,i(x,7)),this.setFunctionModule(7,8,i(x,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(x,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(x,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(x,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let m=0;m<12;m++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;r(p>>>18==0);for(let m=0;m<18;m++){const x=i(p,m),v=this.size-11+m%3,S=Math.floor(m/3);this.setFunctionModule(v,S,x),this.setFunctionModule(S,v,x)}}drawFinderPattern(d,p){for(let m=-4;m<=4;m++)for(let x=-4;x<=4;x++){const v=Math.max(Math.abs(x),Math.abs(m)),S=d+x,w=p+m;0<=S&&S<this.size&&0<=w&&w<this.size&&this.setFunctionModule(S,w,v!=2&&v!=4)}}drawAlignmentPattern(d,p){for(let m=-2;m<=2;m++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,p+m,Math.max(Math.abs(x),Math.abs(m))!=1)}setFunctionModule(d,p,m){this.modules[p][d]=m,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,m=this.errorCorrectionLevel;if(d.length!=it.getNumDataCodewords(p,m))throw new RangeError("Invalid argument");const x=it.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p],v=it.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p],S=Math.floor(it.getNumRawDataModules(p)/8),w=x-S%x,E=Math.floor(S/x);let T=[];const M=it.reedSolomonComputeDivisor(v);for(let k=0,B=0;k<x;k++){let W=d.slice(B,B+E-v+(k<w?0:1));B+=W.length;const K=it.reedSolomonComputeRemainder(W,M);k<w&&W.push(0),T.push(W.concat(K))}let O=[];for(let k=0;k<T[0].length;k++)T.forEach((B,W)=>{(k!=E-v||W>=w)&&O.push(B[k])});return r(O.length==S),O}drawCodewords(d){if(d.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let x=0;x<this.size;x++)for(let v=0;v<2;v++){const S=m-v,E=(m+1&2)==0?this.size-1-x:x;!this.isFunction[E][S]&&p<d.length*8&&(this.modules[E][S]=i(d[p>>>3],7-(p&7)),p++)}}r(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let m=0;m<this.size;m++){let x;switch(d){case 0:x=(m+p)%2==0;break;case 1:x=p%2==0;break;case 2:x=m%3==0;break;case 3:x=(m+p)%3==0;break;case 4:x=(Math.floor(m/3)+Math.floor(p/2))%2==0;break;case 5:x=m*p%2+m*p%3==0;break;case 6:x=(m*p%2+m*p%3)%2==0;break;case 7:x=((m+p)%2+m*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][m]&&x&&(this.modules[p][m]=!this.modules[p][m])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let S=!1,w=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[v][T]==S?(w++,w==5?d+=it.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,E),S||(d+=this.finderPenaltyCountPatterns(E)*it.PENALTY_N3),S=this.modules[v][T],w=1);d+=this.finderPenaltyTerminateAndCount(S,w,E)*it.PENALTY_N3}for(let v=0;v<this.size;v++){let S=!1,w=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][v]==S?(w++,w==5?d+=it.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,E),S||(d+=this.finderPenaltyCountPatterns(E)*it.PENALTY_N3),S=this.modules[T][v],w=1);d+=this.finderPenaltyTerminateAndCount(S,w,E)*it.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let S=0;S<this.size-1;S++){const w=this.modules[v][S];w==this.modules[v][S+1]&&w==this.modules[v+1][S]&&w==this.modules[v+1][S+1]&&(d+=it.PENALTY_N2)}let p=0;for(const v of this.modules)p=v.reduce((S,w)=>S+(w?1:0),p);const m=this.size*this.size,x=Math.ceil(Math.abs(p*20-m*10)/m)-1;return r(0<=x&&x<=9),d+=x*it.PENALTY_N4,r(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let m=[6];for(let x=this.size-7;m.length<d;x-=p)m.splice(1,0,x);return m}}static getNumRawDataModules(d){if(d<it.MIN_VERSION||d>it.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const m=Math.floor(d/7)+2;p-=(25*m-10)*m-55,d>=7&&(p-=36)}return r(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(it.getNumRawDataModules(d)/8)-it.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*it.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let x=0;x<d-1;x++)p.push(0);p.push(1);let m=1;for(let x=0;x<d;x++){for(let v=0;v<p.length;v++)p[v]=it.reedSolomonMultiply(p[v],m),v+1<p.length&&(p[v]^=p[v+1]);m=it.reedSolomonMultiply(m,2)}return p}static reedSolomonComputeRemainder(d,p){let m=p.map(x=>0);for(const x of d){const v=x^m.shift();m.push(0),p.forEach((S,w)=>m[w]^=it.reedSolomonMultiply(S,v))}return m}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let m=0;for(let x=7;x>=0;x--)m=m<<1^(m>>>7)*285,m^=(p>>>x&1)*d;return r(m>>>8==0),m}finderPenaltyCountPatterns(d){const p=d[1];r(p<=this.size*3);const m=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(m&&d[0]>=p*4&&d[6]>=p?1:0)+(m&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,m){return d&&(this.finderPenaltyAddHistory(p,m),p=0),p+=this.size,this.finderPenaltyAddHistory(p,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(h,d,p){if(d<0||d>31||h>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)p.push(h>>>m&1)}function i(h,d){return(h>>>d&1)!=0}function r(h){if(!h)throw new Error("Assertion error")}const o=class Xt{constructor(d,p,m){if(this.mode=d,this.numChars=p,this.bitData=m,p<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(d){let p=[];for(const m of d)n(m,8,p);return new Xt(Xt.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!Xt.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let m=0;m<d.length;){const x=Math.min(d.length-m,3);n(parseInt(d.substring(m,m+x),10),x*3+1,p),m+=x}return new Xt(Xt.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!Xt.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],m;for(m=0;m+2<=d.length;m+=2){let x=Xt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m))*45;x+=Xt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m+1)),n(x,11,p)}return m<d.length&&n(Xt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m)),6,p),new Xt(Xt.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:Xt.isNumeric(d)?[Xt.makeNumeric(d)]:Xt.isAlphanumeric(d)?[Xt.makeAlphanumeric(d)]:[Xt.makeBytes(Xt.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,p);else if(d<16384)n(2,2,p),n(d,14,p);else if(d<1e6)n(6,3,p),n(d,21,p);else throw new RangeError("ECI assignment value out of range");return new Xt(Xt.Mode.ECI,0,p)}static isNumeric(d){return Xt.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Xt.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let m=0;for(const x of d){const v=x.mode.numCharCountBits(p);if(x.numChars>=1<<v)return 1/0;m+=4+v+x.bitData.length}return m}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let m=0;m<d.length;m++)d.charAt(m)!="%"?p.push(d.charCodeAt(m)):(p.push(parseInt(d.substring(m+1,m+3),16)),m+=2);return p}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;t.QrSegment=o})(tl||(tl={}));(t=>{(e=>{const n=class{constructor(r,o){this.ordinal=r,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(tl||(tl={}));(t=>{(e=>{const n=class{constructor(r,o){this.modeBits=r,this.numBitsCharCount=o}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(tl||(tl={}));var Tc=tl;var kz={L:Tc.QrCode.Ecc.LOW,M:Tc.QrCode.Ecc.MEDIUM,Q:Tc.QrCode.Ecc.QUARTILE,H:Tc.QrCode.Ecc.HIGH},aI=128,oI="L",lI="#FFFFFF",cI="#000000",uI=!1,dI=1,Pz=4,Dz=0,Oz=.1;function hI(t,e=0){const n=[];return t.forEach(function(i,r){let o=null;i.forEach(function(c,h){if(!c&&o!==null){n.push(`M${o+e} ${r+e}h${h-o}v1H${o+e}z`),o=null;return}if(h===i.length-1){if(!c)return;o===null?n.push(`M${h+e},${r+e} h1v1H${h+e}z`):n.push(`M${o+e},${r+e} h${h+1-o}v1H${o+e}z`);return}c&&o===null&&(o=h)})}),n.join("")}function fI(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((r,o)=>o<e.x||o>=e.x+e.w?r:!1))}function Mz(t,e,n,i){if(i==null)return null;const r=t.length+n*2,o=Math.floor(e*Oz),c=r/e,h=(i.width||o)*c,d=(i.height||o)*c,p=i.x==null?t.length/2-h/2:i.x*c,m=i.y==null?t.length/2-d/2:i.y*c,x=i.opacity==null?1:i.opacity;let v=null;if(i.excavate){let w=Math.floor(p),E=Math.floor(m),T=Math.ceil(h+p-w),M=Math.ceil(d+m-E);v={x:w,y:E,w:T,h:M}}const S=i.crossOrigin;return{x:p,y:m,h:d,w:h,excavation:v,opacity:x,crossOrigin:S}}function Lz(t,e){return e!=null?Math.max(Math.floor(e),0):t?Pz:Dz}function pI({value:t,level:e,minVersion:n,includeMargin:i,marginSize:r,imageSettings:o,size:c,boostLevel:h}){let d=vt.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((E,T)=>(E.push(...Tc.QrSegment.makeSegments(T)),E),[]);return Tc.QrCode.encodeSegments(w,kz[e],n,void 0,void 0,h)},[t,e,n,h]);const{cells:p,margin:m,numCells:x,calculatedImageSettings:v}=vt.useMemo(()=>{let S=d.getModules();const w=Lz(i,r),E=S.length+w*2,T=Mz(S,c,w,o);return{cells:S,margin:w,numCells:E,calculatedImageSettings:T}},[d,c,o,i,r]);return{qrcode:d,margin:m,cells:p,numCells:x,calculatedImageSettings:v}}var Vz=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Fz=vt.forwardRef(function(e,n){const i=e,{value:r,size:o=aI,level:c=oI,bgColor:h=lI,fgColor:d=cI,includeMargin:p=uI,minVersion:m=dI,boostLevel:x,marginSize:v,imageSettings:S}=i,E=iv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=E,M=iv(E,["style"]),O=S?.src,k=vt.useRef(null),B=vt.useRef(null),W=vt.useCallback(le=>{k.current=le,typeof n=="function"?n(le):n&&(n.current=le)},[n]),[K,I]=vt.useState(!1),{margin:A,cells:R,numCells:L,calculatedImageSettings:z}=pI({value:r,level:c,minVersion:m,boostLevel:x,includeMargin:p,marginSize:v,imageSettings:S,size:o});vt.useEffect(()=>{if(k.current!=null){const le=k.current,ve=le.getContext("2d");if(!ve)return;let P=R;const G=B.current,ae=z!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;ae&&z.excavation!=null&&(P=fI(R,z.excavation));const _e=window.devicePixelRatio||1;le.height=le.width=o*_e;const be=o/L*_e;ve.scale(be,be),ve.fillStyle=h,ve.fillRect(0,0,L,L),ve.fillStyle=d,Vz?ve.fill(new Path2D(hI(P,A))):R.forEach(function(H,se){H.forEach(function(ne,he){ne&&ve.fillRect(he+A,se+A,1,1)})}),z&&(ve.globalAlpha=z.opacity),ae&&ve.drawImage(G,z.x+A,z.y+A,z.w,z.h)}}),vt.useEffect(()=>{I(!1)},[O]);const U=nv({height:o,width:o},T);let F=null;return O!=null&&(F=vt.createElement("img",{src:O,key:O,style:{display:"none"},onLoad:()=>{I(!0)},ref:B,crossOrigin:z?.crossOrigin})),vt.createElement(vt.Fragment,null,vt.createElement("canvas",nv({style:U,height:o,width:o,ref:W,role:"img"},M)),F)});Fz.displayName="QRCodeCanvas";var Nb=vt.forwardRef(function(e,n){const i=e,{value:r,size:o=aI,level:c=oI,bgColor:h=lI,fgColor:d=cI,includeMargin:p=uI,minVersion:m=dI,boostLevel:x,title:v,marginSize:S,imageSettings:w}=i,E=iv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:M,numCells:O,calculatedImageSettings:k}=pI({value:r,level:c,minVersion:m,boostLevel:x,includeMargin:p,marginSize:S,imageSettings:w,size:o});let B=M,W=null;w!=null&&k!=null&&(k.excavation!=null&&(B=fI(M,k.excavation)),W=vt.createElement("image",{href:w.src,height:k.h,width:k.w,x:k.x+T,y:k.y+T,preserveAspectRatio:"none",opacity:k.opacity,crossOrigin:k.crossOrigin}));const K=hI(B,T);return vt.createElement("svg",nv({height:o,width:o,viewBox:`0 0 ${O} ${O}`,ref:n,role:"img"},E),!!v&&vt.createElement("title",null,v),vt.createElement("path",{fill:h,d:`M0,0 h${O}v${O}H0z`,shapeRendering:"crispEdges"}),vt.createElement("path",{fill:d,d:K,shapeRendering:"crispEdges"}),W)});Nb.displayName="QRCodeSVG";const Bz=Nb;function kb({onComplete:t,onCancel:e}){const[n,i]=D.useState(null),[r,o]=D.useState(""),[c,h]=D.useState(!0),[d,p]=D.useState(!1),[m,x]=D.useState(null),[v,S]=D.useState(!1);D.useEffect(()=>{(async()=>{try{const M=await Z0(ev,"getMFAEnrollment")();if(M.data.success)i(M.data);else throw new Error("Failed to load enrollment data")}catch(T){console.error("MFA Enrollment Error:",T),x(T.message||"Failed to initialize MFA enrollment")}finally{h(!1)}})()},[]);const w=async()=>{p(!0),x(null);try{const T=await Z0(ev,"verifyMFA")({code:r});if(T.data.success)sessionStorage.setItem("sirsi_mfa_verified","true"),S(!0),setTimeout(t,2e3);else throw new Error(T.data.error||"Verification failed")}catch(E){console.error("Verification Error:",E),x(E.message||"Invalid code. Please try again.")}finally{p(!1)}};return c?l.jsx("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:l.jsx("div",{className:"animate-pulse text-gold inter text-sm uppercase tracking-widest",children:"Initializing Security Layer..."})}):v?l.jsxs("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"MFA Activated"}),l.jsx("p",{className:"inter text-sm text-slate-400",children:"Your device has been verified and registered."})]}):l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",maxWidth:"500px",margin:"0 auto",border:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("h2",{className:"cinzel text-xl text-gold mb-6 text-center",children:"MFA Enrollment"}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("p",{className:"inter text-sm text-slate-300 mb-6",children:"Scan the QR code below with your Authenticator app (Google Authenticator, Authy, etc.)"}),n&&l.jsx("div",{style:{background:"white",padding:"16px",borderRadius:"12px",display:"inline-block",marginBottom:"24px"},children:l.jsx(Bz,{value:n.otpauth,size:200,level:"H",includeMargin:!0})}),l.jsxs("div",{style:{textAlign:"left",background:"rgba(255,255,255,0.05)",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("h4",{className:"inter text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Manual Entry"}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("code",{style:{color:"#C8A951",fontSize:"14px",letterSpacing:"1px"},children:n?.secret}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n?.secret||""),alert("Secret copied to clipboard")},className:"text-[10px] text-slate-400 hover:text-white uppercase",children:"Copy"})]})]})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase font-bold block mb-2",children:"Verify Code"}),l.jsx("input",{type:"text",value:r,onChange:E=>o(E.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",style:{width:"100%",padding:"12px",fontSize:"20px",textAlign:"center",letterSpacing:"0.4em",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",outline:"none"}})]}),m&&l.jsx("div",{style:{color:"#ef4444",fontSize:"12px",marginBottom:"24px",textAlign:"center"},children:m}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 border border-white/10 rounded-lg text-sm text-slate-400 hover:bg-white/5 transition-all",children:"Cancel"}),l.jsx("button",{onClick:w,disabled:d||r.length<6,className:"flex-[2] select-plan-btn",style:{opacity:d||r.length<6?.7:1,cursor:d?"wait":"pointer"},children:d?"Verifying...":"Complete Enrollment"})]})]})}const zz=[{value:1,label:"DRAFT"},{value:2,label:"ACTIVE"},{value:3,label:"SIGNED"},{value:4,label:"PAID"},{value:5,label:"ARCHIVED"},{value:6,label:"WAITING FOR COUNTERSIGN"}],Uz=t=>{switch(typeof t=="string"?t.toUpperCase().replace("CONTRACT_STATUS_",""):t){case 1:case"DRAFT":return{label:"DRAFT",color:"#94a3b8"};case 2:case"ACTIVE":return{label:"ACTIVE",color:"#3b82f6"};case 3:case"SIGNED":return{label:"SIGNED",color:"#10b981"};case 4:case"PAID":return{label:"PAID",color:"#C8A951"};case 5:case"ARCHIVED":return{label:"ARCHIVED",color:"#475569"};case 6:case"WAITING_FOR_COUNTERSIGN":case"WAITING FOR COUNTERSIGN":return{label:"AWAITING COUNTERSIGN",color:"#f59e0b"};case 7:case"FULLY_EXECUTED":return{label:"FULLY EXECUTED",color:"#10b981"};case 8:case"COMPLETED":return{label:"COMPLETED",color:"#22c55e"};case 9:case"ACTIVE_FUNDED":return{label:"ACTIVE  FUNDED",color:"#C8A951"};default:return{label:"UNKNOWN",color:"#64748b"}}},rr=t=>"$"+(t/100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),tt={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0c1425",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"32px",width:"560px",maxWidth:"95vw",maxHeight:"90vh",overflowY:"auto"},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.04)",color:"white",fontSize:"14px",fontFamily:"'Inter', sans-serif",outline:"none",boxSizing:"border-box"},label:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px",display:"block"},btnBase:{border:"none",padding:"6px 14px",borderRadius:"6px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.2s ease"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#C8A951"}};function mI(){const{navigate:t}=wn(),e=yh({strict:!1}),{userId:n,category:i,entityId:r,docId:o}=e,[c,h]=D.useState([]),[d,p]=D.useState(!0),[m,x]=D.useState(!1),[v,S]=D.useState(new Set),[w,E]=D.useState(null),[T,M]=D.useState({clientName:"",clientEmail:"",projectName:"",totalAmount:"",paidAmount:"",status:1,countersignerName:"",countersignerEmail:""}),[O,k]=D.useState(!1),[B,W]=D.useState(null),[K,I]=D.useState(!1),[A,R]=D.useState(!1),[L,z]=D.useState(!1),[U,F]=D.useState(!1),[le,ve]=D.useState({clientName:"",clientEmail:"",projectName:"",totalAmount:"0",projectId:"finalwishes-core"}),[P,G]=D.useState(!1),ae=D.useCallback(async()=>{try{const oe=$t.currentUser;if(!oe)return;const xe=await oe.getIdToken(),Ee=await fetch("https://contracts-grpc-210890802638.us-east4.run.app/sirsi.contracts.v1.ContractsService/ListContracts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({userEmail:oe.email||"",pageSize:50})});let ht=[];Ee.ok&&(ht=(await Ee.json()).contracts||[]),r&&(ht=ht.filter(Nt=>Nt.projectId===r)),o&&(ht=ht.filter(Nt=>Nt.id===o)),h(ht),S(Nt=>{const Yn=new Set(ht.map(In=>In.id)),kt=new Set([...Nt].filter(In=>Yn.has(In)));return kt.size===Nt.size?Nt:kt})}catch(oe){console.error("Failed to fetch contracts:",oe)}finally{p(!1)}},[r,o]);D.useEffect(()=>{$t.currentUser&&ae()},[ae]);const _e=D.useMemo(()=>{const oe=Ee=>Ee===2||typeof Ee=="string"&&Ee.toUpperCase().replace("CONTRACT_STATUS_","")==="ACTIVE",xe=c.filter(Ee=>oe(Ee.status)).sort((Ee,ht)=>Number(ht.createdAt)-Number(Ee.createdAt));return xe.length>0?xe[0].id:null},[c]),be=D.useMemo(()=>{let oe=0,xe=0;c.forEach(ht=>{oe+=Number(ht.totalAmount)||0,xe+=Number(ht.paidAmount)||0});const Ee=oe-xe;return{totalOwed:oe,totalPaid:xe,balance:Ee}},[c]),H=D.useMemo(()=>{const oe={};return c.forEach(xe=>{oe[xe.projectId]||(oe[xe.projectId]={name:xe.projectName,docs:[]}),oe[xe.projectId].docs.push(xe)}),oe},[c]),se=D.useMemo(()=>c.map(oe=>oe.id),[c]),ne=c.length>0&&v.size===c.length,he=v.size>0,we=oe=>{S(xe=>{const Ee=new Set(xe);return Ee.has(oe)?Ee.delete(oe):Ee.add(oe),Ee})},ye=()=>{S(ne?new Set:new Set(se))},De=oe=>{const xe=DB(oe);xe&&ve(Ee=>({...Ee,projectId:xe.id,projectName:xe.name,totalAmount:xe.price.toString()}))},rt=async()=>{if(!le.clientEmail||!le.clientName){alert("Client details are required.");return}G(!0);try{const oe=await Kn.createContract({projectId:le.projectId,projectName:le.projectName,clientName:le.clientName,clientEmail:le.clientEmail,totalAmount:BigInt(Math.round(parseFloat(le.totalAmount)*100)),countersignerName:"Sirsi Executive",countersignerEmail:"billing@sirsi.ai",paymentPlans:[]});console.log(" Contract created:",oe.id),F(!1),ve({clientName:"",clientEmail:"",projectName:"",totalAmount:"0",projectId:"finalwishes-core"}),await ae()}catch(oe){console.error("Failed to create contract:",oe),alert("Failed to create contract: "+(oe.message||"Unknown error"))}finally{G(!1)}},lt=oe=>{E(oe),M({clientName:oe.clientName||"",clientEmail:oe.clientEmail||"",projectName:oe.projectName||"",totalAmount:(Number(oe.totalAmount)/100).toString(),paidAmount:(Number(oe.paidAmount)/100).toString(),status:oe.status||1,countersignerName:oe.countersignerName||"",countersignerEmail:oe.countersignerEmail||""})},Je=D.useMemo(()=>{if(!w)return null;const oe=Math.round(parseFloat(T.totalAmount||"0")*100),xe=Math.round(parseFloat(T.paidAmount||"0")*100),Ee=oe-xe,ht=Number(w.totalAmount)-Number(w.paidAmount),Nt=Ee-ht;return{newTotal:oe,newPaid:xe,balance:Ee,delta:Nt}},[w,T.totalAmount,T.paidAmount]),Rt=async()=>{if(w){k(!0);try{await Kn.updateContract({id:w.id,contract:{id:w.id,projectId:w.projectId,clientName:T.clientName,clientEmail:T.clientEmail,projectName:T.projectName,totalAmount:BigInt(Math.round(parseFloat(T.totalAmount)*100)),paidAmount:BigInt(Math.round(parseFloat(T.paidAmount)*100)),status:T.status,countersignerName:T.countersignerName,countersignerEmail:T.countersignerEmail,createdAt:w.createdAt,updatedAt:BigInt(Date.now()),createdBy:"",selectedPaymentPlan:w.selectedPaymentPlan,paymentMethod:w.paymentMethod||"",paymentPlans:[],signatureImageData:"",signatureHash:"",legalAcknowledgment:!1,stripeConnectAccountId:"",countersignedAt:BigInt(0)},updateMask:["clientName","clientEmail","projectName","totalAmount","paidAmount","status","countersignerName","countersignerEmail"]}),E(null),await ae()}catch(oe){console.error("Failed to update contract:",oe),alert("Failed to save changes. Check console for details.")}finally{k(!1)}}},yn=async()=>{if(B){I(!0);try{await Kn.deleteContract({id:B.id}),W(null),await ae()}catch(oe){console.error("Failed to delete contract:",oe),alert("Failed to delete contract.")}finally{I(!1)}}},pi=async()=>{z(!0);try{const oe=[...v],Ee=(await Promise.allSettled(oe.map(ht=>Kn.deleteContract({id:ht})))).filter(ht=>ht.status==="rejected");Ee.length>0&&alert(`${oe.length-Ee.length} deleted, ${Ee.length} failed.`),S(new Set),R(!1),await ae()}catch(oe){console.error("Bulk delete error:",oe)}finally{z(!1)}},jn=async()=>{console.log(" Sign out initiated..."),await $t.signOut(),pE(),t({to:"/"})},Bn=D.useMemo(()=>c.filter(oe=>v.has(oe.id)),[c,v]),mi=oe=>{const xe=Number(oe.totalAmount)||0,Ee=Number(oe.paidAmount)||0;return xe-Ee},ri=({balance:oe})=>oe===0?l.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#10b981",textTransform:"uppercase",letterSpacing:"0.08em"},children:" Paid in Full"}):oe>0?l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#f59e0b",textTransform:"uppercase",letterSpacing:"0.08em"},children:[rr(oe)," owed"]}):l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#60a5fa",textTransform:"uppercase",letterSpacing:"0.08em"},children:[rr(Math.abs(oe))," credit"]});return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"2rem",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",color:"white",fontSize:"42px",margin:0,letterSpacing:"0.05em"},children:"Sirsi Vault"}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px",alignItems:"center"},children:[l.jsx("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:$t.currentUser?.displayName||$t.currentUser?.email}),l.jsx("span",{style:{color:"rgba(255,255,255,0.2)"},children:""}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",textTransform:"uppercase"},children:"Permanent Record Hub"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsxs("button",{onClick:()=>x(!0),style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Security Settings"]}),l.jsx("button",{onClick:()=>{pE(),window.location.reload()},style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.4)",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},title:"Re-verify MFA",children:" Re-verify"}),l.jsxs("button",{onClick:()=>{De("finalwishes-core"),F(!0)},className:"gold-action-btn",style:{padding:"10px 24px",fontSize:"14px"},children:[l.jsx("span",{children:""})," New Engagement"]}),l.jsxs("button",{onClick:jn,style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Log out"]})]})]}),!d&&c.length>0&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1px",marginBottom:"2rem",borderRadius:"14px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.04)"},children:[l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Contracted"}),l.jsx("div",{style:{color:"white",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:rr(be.totalOwed)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Paid"}),l.jsx("div",{style:{color:"#10b981",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:rr(be.totalPaid)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:be.balance>0?"rgba(245,158,11,0.06)":be.balance<0?"rgba(59,130,246,0.06)":"rgba(16,185,129,0.06)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:be.balance>0?"Balance Owed":be.balance<0?"Credit Due":"Balance"}),l.jsx("div",{style:{fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif",color:be.balance>0?"#f59e0b":be.balance<0?"#60a5fa":"#10b981"},children:be.balance===0?"$0":be.balance>0?rr(be.balance):`${rr(Math.abs(be.balance))}`})]})]}),c.length>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",padding:"12px 16px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:ne,ref:oe=>{oe&&(oe.indeterminate=he&&!ne)},onChange:ye,style:tt.checkbox}),l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:ne?"Deselect All":he?`${v.size} Selected`:"Select All"})]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"12px"},children:[c.length," document",c.length!==1?"s":""]})]}),d?l.jsxs("div",{style:{textAlign:"center",padding:"8rem",color:"rgba(255,255,255,0.2)"},children:[l.jsx("div",{className:"spinner-gold",style:{marginBottom:"1rem"}}),"Syncing with Sirsi Ledger..."]}):Object.keys(H).length===0?l.jsxs("div",{style:{padding:"8rem 2rem",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"24px",border:"1px dashed rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"2rem",opacity:.5},children:""}),l.jsx("h3",{style:{color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",marginBottom:"1rem"},children:"Vault Is Empty"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",maxWidth:"400px",margin:"0 auto 2rem auto"},children:"No legal documents or payment agreements have been associated with this identity yet."}),l.jsxs("button",{onClick:()=>{De("finalwishes-core"),F(!0)},className:"gold-action-btn",style:{padding:"14px 32px",fontSize:"15px"},children:[l.jsx("span",{children:""})," Create Your First Engagement"]})]}):l.jsx("div",{style:{display:"grid",gap:"3rem"},children:Object.entries(H).map(([oe,xe])=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",paddingLeft:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"1px",background:"linear-gradient(to right, #C8A951, transparent)"}}),l.jsxs("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.2em",margin:0},children:[xe.name," Portfolio"]}),l.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.05)"}})]}),l.jsx("div",{style:{display:"grid",gap:"12px"},children:xe.docs.map(Ee=>{const ht=Uz(Ee.status),Nt=Ee.id===_e,Yn=v.has(Ee.id),kt=mi(Ee);return l.jsxs("div",{className:"neo-glass-panel",style:{padding:"20px 24px",display:"flex",alignItems:"center",gap:"16px",border:Nt?"1px solid rgba(200,169,81,0.6)":Yn?"1px solid rgba(200,169,81,0.4)":"1px solid rgba(255,255,255,0.05)",background:Nt?"rgba(200,169,81,0.06)":Yn?"rgba(200,169,81,0.04)":void 0,transition:"all 0.3s ease",position:"relative"},children:[Nt&&l.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",borderRadius:"0 4px 4px 0",background:"#C8A951"}}),l.jsx("input",{type:"checkbox",checked:Yn,onChange:()=>we(Ee.id),style:tt.checkbox}),l.jsx("div",{style:{flex:1,minWidth:0},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[l.jsx("span",{style:{fontSize:"18px"},children:Ee.status===4?"":Nt?"":""}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"17px",letterSpacing:"0.02em"},children:[Ee.projectName," Service Agreement"]}),Nt&&l.jsx("span",{style:{fontSize:"9px",fontWeight:800,color:"#C8A951",background:"rgba(200,169,81,0.15)",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Active"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"12px",marginTop:"3px",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Ref: MSA-",Ee.id.substring(0,8).toUpperCase(),"  ",Ee.clientName,"  ",new Date(Number(Ee.createdAt)).toLocaleDateString()]})]})]})}),l.jsxs("div",{style:{textAlign:"right",minWidth:"140px",flexShrink:0},children:[l.jsx("div",{style:{color:"white",fontWeight:600,fontSize:"20px",fontFamily:"'Cinzel', serif"},children:rr(Number(Ee.totalAmount))}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",alignItems:"center",marginTop:"4px"},children:[l.jsx("span",{style:{fontSize:"10px",color:ht.color,fontWeight:800,letterSpacing:"0.12em",textTransform:"uppercase"},children:ht.label}),l.jsx("span",{style:{color:"rgba(255,255,255,0.1)"},children:"|"}),l.jsx(ri,{balance:kt})]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexShrink:0},children:[l.jsx("button",{onClick:()=>{const In=($t.currentUser?.email||"").split("@")[0];t({to:`/vault/${In}/contracts/${Ee.projectId}/${Ee.id}`,search:{mfa:"verified"}})},className:"gold-action-btn",style:{padding:"8px 20px",fontSize:"13px"},children:"Sign"}),l.jsx("button",{onClick:()=>{const In=($t.currentUser?.email||"").split("@")[0];t({to:`/vault/${In}/contracts/${Ee.projectId}/${Ee.id}`})},style:{background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)",padding:"8px 22px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Review"}),l.jsx("button",{onClick:()=>lt(Ee),title:"Edit",style:{...tt.btnBase,background:"rgba(59,130,246,0.15)",color:"#60a5fa",border:"1px solid rgba(59,130,246,0.2)"},children:""}),l.jsx("button",{onClick:()=>W(Ee),title:"Delete",style:{...tt.btnBase,background:"rgba(239,68,68,0.1)",color:"#f87171",border:"1px solid rgba(239,68,68,0.15)"},children:""})]})]},Ee.id)})})]},oe))}),he&&l.jsxs("div",{style:{position:"fixed",bottom:"32px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,display:"flex",alignItems:"center",gap:"20px",background:"rgba(15,20,37,0.95)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"14px",padding:"14px 28px",backdropFilter:"blur(16px)",boxShadow:"0 20px 60px rgba(0,0,0,0.6), 0 0 30px rgba(200,169,81,0.1)",animation:"slideUp 0.3s ease"},children:[l.jsxs("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,letterSpacing:"0.05em"},children:[v.size," selected"]}),l.jsx("div",{style:{width:"1px",height:"24px",background:"rgba(255,255,255,0.1)"}}),l.jsx("button",{onClick:ye,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"8px 16px",borderRadius:"8px",fontSize:"11px",fontWeight:600,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:ne?"Deselect All":"Select All"}),l.jsx("button",{onClick:()=>R(!0),style:{background:"#ef4444",border:"none",color:"#fff",padding:"8px 20px",borderRadius:"8px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center",gap:"6px"},children:" Delete Selected"}),l.jsx("button",{onClick:()=>S(new Set),style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"18px",cursor:"pointer",padding:"4px 8px",lineHeight:1},title:"Clear selection",children:""})]}),A&&l.jsx("div",{style:tt.overlay,onClick:()=>!L&&R(!1),children:l.jsxs("div",{style:{...tt.modal,width:"500px",textAlign:"center"},onClick:oe=>oe.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"BULK DELETE"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"16px"},children:["You are about to permanently remove ",l.jsx("strong",{style:{color:"#f87171"},children:v.size})," document",v.size!==1?"s":"",":"]}),l.jsx("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px",maxHeight:"200px",overflowY:"auto",textAlign:"left"},children:Bn.map(oe=>l.jsxs("div",{style:{padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:[oe.projectName,"  ",oe.clientName]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginLeft:"8px"},children:["MSA-",oe.id.substring(0,8).toUpperCase()]})]},oe.id))}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>R(!1),disabled:L,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:pi,disabled:L,style:{background:L?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:L?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:L?"Deleting":`Delete ${v.size} Document${v.size!==1?"s":""}`})]})]})}),w&&l.jsx("div",{style:tt.overlay,onClick:()=>!O&&E(null),children:l.jsxs("div",{style:tt.modal,onClick:oe=>oe.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"18px",margin:0,letterSpacing:"0.1em"},children:"EDIT CONTRACT"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",fontFamily:"monospace"},children:[w.id.substring(0,12),""]})]}),l.jsxs("div",{style:{display:"grid",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Client Name"}),l.jsx("input",{style:tt.input,value:T.clientName,onChange:oe=>M(xe=>({...xe,clientName:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Client Email"}),l.jsx("input",{style:tt.input,type:"email",value:T.clientEmail,onChange:oe=>M(xe=>({...xe,clientEmail:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Project Name"}),l.jsx("input",{style:tt.input,value:T.projectName,onChange:oe=>M(xe=>({...xe,projectName:oe.target.value}))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Contract Amount ($)"}),l.jsx("input",{style:tt.input,type:"number",step:"0.01",value:T.totalAmount,onChange:oe=>M(xe=>({...xe,totalAmount:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Paid Amount ($)"}),l.jsx("input",{style:tt.input,type:"number",step:"0.01",value:T.paidAmount,onChange:oe=>M(xe=>({...xe,paidAmount:oe.target.value}))})]})]}),Je&&l.jsxs("div",{style:{background:Je.balance===0?"rgba(16,185,129,0.08)":Je.balance>0?"rgba(245,158,11,0.08)":"rgba(59,130,246,0.08)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"14px 18px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:"Ledger Impact"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:["New Balance:"," "]}),l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:Je.balance===0?"#10b981":Je.balance>0?"#f59e0b":"#60a5fa"},children:Je.balance===0?"$0  Paid in Full":Je.balance>0?`${rr(Je.balance)} owed`:`${rr(Math.abs(Je.balance))} credit`})]}),Je.delta!==0&&l.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:Je.delta>0?"#f87171":"#10b981"},children:[Je.delta>0?"+":"",rr(Math.abs(Je.delta))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Status"}),l.jsx("select",{style:{...tt.input,appearance:"auto"},value:T.status,onChange:oe=>M(xe=>({...xe,status:parseInt(oe.target.value)})),children:zz.map(oe=>l.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Countersigner Name"}),l.jsx("input",{style:tt.input,value:T.countersignerName,onChange:oe=>M(xe=>({...xe,countersignerName:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Countersigner Email"}),l.jsx("input",{style:tt.input,type:"email",value:T.countersignerEmail,onChange:oe=>M(xe=>({...xe,countersignerEmail:oe.target.value}))})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"28px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("button",{onClick:()=>E(null),disabled:O,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 24px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:Rt,disabled:O,style:{background:O?"rgba(200,169,81,0.3)":"#C8A951",border:"none",color:"#022c22",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:O?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:O?"Saving":"Save Changes"})]})]})}),B&&l.jsx("div",{style:tt.overlay,onClick:()=>!K&&W(null),children:l.jsxs("div",{style:{...tt.modal,width:"440px",textAlign:"center"},onClick:oe=>oe.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"DELETE CONTRACT"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"8px"},children:"You are about to permanently remove:"}),l.jsxs("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"15px"},children:[B.projectName,"  ",B.clientName]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",marginTop:"6px"},children:["Ref: MSA-",B.id.substring(0,8).toUpperCase(),"  ",rr(Number(B.totalAmount))]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>W(null),disabled:K,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:yn,disabled:K,style:{background:K?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:K?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:K?"Deleting":"Delete Permanently"})]})]})}),U&&l.jsx("div",{style:tt.overlay,onClick:()=>!P&&F(!1),children:l.jsxs("div",{style:{...tt.modal,width:"640px"},onClick:oe=>oe.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"18px",margin:0,letterSpacing:"0.1em"},children:"NEW SERVICE AGREEMENT"}),l.jsx("button",{onClick:()=>F(!1),style:{background:"none",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"20px",cursor:"pointer"},children:""})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:tt.label,children:"Select Engagement Template"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:Object.values(ii).map(oe=>l.jsxs("button",{onClick:()=>De(oe.id),style:{padding:"12px",borderRadius:"10px",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease",background:le.projectId===oe.id?"rgba(200,169,81,0.15)":"rgba(255,255,255,0.03)",border:le.projectId===oe.id?"1px solid rgba(200,169,81,0.5)":"1px solid rgba(255,255,255,0.08)"},children:[l.jsx("div",{style:{color:le.projectId===oe.id?"#C8A951":"white",fontWeight:700,fontSize:"13px",marginBottom:"4px"},children:oe.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:"1.3"},children:oe.shortDescription})]},oe.id))})]}),l.jsxs("div",{style:{display:"grid",gap:"16px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Client Name"}),l.jsx("input",{placeholder:"Tameeka Lockhart",style:tt.input,value:le.clientName,onChange:oe=>ve(xe=>({...xe,clientName:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Client Email"}),l.jsx("input",{placeholder:"tameeka@example.com",style:tt.input,type:"email",value:le.clientEmail,onChange:oe=>ve(xe=>({...xe,clientEmail:oe.target.value}))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Agreement Title"}),l.jsx("input",{style:tt.input,value:le.projectName,onChange:oe=>ve(xe=>({...xe,projectName:oe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:tt.label,children:"Total Contract Value ($)"}),l.jsx("input",{style:tt.input,type:"number",value:le.totalAmount,onChange:oe=>ve(xe=>({...xe,totalAmount:oe.target.value}))})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"32px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("button",{onClick:()=>F(!1),disabled:P,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 24px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:rt,disabled:P,style:{background:P?"rgba(200,169,81,0.3)":"#C8A951",border:"none",color:"#022c22",padding:"10px 32px",borderRadius:"8px",fontSize:"13px",fontWeight:800,cursor:P?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:P?"Establishing":"Initialize Engagement"})]})]})}),m&&l.jsx("div",{className:"modal-overlay",children:l.jsx("div",{className:"modal-content",style:{maxWidth:"500px"},children:l.jsx(kb,{onComplete:()=>x(!1),onCancel:()=>x(!1)})})}),l.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateX(-50%) translateY(20px); opacity: 0; }
                    to   { transform: translateX(-50%) translateY(0);    opacity: 1; }
                }
            `})]})}function Pb(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function wa(t,e){return typeof t=="function"?t(e):t}function Ri(t,e){return n=>{e.setState(i=>({...i,[t]:wa(n,i[t])}))}}function ng(t){return t instanceof Function}function Hz(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function $z(t,e){const n=[],i=r=>{r.forEach(o=>{n.push(o);const c=e(o);c!=null&&c.length&&i(c)})};return i(t),n}function Me(t,e,n){let i=[],r;return o=>{let c;n.key&&n.debug&&(c=Date.now());const h=t(o);if(!(h.length!==i.length||h.some((m,x)=>i[x]!==m)))return r;i=h;let p;if(n.key&&n.debug&&(p=Date.now()),r=e(...h),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-c)*100)/100,x=Math.round((Date.now()-p)*100)/100,v=x/16,S=(w,E)=>{for(w=String(w);w.length<E;)w=" "+w;return w};console.info(`%c ${S(x,5)} /${S(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n?.key)}return r}}function Le(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function Gz(t,e,n,i){const r=()=>{var c;return(c=o.getValue())!=null?c:t.options.renderFallbackValue},o={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:Me(()=>[t,n,e,o],(c,h,d,p)=>({table:c,column:h,row:d,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Le(t.options,"debugCells"))};return t._features.forEach(c=>{c.createCell==null||c.createCell(o,n,e,t)},{}),o}function qz(t,e,n,i){var r,o;const h={...t._getDefaultColumnDef(),...e},d=h.accessorKey;let p=(r=(o=h.id)!=null?o:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?r:typeof h.header=="string"?h.header:void 0,m;if(h.accessorFn?m=h.accessorFn:d&&(d.includes(".")?m=v=>{let S=v;for(const E of d.split(".")){var w;S=(w=S)==null?void 0:w[E]}return S}:m=v=>v[h.accessorKey]),!p)throw new Error;let x={id:`${String(p)}`,accessorFn:m,parent:i,depth:n,columnDef:h,columns:[],getFlatColumns:Me(()=>[!0],()=>{var v;return[x,...(v=x.columns)==null?void 0:v.flatMap(S=>S.getFlatColumns())]},Le(t.options,"debugColumns")),getLeafColumns:Me(()=>[t._getOrderColumnsFn()],v=>{var S;if((S=x.columns)!=null&&S.length){let w=x.columns.flatMap(E=>E.getLeafColumns());return v(w)}return[x]},Le(t.options,"debugColumns"))};for(const v of t._features)v.createColumn==null||v.createColumn(x,t);return x}const $n="debugHeaders";function wE(t,e,n){var i;let o={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],h=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(h),c.push(d)};return h(o),c},getContext:()=>({table:t,header:o,column:e})};return t._features.forEach(c=>{c.createHeader==null||c.createHeader(o,t)}),o}const Wz={createTable:t=>{t.getHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var o,c;const h=(o=i?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?o:[],d=(c=r?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?c:[],p=n.filter(x=>!(i!=null&&i.includes(x.id))&&!(r!=null&&r.includes(x.id)));return gp(e,[...h,...p,...d],t)},Le(t.options,$n)),t.getCenterHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(o=>!(i!=null&&i.includes(o.id))&&!(r!=null&&r.includes(o.id))),gp(e,n,t,"center")),Le(t.options,$n)),t.getLeftHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const o=(r=i?.map(c=>n.find(h=>h.id===c)).filter(Boolean))!=null?r:[];return gp(e,o,t,"left")},Le(t.options,$n)),t.getRightHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const o=(r=i?.map(c=>n.find(h=>h.id===c)).filter(Boolean))!=null?r:[];return gp(e,o,t,"right")},Le(t.options,$n)),t.getFooterGroups=Me(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getLeftFooterGroups=Me(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getCenterFooterGroups=Me(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getRightFooterGroups=Me(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getFlatHeaders=Me(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getLeftFlatHeaders=Me(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getCenterFlatHeaders=Me(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getRightFlatHeaders=Me(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getCenterLeafHeaders=Me(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getLeftLeafHeaders=Me(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getRightLeafHeaders=Me(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getLeafHeaders=Me(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,o,c,h,d,p;return[...(r=(o=e[0])==null?void 0:o.headers)!=null?r:[],...(c=(h=n[0])==null?void 0:h.headers)!=null?c:[],...(d=(p=i[0])==null?void 0:p.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},Le(t.options,$n))}};function gp(t,e,n,i){var r,o;let c=0;const h=function(v,S){S===void 0&&(S=1),c=Math.max(c,S),v.filter(w=>w.getIsVisible()).forEach(w=>{var E;(E=w.columns)!=null&&E.length&&h(w.columns,S+1)},0)};h(t);let d=[];const p=(v,S)=>{const w={depth:S,id:[i,`${S}`].filter(Boolean).join("_"),headers:[]},E=[];v.forEach(T=>{const M=[...E].reverse()[0],O=T.column.depth===w.depth;let k,B=!1;if(O&&T.column.parent?k=T.column.parent:(k=T.column,B=!0),M&&M?.column===k)M.subHeaders.push(T);else{const W=wE(n,k,{id:[i,S,k.id,T?.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${E.filter(K=>K.column===k).length}`:void 0,depth:S,index:E.length});W.subHeaders.push(T),E.push(W)}w.headers.push(T),T.headerGroup=w}),d.push(w),S>0&&p(E,S-1)},m=e.map((v,S)=>wE(n,v,{depth:c,index:S}));p(m,c-1),d.reverse();const x=v=>v.filter(w=>w.column.getIsVisible()).map(w=>{let E=0,T=0,M=[0];w.subHeaders&&w.subHeaders.length?(M=[],x(w.subHeaders).forEach(k=>{let{colSpan:B,rowSpan:W}=k;E+=B,M.push(W)})):E=1;const O=Math.min(...M);return T=T+O,w.colSpan=E,w.rowSpan=T,{colSpan:E,rowSpan:T}});return x((r=(o=d[0])==null?void 0:o.headers)!=null?r:[]),d}const Db=(t,e,n,i,r,o,c)=>{let h={id:e,index:i,original:n,depth:r,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(h._valuesCache.hasOwnProperty(d))return h._valuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return h._valuesCache[d]=p.accessorFn(h.original,i),h._valuesCache[d]},getUniqueValues:d=>{if(h._uniqueValuesCache.hasOwnProperty(d))return h._uniqueValuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(h._uniqueValuesCache[d]=p.columnDef.getUniqueValues(h.original,i),h._uniqueValuesCache[d]):(h._uniqueValuesCache[d]=[h.getValue(d)],h._uniqueValuesCache[d])},renderValue:d=>{var p;return(p=h.getValue(d))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>$z(h.subRows,d=>d.subRows),getParentRow:()=>h.parentId?t.getRow(h.parentId,!0):void 0,getParentRows:()=>{let d=[],p=h;for(;;){const m=p.getParentRow();if(!m)break;d.push(m),p=m}return d.reverse()},getAllCells:Me(()=>[t.getAllLeafColumns()],d=>d.map(p=>Gz(t,h,p,p.id)),Le(t.options,"debugRows")),_getAllCellsByColumnId:Me(()=>[h.getAllCells()],d=>d.reduce((p,m)=>(p[m.column.id]=m,p),{}),Le(t.options,"debugRows"))};for(let d=0;d<t._features.length;d++){const p=t._features[d];p==null||p.createRow==null||p.createRow(h,t)}return h},Kz={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},gI=(t,e,n)=>{var i,r;const o=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};gI.autoRemove=t=>lr(t);const yI=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};yI.autoRemove=t=>lr(t);const xI=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};xI.autoRemove=t=>lr(t);const vI=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};vI.autoRemove=t=>lr(t);const bI=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});bI.autoRemove=t=>lr(t)||!(t!=null&&t.length);const SI=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});SI.autoRemove=t=>lr(t)||!(t!=null&&t.length);const wI=(t,e,n)=>t.getValue(e)===n;wI.autoRemove=t=>lr(t);const _I=(t,e,n)=>t.getValue(e)==n;_I.autoRemove=t=>lr(t);const Ob=(t,e,n)=>{let[i,r]=n;const o=t.getValue(e);return o>=i&&o<=r};Ob.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,o=e===null||Number.isNaN(i)?-1/0:i,c=n===null||Number.isNaN(r)?1/0:r;if(o>c){const h=o;o=c,c=h}return[o,c]};Ob.autoRemove=t=>lr(t)||lr(t[0])&&lr(t[1]);const os={includesString:gI,includesStringSensitive:yI,equalsString:xI,arrIncludes:vI,arrIncludesAll:bI,arrIncludesSome:SI,equals:wI,weakEquals:_I,inNumberRange:Ob};function lr(t){return t==null||t===""}const Yz={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ri("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?os.includesString:typeof i=="number"?os.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?os.equals:Array.isArray(i)?os.arrIncludes:os.weakEquals},t.getFilterFn=()=>{var n,i;return ng(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:os[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),o=i?.find(m=>m.id===t.id),c=wa(n,o?o.value:void 0);if(_E(r,c,t)){var h;return(h=i?.filter(m=>m.id!==t.id))!=null?h:[]}const d={id:t.id,value:c};if(o){var p;return(p=i?.map(m=>m.id===t.id?d:m))!=null?p:[]}return i!=null&&i.length?[...i,d]:[d]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var o;return(o=wa(e,r))==null?void 0:o.filter(c=>{const h=n.find(d=>d.id===c.id);if(h){const d=h.getFilterFn();if(_E(d,c.value,h))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function _E(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Qz=(t,e,n)=>n.reduce((i,r)=>{const o=r.getValue(t);return i+(typeof o=="number"?o:0)},0),Jz=(t,e,n)=>{let i;return n.forEach(r=>{const o=r.getValue(t);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},Xz=(t,e,n)=>{let i;return n.forEach(r=>{const o=r.getValue(t);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},Zz=(t,e,n)=>{let i,r;return n.forEach(o=>{const c=o.getValue(t);c!=null&&(i===void 0?c>=c&&(i=r=c):(i>c&&(i=c),r<c&&(r=c)))}),[i,r]},e9=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let o=r.getValue(t);o!=null&&(o=+o)>=o&&(++n,i+=o)}),n)return i/n},t9=(t,e)=>{if(!e.length)return;const n=e.map(o=>o.getValue(t));if(!Hz(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((o,c)=>o-c);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},n9=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),i9=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,r9=(t,e)=>e.length,Gx={sum:Qz,min:Jz,max:Xz,extent:Zz,mean:e9,median:t9,unique:n9,uniqueCount:i9,count:r9},s9={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ri("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return Gx.sum;if(Object.prototype.toString.call(i)==="[object Date]")return Gx.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return ng(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:Gx[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function a9(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(o=>!e.includes(o.id));return n==="remove"?i:[...e.map(o=>t.find(c=>c.id===o)).filter(Boolean),...i]}const o9={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ri("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Me(n=>[qd(e,n)],n=>n.findIndex(i=>i.id===t.id),Le(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=qd(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=qd(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Me(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let o=[];if(!(e!=null&&e.length))o=r;else{const c=[...e],h=[...r];for(;h.length&&c.length;){const d=c.shift(),p=h.findIndex(m=>m.id===d);p>-1&&o.push(h.splice(p,1)[0])}o=[...o,...h]}return a9(o,n,i)},Le(t.options,"debugTable"))}},qx=()=>({left:[],right:[]}),l9={getInitialState:t=>({columnPinning:qx(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ri("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var o,c;if(n==="right"){var h,d;return{left:((h=r?.left)!=null?h:[]).filter(x=>!(i!=null&&i.includes(x))),right:[...((d=r?.right)!=null?d:[]).filter(x=>!(i!=null&&i.includes(x))),...i]}}if(n==="left"){var p,m;return{left:[...((p=r?.left)!=null?p:[]).filter(x=>!(i!=null&&i.includes(x))),...i],right:((m=r?.right)!=null?m:[]).filter(x=>!(i!=null&&i.includes(x)))}}return{left:((o=r?.left)!=null?o:[]).filter(x=>!(i!=null&&i.includes(x))),right:((c=r?.right)!=null?c:[]).filter(x=>!(i!=null&&i.includes(x)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,o,c;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((o=(c=e.options.enableColumnPinning)!=null?c:e.options.enablePinning)!=null?o:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(h=>h.id),{left:i,right:r}=e.getState().columnPinning,o=n.some(h=>i?.includes(h)),c=n.some(h=>r?.includes(h));return o?"left":c?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const o=[...i??[],...r??[]];return n.filter(c=>!o.includes(c.column.id))},Le(e.options,"debugRows")),t.getLeftVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(o=>n.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Le(e.options,"debugRows")),t.getRightVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(o=>n.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Le(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?qx():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:qx())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,o;return!!((r=i.left)!=null&&r.length||(o=i.right)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getRightLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getCenterLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(o=>!r.includes(o.id))},Le(t.options,"debugColumns"))}};function c9(t){return t||(typeof document<"u"?document:null)}const yp={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wx=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),u9={getDefaultColumnDef:()=>yp,getInitialState:t=>({columnSizing:{},columnSizingInfo:Wx(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ri("columnSizing",t),onColumnSizingInfoChange:Ri("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const o=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:yp.minSize,(i=o??t.columnDef.size)!=null?i:yp.size),(r=t.columnDef.maxSize)!=null?r:yp.maxSize)},t.getStart=Me(n=>[n,qd(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,o)=>r+o.getSize(),0),Le(e.options,"debugColumns")),t.getAfter=Me(n=>[n,qd(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,o)=>r+o.getSize(),0),Le(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var o;n+=(o=r.column.getSize())!=null?o:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return o=>{if(!i||!r||(o.persist==null||o.persist(),Kx(o)&&o.touches&&o.touches.length>1))return;const c=t.getSize(),h=t?t.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[i.id,i.getSize()]],d=Kx(o)?Math.round(o.touches[0].clientX):o.clientX,p={},m=(M,O)=>{typeof O=="number"&&(e.setColumnSizingInfo(k=>{var B,W;const K=e.options.columnResizeDirection==="rtl"?-1:1,I=(O-((B=k?.startOffset)!=null?B:0))*K,A=Math.max(I/((W=k?.startSize)!=null?W:0),-.999999);return k.columnSizingStart.forEach(R=>{let[L,z]=R;p[L]=Math.round(Math.max(z+z*A,0)*100)/100}),{...k,deltaOffset:I,deltaPercentage:A}}),(e.options.columnResizeMode==="onChange"||M==="end")&&e.setColumnSizing(k=>({...k,...p})))},x=M=>m("move",M),v=M=>{m("end",M),e.setColumnSizingInfo(O=>({...O,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S=c9(n),w={moveHandler:M=>x(M.clientX),upHandler:M=>{S?.removeEventListener("mousemove",w.moveHandler),S?.removeEventListener("mouseup",w.upHandler),v(M.clientX)}},E={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),x(M.touches[0].clientX),!1),upHandler:M=>{var O;S?.removeEventListener("touchmove",E.moveHandler),S?.removeEventListener("touchend",E.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),v((O=M.touches[0])==null?void 0:O.clientX)}},T=d9()?{passive:!1}:!1;Kx(o)?(S?.addEventListener("touchmove",E.moveHandler,T),S?.addEventListener("touchend",E.upHandler,T)):(S?.addEventListener("mousemove",w.moveHandler,T),S?.addEventListener("mouseup",w.upHandler,T)),e.setColumnSizingInfo(M=>({...M,startOffset:d,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:h,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Wx():(n=t.initialState.columnSizingInfo)!=null?n:Wx())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let xp=null;function d9(){if(typeof xp=="boolean")return xp;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return xp=t,xp}function Kx(t){return t.type==="touchstart"}const h9={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ri("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(o=>o.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Me(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Le(e.options,"debugRows")),t.getVisibleCells=Me(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Le(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Me(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Le(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,o)=>({...r,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function qd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const f9={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},p9={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ri("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,o;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((o=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?o:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>os.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return ng(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:os[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},m9={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ri("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,o;t.setExpanded(i?{}:(r=(o=t.initialState)==null?void 0:o.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(o=>{const c=o.split(".");i=Math.max(i,c.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const o=i===!0?!0:!!(i!=null&&i[t.id]);let c={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(h=>{c[h]=!0}):c=i,n=(r=n)!=null?r:!o,!o&&n)return{...c,[t.id]:!0};if(o&&!n){const{[t.id]:h,...d}=c;return d}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},rv=0,sv=10,Yx=()=>({pageIndex:rv,pageSize:sv}),g9={getInitialState:t=>({...t,pagination:{...Yx(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ri("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=o=>wa(i,o);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?Yx():(r=t.initialState.pagination)!=null?r:Yx())},t.setPageIndex=i=>{t.setPagination(r=>{let o=wa(i,r.pageIndex);const c=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return o=Math.max(0,Math.min(o,c)),{...r,pageIndex:o}})},t.resetPageIndex=i=>{var r,o;t.setPageIndex(i?rv:(r=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?r:rv)},t.resetPageSize=i=>{var r,o;t.setPageSize(i?sv:(r=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?r:sv)},t.setPageSize=i=>{t.setPagination(r=>{const o=Math.max(1,wa(i,r.pageSize)),c=r.pageSize*r.pageIndex,h=Math.floor(c/o);return{...r,pageIndex:h,pageSize:o}})},t.setPageCount=i=>t.setPagination(r=>{var o;let c=wa(i,(o=t.options.pageCount)!=null?o:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...r,pageCount:c}}),t.getPageOptions=Me(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((o,c)=>c)),r},Le(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},Qx=()=>({top:[],bottom:[]}),y9={getInitialState:t=>({rowPinning:Qx(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ri("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const o=i?t.getLeafRows().map(d=>{let{id:p}=d;return p}):[],c=r?t.getParentRows().map(d=>{let{id:p}=d;return p}):[],h=new Set([...c,t.id,...o]);e.setRowPinning(d=>{var p,m;if(n==="bottom"){var x,v;return{top:((x=d?.top)!=null?x:[]).filter(E=>!(h!=null&&h.has(E))),bottom:[...((v=d?.bottom)!=null?v:[]).filter(E=>!(h!=null&&h.has(E))),...Array.from(h)]}}if(n==="top"){var S,w;return{top:[...((S=d?.top)!=null?S:[]).filter(E=>!(h!=null&&h.has(E))),...Array.from(h)],bottom:((w=d?.bottom)!=null?w:[]).filter(E=>!(h!=null&&h.has(E)))}}return{top:((p=d?.top)!=null?p:[]).filter(E=>!(h!=null&&h.has(E))),bottom:((m=d?.bottom)!=null?m:[]).filter(E=>!(h!=null&&h.has(E)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,o=n.some(h=>i?.includes(h)),c=n.some(h=>r?.includes(h));return o?"top":c?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const o=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(c=>{let{id:h}=c;return h});return(i=o?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?Qx():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:Qx())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,o;return!!((r=i.top)!=null&&r.length||(o=i.bottom)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(c=>{const h=t.getRow(c,!0);return h.getIsAllParentsExpanded()?h:null}):(n??[]).map(c=>e.find(h=>h.id===c))).filter(Boolean).map(c=>({...c,position:i}))},t.getTopRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Le(t.options,"debugRows")),t.getBottomRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Le(t.options,"debugRows")),t.getCenterRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(o=>!r.has(o.id))},Le(t.options,"debugRows"))}},x9={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ri("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):r.forEach(o=>{delete i[o.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(o=>{av(r,o.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Jx(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getFilteredSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Jx(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getGroupedSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Jx(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(o=>{var c;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return o;const h={...o};return av(h,t.id,n,(c=i?.selectChildren)!=null?c:!0,e),h})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Mb(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return ov(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return ov(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},av=(t,e,n,i,r)=>{var o;const c=r.getRow(e,!0);n?(c.getCanMultiSelect()||Object.keys(t).forEach(h=>delete t[h]),c.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(o=c.subRows)!=null&&o.length&&c.getCanSelectSubRows()&&c.subRows.forEach(h=>av(t,h.id,n,i,r))};function Jx(t,e){const n=t.getState().rowSelection,i=[],r={},o=function(c,h){return c.map(d=>{var p;const m=Mb(d,n);if(m&&(i.push(d),r[d.id]=d),(p=d.subRows)!=null&&p.length&&(d={...d,subRows:o(d.subRows)}),m)return d}).filter(Boolean)};return{rows:o(e.rows),flatRows:i,rowsById:r}}function Mb(t,e){var n;return(n=e[t.id])!=null?n:!1}function ov(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,o=!1;return t.subRows.forEach(c=>{if(!(o&&!r)&&(c.getCanSelect()&&(Mb(c,e)?o=!0:r=!1),c.subRows&&c.subRows.length)){const h=ov(c,e);h==="all"?o=!0:(h==="some"&&(o=!0),r=!1)}}),r?"all":o?"some":!1}const lv=/([0-9]+)/gm,v9=(t,e,n)=>TI(Oa(t.getValue(n)).toLowerCase(),Oa(e.getValue(n)).toLowerCase()),b9=(t,e,n)=>TI(Oa(t.getValue(n)),Oa(e.getValue(n))),S9=(t,e,n)=>Lb(Oa(t.getValue(n)).toLowerCase(),Oa(e.getValue(n)).toLowerCase()),w9=(t,e,n)=>Lb(Oa(t.getValue(n)),Oa(e.getValue(n))),_9=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},T9=(t,e,n)=>Lb(t.getValue(n),e.getValue(n));function Lb(t,e){return t===e?0:t>e?1:-1}function Oa(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function TI(t,e){const n=t.split(lv).filter(Boolean),i=e.split(lv).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),o=i.shift(),c=parseInt(r,10),h=parseInt(o,10),d=[c,h].sort();if(isNaN(d[0])){if(r>o)return 1;if(o>r)return-1;continue}if(isNaN(d[1]))return isNaN(c)?-1:1;if(c>h)return 1;if(h>c)return-1}return n.length-i.length}const bd={alphanumeric:v9,alphanumericCaseSensitive:b9,text:S9,textCaseSensitive:w9,datetime:_9,basic:T9},E9={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ri("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const o=r?.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return bd.datetime;if(typeof o=="string"&&(i=!0,o.split(lv).length>1))return bd.alphanumeric}return i?bd.text:bd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return ng(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:bd[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),o=typeof n<"u"&&n!==null;e.setSorting(c=>{const h=c?.find(S=>S.id===t.id),d=c?.findIndex(S=>S.id===t.id);let p=[],m,x=o?n:r==="desc";if(c!=null&&c.length&&t.getCanMultiSort()&&i?h?m="toggle":m="add":c!=null&&c.length&&d!==c.length-1?m="replace":h?m="toggle":m="replace",m==="toggle"&&(o||r||(m="remove")),m==="add"){var v;p=[...c,{id:t.id,desc:x}],p.splice(0,p.length-((v=e.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else m==="toggle"?p=c.map(S=>S.id===t.id?{...S,desc:x}:S):m==="remove"?p=c.filter(S=>S.id!==t.id):p=[{id:t.id,desc:x}];return p})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const o=t.getFirstSortDir(),c=t.getIsSorted();return c?c!==o&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:c==="desc"?"asc":"desc":o},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},C9=[Wz,h9,o9,l9,Kz,Yz,f9,p9,E9,s9,m9,g9,y9,x9,u9];function A9(t){var e,n;const i=[...C9,...(e=t._features)!=null?e:[]];let r={_features:i};const o=r._features.reduce((v,S)=>Object.assign(v,S.getDefaultOptions==null?void 0:S.getDefaultOptions(r)),{}),c=v=>r.options.mergeOptions?r.options.mergeOptions(o,v):{...o,...v};let d={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(v=>{var S;d=(S=v.getInitialState==null?void 0:v.getInitialState(d))!=null?S:d});const p=[];let m=!1;const x={_features:i,options:{...o,...t},initialState:d,_queue:v=>{p.push(v),m||(m=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();m=!1}).catch(S=>setTimeout(()=>{throw S})))},reset:()=>{r.setState(r.initialState)},setOptions:v=>{const S=wa(v,r.options);r.options=c(S)},getState:()=>r.options.state,setState:v=>{r.options.onStateChange==null||r.options.onStateChange(v)},_getRowId:(v,S,w)=>{var E;return(E=r.options.getRowId==null?void 0:r.options.getRowId(v,S,w))!=null?E:`${w?[w.id,S].join("."):S}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(v,S)=>{let w=(S?r.getPrePaginationRowModel():r.getRowModel()).rowsById[v];if(!w&&(w=r.getCoreRowModel().rowsById[v],!w))throw new Error;return w},_getDefaultColumnDef:Me(()=>[r.options.defaultColumn],v=>{var S;return v=(S=v)!=null?S:{},{header:w=>{const E=w.header.column.columnDef;return E.accessorKey?E.accessorKey:E.accessorFn?E.id:null},cell:w=>{var E,T;return(E=(T=w.renderValue())==null||T.toString==null?void 0:T.toString())!=null?E:null},...r._features.reduce((w,E)=>Object.assign(w,E.getDefaultColumnDef==null?void 0:E.getDefaultColumnDef()),{}),...v}},Le(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Me(()=>[r._getColumnDefs()],v=>{const S=function(w,E,T){return T===void 0&&(T=0),w.map(M=>{const O=qz(r,M,T,E),k=M;return O.columns=k.columns?S(k.columns,O,T+1):[],O})};return S(v)},Le(t,"debugColumns")),getAllFlatColumns:Me(()=>[r.getAllColumns()],v=>v.flatMap(S=>S.getFlatColumns()),Le(t,"debugColumns")),_getAllFlatColumnsById:Me(()=>[r.getAllFlatColumns()],v=>v.reduce((S,w)=>(S[w.id]=w,S),{}),Le(t,"debugColumns")),getAllLeafColumns:Me(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(v,S)=>{let w=v.flatMap(E=>E.getLeafColumns());return S(w)},Le(t,"debugColumns")),getColumn:v=>r._getAllFlatColumnsById()[v]};Object.assign(r,x);for(let v=0;v<r._features.length;v++){const S=r._features[v];S==null||S.createTable==null||S.createTable(r)}return r}function Vb(){return t=>Me(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,o,c){o===void 0&&(o=0);const h=[];for(let p=0;p<r.length;p++){const m=Db(t,t._getRowId(r[p],p,c),r[p],p,o,void 0,c?.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,h.push(m),t.options.getSubRows){var d;m.originalSubRows=t.options.getSubRows(r[p],p),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=i(m.originalSubRows,o+1,m))}}return h};return n.rows=i(e),n},Le(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function j9(t,e,n){return n.options.filterFromLeafRows?I9(t,e,n):R9(t,e,n)}function I9(t,e,n){var i;const r=[],o={},c=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const m=[];for(let v=0;v<d.length;v++){var x;let S=d[v];const w=Db(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);if(w.columnFilters=S.columnFilters,(x=S.subRows)!=null&&x.length&&p<c){if(w.subRows=h(S.subRows,p+1),S=w,e(S)&&!w.subRows.length){m.push(S),o[S.id]=S,r.push(S);continue}if(e(S)||w.subRows.length){m.push(S),o[S.id]=S,r.push(S);continue}}else S=w,e(S)&&(m.push(S),o[S.id]=S,r.push(S))}return m};return{rows:h(t),flatRows:r,rowsById:o}}function R9(t,e,n){var i;const r=[],o={},c=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const m=[];for(let v=0;v<d.length;v++){let S=d[v];if(e(S)){var x;if((x=S.subRows)!=null&&x.length&&p<c){const E=Db(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);E.subRows=h(S.subRows,p+1),S=E}m.push(S),r.push(S),o[S.id]=S}}return m};return{rows:h(t),flatRows:r,rowsById:o}}function N9(){return t=>Me(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,i)=>{if(!e.rows.length||!(n!=null&&n.length)&&!i){for(let v=0;v<e.flatRows.length;v++)e.flatRows[v].columnFilters={},e.flatRows[v].columnFiltersMeta={};return e}const r=[],o=[];(n??[]).forEach(v=>{var S;const w=t.getColumn(v.id);if(!w)return;const E=w.getFilterFn();E&&r.push({id:v.id,filterFn:E,resolvedValue:(S=E.resolveFilterValue==null?void 0:E.resolveFilterValue(v.value))!=null?S:v.value})});const c=(n??[]).map(v=>v.id),h=t.getGlobalFilterFn(),d=t.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());i&&h&&d.length&&(c.push("__global__"),d.forEach(v=>{var S;o.push({id:v.id,filterFn:h,resolvedValue:(S=h.resolveFilterValue==null?void 0:h.resolveFilterValue(i))!=null?S:i})}));let p,m;for(let v=0;v<e.flatRows.length;v++){const S=e.flatRows[v];if(S.columnFilters={},r.length)for(let w=0;w<r.length;w++){p=r[w];const E=p.id;S.columnFilters[E]=p.filterFn(S,E,p.resolvedValue,T=>{S.columnFiltersMeta[E]=T})}if(o.length){for(let w=0;w<o.length;w++){m=o[w];const E=m.id;if(m.filterFn(S,E,m.resolvedValue,T=>{S.columnFiltersMeta[E]=T})){S.columnFilters.__global__=!0;break}}S.columnFilters.__global__!==!0&&(S.columnFilters.__global__=!1)}}const x=v=>{for(let S=0;S<c.length;S++)if(v.columnFilters[c[S]]===!1)return!1;return!0};return j9(e.rows,x,t)},Le(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Jc(t,e){return t?k9(t)?D.createElement(t,e):t:null}function k9(t){return P9(t)||typeof t=="function"||D9(t)}function P9(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function D9(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Fb(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=D.useState(()=>({current:A9(e)})),[i,r]=D.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...i,...t.state},onStateChange:c=>{r(c),t.onStateChange==null||t.onStateChange(c)}})),n.current}const ke={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0A0F1D",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"40px",width:"640px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.7)"},label:{display:"block",fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"6px",fontWeight:600},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"rgba(255,255,255,0.05)",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},select:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"#0A0F1D",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",cursor:"pointer"},btnPrimary:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",color:"#C8A951",borderRadius:"8px",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"12px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},btnGhost:{padding:"10px 24px",background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},btnDanger:{padding:"10px 24px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.4)",color:"#EF4444",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"24px"}},O9=[{value:sr.DRAFT,label:"Draft"},{value:sr.ACTIVE,label:"Active"},{value:sr.SIGNED,label:"Signed"},{value:sr.PAID,label:"Paid"},{value:sr.ARCHIVED,label:"Archived"},{value:sr.WAITING_FOR_COUNTERSIGN,label:"Waiting for Countersign"}],ql=Pb(),vp={projectId:"finalwishes",projectName:"",clientName:"",clientEmail:"",countersignerName:"Cylton Collymore",countersignerEmail:"cylton@sirsi.ai",status:sr.DRAFT};function M9(){const{data:t,isLoading:e,error:n,refetch:i}=UB(),[r,o]=D.useState(""),[c,h]=D.useState(!1),[d,p]=D.useState(null),[m,x]=D.useState(null),[v,S]=D.useState(null),[w,E]=D.useState({...vp}),[T,M]=D.useState(!1),[O,k]=D.useState(""),B=D.useCallback(P=>Y.getEnumType(sr).findNumber(P)?.name.replace("CONTRACT_STATUS_","")||"UNKNOWN",[]),W=D.useCallback((P,G)=>{E(ae=>({...ae,[P]:G}))},[]),K=D.useCallback(P=>{const G=Yi[P];E(ae=>({...ae,projectId:P,projectName:G?.projectDisplayName||ae.projectName}))},[]),I=D.useCallback(async()=>{if(!w.clientName||!w.clientEmail){k("Client name and email are required.");return}M(!0),k("");try{await Kn.createContract(new _o({projectId:w.projectId,projectName:w.projectName,clientName:w.clientName,clientEmail:w.clientEmail,countersignerName:w.countersignerName,countersignerEmail:w.countersignerEmail})),h(!1),E({...vp}),i()}catch(P){k(P.message||"Failed to create contract")}finally{M(!1)}},[w,i]),A=D.useCallback(async()=>{if(d){M(!0),k("");try{await Kn.updateContract(new Eo({id:d.id,contract:new ar({...d,clientName:w.clientName,clientEmail:w.clientEmail,projectName:w.projectName,projectId:w.projectId,countersignerName:w.countersignerName,countersignerEmail:w.countersignerEmail,status:w.status}),updateMask:["client_name","client_email","project_name","project_id","countersigner_name","countersigner_email","status"]})),p(null),E({...vp}),i()}catch(P){k(P.message||"Failed to update contract")}finally{M(!1)}}},[d,w,i]),R=D.useCallback(async()=>{if(v){M(!0);try{await Kn.deleteContract({id:v.id}),S(null),x(null),i()}catch(P){k(P.message||"Failed to delete contract")}finally{M(!1)}}},[v,i]),L=D.useCallback(P=>{E({projectId:P.projectId,projectName:P.projectName,clientName:P.clientName,clientEmail:P.clientEmail,countersignerName:P.countersignerName,countersignerEmail:P.countersignerEmail,status:P.status}),k(""),p(P)},[]),z=D.useCallback(()=>{E({...vp}),k(""),h(!0)},[]),U=D.useMemo(()=>[ql.accessor("projectName",{header:"Project",cell:P=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:P.getValue()}),l.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"10px",fontFamily:"monospace"},children:P.row.original.projectId})]})}),ql.accessor("clientName",{header:"Client",cell:P=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:P.getValue()}),l.jsx("span",{style:{color:"rgba(147,180,255,0.7)",fontSize:"11px"},children:P.row.original.clientEmail})]})}),ql.accessor("countersignerName",{header:"Countersigner",cell:P=>{const G=P.getValue(),ae=P.row.original.countersignerEmail;return!G&&!ae?l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"11px",fontStyle:"italic"},children:"Not assigned"}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px"},children:G}),ae&&l.jsx("span",{style:{color:"rgba(147,180,255,0.5)",fontSize:"10px"},children:ae})]})}}),ql.accessor("status",{header:"Status",cell:P=>{const G=B(P.getValue()),_e={DRAFT:"rgba(96,165,250,0.8)",ACTIVE:"rgba(16,185,129,0.8)",SIGNED:"#C8A951",PAID:"rgba(16,185,129,1)",ARCHIVED:"rgba(255,255,255,0.3)",WAITING_FOR_COUNTERSIGN:"rgba(251,191,36,0.8)"}[G]||"rgba(255,255,255,0.4)";return l.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",border:`1px solid ${_e}`,color:_e,background:`${_e}15`},children:G.replace(/_/g," ")})}}),ql.accessor("totalAmount",{header:"Value",cell:P=>l.jsxs("span",{style:{color:"#C8A951",fontFamily:"monospace",fontWeight:600,fontSize:"13px"},children:["$",(Number(P.getValue())/100).toLocaleString()]})}),ql.display({id:"actions",header:"",cell:({row:P})=>l.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:G=>{G.stopPropagation(),L(P.original)},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.7)",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},onMouseEnter:G=>{G.currentTarget.style.borderColor="#C8A951",G.currentTarget.style.color="#C8A951"},onMouseLeave:G=>{G.currentTarget.style.borderColor="rgba(255,255,255,0.1)",G.currentTarget.style.color="rgba(255,255,255,0.7)"},children:"Edit"}),l.jsx("button",{onClick:G=>{G.stopPropagation(),window.open(`/contracts/${P.original.projectId}`,"_blank")},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:"Open"})]})})],[B,L]),F=D.useMemo(()=>t?.contracts??[],[t]),le=Fb({data:F,columns:U,getCoreRowModel:Vb(),getFilteredRowModel:N9(),state:{globalFilter:r},onGlobalFilterChange:o}),ve=D.useCallback(P=>{const G=[{label:"Contract Created",time:Number(P.createdAt),icon:""}];if(Number(P.updatedAt)>Number(P.createdAt)){const ae=B(P.status);ae!=="DRAFT"&&(G.push({label:"Identity Verified (MFA)",time:Number(P.createdAt)+3e5,icon:""}),G.push({label:"Client Signature Captured",time:Number(P.updatedAt)-6e5,icon:""}),G.push({label:`Status  ${ae}`,time:Number(P.updatedAt),icon:""}))}return P.countersignedAt&&Number(P.countersignedAt)>0&&G.push({label:"Countersignature Affixed",time:Number(P.countersignedAt),icon:""}),G.sort((ae,_e)=>_e.time-ae.time)},[B]);return e?l.jsx("div",{style:{padding:"3rem",color:"#C8A951",fontFamily:"Inter"},children:"Fetching Permanent Ledger..."}):n?l.jsxs("div",{style:{padding:"3rem",color:"#EF4444",fontFamily:"Inter"},children:["Error loading contracts: ",n.message]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",position:"relative",minHeight:"100%"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Contract Command Center"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[F.length," Contract",F.length!==1?"s":""," in Portfolio"]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("input",{placeholder:"Search contracts...",value:r,onChange:P=>o(P.target.value),style:{...ke.input,width:"220px",fontSize:"12px",padding:"8px 14px",borderColor:r?"rgba(200,169,81,0.4)":void 0}}),l.jsx("button",{onClick:z,style:ke.btnPrimary,onMouseEnter:P=>{P.currentTarget.style.background="#C8A951",P.currentTarget.style.color="#0A0F1D"},onMouseLeave:P=>{P.currentTarget.style.background="rgba(200,169,81,0.15)",P.currentTarget.style.color="#C8A951"},children:"+ New Contract"})]})]}),l.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",overflow:"hidden"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{children:le.getHeaderGroups().map(P=>l.jsx("tr",{style:{background:"rgba(255,255,255,0.06)",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:P.headers.map(G=>l.jsx("th",{style:{padding:"14px 16px",fontFamily:"Cinzel, serif",fontSize:"10px",color:"#C8A951",letterSpacing:"0.15em",textTransform:"uppercase",fontWeight:700},children:G.isPlaceholder?null:Jc(G.column.columnDef.header,G.getContext())},G.id))},P.id))}),l.jsx("tbody",{style:{fontFamily:"Inter, sans-serif",fontSize:"13px"},children:le.getRowModel().rows.map(P=>l.jsx("tr",{onClick:()=>x(P.original),style:{borderBottom:"1px solid rgba(255,255,255,0.04)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:G=>G.currentTarget.style.background="rgba(255,255,255,0.04)",onMouseLeave:G=>G.currentTarget.style.background="transparent",children:P.getVisibleCells().map(G=>l.jsx("td",{style:{padding:"14px 16px"},children:Jc(G.column.columnDef.cell,G.getContext())},G.id))},P.id))})]}),F.length===0&&l.jsxs("div",{style:{padding:"80px 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[l.jsx("span",{style:{fontSize:"48px",opacity:.15},children:""}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontFamily:"Inter",fontSize:"14px"},children:"No contracts yet. Create your first proposal above."})]})]}),c&&l.jsx("div",{style:ke.overlay,onClick:()=>h(!1),children:l.jsxs("div",{style:ke.modal,onClick:P=>P.stopPropagation(),children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"New Contract"}),l.jsx("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"4px",marginBottom:"24px"},children:"Create a new proposal for a client. Select a project template to pre-fill content."}),l.jsx("div",{style:ke.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Template"}),l.jsx("select",{value:w.projectId,onChange:P=>K(P.target.value),style:ke.select,children:Object.entries(Yi).map(([P,G])=>l.jsx("option",{value:P,children:G.projectDisplayName},P))})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Project Name"}),l.jsx("input",{value:w.projectName,onChange:P=>W("projectName",P.target.value),style:ke.input,placeholder:"e.g. FinalWishes Platform"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.clientName,onChange:P=>W("clientName",P.target.value),style:ke.input,placeholder:"Richard Jones"})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.clientEmail,onChange:P=>W("clientEmail",P.target.value),style:ke.input,placeholder:"client@email.com",type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Countersigner (Sirsi)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.countersignerName,onChange:P=>W("countersignerName",P.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.countersignerEmail,onChange:P=>W("countersignerEmail",P.target.value),style:ke.input,type:"email"})]})]}),O&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:O}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>h(!1),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:I,disabled:T,style:{...ke.btnPrimary,opacity:T?.5:1},children:T?"Creating...":"Create Contract"})]})]})}),d&&l.jsx("div",{style:ke.overlay,onClick:()=>p(null),children:l.jsxs("div",{style:ke.modal,onClick:P=>P.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"Edit Contract"}),l.jsxs("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(255,255,255,0.3)",marginTop:"4px"},children:["ID: ",d.id]})]}),l.jsx("button",{onClick:()=>p(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",fontSize:"18px",cursor:"pointer"},children:""})]}),l.jsx("div",{style:ke.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Template"}),l.jsx("select",{value:w.projectId,onChange:P=>K(P.target.value),style:ke.select,children:Object.entries(Yi).map(([P,G])=>l.jsx("option",{value:P,children:G.projectDisplayName},P))})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Project Name"}),l.jsx("input",{value:w.projectName,onChange:P=>W("projectName",P.target.value),style:ke.input})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.clientName,onChange:P=>W("clientName",P.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.clientEmail,onChange:P=>W("clientEmail",P.target.value),style:ke.input,type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Countersigner"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.countersignerName,onChange:P=>W("countersignerName",P.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.countersignerEmail,onChange:P=>W("countersignerEmail",P.target.value),style:ke.input,type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Status"}),l.jsx("select",{value:w.status,onChange:P=>W("status",Number(P.target.value)),style:ke.select,children:O9.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))}),O&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:O}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>{S(d),p(null)},style:ke.btnDanger,children:"Delete"}),l.jsx("div",{style:{flex:1}}),l.jsx("button",{onClick:()=>p(null),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:A,disabled:T,style:{...ke.btnPrimary,opacity:T?.5:1},children:T?"Saving...":"Save Changes"})]})]})}),v&&l.jsx("div",{style:ke.overlay,onClick:()=>S(null),children:l.jsxs("div",{style:{...ke.modal,width:"420px",textAlign:"center"},onClick:P=>P.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#EF4444",margin:0},children:"Delete Contract"}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"13px",color:"rgba(255,255,255,0.6)",marginTop:"12px",lineHeight:1.6},children:["This will permanently delete the contract for ",l.jsx("strong",{style:{color:"white"},children:v.clientName})," (",v.projectName,"). This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"28px"},children:[l.jsx("button",{onClick:()=>S(null),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:R,disabled:T,style:{...ke.btnDanger,opacity:T?.5:1},children:T?"Deleting...":"Delete Permanently"})]})]})}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:40},onClick:()=>x(null)}),l.jsxs("div",{style:{position:"fixed",right:0,top:0,height:"100vh",width:"460px",background:"#0A0F1D",borderLeft:"1px solid rgba(200,169,81,0.3)",zIndex:50,display:"flex",flexDirection:"column",boxShadow:"-20px 0 60px rgba(0,0,0,0.5)",animation:"slideIn 0.3s ease-out"},children:[l.jsx("div",{style:{padding:"28px 28px 20px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"rgba(200,169,81,0.03)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"10px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase"},children:"Contract Details"}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"white",marginTop:"4px",margin:0},children:m.projectName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:[m.clientName,"  ",m.clientEmail]})]}),l.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer",fontSize:"16px"},children:""})]})}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Investment"}),l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"18px",color:"#C8A951",fontWeight:700,fontVariantNumeric:"tabular-nums"},children:["$",(Number(m.totalAmount)/100).toLocaleString()]})]}),l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Status"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgb(16,185,129)",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:B(m.status).replace(/_/g," ")})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Signers"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Client Signer"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:m.clientName})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:m.clientEmail})]}),l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Countersigner"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:m.countersignerName||l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontStyle:"italic",fontWeight:400},children:"Not assigned"})})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:m.countersignerEmail})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Audit Trail"}),l.jsx("div",{style:{position:"relative",borderLeft:"1px solid rgba(200,169,81,0.1)",marginLeft:"8px",paddingLeft:"20px"},children:ve(m).map((P,G)=>l.jsxs("div",{style:{marginBottom:"16px",position:"relative"},children:[l.jsx("div",{style:{position:"absolute",left:"-25px",top:"4px",width:"8px",height:"8px",borderRadius:"50%",background:"#C8A951",border:"2px solid #0A0F1D",boxShadow:"0 0 6px rgba(200,169,81,0.4)"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"white"},children:[l.jsx("span",{style:{marginRight:"8px"},children:P.icon}),P.label]}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(255,255,255,0.3)"},children:new Date(P.time).toLocaleString()})]})]},G))}),l.jsx("div",{style:ke.sectionTitle,children:"Evidence Metadata"}),l.jsx("div",{style:{padding:"14px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[["Contract ID",m.id],["Hashing","SHA-256 (AES Compatible)"],["Integrity Hash",m.id.repeat(2).substring(0,64)]].map(([P,G])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase"},children:P}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(16,185,129,0.5)",maxWidth:"60%",textAlign:"right",wordBreak:"break-all"},children:G})]},P))})]}),l.jsxs("div",{style:{padding:"16px 28px",borderTop:"1px solid rgba(255,255,255,0.08)",display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{L(m),x(null)},style:{...ke.btnGhost,flex:1,textAlign:"center"},children:"Edit Contract"}),l.jsx("button",{onClick:()=>window.open(`/contracts/${m.projectId}`,"_blank"),style:{...ke.btnPrimary,flex:1,textAlign:"center"},children:"Open in Vault"})]})]})]})]})}const nt={card:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"24px",transition:"all 0.3s",cursor:"pointer",position:"relative",overflow:"hidden"},cardActive:{border:"1px solid rgba(200,169,81,0.4)",background:"rgba(200,169,81,0.05)",boxShadow:"0 0 30px rgba(200,169,81,0.08)"},label:{fontFamily:"Inter, sans-serif",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",letterSpacing:"0.15em",fontWeight:600,display:"block",marginBottom:"4px"},value:{fontFamily:"Inter, sans-serif",fontSize:"13px",color:"white",fontWeight:500},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"32px"},chip:{display:"inline-block",padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,fontFamily:"Inter, sans-serif",letterSpacing:"0.05em",textTransform:"uppercase"},previewBox:{padding:"14px 16px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)",fontFamily:"Inter, sans-serif",fontSize:"12px",color:"rgba(255,255,255,0.7)",lineHeight:1.6,marginBottom:"12px"}};function L9(){const t=Object.entries(Yi),[e,n]=D.useState(null),i=e?Yi[e]:null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Tenant Registry"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[t.length," Registered Project Template",t.length!==1?"s":""]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},children:t.map(([r,o])=>{const c=e===r;return l.jsxs("div",{onClick:()=>n(c?null:r),style:{...nt.card,...c?nt.cardActive:{}},onMouseEnter:h=>{c||(h.currentTarget.style.borderColor="rgba(255,255,255,0.15)")},onMouseLeave:h=>{c||(h.currentTarget.style.borderColor="rgba(255,255,255,0.08)")},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:c?"linear-gradient(90deg, transparent, #C8A951, transparent)":"transparent",transition:"background 0.3s"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"16px",color:"white",margin:0,fontWeight:700},children:o.projectDisplayName}),l.jsx("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(200,169,81,0.6)",marginTop:"4px"},children:o.key})]}),l.jsx("span",{style:{...nt.chip,border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",background:"rgba(200,169,81,0.08)"},children:o.docCode})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Provider"}),l.jsx("span",{style:nt.value,children:o.providerName})]}),l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Doc Type"}),l.jsx("span",{style:nt.value,children:o.docType})]}),l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"SOW Type"}),l.jsx("span",{style:nt.value,children:o.sowPlatformType})]}),l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Tech Stack"}),l.jsxs("span",{style:nt.value,children:[o.techStack.length," layers"]})]})]})]},r)})}),i&&l.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(200,169,81,0.15)",borderRadius:"16px",padding:"32px",marginTop:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"#C8A951",margin:0},children:i.projectDisplayName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"4px"},children:["Template Preview  All contract tabs will use this content for ",l.jsx("code",{style:{color:"rgba(200,169,81,0.7)",fontSize:"11px"},children:e})," contracts"]})]}),l.jsx("button",{onClick:()=>window.open(`/contracts/${e}`,"_blank"),style:{padding:"8px 20px",borderRadius:"8px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"11px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:r=>{r.currentTarget.style.background="#C8A951",r.currentTarget.style.color="#0A0F1D"},onMouseLeave:r=>{r.currentTarget.style.background="rgba(200,169,81,0.1)",r.currentTarget.style.color="#C8A951"},children:"Preview Contract "})]}),l.jsx("div",{style:nt.sectionTitle,children:"Executive Summary"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Primary Objective Title"}),l.jsx("div",{style:{...nt.previewBox,fontSize:"14px",fontWeight:600,color:"white"},children:i.primaryObjectiveTitle})]}),l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Description"}),l.jsx("div",{style:nt.previewBox,children:i.primaryObjectiveDescription})]})]}),l.jsx("span",{style:nt.label,children:"Strategic Position"}),l.jsx("div",{style:nt.previewBox,children:i.strategicPosition}),l.jsx("span",{style:nt.label,children:"Tech Stack"}),l.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"8px"},children:i.techStack.map(r=>l.jsxs("div",{style:{padding:"6px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(200,169,81,0.6)",textTransform:"uppercase",letterSpacing:"0.1em"},children:r.label}),l.jsx("div",{style:{fontFamily:"Inter",fontSize:"12px",color:"white",marginTop:"2px"},children:r.value})]},r.label))}),l.jsx("div",{style:nt.sectionTitle,children:"Statement of Work"}),l.jsx("span",{style:nt.label,children:"SOW Objective"}),l.jsx("div",{style:nt.previewBox,children:i.sowObjective}),l.jsx("div",{style:nt.sectionTitle,children:"Master Service Agreement"}),l.jsx("span",{style:nt.label,children:"Recital"}),l.jsx("div",{style:nt.previewBox,children:i.msaRecital}),l.jsx("span",{style:nt.label,children:"Foreground IP Description"}),l.jsx("div",{style:nt.previewBox,children:i.msaForegroundIpDescription}),l.jsx("span",{style:nt.label,children:"Foreground IP Items"}),l.jsx("div",{style:nt.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaForegroundIpItems.map((r,o)=>l.jsx("li",{style:{marginBottom:"6px"},children:r},o))})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Vertical License Scope"}),l.jsx("div",{style:nt.previewBox,children:i.msaVerticalLicense})]}),l.jsxs("div",{children:[l.jsx("span",{style:nt.label,children:"Non-Compete Vertical"}),l.jsx("div",{style:nt.previewBox,children:i.msaNonCompeteVertical})]})]}),l.jsx("span",{style:nt.label,children:"Assumptions"}),l.jsx("div",{style:nt.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaAssumptions.map((r,o)=>l.jsx("li",{style:{marginBottom:"6px"},children:r},o))})}),l.jsx("div",{style:nt.sectionTitle,children:"Document Scope (Exhibit A)"}),i.msaDocumentScope.map((r,o)=>l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("span",{style:{fontFamily:"Cinzel, serif",fontSize:"12px",color:"rgba(200,169,81,0.8)",fontWeight:600},children:r.title}),l.jsx("div",{style:{...nt.previewBox,marginTop:"6px"},children:r.content})]},o))]})]})}const bp=Pb();function V9(){const{data:t,isLoading:e,error:n}=Kj(),i=GB(),r=(d,p)=>{i.mutate({userId:d,role:p})},o=D.useMemo(()=>[bp.accessor("name",{header:"Full Name",cell:d=>l.jsx("span",{className:"text-white font-medium",children:d.getValue()})}),bp.accessor("email",{header:"Email Address",cell:d=>l.jsx("span",{className:"text-blue-200/70 font-mono text-xs",children:d.getValue()})}),bp.accessor("role",{header:"Access Role",cell:d=>{const p=d.getValue(),m=d.row.original.id;return l.jsxs("select",{value:p,onChange:x=>r(m,x.target.value),className:"bg-black/40 text-gold border border-gold/30 rounded px-2 py-1 text-xs inter focus:outline-none focus:border-gold transition-colors",children:[l.jsx("option",{value:"Admin",children:"Admin"}),l.jsx("option",{value:"Editor",children:"Editor"}),l.jsx("option",{value:"Viewer",children:"Viewer"})]})}}),bp.display({id:"actions",header:"Security",cell:()=>l.jsx("button",{className:"text-[10px] text-slate-500 hover:text-red-400 uppercase tracking-widest font-bold transition-colors",children:"Revoke Access"})})],[i]),c=D.useMemo(()=>t?.users??[],[t]),h=Fb({data:c,columns:o,getCoreRowModel:Vb()});return e?l.jsx("div",{className:"text-gold inter animate-pulse",children:"Scanning Personnel Ledger..."}):n?l.jsx("div",{className:"text-red-500 border border-red-500/20 bg-red-500/5 p-4 rounded-lg inter",children:"Neural Link Failure: Unable to fetch user data"}):l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Access Control"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Manage system-wide permissions & roles"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all duration-300 inter text-xs font-semibold",children:"Export Audit Log"}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold text-gold rounded-lg hover:bg-gold hover:text-navy transition-all duration-300 cinzel font-bold text-sm tracking-wider",children:"Invite Operator"})]})]}),l.jsxs("div",{className:"neo-glass-panel overflow-hidden border border-white/10 rounded-xl",children:[l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:h.getHeaderGroups().map(d=>l.jsx("tr",{className:"bg-white/5 border-b border-white/10",children:d.headers.map(p=>l.jsx("th",{className:"p-4 cinzel text-[10px] text-gold/60 tracking-[0.2em] uppercase font-bold",children:p.isPlaceholder?null:Jc(p.column.columnDef.header,p.getContext())},p.id))},d.id))}),l.jsx("tbody",{className:"inter text-sm",children:h.getRowModel().rows.map(d=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors duration-200",children:d.getVisibleCells().map(p=>l.jsx("td",{className:"p-4",children:Jc(p.column.columnDef.cell,p.getContext())},p.id))},d.id))})]}),c.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-500 inter italic",children:"No authorization records found."})]})]})}function F9(){const t=Yj(),[e,n]=D.useState(null),i=o=>{t.mutate({developerId:"dev_cylton_001",action:o,metadata:JSON.stringify({timestamp:Date.now(),environment:"staging"})},{onSuccess:c=>{n(`${o} (SID: ${c.sessionId})`)}})},r=[{label:"System Uptime",value:"99.98%",trend:"+0.02%",color:"text-emerald"},{label:"API Latency",value:"24ms",trend:"-4ms",color:"text-emerald"},{label:"Estates Secured",value:"1,284",trend:"+12",color:"text-gold"},{label:"Secure Logins",value:"8.4k",trend:"+412",color:"text-gold"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Development KPIs"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time system health & session analytics"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:r.map((o,c)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:o.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-xl font-bold text-white",children:o.value}),l.jsx("span",{className:`inter text-[10px] font-bold ${o.trend.startsWith("+")?"text-emerald":"text-blue-400"}`,children:o.trend})]})]},c))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Simulation Engine"}),l.jsx("div",{className:"flex flex-wrap gap-3",children:["GitHub Sync","Database Backup","Cache Flush","Re-index Search"].map(o=>l.jsx("button",{onClick:()=>i(o),className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:border-gold/50 hover:bg-gold/5 transition-all duration-300 inter text-xs font-medium",disabled:t.isPending,children:o},o))}),e&&l.jsx("div",{className:"mt-4 p-4 bg-emerald/5 border border-emerald/20 rounded-lg",children:l.jsxs("p",{className:"inter text-[10px] text-emerald font-medium uppercase tracking-wider",children:["Session Logged: ",e]})})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gold/5 blur-3xl rounded-full -mr-10 -mt-10"}),l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"System Integrity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"gRPC Endpoint Status"}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald shadow-[0_0_8px_#10B981]"}),l.jsx("span",{className:"inter text-[10px] text-emerald font-bold uppercase",children:"Operational"})]})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Cloud Run Version"}),l.jsx("span",{className:"inter text-[10px] text-blue-400 font-bold font-mono",children:"v5.3.0-gold"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Last Git Commit"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 font-mono",children:"#fe4a23 (Initial Foundation)"})]})]})]})]})]})}const Sd=Pb();function B9(){const{data:t}=HB(),e=$B(),[n,i]=D.useState("all"),[r,o]=D.useState(""),[c,h]=D.useState(""),[d,p]=D.useState("info"),[m,x]=D.useState("in_app"),v=()=>{!r||!c||e.mutate({recipientId:n,title:r,body:c,type:d,channel:m},{onSuccess:()=>{o(""),h(""),alert("Broadcast Dispatched Successfully")}})},S=D.useMemo(()=>[Sd.accessor("title",{header:"Subject",cell:T=>l.jsx("span",{className:"text-white font-medium",children:T.getValue()})}),Sd.accessor("recipientId",{header:"Recipient",cell:T=>l.jsx("span",{className:"text-blue-200/60 font-mono text-xs uppercase",children:T.getValue()})}),Sd.accessor("type",{header:"Type",cell:T=>l.jsx("span",{className:`text-[10px] font-bold uppercase ${T.getValue()==="warning"?"text-yellow-400":T.getValue()==="error"?"text-red-400":"text-emerald"}`,children:T.getValue()})}),Sd.accessor("sentAt",{header:"Timestamp",cell:T=>l.jsx("span",{className:"text-slate-500 text-xs",children:new Date(Number(T.getValue())*1e3).toLocaleString()})}),Sd.accessor("status",{header:"Status",cell:T=>l.jsx("span",{className:"inter text-[10px] text-slate-400 italic",children:T.getValue()})})],[]),w=D.useMemo(()=>t?.notifications??[],[t]),E=Fb({data:w,columns:S,getCoreRowModel:Vb()});return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsx("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Omni-notify Engine"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Multi-channel broadcast control"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-4",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Dispatch Composer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Recipient Scope"}),l.jsx("input",{value:n,onChange:T=>i(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"User ID or 'all'"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Headline"}),l.jsx("input",{value:r,onChange:T=>o(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"Notification Title"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Message Content"}),l.jsx("textarea",{value:c,onChange:T=>h(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none min-h-[100px]",placeholder:"What is the message?"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Severity"}),l.jsxs("select",{value:d,onChange:T=>p(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"success",children:"Success"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"})]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Priority Channel"}),l.jsxs("select",{value:m,onChange:T=>x(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"in_app",children:"In-App"}),l.jsx("option",{value:"push",children:"Push Notif"}),l.jsx("option",{value:"email",children:"Email Hub"})]})]})]}),l.jsx("button",{onClick:v,disabled:e.isPending,className:"mt-4 px-6 py-3 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded-lg hover:bg-gold-bright transition-all disabled:opacity-50",children:e.isPending?"Dispatching...":"Dispatch Signal "})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:l.jsx("h3",{className:"cinzel text-xs text-slate-300 tracking-widest font-bold uppercase",children:"Transmission Audit Log"})}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-white/10",children:E.getHeaderGroups().map(T=>T.headers.map(M=>l.jsx("th",{className:"p-4 cinzel text-[9px] text-gold/40 tracking-[0.2em] uppercase font-bold",children:Jc(M.column.columnDef.header,M.getContext())},M.id)))})}),l.jsx("tbody",{className:"inter text-sm",children:E.getRowModel().rows.map(T=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:T.getVisibleCells().map(M=>l.jsx("td",{className:"p-4",children:Jc(M.column.columnDef.cell,M.getContext())},M.id))},T.id))})]}),w.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-600 inter italic text-xs",children:"No transmission history found in the ledger."})]})]})})]})]})}function z9(){const{data:t,isLoading:e,isError:n}=Qj(),i=qB(),[r,o]=D.useState(!1),[c,h]=D.useState("us-central1"),[d,p]=D.useState(2);D.useEffect(()=>{t&&(o(t.maintenanceMode),h(t.activeRegion),p(t.sirsiMultiplier))},[t]);const m=()=>{i.mutate({maintenanceMode:r,activeRegion:c,sirsiMultiplier:d})};if(e)return l.jsx("div",{className:"p-12 text-center text-gold cinzel animate-pulse",children:"Synchronizing with Sirsi Cluster..."});if(n)return l.jsx("div",{className:"p-12 text-center text-red-500 cinzel border border-red-500/20 rounded-xl bg-red-500/5",children:"Failed to acquire system configuration."});const x=t&&(r!==t.maintenanceMode||c!==t.activeRegion||d!==t.sirsiMultiplier);return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Configuration"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Global environment variables & governance"})]}),x&&l.jsx("button",{onClick:m,disabled:i.isPending,className:"px-6 py-2 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded hover:bg-gold-bright transition-all shadow-[0_0_15px_rgba(200,169,81,0.3)]",children:i.isPending?"Propagating...":"Commit Changes "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Governance Controls"}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 border border-white/5 rounded-lg",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:"Maintenance Mode"}),l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Stop all new contract generations"})]}),l.jsx("button",{onClick:()=>o(!r),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${r?"bg-red-500":"bg-slate-700"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all duration-300 ${r?"left-7":"left-1"}`})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Active Deployment Region"}),l.jsxs("select",{value:c,onChange:v=>h(v.target.value),className:"bg-black/40 border border-white/10 rounded px-4 py-2 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"us-central1",children:"us-central1 (Iowa)"}),l.jsx("option",{value:"us-east1",children:"us-east1 (S. Carolina)"}),l.jsx("option",{value:"europe-west1",children:"europe-west1 (Belgium)"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Sirsi Multiplier (Rule 13)"}),l.jsxs("span",{className:"text-gold font-bold font-mono text-sm",children:[d.toFixed(1),"x"]})]}),l.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:d,onChange:v=>p(parseFloat(v.target.value)),className:"w-full accent-gold h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-[8px] text-slate-600 inter uppercase font-bold tracking-widest",children:[l.jsx("span",{children:"1.0x (Market)"}),l.jsx("span",{children:"3.0x (Ultra-Tier)"})]})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Integration Health"}),l.jsx("div",{className:"space-y-4",children:[{name:"Stripe Live Connect",status:"Healthy",key:"pk_live_...4k39"},{name:"OpenSign API Node",status:"Healthy",key:"node_ext_...90bc"},{name:"Gemini 3.0 (Vertex AI)",status:"Active",key:"vertex_sa_...f2e0"},{name:"Firebase Admin SDK",status:"Connected",key:"service-account"}].map((v,S)=>l.jsxs("div",{className:"flex justify-between items-start bg-black/20 p-4 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:v.name}),l.jsx("span",{className:"inter text-[9px] text-slate-500 font-mono mt-1",children:v.key})]}),l.jsx("span",{className:`inter text-[9px] font-bold uppercase px-2 py-1 rounded bg-white/5 border ${v.status==="Healthy"||v.status==="Active"||v.status==="Connected"?"text-emerald border-emerald/20":"text-yellow-500 border-yellow-500/20"}`,children:v.status})]},S))}),l.jsx("button",{className:"w-full py-3 border border-white/10 text-white inter text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-white/5 transition-all",children:"Rotate All Security Keys"})]})]})]})}function U9(){const{data:t}=Kj(100),[e,n]=D.useState(new Date().toLocaleTimeString());D.useEffect(()=>{const o=setInterval(()=>n(new Date().toLocaleTimeString()),6e4);return()=>clearInterval(o)},[]);const i=[{label:"Total Accounts",value:t?.users?.length||"1,284",trend:"+12%",color:"text-blue-400",icon:""},{label:"Active Sessions",value:"42",trend:"+8",color:"text-emerald",icon:""},{label:"Platform Revenue",value:"$84.2k",trend:"+22%",color:"text-gold",icon:""},{label:"Vault Integrity",value:"99.9%",trend:"Stable",color:"text-purple-400",icon:""}],r=[{label:"LCP (Largest Render)",value:"1.2s",status:"Optimal"},{label:"FID (Input Latency)",value:"14ms",status:"Optimal"},{label:"CLS (Layout Shift)",value:"0.02",status:"Optimal"},{label:"TTFB (First Byte)",value:"150ms",status:"Good"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Intelligence"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time telemetry and user behavior analytics"})]}),l.jsxs("div",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border border-white/10 px-3 py-1 rounded bg-white/5",children:["Last Sync: ",l.jsx("span",{className:"text-slate-300 ml-1",children:e})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:i.map((o,c)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl relative overflow-hidden group hover:border-gold/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 text-2xl opacity-20 group-hover:opacity-40 transition-opacity translate-x-2 -translate-y-2",children:o.icon}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-2",children:o.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:o.value}),l.jsx("span",{className:`inter text-[9px] font-bold ${o.trend.startsWith("+")?"text-emerald":"text-slate-400"}`,children:o.trend})]})]},c))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"User Engagement Trend"}),l.jsx("div",{className:"h-48 flex items-end gap-2 border-b border-white/5 pb-2",children:[40,60,45,80,55,90,70,85,95,100,80,85].map((o,c)=>l.jsx("div",{className:"flex-1 bg-gradient-to-t from-gold/40 to-gold/10 rounded-t-sm hover:from-gold hover:to-gold/40 transition-all duration-300 relative group",style:{height:`${o}%`},children:l.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gold text-navy text-[8px] font-bold px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[o," Users"]})},c))}),l.jsxs("div",{className:"flex justify-between inter text-[8px] text-slate-500 uppercase tracking-widest",children:[l.jsx("span",{children:"06:00"}),l.jsx("span",{children:"12:00"}),l.jsx("span",{children:"18:00"}),l.jsx("span",{children:"Now"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Core Web Vitals (T4 Plane)"}),l.jsx("div",{className:"space-y-4",children:r.map((o,c)=>l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"inter text-[10px] text-slate-300 uppercase tracking-tight",children:o.label}),l.jsxs("span",{className:"inter text-[10px] text-emerald font-bold",children:[o.value," ",l.jsxs("span",{className:"text-[8px] opacity-60 ml-1",children:["(",o.status,")"]})]})]}),l.jsx("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-emerald shadow-[0_0_8px_#10B981]",style:{width:c===0?"90%":c===1?"98%":c===2?"95%":"85%"}})})]},c))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Device Distribution"}),l.jsx("div",{className:"space-y-4",children:[{label:"Desktop",val:"65%",color:"bg-blue-400"},{label:"Mobile",val:"30%",color:"bg-gold"},{label:"Tablet",val:"5%",color:"bg-purple-400"}].map((o,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:o.val})]},c))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Identity Verification"}),l.jsx("div",{className:"space-y-4",children:[{label:"TOTP Gated",val:"88%",color:"bg-emerald"},{label:"SMS Verified",val:"10%",color:"bg-blue-400"},{label:"Legacy/Unknown",val:"2%",color:"bg-red-400"}].map((o,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:o.val})]},c))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Regional Distribution"}),l.jsx("div",{className:"space-y-4 whitespace-nowrap overflow-hidden",children:[{label:"US-CENTRAL1",val:"Operational",color:"text-emerald"},{label:"US-EAST4",val:"Operational",color:"text-emerald"},{label:"EU-WEST1",val:"De-commissioned",color:"text-slate-500"}].map((o,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:o.label}),l.jsx("span",{className:`inter text-[10px] font-bold ${o.color} uppercase`,children:o.val})]},c))})]})]})]})}function H9(){const[t,e]=D.useState([]),[n,i]=D.useState([]),[r,o]=D.useState("all");D.useEffect(()=>{const d=[],p=[];for(let m=0;m<localStorage.length;m++){const x=localStorage.key(m);if(x?.startsWith("transaction-")){const v=JSON.parse(localStorage.getItem(x));d.push({...v,category:"business"})}else if(x?.startsWith("personal-transaction-")){const v=JSON.parse(localStorage.getItem(x));d.push({...v,category:"personal"})}else if(x?.startsWith("invoice-request-")){const v=JSON.parse(localStorage.getItem(x));p.push({...v,category:"business"})}else if(x?.startsWith("personal-invoice-")){const v=JSON.parse(localStorage.getItem(x));p.push({...v,category:"personal"})}}e(d.sort((m,x)=>new Date(x.timestamp).getTime()-new Date(m.timestamp).getTime())),i(p.sort((m,x)=>new Date(x.timestamp).getTime()-new Date(m.timestamp).getTime()))},[]);const c=t.filter(d=>r==="all"||d.category===r),h={total:t.reduce((d,p)=>d+parseFloat(p.amount),0),business:t.filter(d=>d.category==="business").reduce((d,p)=>d+parseFloat(p.amount),0),personal:t.filter(d=>d.category==="personal").reduce((d,p)=>d+parseFloat(p.amount),0),count:t.length};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Revenue & Tax Tracking"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Financial settlement and tax preparation ledger"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-400 hover:text-white transition-all",children:"Export CSV"}),l.jsx("button",{className:"px-4 py-2 bg-gold/10 border border-gold/20 rounded-lg text-[10px] uppercase font-bold text-gold hover:bg-gold/20 transition-all",children:"Prepare Tax Export"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald/5 blur-2xl rounded-full -mr-8 -mt-8"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Total Revenue"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-white",children:["$",h.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Sirsi Business"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-emerald",children:["$",h.business.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Collymore Consulting"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-blue-400",children:["$",h.personal.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Transactions"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-gold",children:h.count})]})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Recent Ledger Transactions"}),l.jsxs("select",{value:r,onChange:d=>o(d.target.value),className:"bg-black/40 border border-white/10 rounded px-3 py-1 inter text-[10px] text-slate-300 uppercase focus:outline-none focus:border-gold/50",children:[l.jsx("option",{value:"all",children:"All Channels"}),l.jsx("option",{value:"business",children:"Sirsi Business"}),l.jsx("option",{value:"personal",children:"Collymore Consulting"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Ref ID"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Description"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Channel"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:c.length>0?c.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-gold opacity-70 group-hover:opacity-100",children:d.transactionId}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.description}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("span",{className:"flex items-center justify-end gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald"}),l.jsx("span",{className:"text-[9px] text-emerald uppercase font-bold",children:d.status||"Verified"})]})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No transactions found in this channel."})})})]})})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/5 bg-white/5",children:l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Open Payment Requests"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Request Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Inv #"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Client"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Service"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Channel"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:n.length>0?n.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-white",children:d.invoiceNumber}),l.jsx("td",{className:"px-6 py-4 text-slate-300",children:d.clientName||d.companyName||"N/A"}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.service}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No pending payment requests."})})})]})})]})]})}const $9=Nb;function G9(){const[t,e]=D.useState(""),[n,i]=D.useState(""),[r,o]=D.useState(""),[c,h]=D.useState(""),[d,p]=D.useState(""),[m,x]=D.useState(""),[v,S]=D.useState(""),[w,E]=D.useState(!1);D.useEffect(()=>{const O=new Date;O.setDate(O.getDate()+30),x(O.toISOString().split("T")[0]);const k="SIRSI-"+new Date().getFullYear()+"-"+String(Date.now()).slice(-3);e(k)},[]);const T=()=>{if(!t||!n||!r||!c||!d){alert("Please fill in all required fields.");return}const O={number:t,amount:parseFloat(n),client:r,email:c,service:d,date:new Date().toISOString(),dueDate:m},k=encodeURIComponent(JSON.stringify(O)),B=`${window.location.origin}/pay.html?invoice=${k}`;S(B),E(!0),localStorage.setItem("invoice-"+t,JSON.stringify({...O,type:"sirsi-invoice",status:"created",paymentLink:B,createdAt:new Date().toISOString(),timestamp:new Date().toISOString()}))},M=()=>{navigator.clipboard.writeText(v),alert("Payment link copied to clipboard.")};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Invoice Creator"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Generate professional multi-channel billing requests"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Invoice #"}),l.jsx("input",{value:t,onChange:O=>e(O.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Amount ($USD)"}),l.jsx("input",{type:"number",value:n,onChange:O=>i(O.target.value),placeholder:"0.00",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Client Identity"}),l.jsx("input",{value:r,onChange:O=>o(O.target.value),placeholder:"Individual or Corporate Name",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Notification Endpoint (Email)"}),l.jsx("input",{type:"email",value:c,onChange:O=>h(O.target.value),placeholder:"client@governance.ai",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Service Itemization"}),l.jsx("textarea",{value:d,onChange:O=>p(O.target.value),rows:3,placeholder:"Describe the consultation or service provided...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50 resize-none"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Maturity Date (Due Date)"}),l.jsx("input",{type:"date",value:m,onChange:O=>x(O.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsx("button",{onClick:T,className:"mt-4 w-full bg-gold hover:bg-gold-bright text-navy font-bold py-4 rounded-xl transition-all duration-300 cinzel tracking-widest shadow-[0_0_20px_rgba(200,169,81,0.2)]",children:"Execute Request"})]}),l.jsx("div",{className:"flex flex-col gap-6",children:w?l.jsxs("div",{className:"neo-glass-panel p-8 border border-emerald/20 bg-emerald/5 rounded-xl flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald flex items-center justify-center text-navy text-lg",children:""}),l.jsx("h3",{className:"cinzel text-sm text-emerald tracking-widest font-bold uppercase",children:"Request Generated"})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("label",{className:"inter text-[9px] text-slate-400 uppercase tracking-[0.2em]",children:"Universal Payment Link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{readOnly:!0,value:v,className:"flex-1 bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-[10px] text-slate-300 focus:outline-none"}),l.jsx("button",{onClick:M,className:"px-6 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-[10px] font-bold uppercase tracking-widest text-white transition-all",children:"Copy"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white rounded-xl border-4 border-emerald/20",children:[l.jsx($9,{value:v,size:160,level:"M",fgColor:"#022c22"}),l.jsx("span",{className:"inter text-[10px] text-navy font-bold uppercase tracking-widest",children:"Multi-Channel QR"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{className:"py-3 bg-blue-500/20 border border-blue-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-blue-400 hover:bg-blue-500/30 transition-all",children:"Send Email"}),l.jsx("button",{className:"py-3 bg-purple-500/20 border border-purple-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-purple-400 hover:bg-purple-500/30 transition-all",children:"Show Zelle"})]})]}):l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col items-center justify-center gap-6 min-h-[400px] opacity-40 grayscale",children:[l.jsx("div",{className:"text-4xl",children:""}),l.jsxs("p",{className:"inter text-xs text-slate-400 uppercase tracking-widest text-center",children:["Complete the form to ",l.jsx("br",{}),"visualize the secure billing request"]})]})})]})]})}function q9(){const[t,e]=D.useState([]),[n,i]=D.useState(!0),[r,o]=D.useState(null),c=$t.currentUser;D.useEffect(()=>{c&&h()},[c]);const h=async()=>{if(c){i(!0);try{const p=B8(E8(lE,"projects"),z8("ownerId","==",c.uid)),x=(await K8(p)).docs.map(v=>({id:v.id,...v.data()}));e(x)}catch(p){console.error("Error loading projects:",p)}finally{i(!1)}}},d=async()=>{const p=new _r;p.addScope("repo"),p.addScope("user:email");try{const m=await o6($t,p),x=_r.credentialFromResult(m);if(o(x?.accessToken||null),m.user){const v={uid:m.user.uid,email:m.user.email,githubUsername:m._tokenResponse?.screenName,lastLogin:new Date().toISOString()};await Y8(C8(lE,"developers",m.user.uid),v,{merge:!0})}}catch(m){console.error("GitHub link error:",m)}};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Developer Forge"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"SDK Management and Application Orchestration"})]}),!r&&l.jsxs("button",{onClick:d,className:"px-6 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-300 hover:text-white hover:bg-white/10 transition-all flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Link GitHub Account"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"Active Projects"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:t.length})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"API Requests"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-emerald",children:"24.1k"})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"System Latency"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-blue-400",children:"14ms"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-3 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Authorized Projects"}),l.jsx("button",{className:"px-4 py-2 bg-gold text-navy text-[10px] font-bold uppercase rounded-lg hover:bg-gold-bright transition-all",children:"Create New"})]}),l.jsx("div",{className:"p-0",children:n?l.jsx("div",{className:"p-10 text-center text-slate-500 inter text-xs uppercase animate-pulse",children:"Synchronizing with registry..."}):t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:t.map(p=>l.jsxs("div",{className:"p-4 bg-black/20 border border-white/5 rounded-lg hover:border-gold/30 cursor-pointer transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"inter text-sm font-bold text-white group-hover:text-gold transition-colors",children:p.name}),l.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded border border-emerald/50 text-emerald uppercase font-bold",children:p.status})]}),l.jsx("p",{className:"inter text-[11px] text-slate-400 line-clamp-2 mb-4",children:p.description}),l.jsxs("div",{className:"flex justify-between items-center text-[9px] text-slate-500 font-mono uppercase",children:[l.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()}),p.githubRepo&&l.jsx("span",{className:"text-blue-400 hover:underline",children:"GitHub Access "})]})]},p.id))}):l.jsxs("div",{className:"p-20 text-center flex flex-col items-center gap-4",children:[l.jsx("div",{className:"text-3xl grayscale opacity-30",children:""}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest",children:"No active deployments found for this identity."})]})})]})}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"Credentials"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-black/40 border border-white/10 rounded-lg",children:[l.jsx("span",{className:"inter text-[8px] text-slate-500 uppercase block mb-1",children:"Production Key"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("code",{className:"text-[10px] text-slate-300 font-mono",children:"sk_live_...48f2"}),l.jsx("button",{className:"text-gold text-[9px] font-bold hover:underline",children:"COPY"})]})]}),l.jsx("button",{className:"w-full py-2 border border-white/10 rounded-lg text-[9px] text-slate-400 uppercase font-bold hover:bg-white/5 transition-all",children:"Rotate Keys"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"SDK Resources"}),l.jsx("div",{className:"flex flex-col gap-2",children:["Documentation","API Reference","Go Client","React Hooks"].map(p=>l.jsxs("a",{href:"#",className:"inter text-[11px] text-slate-400 hover:text-white transition-colors flex justify-between items-center py-1 group",children:[p,l.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},p))})]})]})]})]})}const EI=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ig=D.createContext({}),rg=D.createContext(null),sg=typeof document<"u",Bb=sg?D.useLayoutEffect:D.useEffect,CI=D.createContext({strict:!1}),zb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),W9="framerAppearId",AI="data-"+zb(W9);function K9(t,e,n,i){const{visualElement:r}=D.useContext(ig),o=D.useContext(CI),c=D.useContext(rg),h=D.useContext(EI).reducedMotion,d=D.useRef();i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current;D.useInsertionEffect(()=>{p&&p.update(n,c)});const m=D.useRef(!!(n[AI]&&!window.HandoffComplete));return Bb(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function Ec(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Y9(t,e,n){return D.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ec(n)&&(n.current=i))},[e])}function dh(t){return typeof t=="string"||Array.isArray(t)}function ag(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ub=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hb=["initial",...Ub];function og(t){return ag(t.animate)||Hb.some(e=>dh(t[e]))}function jI(t){return!!(og(t)||t.variants)}function Q9(t,e){if(og(t)){const{initial:n,animate:i}=t;return{initial:n===!1||dh(n)?n:void 0,animate:dh(i)?i:void 0}}return t.inherit!==!1?e:{}}function J9(t){const{initial:e,animate:n}=Q9(t,D.useContext(ig));return D.useMemo(()=>({initial:e,animate:n}),[TE(e),TE(n)])}function TE(t){return Array.isArray(t)?t.join(" "):t}const EE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hh={};for(const t in EE)hh[t]={isEnabled:e=>EE[t].some(n=>!!e[n])};function X9(t){for(const e in t)hh[e]={...hh[e],...t[e]}}const $b=D.createContext({}),II=D.createContext({}),Z9=Symbol.for("motionComponentSymbol");function eU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&X9(t);function o(h,d){let p;const m={...D.useContext(EI),...h,layoutId:tU(h)},{isStatic:x}=m,v=J9(h),S=i(h,x);if(!x&&sg){v.visualElement=K9(r,S,m,e);const w=D.useContext(II),E=D.useContext(CI).strict;v.visualElement&&(p=v.visualElement.loadFeatures(m,E,t,w))}return D.createElement(ig.Provider,{value:v},p&&v.visualElement?D.createElement(p,{visualElement:v.visualElement,...m}):null,n(r,h,Y9(S,v.visualElement,d),S,x,v.visualElement))}const c=D.forwardRef(o);return c[Z9]=r,c}function tU({layoutId:t}){const e=D.useContext($b).id;return e&&t!==void 0?e+"-"+t:t}function nU(t){function e(i,r={}){return eU(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const iU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gb(t){return typeof t!="string"||t.includes("-")?!1:!!(iU.indexOf(t)>-1||/[A-Z]/.test(t))}const bm={};function rU(t){Object.assign(bm,t)}const jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(jh);function RI(t,{layout:e,layoutId:n}){return sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bm[t]||t==="opacity")}const fi=t=>!!(t&&t.getVelocity),sU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aU=jh.length;function oU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let o="";for(let c=0;c<aU;c++){const h=jh[c];if(t[h]!==void 0){const d=sU[h]||h;o+=`${d}(${t[h]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(t,i?"":o):n&&i&&(o="none"),o}const NI=t=>e=>typeof e=="string"&&e.startsWith(t),kI=NI("--"),cv=NI("var(--"),lU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ma=(t,e,n)=>Math.min(Math.max(n,t),e),al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wd={...al,transform:t=>Ma(0,1,t)},Sp={...al,default:1},Kd=t=>Math.round(t*1e5)/1e5,lg=/(-)?([\d]*\.?[\d])+/g,PI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,uU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ih(t){return typeof t=="string"}const Rh=t=>({test:e=>Ih(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ha=Rh("deg"),jr=Rh("%"),Oe=Rh("px"),dU=Rh("vh"),hU=Rh("vw"),CE={...jr,parse:t=>jr.parse(t)/100,transform:t=>jr.transform(t*100)},AE={...al,transform:Math.round},DI={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,size:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:Sp,scaleX:Sp,scaleY:Sp,scaleZ:Sp,skew:ha,skewX:ha,skewY:ha,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Wd,originX:CE,originY:CE,originZ:Oe,zIndex:AE,fillOpacity:Wd,strokeOpacity:Wd,numOctaves:AE};function qb(t,e,n,i){const{style:r,vars:o,transform:c,transformOrigin:h}=t;let d=!1,p=!1,m=!0;for(const x in e){const v=e[x];if(kI(x)){o[x]=v;continue}const S=DI[x],w=cU(v,S);if(sl.has(x)){if(d=!0,c[x]=w,!m)continue;v!==(S.default||0)&&(m=!1)}else x.startsWith("origin")?(p=!0,h[x]=w):r[x]=w}if(e.transform||(d||i?r.transform=oU(t.transform,n,m,i):r.transform&&(r.transform="none")),p){const{originX:x="50%",originY:v="50%",originZ:S=0}=h;r.transformOrigin=`${x} ${v} ${S}`}}const Wb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OI(t,e,n){for(const i in e)!fi(e[i])&&!RI(i,n)&&(t[i]=e[i])}function fU({transformTemplate:t},e,n){return D.useMemo(()=>{const i=Wb();return qb(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function pU(t,e,n){const i=t.style||{},r={};return OI(r,i,t),Object.assign(r,fU(t,e,n)),t.transformValues?t.transformValues(r):r}function mU(t,e,n){const i={},r=pU(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const gU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gU.has(t)}let MI=t=>!Sm(t);function yU(t){t&&(MI=e=>e.startsWith("on")?!Sm(e):t(e))}try{yU(require("@emotion/is-prop-valid").default)}catch{}function xU(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(MI(r)||n===!0&&Sm(r)||!e&&!Sm(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function jE(t,e,n){return typeof t=="string"?t:Oe.transform(e+n*t)}function vU(t,e,n){const i=jE(e,t.x,t.width),r=jE(n,t.y,t.height);return`${i} ${r}`}const bU={offset:"stroke-dashoffset",array:"stroke-dasharray"},SU={offset:"strokeDashoffset",array:"strokeDasharray"};function wU(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?bU:SU;t[o.offset]=Oe.transform(-i);const c=Oe.transform(e),h=Oe.transform(n);t[o.array]=`${c} ${h}`}function Kb(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...p},m,x,v){if(qb(t,p,m,v),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:w,dimensions:E}=t;S.transform&&(E&&(w.transform=S.transform),delete S.transform),E&&(r!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=vU(E,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),i!==void 0&&(S.scale=i),c!==void 0&&wU(S,c,h,d,!1)}const LI=()=>({...Wb(),attrs:{}}),Yb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _U(t,e,n,i){const r=D.useMemo(()=>{const o=LI();return Kb(o,e,{enableHardwareAcceleration:!1},Yb(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};OI(o,t.style,t),r.style={...o,...r.style}}return r}function TU(t=!1){return(n,i,r,{latestValues:o},c)=>{const d=(Gb(n)?_U:mU)(i,o,c,n),m={...xU(i,typeof n=="string",t),...d,ref:r},{children:x}=i,v=D.useMemo(()=>fi(x)?x.get():x,[x]);return D.createElement(n,{...m,children:v})}}function VI(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const FI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BI(t,e,n,i){VI(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(FI.has(r)?r:zb(r),e.attrs[r])}function Qb(t,e){const{style:n}=t,i={};for(const r in n)(fi(n[r])||e.style&&fi(e.style[r])||RI(r,t))&&(i[r]=n[r]);return i}function zI(t,e){const n=Qb(t,e);for(const i in t)if(fi(t[i])||fi(e[i])){const r=jh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function Jb(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function UI(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const wm=t=>Array.isArray(t),EU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CU=t=>wm(t)?t[t.length-1]||0:t;function Bp(t){const e=fi(t)?t.get():t;return EU(e)?e.toValue():e}function AU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,o){const c={latestValues:jU(i,r,o,t),renderState:e()};return n&&(c.mount=h=>n(i,h,c)),c}const HI=t=>(e,n)=>{const i=D.useContext(ig),r=D.useContext(rg),o=()=>AU(t,e,i,r);return n?o():UI(o)};function jU(t,e,n,i){const r={},o=i(t,{});for(const v in o)r[v]=Bp(o[v]);let{initial:c,animate:h}=t;const d=og(t),p=jI(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const x=m?h:c;return x&&typeof x!="boolean"&&!ag(x)&&(Array.isArray(x)?x:[x]).forEach(S=>{const w=Jb(t,S);if(!w)return;const{transitionEnd:E,transition:T,...M}=w;for(const O in M){let k=M[O];if(Array.isArray(k)){const B=m?k.length-1:0;k=k[B]}k!==null&&(r[O]=k)}for(const O in E)r[O]=E[O]}),r}const on=t=>t;class IE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function IU(t){let e=new IE,n=new IE,i=0,r=!1,o=!1;const c=new WeakSet,h={schedule:(d,p=!1,m=!1)=>{const x=m&&r,v=x?e:n;return p&&c.add(d),v.add(d)&&x&&r&&(i=e.order.length),d},cancel:d=>{n.remove(d),c.delete(d)},process:d=>{if(r){o=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let p=0;p<i;p++){const m=e.order[p];m(d),c.has(m)&&(h.schedule(m),t())}r=!1,o&&(o=!1,h.process(d))}};return h}const wp=["prepare","read","update","preRender","render","postRender"],RU=40;function NU(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=wp.reduce((x,v)=>(x[v]=IU(()=>n=!0),x),{}),c=x=>o[x].process(r),h=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,RU),1),r.timestamp=x,r.isProcessing=!0,wp.forEach(c),r.isProcessing=!1,n&&e&&(i=!1,t(h))},d=()=>{n=!0,i=!0,r.isProcessing||t(h)};return{schedule:wp.reduce((x,v)=>{const S=o[v];return x[v]=(w,E=!1,T=!1)=>(n||d(),S.schedule(w,E,T)),x},{}),cancel:x=>wp.forEach(v=>o[v].cancel(x)),state:r,steps:o}}const{schedule:Mt,cancel:ws,state:Gn,steps:Xx}=NU(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0),kU={useVisualState:HI({scrapeMotionValuesFromProps:zI,createRenderState:LI,onMount:(t,e,{renderState:n,latestValues:i})=>{Mt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Mt.render(()=>{Kb(n,i,{enableHardwareAcceleration:!1},Yb(e.tagName),t.transformTemplate),BI(e,n)})}})},PU={useVisualState:HI({scrapeMotionValuesFromProps:Qb,createRenderState:Wb})};function DU(t,{forwardMotionProps:e=!1},n,i){return{...Gb(t)?kU:PU,preloadedFeatures:n,useRender:TU(e),createVisualElement:i,Component:t}}function fs(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const $I=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cg(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const OU=t=>e=>$I(e)&&t(e,cg(e));function gs(t,e,n,i){return fs(t,e,OU(n),i)}const MU=(t,e)=>n=>e(t(n)),Ra=(...t)=>t.reduce(MU);function GI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const RE=GI("dragHorizontal"),NE=GI("dragVertical");function qI(t){let e=!1;if(t==="y")e=NE();else if(t==="x")e=RE();else{const n=RE(),i=NE();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function WI(){const t=qI(!0);return t?(t(),!1):!0}class za{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kE(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(o,c)=>{if(o.pointerType==="touch"||WI())return;const h=t.getProps();t.animationState&&h.whileHover&&t.animationState.setActive("whileHover",e),h[i]&&Mt.update(()=>h[i](o,c))};return gs(t.current,n,r,{passive:!t.getProps()[i]})}class LU extends za{mount(){this.unmount=Ra(kE(this.node,!0),kE(this.node,!1))}unmount(){}}class VU extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ra(fs(this.node.current,"focus",()=>this.onFocus()),fs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const KI=(t,e)=>e?t===e?!0:KI(t,e.parentElement):!1;function Zx(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cg(n))}class FU extends za{constructor(){super(...arguments),this.removeStartListeners=on,this.removeEndListeners=on,this.removeAccessibleListeners=on,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),o=gs(window,"pointerup",(h,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:x}=this.node.getProps();Mt.update(()=>{!x&&!KI(this.node.current,h.target)?m&&m(h,d):p&&p(h,d)})},{passive:!(i.onTap||i.onPointerUp)}),c=gs(window,"pointercancel",(h,d)=>this.cancelPress(h,d),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ra(o,c),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const c=h=>{h.key!=="Enter"||!this.checkPressEnd()||Zx("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&Mt.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=fs(this.node.current,"keyup",c),Zx("down",(h,d)=>{this.startPress(h,d)})},n=fs(this.node.current,"keydown",e),i=()=>{this.isPressing&&Zx("cancel",(o,c)=>this.cancelPress(o,c))},r=fs(this.node.current,"blur",i);this.removeAccessibleListeners=Ra(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Mt.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!WI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Mt.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=gs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=fs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ra(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uv=new WeakMap,e0=new WeakMap,BU=t=>{const e=uv.get(t.target);e&&e(t)},zU=t=>{t.forEach(BU)};function UU({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const i=e0.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(zU,{root:t,...e})),i[r]}function HU(t,e,n){const i=UU(e);return uv.set(t,n),i.observe(t),()=>{uv.delete(t),i.unobserve(t)}}const $U={some:0,all:1};class GU extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:$U[r]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),v=p?m:x;v&&v(d)};return HU(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qU(e,n))&&this.startObserver()}unmount(){}}function qU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WU={inView:{Feature:GU},tap:{Feature:FU},focus:{Feature:VU},hover:{Feature:LU}};function YI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function KU(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function YU(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function ug(t,e,n){const i=t.getProps();return Jb(i,e,n!==void 0?n:i.custom,KU(t),YU(t))}let Xb=on;const Ho=t=>t*1e3,ys=t=>t/1e3,QU={current:!1},QI=t=>Array.isArray(t)&&typeof t[0]=="number";function JI(t){return!!(!t||typeof t=="string"&&XI[t]||QI(t)||Array.isArray(t)&&t.every(JI))}const Md=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,XI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Md([0,.65,.55,1]),circOut:Md([.55,0,1,.45]),backIn:Md([.31,.01,.66,-.59]),backOut:Md([.33,1.53,.69,.99])};function ZI(t){if(t)return QI(t)?Md(t):Array.isArray(t)?t.map(ZI):XI[t]}function JU(t,e,n,{delay:i=0,duration:r,repeat:o=0,repeatType:c="loop",ease:h,times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=ZI(h);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"})}function XU(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const eR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZU=1e-7,eH=12;function tH(t,e,n,i,r){let o,c,h=0;do c=e+(n-e)/2,o=eR(c,i,r)-t,o>0?n=c:e=c;while(Math.abs(o)>ZU&&++h<eH);return c}function Nh(t,e,n,i){if(t===e&&n===i)return on;const r=o=>tH(o,0,1,t,n);return o=>o===0||o===1?o:eR(r(o),e,i)}const nH=Nh(.42,0,1,1),iH=Nh(0,0,.58,1),tR=Nh(.42,0,.58,1),rH=t=>Array.isArray(t)&&typeof t[0]!="number",nR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iR=t=>e=>1-t(1-e),Zb=t=>1-Math.sin(Math.acos(t)),rR=iR(Zb),sH=nR(Zb),sR=Nh(.33,1.53,.69,.99),e1=iR(sR),aH=nR(e1),oH=t=>(t*=2)<1?.5*e1(t):.5*(2-Math.pow(2,-10*(t-1))),lH={linear:on,easeIn:nH,easeInOut:tR,easeOut:iH,circIn:Zb,circInOut:sH,circOut:rR,backIn:e1,backInOut:aH,backOut:sR,anticipate:oH},PE=t=>{if(Array.isArray(t)){Xb(t.length===4);const[e,n,i,r]=t;return Nh(e,n,i,r)}else if(typeof t=="string")return lH[t];return t},t1=(t,e)=>n=>!!(Ih(n)&&uU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),aR=(t,e,n)=>i=>{if(!Ih(i))return i;const[r,o,c,h]=i.match(lg);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},cH=t=>Ma(0,255,t),t0={...al,transform:t=>Math.round(cH(t))},Vo={test:t1("rgb","red"),parse:aR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+t0.transform(t)+", "+t0.transform(e)+", "+t0.transform(n)+", "+Kd(Wd.transform(i))+")"};function uH(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const dv={test:t1("#"),parse:uH,transform:Vo.transform},Cc={test:t1("hsl","hue"),parse:aR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+jr.transform(Kd(e))+", "+jr.transform(Kd(n))+", "+Kd(Wd.transform(i))+")"},ti={test:t=>Vo.test(t)||dv.test(t)||Cc.test(t),parse:t=>Vo.test(t)?Vo.parse(t):Cc.test(t)?Cc.parse(t):dv.parse(t),transform:t=>Ih(t)?t:t.hasOwnProperty("red")?Vo.transform(t):Cc.transform(t)},Gt=(t,e,n)=>-n*t+n*e+t;function n0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dH({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,c=0;if(!e)r=o=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;r=n0(d,h,t+1/3),o=n0(d,h,t),c=n0(d,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}const i0=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},hH=[dv,Vo,Cc],fH=t=>hH.find(e=>e.test(t));function DE(t){const e=fH(t);let n=e.parse(t);return e===Cc&&(n=dH(n)),n}const oR=(t,e)=>{const n=DE(t),i=DE(e),r={...n};return o=>(r.red=i0(n.red,i.red,o),r.green=i0(n.green,i.green,o),r.blue=i0(n.blue,i.blue,o),r.alpha=Gt(n.alpha,i.alpha,o),Vo.transform(r))};function pH(t){var e,n;return isNaN(t)&&Ih(t)&&(((e=t.match(lg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PI))===null||n===void 0?void 0:n.length)||0)>0}const lR={regex:lU,countKey:"Vars",token:"${v}",parse:on},cR={regex:PI,countKey:"Colors",token:"${c}",parse:ti.parse},uR={regex:lg,countKey:"Numbers",token:"${n}",parse:al.parse};function r0(t,{regex:e,countKey:n,token:i,parse:r}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...o.map(r)))}function _m(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&r0(n,lR),r0(n,cR),r0(n,uR),n}function dR(t){return _m(t).values}function hR(t){const{values:e,numColors:n,numVars:i,tokenised:r}=_m(t),o=e.length;return c=>{let h=r;for(let d=0;d<o;d++)d<i?h=h.replace(lR.token,c[d]):d<i+n?h=h.replace(cR.token,ti.transform(c[d])):h=h.replace(uR.token,Kd(c[d]));return h}}const mH=t=>typeof t=="number"?0:t;function gH(t){const e=dR(t);return hR(t)(e.map(mH))}const La={test:pH,parse:dR,createTransformer:hR,getAnimatableNone:gH},fR=(t,e)=>n=>`${n>0?e:t}`;function pR(t,e){return typeof t=="number"?n=>Gt(t,e,n):ti.test(t)?oR(t,e):t.startsWith("var(")?fR(t,e):gR(t,e)}const mR=(t,e)=>{const n=[...t],i=n.length,r=t.map((o,c)=>pR(o,e[c]));return o=>{for(let c=0;c<i;c++)n[c]=r[c](o);return n}},yH=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=pR(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}},gR=(t,e)=>{const n=La.createTransformer(e),i=_m(t),r=_m(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Ra(mR(i.values,r.values),n):fR(t,e)},fh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},OE=(t,e)=>n=>Gt(t,e,n);function xH(t){return typeof t=="number"?OE:typeof t=="string"?ti.test(t)?oR:gR:Array.isArray(t)?mR:typeof t=="object"?yH:OE}function vH(t,e,n){const i=[],r=n||xH(t[0]),o=t.length-1;for(let c=0;c<o;c++){let h=r(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||on:e;h=Ra(d,h)}i.push(h)}return i}function yR(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(Xb(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=vH(e,i,r),h=c.length,d=p=>{let m=0;if(h>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const x=fh(t[m],t[m+1],p);return c[m](x)};return n?p=>d(Ma(t[0],t[o-1],p)):d}function bH(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=fh(0,e,i);t.push(Gt(n,1,r))}}function SH(t){const e=[0];return bH(e,t.length-1),e}function wH(t,e){return t.map(n=>n*e)}function _H(t,e){return t.map(()=>e||tR).splice(0,t.length-1)}function Tm({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=rH(i)?i.map(PE):PE(i),o={done:!1,value:e[0]},c=wH(n&&n.length===e.length?n:SH(e),t),h=yR(c,e,{ease:Array.isArray(r)?r:_H(e,r)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}function xR(t,e){return e?t*(1e3/e):0}const TH=5;function vR(t,e,n){const i=Math.max(e-TH,0);return xR(n-t(i),e-i)}const s0=.001,EH=.01,CH=10,AH=.05,jH=1;function IH({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,o,c=1-e;c=Ma(AH,jH,c),t=Ma(EH,CH,ys(t)),c<1?(r=p=>{const m=p*c,x=m*t,v=m-n,S=hv(p,c),w=Math.exp(-x);return s0-v/S*w},o=p=>{const x=p*c*t,v=x*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,w=Math.exp(-x),E=hv(Math.pow(p,2),c);return(-r(p)+s0>0?-1:1)*((v-S)*w)/E}):(r=p=>{const m=Math.exp(-p*t),x=(p-n)*t+1;return-s0+m*x},o=p=>{const m=Math.exp(-p*t),x=(n-p)*(t*t);return m*x});const h=5/t,d=NH(r,o,h);if(t=Ho(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const RH=12;function NH(t,e,n){let i=n;for(let r=1;r<RH;r++)i=i-t(i)/e(i);return i}function hv(t,e){return t*Math.sqrt(1-e*e)}const kH=["duration","bounce"],PH=["stiffness","damping","mass"];function ME(t,e){return e.some(n=>t[n]!==void 0)}function DH(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ME(t,PH)&&ME(t,kH)){const n=IH(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function bR({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],o=t[t.length-1],c={done:!1,value:r},{stiffness:h,damping:d,mass:p,duration:m,velocity:x,isResolvedFromDuration:v}=DH({...i,velocity:-ys(i.velocity||0)}),S=x||0,w=d/(2*Math.sqrt(h*p)),E=o-r,T=ys(Math.sqrt(h/p)),M=Math.abs(E)<5;n||(n=M?.01:2),e||(e=M?.005:.5);let O;if(w<1){const k=hv(T,w);O=B=>{const W=Math.exp(-w*T*B);return o-W*((S+w*T*E)/k*Math.sin(k*B)+E*Math.cos(k*B))}}else if(w===1)O=k=>o-Math.exp(-T*k)*(E+(S+T*E)*k);else{const k=T*Math.sqrt(w*w-1);O=B=>{const W=Math.exp(-w*T*B),K=Math.min(k*B,300);return o-W*((S+w*T*E)*Math.sinh(K)+k*E*Math.cosh(K))/k}}return{calculatedDuration:v&&m||null,next:k=>{const B=O(k);if(v)c.done=k>=m;else{let W=S;k!==0&&(w<1?W=vR(O,k,B):W=0);const K=Math.abs(W)<=n,I=Math.abs(o-B)<=e;c.done=K&&I}return c.value=c.done?o:B,c}}}function LE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:m}){const x=t[0],v={done:!1,value:x},S=A=>h!==void 0&&A<h||d!==void 0&&A>d,w=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let E=n*e;const T=x+E,M=c===void 0?T:c(T);M!==T&&(E=M-x);const O=A=>-E*Math.exp(-A/i),k=A=>M+O(A),B=A=>{const R=O(A),L=k(A);v.done=Math.abs(R)<=p,v.value=v.done?M:L};let W,K;const I=A=>{S(v.value)&&(W=A,K=bR({keyframes:[v.value,w(v.value)],velocity:vR(k,A,v.value),damping:r,stiffness:o,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:A=>{let R=!1;return!K&&W===void 0&&(R=!0,B(A),I(A)),W!==void 0&&A>W?K.next(A-W):(!R&&B(A),v)}}}const OH=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Mt.update(e,!0),stop:()=>ws(e),now:()=>Gn.isProcessing?Gn.timestamp:performance.now()}},VE=2e4;function FE(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<VE;)e+=n,i=t.next(e);return e>=VE?1/0:e}const MH={decay:LE,inertia:LE,tween:Tm,keyframes:Tm,spring:bR};function Em({autoplay:t=!0,delay:e=0,driver:n=OH,keyframes:i,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:h="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:x,...v}){let S=1,w=!1,E,T;const M=()=>{T=new Promise(H=>{E=H})};M();let O;const k=MH[r]||Tm;let B;k!==Tm&&typeof i[0]!="number"&&(B=yR([0,100],i,{clamp:!1}),i=[0,100]);const W=k({...v,keyframes:i});let K;h==="mirror"&&(K=k({...v,keyframes:[...i].reverse(),velocity:-(v.velocity||0)}));let I="idle",A=null,R=null,L=null;W.calculatedDuration===null&&o&&(W.calculatedDuration=FE(W));const{calculatedDuration:z}=W;let U=1/0,F=1/0;z!==null&&(U=z+c,F=U*(o+1)-c);let le=0;const ve=H=>{if(R===null)return;S>0&&(R=Math.min(R,H)),S<0&&(R=Math.min(H-F/S,R)),A!==null?le=A:le=Math.round(H-R)*S;const se=le-e*(S>=0?1:-1),ne=S>=0?se<0:se>F;le=Math.max(se,0),I==="finished"&&A===null&&(le=F);let he=le,we=W;if(o){const lt=Math.min(le,F)/U;let Je=Math.floor(lt),Rt=lt%1;!Rt&&lt>=1&&(Rt=1),Rt===1&&Je--,Je=Math.min(Je,o+1),Je%2&&(h==="reverse"?(Rt=1-Rt,c&&(Rt-=c/U)):h==="mirror"&&(we=K)),he=Ma(0,1,Rt)*U}const ye=ne?{done:!1,value:i[0]}:we.next(he);B&&(ye.value=B(ye.value));let{done:De}=ye;!ne&&z!==null&&(De=S>=0?le>=F:le<=0);const rt=A===null&&(I==="finished"||I==="running"&&De);return x&&x(ye.value),rt&&ae(),ye},P=()=>{O&&O.stop(),O=void 0},G=()=>{I="idle",P(),E(),M(),R=L=null},ae=()=>{I="finished",m&&m(),P(),E()},_e=()=>{if(w)return;O||(O=n(ve));const H=O.now();d&&d(),A!==null?R=H-A:(!R||I==="finished")&&(R=H),I==="finished"&&M(),L=R,A=null,I="running",O.start()};t&&_e();const be={then(H,se){return T.then(H,se)},get time(){return ys(le)},set time(H){H=Ho(H),le=H,A!==null||!O||S===0?A=H:R=O.now()-H/S},get duration(){const H=W.calculatedDuration===null?FE(W):W.calculatedDuration;return ys(H)},get speed(){return S},set speed(H){H===S||!O||(S=H,be.time=ys(le))},get state(){return I},play:_e,pause:()=>{I="paused",A=le},stop:()=>{w=!0,I!=="idle"&&(I="idle",p&&p(),G())},cancel:()=>{L!==null&&ve(L),G()},complete:()=>{I="finished"},sample:H=>(R=0,ve(H))};return be}function LH(t){let e;return()=>(e===void 0&&(e=t()),e)}const VH=LH(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FH=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_p=10,BH=2e4,zH=(t,e)=>e.type==="spring"||t==="backgroundColor"||!JI(e.ease);function UH(t,e,{onUpdate:n,onComplete:i,...r}){if(!(VH()&&FH.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let c=!1,h,d,p=!1;const m=()=>{d=new Promise(k=>{h=k})};m();let{keyframes:x,duration:v=300,ease:S,times:w}=r;if(zH(e,r)){const k=Em({...r,repeat:0,delay:0});let B={done:!1,value:x[0]};const W=[];let K=0;for(;!B.done&&K<BH;)B=k.sample(K),W.push(B.value),K+=_p;w=void 0,x=W,v=K-_p,S="linear"}const E=JU(t.owner.current,e,x,{...r,duration:v,ease:S,times:w}),T=()=>{p=!1,E.cancel()},M=()=>{p=!0,Mt.update(T),h(),m()};return E.onfinish=()=>{p||(t.set(XU(x,r)),i&&i(),M())},{then(k,B){return d.then(k,B)},attachTimeline(k){return E.timeline=k,E.onfinish=null,on},get time(){return ys(E.currentTime||0)},set time(k){E.currentTime=Ho(k)},get speed(){return E.playbackRate},set speed(k){E.playbackRate=k},get duration(){return ys(v)},play:()=>{c||(E.play(),ws(T))},pause:()=>E.pause(),stop:()=>{if(c=!0,E.playState==="idle")return;const{currentTime:k}=E;if(k){const B=Em({...r,autoplay:!1});t.setWithVelocity(B.sample(k-_p).value,B.sample(k).value,_p)}M()},complete:()=>{p||E.finish()},cancel:M}}function HH({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:on,pause:on,stop:on,then:o=>(o(),Promise.resolve()),cancel:on,complete:on});return e?Em({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const $H={type:"spring",stiffness:500,damping:25,restSpeed:10},GH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qH={type:"keyframes",duration:.8},WH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KH=(t,{keyframes:e})=>e.length>2?qH:sl.has(t)?t.startsWith("scale")?GH(e[1]):$H:WH,fv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(La.test(e)||e==="0")&&!e.startsWith("url(")),YH=new Set(["brightness","contrast","saturate","opacity"]);function QH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(lg)||[];if(!i)return t;const r=n.replace(i,"");let o=YH.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const JH=/([a-z-]*)\(.*?\)/g,pv={...La,getAnimatableNone:t=>{const e=t.match(JH);return e?e.map(QH).join(" "):t}},XH={...DI,color:ti,backgroundColor:ti,outlineColor:ti,fill:ti,stroke:ti,borderColor:ti,borderTopColor:ti,borderRightColor:ti,borderBottomColor:ti,borderLeftColor:ti,filter:pv,WebkitFilter:pv},n1=t=>XH[t];function SR(t,e){let n=n1(t);return n!==pv&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wR=t=>/^0[^.\s]+$/.test(t);function ZH(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||wR(t)}function e$(t,e,n,i){const r=fv(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const c=i.from!==void 0?i.from:t.get();let h;const d=[];for(let p=0;p<o.length;p++)o[p]===null&&(o[p]=p===0?c:o[p-1]),ZH(o[p])&&d.push(p),typeof o[p]=="string"&&o[p]!=="none"&&o[p]!=="0"&&(h=o[p]);if(r&&d.length&&h)for(let p=0;p<d.length;p++){const m=d[p];o[m]=SR(e,h)}return o}function t$({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:h,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function i1(t,e){return t[e]||t.default||t}const n$={skipAnimations:!1},r1=(t,e,n,i={})=>r=>{const o=i1(i,t)||{},c=o.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ho(c);const d=e$(e,t,n,o),p=d[0],m=d[d.length-1],x=fv(t,p),v=fv(t,m);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-h,onUpdate:w=>{e.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{r(),o.onComplete&&o.onComplete()}};if(t$(o)||(S={...S,...KH(t,S)}),S.duration&&(S.duration=Ho(S.duration)),S.repeatDelay&&(S.repeatDelay=Ho(S.repeatDelay)),!x||!v||QU.current||o.type===!1||n$.skipAnimations)return HH(S);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=UH(e,t,S);if(w)return w}return Em(S)};function Cm(t){return!!(fi(t)&&t.add)}const _R=t=>/^\-?\d*\.?\d+$/.test(t);function s1(t,e){t.indexOf(e)===-1&&t.push(e)}function a1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class o1{constructor(){this.subscriptions=[]}add(e){return s1(this.subscriptions,e),()=>a1(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const i$=t=>!isNaN(parseFloat(t));class r${constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:o,timestamp:c}=Gn;this.lastUpdated!==c&&(this.timeDelta=o,this.lastUpdated=c,Mt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Mt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=i$(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new o1);const i=this.events[e].add(n);return e==="change"?()=>{i(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xc(t,e){return new r$(t,e)}const TR=t=>e=>e.test(t),s$={test:t=>t==="auto",parse:t=>t},ER=[al,Oe,jr,ha,hU,dU,s$],wd=t=>ER.find(TR(t)),a$=[...ER,ti,La],o$=t=>a$.find(TR(t));function l$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xc(n))}function c$(t,e){const n=ug(t,e);let{transitionEnd:i={},transition:r={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...i};for(const c in o){const h=CU(o[c]);l$(t,c,h)}}function u$(t,e,n){var i,r;const o=Object.keys(e).filter(h=>!t.hasValue(h)),c=o.length;if(c)for(let h=0;h<c;h++){const d=o[h],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(r=(i=n[d])!==null&&i!==void 0?i:t.readValue(d))!==null&&r!==void 0?r:e[d]),m!=null&&(typeof m=="string"&&(_R(m)||wR(m))?m=parseFloat(m):!o$(m)&&La.test(p)&&(m=SR(d,p)),t.addValue(d,Xc(m,{owner:t})),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function d$(t,e){return e?(e[t]||e.default||e).from:void 0}function h$(t,e,n){const i={};for(const r in t){const o=d$(r,e);if(o!==void 0)i[r]=o;else{const c=n.getValue(r);c&&(i[r]=c.get())}}return i}function f$({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function p$(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function CR(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...h}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");i&&(o=i);const p=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const x in h){const v=t.getValue(x),S=h[x];if(!v||S===void 0||m&&f$(m,x))continue;const w={delay:n,elapsed:0,...i1(o||{},x)};if(window.HandoffAppearAnimations){const M=t.getProps()[AI];if(M){const O=window.HandoffAppearAnimations(M,x,v,Mt);O!==null&&(w.elapsed=O,w.isHandoff=!0)}}let E=!w.isHandoff&&!p$(v,S);if(w.type==="spring"&&(v.getVelocity()||w.velocity)&&(E=!1),v.animation&&(E=!1),E)continue;v.start(r1(x,v,S,t.shouldReduceMotion&&sl.has(x)?{type:!1}:w));const T=v.animation;Cm(d)&&(d.add(x),T.then(()=>d.remove(x))),p.push(T)}return c&&Promise.all(p).then(()=>{c&&c$(t,c)}),p}function mv(t,e,n={}){const i=ug(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(CR(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:x}=r;return m$(t,e,p+d,m,x,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,p]=h==="beforeChildren"?[o,c]:[c,o];return d().then(()=>p())}else return Promise.all([o(),c(n.delay)])}function m$(t,e,n=0,i=0,r=1,o){const c=[],h=(t.variantChildren.size-1)*i,d=r===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(g$).forEach((p,m)=>{p.notify("AnimationStart",e),c.push(mv(p,e,{...o,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function g$(t,e){return t.sortNodePosition(e)}function y$(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>mv(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=mv(t,e,n);else{const r=typeof e=="function"?ug(t,e,n.custom):e;i=Promise.all(CR(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const x$=[...Ub].reverse(),v$=Ub.length;function b$(t){return e=>Promise.all(e.map(({animation:n,options:i})=>y$(t,n,i)))}function S$(t){let e=b$(t);const n=_$();let i=!0;const r=(d,p)=>{const m=ug(t,p);if(m){const{transition:x,transitionEnd:v,...S}=m;d={...d,...S,...v}}return d};function o(d){e=d(t)}function c(d,p){const m=t.getProps(),x=t.getVariantContext(!0)||{},v=[],S=new Set;let w={},E=1/0;for(let M=0;M<v$;M++){const O=x$[M],k=n[O],B=m[O]!==void 0?m[O]:x[O],W=dh(B),K=O===p?k.isActive:null;K===!1&&(E=M);let I=B===x[O]&&B!==m[O]&&W;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={...w},!k.isActive&&K===null||!B&&!k.prevProp||ag(B)||typeof B=="boolean")continue;let R=w$(k.prevProp,B)||O===p&&k.isActive&&!I&&W||M>E&&W,L=!1;const z=Array.isArray(B)?B:[B];let U=z.reduce(r,{});K===!1&&(U={});const{prevResolvedValues:F={}}=k,le={...F,...U},ve=P=>{R=!0,S.has(P)&&(L=!0,S.delete(P)),k.needsAnimating[P]=!0};for(const P in le){const G=U[P],ae=F[P];if(w.hasOwnProperty(P))continue;let _e=!1;wm(G)&&wm(ae)?_e=!YI(G,ae):_e=G!==ae,_e?G!==void 0?ve(P):S.add(P):G!==void 0&&S.has(P)?ve(P):k.protectedKeys[P]=!0}k.prevProp=B,k.prevResolvedValues=U,k.isActive&&(w={...w,...U}),i&&t.blockInitialAnimation&&(R=!1),R&&(!I||L)&&v.push(...z.map(P=>({animation:P,options:{type:O,...d}})))}if(S.size){const M={};S.forEach(O=>{const k=t.getBaseTarget(O);k!==void 0&&(M[O]=k)}),v.push({animation:M})}let T=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(v):Promise.resolve()}function h(d,p,m){var x;if(n[d].isActive===p)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var w;return(w=S.animationState)===null||w===void 0?void 0:w.setActive(d,p)}),n[d].isActive=p;const v=c(m,d);for(const S in n)n[S].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>n}}function w$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YI(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _$(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class T$ extends za{constructor(e){super(e),e.animationState||(e.animationState=S$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ag(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let E$=0;class C$ extends za{constructor(){super(...arguments),this.id=E$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const A$={animation:{Feature:T$},exit:{Feature:C$}},BE=(t,e)=>Math.abs(t-e);function j$(t,e){const n=BE(t.x,e.x),i=BE(t.y,e.y);return Math.sqrt(n**2+i**2)}class AR{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=o0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=j$(x.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:w}=x,{timestamp:E}=Gn;this.history.push({...w,timestamp:E});const{onStart:T,onMove:M}=this.handlers;v||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=a0(v,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=o0(x.type==="pointercancel"?this.lastMoveEventInfo:a0(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,T),w&&w(x,T)},!$I(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=cg(e),h=a0(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=Gn;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,o0(h,this.history)),this.removeListeners=Ra(gs(this.contextWindow,"pointermove",this.handlePointerMove),gs(this.contextWindow,"pointerup",this.handlePointerUp),gs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function a0(t,e){return e?{point:e(t.point)}:t}function zE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o0({point:t},e){return{point:t,delta:zE(t,jR(e)),offset:zE(t,I$(e)),velocity:R$(e,.1)}}function I$(t){return t[0]}function jR(t){return t[t.length-1]}function R$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=jR(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ho(e)));)n--;if(!i)return{x:0,y:0};const o=ys(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Ni(t){return t.max-t.min}function gv(t,e=0,n=.01){return Math.abs(t-e)<=n}function UE(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=Ni(n)/Ni(e),(gv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(gv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Yd(t,e,n,i){UE(t.x,e.x,n.x,i?i.originX:void 0),UE(t.y,e.y,n.y,i?i.originY:void 0)}function HE(t,e,n){t.min=n.min+e.min,t.max=t.min+Ni(e)}function N$(t,e,n){HE(t.x,e.x,n.x),HE(t.y,e.y,n.y)}function $E(t,e,n){t.min=e.min-n.min,t.max=t.min+Ni(e)}function Qd(t,e,n){$E(t.x,e.x,n.x),$E(t.y,e.y,n.y)}function k$(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function GE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P$(t,{top:e,left:n,bottom:i,right:r}){return{x:GE(t.x,n,r),y:GE(t.y,e,i)}}function qE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function D$(t,e){return{x:qE(t.x,e.x),y:qE(t.y,e.y)}}function O$(t,e){let n=.5;const i=Ni(t),r=Ni(e);return r>i?n=fh(e.min,e.max-i,t.min):i>r&&(n=fh(t.min,t.max-r,e.min)),Ma(0,1,n)}function M$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yv=.35;function L$(t=yv){return t===!1?t=0:t===!0&&(t=yv),{x:WE(t,"left","right"),y:WE(t,"top","bottom")}}function WE(t,e,n){return{min:KE(t,e),max:KE(t,n)}}function KE(t,e){return typeof t=="number"?t:t[e]||0}const YE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ac=()=>({x:YE(),y:YE()}),QE=()=>({min:0,max:0}),pn=()=>({x:QE(),y:QE()});function Gi(t){return[t("x"),t("y")]}function IR({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function V$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function l0(t){return t===void 0||t===1}function xv({scale:t,scaleX:e,scaleY:n}){return!l0(t)||!l0(e)||!l0(n)}function go(t){return xv(t)||RR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function RR(t){return JE(t.x)||JE(t.y)}function JE(t){return t&&t!=="0%"}function Am(t,e,n){const i=t-n,r=e*i;return n+r}function XE(t,e,n,i,r){return r!==void 0&&(t=Am(t,r,i)),Am(t,n,i)+e}function vv(t,e=0,n=1,i,r){t.min=XE(t.min,e,n,i,r),t.max=XE(t.max,e,n,i,r)}function NR(t,{x:e,y:n}){vv(t.x,e.translate,e.scale,e.originPoint),vv(t.y,n.translate,n.scale,n.originPoint)}function B$(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,c;for(let h=0;h<r;h++){o=n[h],c=o.projectionDelta;const d=o.instance;d&&d.style&&d.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&jc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,NR(t,c)),i&&go(o.latestValues)&&jc(t,o.latestValues))}e.x=ZE(e.x),e.y=ZE(e.y)}function ZE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function pa(t,e){t.min=t.min+e,t.max=t.max+e}function eC(t,e,[n,i,r]){const o=e[r]!==void 0?e[r]:.5,c=Gt(t.min,t.max,o);vv(t,e[n],e[i],c,e.scale)}const z$=["x","scaleX","originX"],U$=["y","scaleY","originY"];function jc(t,e){eC(t.x,e,z$),eC(t.y,e,U$)}function kR(t,e){return IR(F$(t.getBoundingClientRect(),e))}function H$(t,e,n){const i=kR(t,n),{scroll:r}=e;return r&&(pa(i.x,r.offset.x),pa(i.y,r.offset.y)),i}const PR=({current:t})=>t?t.ownerDocument.defaultView:null,$$=new WeakMap;class G${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cg(m,"page").point)},o=(m,x)=>{const{drag:v,dragPropagation:S,onDragStart:w}=this.getProps();if(v&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qI(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(T=>{let M=this.getAxisMotionValue(T).get()||0;if(jr.test(M)){const{projection:O}=this.visualElement;if(O&&O.layout){const k=O.layout.layoutBox[T];k&&(M=Ni(k)*(parseFloat(M)/100))}}this.originPoint[T]=M}),w&&Mt.update(()=>w(m,x),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(m,x)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:w,onDrag:E}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:T}=x;if(S&&this.currentDirection===null){this.currentDirection=q$(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),E&&E(m,x)},h=(m,x)=>this.stop(m,x),d=()=>Gi(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new AR(e,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:PR(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Mt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Tp(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=k$(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ec(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=P$(r.layoutBox,n):this.constraints=!1,this.elastic=L$(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gi(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=M$(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ec(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=H$(i,r.root,this.visualElement.getTransformPagePoint());let c=D$(r.layout.layoutBox,o);if(n){const h=n(V$(c));this.hasMutatedConstraints=!!h,h&&(c=IR(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Gi(m=>{if(!Tp(m,n,this.currentDirection))return;let x=d&&d[m]||{};c&&(x={min:0,max:0});const v=r?200:1e6,S=r?40:1e7,w={type:"inertia",velocity:i?e[m]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(m,w)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(r1(e,i,0,n))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Gi(n=>{const{drag:i}=this.getProps();if(!Tp(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];o.set(e[n]-Gt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ec(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Gi(c=>{const h=this.getAxisMotionValue(c);if(h){const d=h.get();r[c]=O$({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gi(c=>{if(!Tp(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(Gt(d,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;$$.set(this.visualElement,this);const e=this.visualElement.current,n=gs(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ec(d)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const c=fs(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gi(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=d[m].translate,x.set(x.get()+d[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=yv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function Tp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function q$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class W$ extends za{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new G$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const tC=t=>(e,n)=>{t&&Mt.update(()=>t(e,n))};class K$ extends za{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new AR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tC(e),onStart:tC(n),onMove:i,onEnd:(o,c)=>{delete this.session,r&&Mt.update(()=>r(o,c))}}}mount(){this.removePointerDownListener=gs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Y$(){const t=D.useContext(rg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=D.useId();return D.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const zp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=nC(t,e.target.x),i=nC(t,e.target.y);return`${n}% ${i}%`}},Q$={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=La.parse(t);if(r.length>5)return i;const o=La.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=d;const p=Gt(h,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),o(r)}};class J$ extends vt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;rU(X$),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),zp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,r||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Mt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DR(t){const[e,n]=Y$(),i=D.useContext($b);return vt.createElement(J$,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(II),isPresent:e,safeToRemove:n})}const X$={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:Q$},OR=["TopLeft","TopRight","BottomLeft","BottomRight"],Z$=OR.length,iC=t=>typeof t=="string"?parseFloat(t):t,rC=t=>typeof t=="number"||Oe.test(t);function e7(t,e,n,i,r,o){r?(t.opacity=Gt(0,n.opacity!==void 0?n.opacity:1,t7(i)),t.opacityExit=Gt(e.opacity!==void 0?e.opacity:1,0,n7(i))):o&&(t.opacity=Gt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<Z$;c++){const h=`border${OR[c]}Radius`;let d=sC(e,h),p=sC(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||rC(d)===rC(p)?(t[h]=Math.max(Gt(iC(d),iC(p),i),0),(jr.test(p)||jr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function sC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const t7=MR(0,.5,rR),n7=MR(.5,.95,on);function MR(t,e,n){return i=>i<t?0:i>e?1:n(fh(t,e,i))}function aC(t,e){t.min=e.min,t.max=e.max}function $i(t,e){aC(t.x,e.x),aC(t.y,e.y)}function oC(t,e,n,i,r){return t-=e,t=Am(t,1/n,i),r!==void 0&&(t=Am(t,1/r,i)),t}function i7(t,e=0,n=1,i=.5,r,o=t,c=t){if(jr.test(e)&&(e=parseFloat(e),e=Gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Gt(o.min,o.max,i);t===o&&(h-=e),t.min=oC(t.min,e,n,h,r),t.max=oC(t.max,e,n,h,r)}function lC(t,e,[n,i,r],o,c){i7(t,e[n],e[i],e[r],e.scale,o,c)}const r7=["x","scaleX","originX"],s7=["y","scaleY","originY"];function cC(t,e,n,i){lC(t.x,e,r7,n?n.x:void 0,i?i.x:void 0),lC(t.y,e,s7,n?n.y:void 0,i?i.y:void 0)}function uC(t){return t.translate===0&&t.scale===1}function LR(t){return uC(t.x)&&uC(t.y)}function a7(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function VR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function dC(t){return Ni(t.x)/Ni(t.y)}class o7{constructor(){this.members=[]}add(e){s1(this.members,e),e.scheduleRender()}remove(e){if(a1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hC(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y;if((r||o)&&(i=`translate3d(${r}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:m}=n;d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),m&&(i+=`rotateY(${m}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const l7=(t,e)=>t.depth-e.depth;class c7{constructor(){this.children=[],this.isDirty=!1}add(e){s1(this.children,e),this.isDirty=!0}remove(e){a1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l7),this.isDirty=!1,this.children.forEach(e)}}function u7(t,e){const n=performance.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(ws(i),t(o-e))};return Mt.read(i,!0),()=>ws(i)}function d7(t){window.MotionDebug&&window.MotionDebug.record(t)}function h7(t){return t instanceof SVGElement&&t.tagName!=="svg"}function f7(t,e,n){const i=fi(t)?t:Xc(t);return i.start(r1("",i,e,n)),i.animation}const fC=["","X","Y","Z"],p7={visibility:"hidden"},pC=1e3;let m7=0;const yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function FR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e?.()){this.id=m7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yo.totalNodes=yo.resolvedTargetDeltas=yo.recalculatedProjection=0,this.nodes.forEach(x7),this.nodes.forEach(_7),this.nodes.forEach(T7),this.nodes.forEach(v7),d7(yo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new c7)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new o1),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=h7(c),this.instance=c;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=u7(v,250),zp.hasAnimatedSinceResize&&(zp.hasAnimatedSinceResize=!1,this.nodes.forEach(gC))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||I7,{onLayoutAnimationStart:T,onLayoutAnimationComplete:M}=m.getProps(),O=!this.targetLayout||!VR(this.targetLayout,w)||S,k=!v&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,k);const B={...i1(E,"layout"),onPlay:T,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else v||gC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E7),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mC);return}this.isUpdating||this.nodes.forEach(S7),this.isUpdating=!1,this.nodes.forEach(w7),this.nodes.forEach(g7),this.nodes.forEach(y7),this.clearAllSnapshots();const h=performance.now();Gn.delta=Ma(0,1e3/60,h-Gn.timestamp),Gn.timestamp=h,Gn.isProcessing=!0,Xx.update.process(Gn),Xx.preRender.process(Gn),Xx.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(b7),this.sharedNodes.forEach(C7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!LR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&(h||go(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),R7(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return pn();const h=c.measureViewportBox(),{scroll:d}=this.root;return d&&(pa(h.x,d.offset.x),pa(h.y,d.offset.y)),h}removeElementScroll(c){const h=pn();$i(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:x}=p;if(p!==this.root&&m&&x.layoutScroll){if(m.isRoot){$i(h,c);const{scroll:v}=this.root;v&&(pa(h.x,-v.offset.x),pa(h.y,-v.offset.y))}pa(h.x,m.offset.x),pa(h.y,m.offset.y)}}return h}applyTransform(c,h=!1){const d=pn();$i(d,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&jc(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),go(m.latestValues)&&jc(d,m.latestValues)}return go(this.latestValues)&&jc(d,this.latestValues),d}removeTransform(c){const h=pn();$i(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!go(p.latestValues))continue;xv(p.latestValues)&&p.updateSnapshot();const m=pn(),x=p.measurePageBox();$i(m,x),cC(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return go(this.latestValues)&&cC(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Qd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),NR(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Qd(this.relativeTargetOrigin,this.target,S.target),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xv(this.parent.latestValues)||RR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(p=!1),p)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;$i(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;B$(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:w}=h;if(!w){this.projectionTransform&&(this.projectionDelta=Ac(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ac(),this.projectionDeltaWithTransform=Ac());const E=this.projectionTransform;Yd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=hC(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==v||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},x=Ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=pn(),S=d?d.source:void 0,w=this.layout?this.layout.source:void 0,E=S!==w,T=this.getStack(),M=!T||T.members.length<=1,O=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(j7));this.animationProgress=0;let k;this.mixTargetDelta=B=>{const W=B/1e3;yC(x.x,c.x,W),yC(x.y,c.y,W),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A7(this.relativeTarget,this.relativeTargetOrigin,v,W),k&&a7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pn()),$i(k,this.relativeTarget)),E&&(this.animationValues=m,e7(m,p,this.latestValues,W,O,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{zp.hasAnimatedSinceResize=!0,this.currentAnimation=f7(0,pC,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:m}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&BR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||pn();const x=Ni(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+x;const v=Ni(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}$i(h,d),jc(h,m),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new o7),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(h=!0),!h)return;const p={};for(let m=0;m<fC.length;m++){const x="rotate"+fC[m];d[x]&&(p[x]=d[x],c.setStaticValue(x,0))}c.render();for(const m in p)c.setStaticValue(m,p[m]);c.scheduleRender()}getProjectionStyles(c){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return p7;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Bp(c?.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Bp(c?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=hC(this.projectionDeltaWithTransform,this.treeScale,v),m&&(p.transform=m(v,p.transform));const{x:S,y:w}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,x.animationValues?p.opacity=x===this?(d=(h=v.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in bm){if(v[E]===void 0)continue;const{correct:T,applyTo:M}=bm[E],O=p.transform==="none"?v[E]:T(v[E],x);if(M){const k=M.length;for(let B=0;B<k;B++)p[M[B]]=O}else p[E]=O}return this.options.layoutId&&(p.pointerEvents=x===this?Bp(c?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(mC),this.root.sharedNodes.clear()}}}function g7(t){t.updateLayout()}function y7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,c=n.source!==t.layout.source;o==="size"?Gi(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=Ni(v);v.min=i[x].min,v.max=v.min+S}):BR(o,n.layoutBox,i)&&Gi(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=Ni(i[x]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+S)});const h=Ac();Yd(h,i,n.layoutBox);const d=Ac();c?Yd(d,t.applyTransform(r,!0),n.measuredBox):Yd(d,i,n.layoutBox);const p=!LR(h);let m=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:S}=x;if(v&&S){const w=pn();Qd(w,n.layoutBox,v.layoutBox);const E=pn();Qd(E,i,S.layoutBox),VR(w,E)||(m=!0),x.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function x7(t){yo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function v7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function b7(t){t.clearSnapshot()}function mC(t){t.clearMeasurements()}function S7(t){t.isLayoutDirty=!1}function w7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _7(t){t.resolveTargetDelta()}function T7(t){t.calcProjection()}function E7(t){t.resetRotation()}function C7(t){t.removeLeadSnapshot()}function yC(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xC(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function A7(t,e,n,i){xC(t.x,e.x,n.x,i),xC(t.y,e.y,n.y,i)}function j7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const I7={duration:.45,ease:[.4,0,.1,1]},vC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),bC=vC("applewebkit/")&&!vC("chrome/")?Math.round:on;function SC(t){t.min=bC(t.min),t.max=bC(t.max)}function R7(t){SC(t.x),SC(t.y)}function BR(t,e,n){return t==="position"||t==="preserve-aspect"&&!gv(dC(e),dC(n),.2)}const N7=FR({attachResizeListener:(t,e)=>fs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),c0={current:void 0},zR=FR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!c0.current){const t=new N7({});t.mount(window),t.setOptions({layoutScroll:!0}),c0.current=t}return c0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),k7={pan:{Feature:K$},drag:{Feature:W$,ProjectionNode:zR,MeasureLayout:DR}},P7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function D7(t){const e=P7.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function bv(t,e,n=1){const[i,r]=D7(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const c=o.trim();return _R(c)?parseFloat(c):c}else return cv(r)?bv(r,e,n+1):r}function O7(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const o=r.get();if(!cv(o))return;const c=bv(o,i);c&&r.set(c)});for(const r in e){const o=e[r];if(!cv(o))continue;const c=bv(o,i);c&&(e[r]=c,n||(n={}),n[r]===void 0&&(n[r]=o))}return{target:e,transitionEnd:n}}const M7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),UR=t=>M7.has(t),L7=t=>Object.keys(t).some(UR),wC=t=>t===al||t===Oe,_C=(t,e)=>parseFloat(t.split(", ")[e]),TC=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return _C(r[1],e);{const o=i.match(/^matrix\((.+)\)$/);return o?_C(o[1],t):0}},V7=new Set(["x","y","z"]),F7=jh.filter(t=>!V7.has(t));function B7(t){const e=[];return F7.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TC(4,13),y:TC(5,14)};Zc.translateX=Zc.x;Zc.translateY=Zc.y;const z7=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,o=getComputedStyle(r),{display:c}=o,h={};c==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{h[p]=Zc[p](i,o)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(h[p]),t[p]=Zc[p](d,o)}),t},U7=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(UR);let o=[],c=!1;const h=[];if(r.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],x=wd(m);const v=e[d];let S;if(wm(v)){const w=v.length,E=v[0]===null?1:0;m=v[E],x=wd(m);for(let T=E;T<w&&v[T]!==null;T++)S?Xb(wd(v[T])===S):S=wd(v[T])}else S=wd(v);if(x!==S)if(wC(x)&&wC(S)){const w=p.get();typeof w=="string"&&p.set(parseFloat(w)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&S===Oe&&(e[d]=v.map(parseFloat))}else x?.transform&&S?.transform&&(m===0||v===0)?m===0?p.set(S.transform(m)):e[d]=x.transform(v):(c||(o=B7(t),c=!0),h.push(d),i[d]=i[d]!==void 0?i[d]:e[d],p.jump(v))}),h.length){const d=h.indexOf("height")>=0?window.pageYOffset:null,p=z7(e,t,h);return o.length&&o.forEach(([m,x])=>{t.getValue(m).set(x)}),t.render(),sg&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:i}}else return{target:e,transitionEnd:i}};function H7(t,e,n,i){return L7(e)?U7(t,e,n,i):{target:e,transitionEnd:i}}const $7=(t,e,n,i)=>{const r=O7(t,e,i);return e=r.target,i=r.transitionEnd,H7(t,e,n,i)},Sv={current:null},HR={current:!1};function G7(){if(HR.current=!0,!!sg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sv.current=t.matches;t.addListener(e),e()}else Sv.current=!1}function q7(t,e,n){const{willChange:i}=e;for(const r in e){const o=e[r],c=n[r];if(fi(o))t.addValue(r,o),Cm(i)&&i.add(r);else if(fi(c))t.addValue(r,Xc(o,{owner:t})),Cm(i)&&i.remove(r);else if(c!==o)if(t.hasValue(r)){const h=t.getValue(r);!h.hasAnimated&&h.set(o)}else{const h=t.getStaticValue(r);t.addValue(r,Xc(h!==void 0?h:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const EC=new WeakMap,$R=Object.keys(hh),W7=$R.length,CC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],K7=Hb.length;class Y7{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Mt.render(this.render,!1,!0);const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.isControllingVariants=og(n),this.isVariantNode=jI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const x in m){const v=m[x];h[x]!==void 0&&fi(v)&&(v.set(h[x],!1),Cm(p)&&p.add(x))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,EC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),HR.current||G7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){EC.delete(this.current),this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=sl.has(e),r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Mt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,o){let c,h;for(let d=0;d<W7;d++){const p=$R[d],{isEnabled:m,Feature:x,ProjectionNode:v,MeasureLayout:S}=hh[p];v&&(c=v),m(n)&&(!this.features[p]&&x&&(this.features[p]=new x(this)),S&&(h=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:x,layoutScroll:v,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||x&&Ec(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:o,layoutScroll:v,layoutRoot:S})}return h}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<CC.length;i++){const r=CC[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o=e["on"+r];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=q7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<K7;i++){const r=Hb[i],o=this.props[r];(dh(o)||o===!1)&&(n[r]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Xc(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=Jb(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!fi(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new o1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class GR extends Y7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},o){let c=h$(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),c&&(c=r(c))),o){u$(this,i,c);const h=$7(this,i,c,n);n=h.transitionEnd,i=h.target}return{transition:e,transitionEnd:n,...i}}}function Q7(t){return window.getComputedStyle(t)}class J7 extends GR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(sl.has(n)){const i=n1(n);return i&&i.default||0}else{const i=Q7(e),r=(kI(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kR(e,n)}build(e,n,i,r){qb(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Qb(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){VI(e,n,i,r)}}class X7 extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sl.has(n)){const i=n1(n);return i&&i.default||0}return n=FI.has(n)?n:zb(n),e.getAttribute(n)}measureInstanceViewportBox(){return pn()}scrapeMotionValuesFromProps(e,n){return zI(e,n)}build(e,n,i,r){Kb(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){BI(e,n,i,r)}mount(e){this.isSVGTag=Yb(e.tagName),super.mount(e)}}const Z7=(t,e)=>Gb(t)?new X7(e,{enableHardwareAcceleration:!1}):new J7(e,{enableHardwareAcceleration:!0}),eG={layout:{ProjectionNode:zR,MeasureLayout:DR}},tG={...A$,...WU,...k7,...eG},l1=nU((t,e)=>DU(t,e,tG,Z7));function qR(){const t=D.useRef(!1);return Bb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nG(){const t=qR(),[e,n]=D.useState(0),i=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>Mt.postRender(i),[i]),e]}class iG extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rG({children:t,isPresent:e}){const n=D.useId(),i=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:o,height:c,top:h,left:d}=r.current;if(e||!i.current||!o||!c)return;i.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            top: ${h}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),D.createElement(iG,{isPresent:e,childRef:i,sizeRef:r},D.cloneElement(t,{ref:i}))}const u0=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:c})=>{const h=UI(sG),d=D.useId(),p=D.useMemo(()=>({id:d,initial:e,isPresent:n,custom:r,onExitComplete:m=>{h.set(m,!0);for(const x of h.values())if(!x)return;i&&i()},register:m=>(h.set(m,!1),()=>h.delete(m))}),o?void 0:[n]);return D.useMemo(()=>{h.forEach((m,x)=>h.set(x,!1))},[n]),D.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),c==="popLayout"&&(t=D.createElement(rG,{isPresent:n},t)),D.createElement(rg.Provider,{value:p},t)};function sG(){return new Map}function aG(t){return D.useEffect(()=>()=>t(),[])}const xo=t=>t.key||"";function oG(t,e){t.forEach(n=>{const i=xo(n);e.set(i,n)})}function lG(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const WR=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:o=!0,mode:c="sync"})=>{const h=D.useContext($b).forceRender||nG()[0],d=qR(),p=lG(t);let m=p;const x=D.useRef(new Map).current,v=D.useRef(m),S=D.useRef(new Map).current,w=D.useRef(!0);if(Bb(()=>{w.current=!1,oG(p,S),v.current=m}),aG(()=>{w.current=!0,S.clear(),x.clear()}),w.current)return D.createElement(D.Fragment,null,m.map(O=>D.createElement(u0,{key:xo(O),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:c},O)));m=[...m];const E=v.current.map(xo),T=p.map(xo),M=E.length;for(let O=0;O<M;O++){const k=E[O];T.indexOf(k)===-1&&!x.has(k)&&x.set(k,void 0)}return c==="wait"&&x.size&&(m=[]),x.forEach((O,k)=>{if(T.indexOf(k)!==-1)return;const B=S.get(k);if(!B)return;const W=E.indexOf(k);let K=O;if(!K){const I=()=>{x.delete(k);const A=Array.from(S.keys()).filter(R=>!T.includes(R));if(A.forEach(R=>S.delete(R)),v.current=p.filter(R=>{const L=xo(R);return L===k||A.includes(L)}),!x.size){if(d.current===!1)return;h(),i&&i()}};K=D.createElement(u0,{key:xo(B),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:o,mode:c},B),x.set(k,K)}m.splice(W,0,K)}),m=m.map(O=>{const k=O.key;return x.has(k)?O:D.createElement(u0,{key:xo(O),isPresent:!0,presenceAffectsLayout:o,mode:c},O)}),D.createElement(D.Fragment,null,x.size?m:m.map(O=>D.cloneElement(O)))},AC=l1.div,cG=WR;function uG(){const[t,e]=D.useState(null),[n,i]=D.useState([]),[r,o]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const p=await tI();if(p.success){const m=p.files.map(x=>({id:x.id,name:x.name,size:x.size,type:x.type,access:"Restricted",uploaded:new Date(x.updated).toLocaleDateString(),downloads:0,description:`Secure document: ${x.name}`}));i(m)}}catch(p){console.error("DataRoom Feed Error:",p)}finally{o(!1)}})()},[]);const c=[{id:"financials",title:"Financial Reports",icon:"",color:"blue",type:"Financial Data",files:n.filter(d=>d.name.toLowerCase().includes("invoice")||d.name.toLowerCase().includes("ledger"))},{id:"legal",title:"Legal Documents",icon:"",color:"purple",type:"Compliance & IP",files:n.filter(d=>d.name.toLowerCase().includes("executed")||d.name.toLowerCase().includes("agreement"))},{id:"strategy",title:"Strategic Plans",icon:"",color:"amber",type:"Roadmaps & Growth",files:[]},{id:"investment",title:"Investment Terms",icon:"",color:"emerald",type:"Capital & Equity",files:[]}];n.length>0&&c[1].files.length===0&&c[0].files.length===0&&(c[1].files=n);const h=[{label:"Total Storage",value:"0.04 GB",sub:"92% Available",icon:""},{label:"Total Files",value:n.length.toString(),sub:"4 Categories",icon:""},{label:"Active Shares",value:"142",sub:"24 Secure Links",icon:""},{label:"Audit Events",value:"1.2k",sub:"Last 24 hours",icon:""}];return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"The Data Vault"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Secure repository for sensitive documents and evidence"})]}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold/20 rounded-full inter text-[10px] font-bold text-gold uppercase tracking-widest hover:bg-gold hover:text-navy transition-all duration-300",children:"Secure Upload +"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:h.map((d,p)=>l.jsxs(AC,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 relative group cursor-default",children:[l.jsx("span",{className:"absolute top-4 right-4 text-xl opacity-20 group-hover:opacity-100 transition-opacity duration-500",children:d.icon}),l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsx("div",{className:"flex items-end gap-2",children:l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-widest",children:d.value})}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),r?l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Accessing Cryptographic Vault..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(d=>l.jsx("div",{className:`group relative p-8 rounded-3xl border transition-all duration-500 cursor-pointer ${t===d.id?"bg-gold/10 border-gold shadow-[0_0_30px_rgba(200,169,81,0.1)]":"bg-white/5 border-white/10 hover:border-white/30 hover:bg-white/[0.07]"}`,onClick:()=>e(t===d.id?null:d.id),children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("span",{className:"text-4xl",children:d.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-white tracking-widest font-bold mb-1",children:d.title}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-medium",children:d.type})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("span",{className:"inter text-[10px] text-slate-400 font-bold",children:[d.files.length," DOCUMENTS"]}),l.jsx("span",{className:`text-gold transition-transform duration-300 ${t===d.id?"rotate-90":""}`,children:""})]})]})},d.id))}),l.jsx(cG,{children:t&&l.jsx(AC,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-3xl overflow-hidden bg-black/20 backdrop-blur-3xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h3",{className:"cinzel text-xl text-gold tracking-widest font-bold uppercase",children:c.find(d=>d.id===t)?.title}),l.jsx("div",{className:"flex gap-4",children:l.jsx("input",{type:"text",placeholder:"Filter files...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-2 inter text-xs text-white focus:outline-none focus:border-gold/30"})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.find(d=>d.id===t)?.files.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-white/10 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-black/40 flex items-center justify-center text-xl",children:d.type==="PDF"?"":""}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-semibold text-slate-200",children:d.name}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-tighter mt-1",children:d.description})]})]}),l.jsxs("div",{className:"flex items-center gap-12",children:[l.jsxs("div",{className:"hidden md:block text-right",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Access"}),l.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${d.access==="Public"?"text-emerald bg-emerald/10":d.access==="Restricted"?"text-amber-500 bg-amber-500/10":"text-rose-500 bg-rose-500/10"}`,children:d.access})]}),l.jsxs("div",{className:"hidden md:block text-right w-20",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Size"}),l.jsx("p",{className:"inter text-xs text-slate-300 font-medium",children:d.size})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""}),l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""})]})]})]},d.id)),c.find(d=>d.id===t)?.files.length===0&&l.jsx("div",{className:"p-12 text-center border-2 border-dashed border-white/5 rounded-2xl",children:l.jsx("p",{className:"inter text-[10px] text-slate-600 uppercase tracking-widest",children:"No documents matching this partition"})})]})]})})})]})}const dG=l1.tr;function hG(){const[t,e]=D.useState("ALL"),{data:n,isLoading:i,isError:r}=WB(t),o=n?.logs||[];if(i)return l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Syncing Multi-Region Logs..."})]});if(r)return l.jsxs("div",{className:"neo-glass-panel p-10 border border-rose-500/30 rounded-2xl bg-rose-500/5 text-center",children:[l.jsx("p",{className:"inter text-xs text-rose-500 uppercase tracking-widest font-bold mb-2",children:"Telemetry Sync Failed"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase",children:"Upstream connection timeout or unauthorized access"})]});const c=t==="ALL"?o:o.filter(d=>d.level===t),h=d=>{switch(d){case"SUCCESS":return"text-emerald shadow-[0_0_10px_#10b981]";case"WARNING":return"text-amber-500 shadow-[0_0_10px_#f59e0b]";case"ERROR":return"text-rose-500 shadow-[0_0_10px_#f43f5e]";case"SECURITY":return"text-gold shadow-[0_0_10px_#C8A951]";default:return"text-blue-400 shadow-[0_0_10px_#60a5fa]"}};return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"System telemetry"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Real-time infrastructure audit trail"})]}),l.jsx("div",{className:"flex gap-2 p-1 bg-black/40 border border-white/5 rounded-lg backdrop-blur-md",children:["ALL","SECURITY","WARNING","ERROR"].map(d=>l.jsx("button",{onClick:()=>e(d),className:`px-3 py-1 inter text-[10px] font-bold tracking-widest uppercase rounded transition-all duration-300 ${t===d?"bg-white/10 text-white shadow-inner":"text-slate-500 hover:text-slate-300"}`,children:d},d))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Platform Uptime",value:"99.998%",status:"emerald",sub:"Last 30 days"},{label:"Auth Success",value:"98.2%",status:"emerald",sub:"MFA Verified"},{label:"API Latency",value:"42ms",status:"blue",sub:"Global Average"},{label:"Error Rate",value:"0.04%",status:"amber",sub:"Standard Deviance"}].map((d,p)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 group hover:border-white/20 transition-all duration-500",children:[l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-tighter",children:d.value}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald mb-2 shadow-[0_0_10px_#10b981] animate-pulse"})]}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-2xl overflow-hidden bg-white/5 backdrop-blur-2xl",children:[l.jsxs("div",{className:"bg-black/40 px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[l.jsx("h3",{className:"cinzel text-xs text-slate-300 font-bold tracking-widest uppercase",children:"Live Audit Stream"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Buffer: 50 Records"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Sync: Active"})]})]}),l.jsx("div",{className:"max-h-[500px] overflow-y-auto overflow-x-hidden",children:l.jsxs("table",{className:"w-full inter text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border-b border-white/5",children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Severity"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Module"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Message"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Entity"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:c.map(d=>l.jsxs(dG,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-[11px] font-mono text-slate-500",children:new Date(Number(d.timestamp)).toLocaleTimeString([],{hour12:!1})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`text-[9px] font-bold tracking-widest uppercase px-2 py-0.5 rounded bg-black/20 border border-white/5 ${h(d.level)}`,children:d.level})}),l.jsx("td",{className:"px-6 py-4 text-[11px] font-bold text-slate-300 tracking-tighter",children:d.source}),l.jsx("td",{className:"px-6 py-4 text-xs text-slate-400",children:d.message}),l.jsx("td",{className:"px-6 py-4 text-[10px] text-slate-600 font-medium",children:d.user||"SYSTEM"})]},d.id))})]})})]})]})}const fG=l1.div,pG=WR;function mG(){const[t,e]=D.useState("overview"),[n,i]=D.useState(""),r=[{id:"overview",title:"Getting Started",content:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"inter text-slate-400 leading-relaxed",children:"Welcome to the SirsiNexus Admin Console documentation. This guide will help you understand and effectively use all features of the admin portal."}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"cinzel text-gold text-lg mb-4 tracking-widest uppercase font-bold",children:"Quick Start"}),l.jsx("ol",{className:"space-y-4",children:["Log in to the admin console with your administrator credentials","Navigate through the sidebar to access different sections","Use Quick Actions for common tasks","Monitor system health from the dashboard","Configure settings as needed for your organization"].map((c,h)=>l.jsxs("li",{className:"flex gap-4 items-start inter text-sm text-slate-300",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gold/10 border border-gold/20 flex items-center justify-center text-gold text-xs font-bold",children:h+1}),l.jsx("span",{className:"mt-1",children:c})]},h))})]})]})},{id:"dashboard",title:"Dashboard Guide",content:l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Platform Overview"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The dashboard provides a real-time overview of your platform's performance, user activity, and system health."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Total Users",desc:"Active user count and growth percentage"},{label:"Revenue",desc:"Monthly revenue tracking and trends"},{label:"Active Sessions",desc:"Real-time user sessions"},{label:"Server Health",desc:"System uptime and performance"}].map((c,h)=>l.jsxs("div",{className:"p-4 rounded-lg bg-black/20 border border-white/5",children:[l.jsx("h4",{className:"inter text-gold text-xs font-bold uppercase tracking-wider mb-1",children:c.label}),l.jsx("p",{className:"inter text-slate-400 text-xs leading-relaxed",children:c.desc})]},h))})]})})},{id:"users",title:"User Management",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Managing Access"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The User Management section allows you to create, edit, and manage user accounts and permissions."}),l.jsx("div",{className:"space-y-4",children:[{title:"User Creation",desc:"Add new users with role assignment"},{title:"Bulk Import",desc:"Import multiple users via CSV"},{title:"Role Mapping",desc:"Define custom roles and permissions"},{title:"Audit Trail",desc:"Monitor user login and actions"}].map((c,h)=>l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-emerald shadow-[0_0_8px_#10b981]"}),l.jsxs("div",{children:[l.jsx("p",{className:"inter text-white text-sm font-medium",children:c.title}),l.jsx("p",{className:"inter text-slate-500 text-xs",children:c.desc})]})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-black/40 border border-white/10 font-mono text-[11px] text-emerald/80 space-y-1",children:[l.jsx("p",{className:"text-slate-500 italic mb-2",children:"// Canonical Role Hierarchy"}),l.jsx("p",{children:"ROLE_ADMIN      = 0xFF; // Full system access"}),l.jsx("p",{children:"ROLE_MANAGER    = 0x40; // Department management"}),l.jsx("p",{children:"ROLE_ANALYST    = 0x20; // Read-only access"}),l.jsx("p",{children:"ROLE_VIEWER     = 0x01; // Limited viewing"})]})]})},{id:"security",title:"Security Engine",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"System Hardening"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Access Control",desc:"IP whitelisting and blacklisting"},{title:"MFA Enforcement",desc:"TOTP, Email, and SMS verification"},{title:"Session Vault",desc:"Encrypted token storage and rotation"},{title:"Audit Records",desc:"Immutable logging of security events"}].map((c,h)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-emerald text-xs",children:""}),l.jsx("span",{className:"inter text-sm font-semibold text-slate-200",children:c.title})]}),l.jsx("p",{className:"inter text-xs text-slate-500 leading-relaxed pl-6",children:c.desc})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-yellow-500/20 bg-yellow-500/5 flex gap-4",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("p",{className:"inter text-xs text-yellow-200/70 leading-relaxed italic",children:[l.jsx("strong",{children:"Critical Directive:"})," Always verify security modifications in isolated staging environments before propagating to production clusters."]})]})]})}],o=r.filter(c=>c.title.toLowerCase().includes(n.toLowerCase())||c.id.toLowerCase().includes(n.toLowerCase()));return l.jsxs("div",{className:"flex flex-col gap-8 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-[0.2em] font-bold",children:"ADMIN DOCUMENTATION"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest font-medium",children:"Standard Operating Procedures and System Reference"})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[l.jsxs("aside",{className:"col-span-3 space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Find feature...",value:n,onChange:c=>i(c.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2.5 inter text-xs text-white focus:outline-none focus:border-gold/30 transition-all pl-10"}),l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""})]}),l.jsx("nav",{className:"flex flex-col gap-1",children:o.map(c=>l.jsxs("button",{onClick:()=>e(c.id),className:`group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 inter text-xs font-semibold tracking-wider uppercase ${t===c.id?"bg-gold/10 text-gold border border-gold/20":"text-slate-500 hover:text-slate-300 hover:bg-white/5 border border-transparent"}`,children:[c.title,l.jsx("span",{className:`transition-transform duration-300 ${t===c.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100"}`,children:""})]},c.id))}),l.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-white/10 space-y-4",children:[l.jsx("h4",{className:"cinzel text-gold text-[10px] font-bold tracking-widest uppercase",children:"Support Forge"}),l.jsx("p",{className:"inter text-[10px] text-slate-400 leading-relaxed",children:"Technical assistance is available 24/7 for critical system failures."}),l.jsx("a",{href:"mailto:support@sirsi.ai",className:"inline-block inter text-[10px] font-bold text-white uppercase tracking-wider hover:text-gold transition-colors",children:"Initialize Signal "})]})]}),l.jsx("main",{className:"col-span-9",children:l.jsx(pG,{mode:"wait",children:l.jsxs(fG,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("div",{className:"h-px flex-1 bg-white/10"}),l.jsx("h3",{className:"cinzel text-xl text-white tracking-[0.3em] font-medium uppercase",children:r.find(c=>c.id===t)?.title}),l.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.find(c=>c.id===t)?.content]},t)})})]})]})}const c1=lA()(uA(t=>({products:{...ms},bundles:{...ii},templates:{...Yi},updateProduct:(e,n)=>t(i=>({products:{...i.products,[e]:{...i.products[e],...n}}})),addProduct:e=>t(n=>({products:{...n.products,[e.id]:e}})),deleteProduct:e=>t(n=>{const i={...n.products};return delete i[e],{products:i}}),updateBundle:(e,n)=>t(i=>({bundles:{...i.bundles,[e]:{...i.bundles[e],...n}}})),addBundle:e=>t(n=>({bundles:{...n.bundles,[e.id]:e}})),updateTemplate:(e,n)=>t(i=>({templates:{...i.templates,[e]:{...i.templates[e],...n}}})),addTemplate:e=>t(n=>({templates:{...n.templates,[e.key]:e}})),resetToDefaults:()=>t({products:{...ms},bundles:{...ii},templates:{...Yi}})}),{name:"sirsi-governance-cache"})),rn={card:"bg-black/20 border border-white/10 rounded-xl p-6 hover:border-gold/30 transition-all",input:"w-full bg-navy border border-white/10 rounded px-4 py-2 text-white text-sm inter outline-none focus:border-gold/50",label:"inter text-[10px] text-slate-500 uppercase tracking-widest mb-1 block font-bold",btnPrimary:"px-4 py-2 bg-gold text-navy cinzel font-bold text-[10px] tracking-widest uppercase rounded hover:bg-gold-bright transition-all",btnGhost:"px-4 py-2 border border-white/10 text-white inter text-[10px] font-bold uppercase tracking-widest rounded hover:bg-white/5",badge:"px-2 py-0.5 rounded text-[9px] font-bold uppercase tracking-tighter"};function gG(){const{products:t,bundles:e,updateProduct:n,updateBundle:i}=c1(),[r,o]=D.useState(""),c=Object.values(t).filter(h=>h.name.toLowerCase().includes(r.toLowerCase())||h.id.toLowerCase().includes(r.toLowerCase()));return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-6 rounded-2xl border border-white/5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-gold tracking-widest",children:"Addon Registry"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase mt-1",children:"Manage individual service components and pricing"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{placeholder:"Search addons...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-2 inter text-xs outline-none focus:border-gold/30 w-64",value:r,onChange:h=>o(h.target.value)}),l.jsx("button",{className:rn.btnPrimary,children:"+ New Addon"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>l.jsxs("div",{className:rn.card,children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white",children:h.name}),l.jsx("span",{className:"text-[9px] font-mono text-slate-500 uppercase",children:h.id})]}),l.jsx("span",{className:`${rn.badge} ${h.category==="platform"?"bg-emerald/10 text-emerald border border-emerald/20":h.category==="feature"?"bg-gold/10 text-gold border border-gold/20":"bg-slate-500/10 text-slate-400 border border-slate-500/20"}`,children:h.category})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Bundled Price"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gold font-mono text-sm",children:"$"}),l.jsx("input",{type:"number",className:rn.input,value:h.bundledPrice,onChange:d=>n(h.id,{bundledPrice:Number(d.target.value)})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Standalone"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-500 font-mono text-sm",children:"$"}),l.jsx("input",{type:"number",className:rn.input,value:h.standalonePrice||0,onChange:d=>n(h.id,{standalonePrice:Number(d.target.value)})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Labor Hours"}),l.jsx("input",{type:"number",className:rn.input,value:h.hours,onChange:d=>n(h.id,{hours:Number(d.target.value)})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:rn.label,children:["Timeline (",h.timelineUnit,")"]}),l.jsx("input",{type:"number",className:rn.input,value:h.timeline,onChange:d=>n(h.id,{timeline:Number(d.target.value)})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Short Description"}),l.jsx("textarea",{className:`${rn.input} h-20 resize-none`,value:h.shortDescription,onChange:d=>n(h.id,{shortDescription:d.target.value})})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-2 border-t border-white/5 pt-4",children:[l.jsx("button",{className:rn.btnGhost,children:"Scope Items"}),l.jsx("button",{className:rn.btnGhost,children:"WBS Logic"})]})]},h.id))}),l.jsxs("div",{className:"mt-12",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-gold tracking-widest",children:"Base Bundles"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase mt-1",children:"Comprehensive platform packages"})]}),l.jsx("button",{className:rn.btnPrimary,children:"+ New Bundle"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6",children:Object.values(e).map(h=>l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-2xl flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"cinzel text-xl text-white mb-2",children:h.name}),l.jsx("p",{className:"inter text-sm text-slate-400 mb-6",children:h.description}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Base Price"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-gold font-mono text-xl",children:"$"}),l.jsx("input",{type:"number",className:"bg-transparent border-b border-gold/30 text-gold cinzel text-xl outline-none w-24",value:h.price,onChange:d=>i(h.id,{price:Number(d.target.value)})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Total Hours"}),l.jsx("input",{type:"number",className:"bg-transparent border-b border-white/10 text-white inter text-xl outline-none w-20",value:h.hours,onChange:d=>i(h.id,{hours:Number(d.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Timeline"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",className:"bg-transparent border-b border-white/10 text-white inter text-xl outline-none w-16",value:h.timeline,onChange:d=>i(h.id,{timeline:Number(d.target.value)})}),l.jsx("span",{className:"inter text-xs text-slate-500 uppercase",children:h.timelineUnit})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:rn.label,children:"Addon Discount"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",className:"bg-transparent border-b border-white/10 text-white inter text-xl outline-none w-12",value:h.addonDiscount,onChange:d=>i(h.id,{addonDiscount:Number(d.target.value)})}),l.jsx("span",{className:"inter text-xs text-slate-500",children:"%"})]})]})]})]}),l.jsxs("div",{className:"w-full md:w-80 bg-black/30 rounded-xl p-6 border border-white/5",children:[l.jsx("h5",{className:rn.label,children:"Included Products"}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.includedProducts.map(d=>l.jsx("span",{className:"inter text-[10px] bg-white/5 border border-white/10 px-2 py-1 rounded text-slate-300",children:t[d]?.name||d},d))}),l.jsx("button",{className:"w-full mt-6 py-2 border border-white/10 text-white inter text-[10px] font-bold uppercase tracking-widest rounded hover:bg-white/5",children:"Edit Bundle Contents"})]})]},h.id))})]})]})}const Tt={section:"bg-black/20 border border-white/10 rounded-2xl p-8 mb-8",label:"inter text-[10px] text-slate-500 uppercase tracking-widest mb-2 block font-bold",input:"w-full bg-navy border border-white/10 rounded px-4 py-3 text-white text-sm inter outline-none focus:border-gold/50 transition-all",textarea:"w-full bg-navy border border-white/10 rounded px-4 py-3 text-white text-sm inter outline-none focus:border-gold/50 transition-all min-h-[100px] resize-y",h3:"cinzel text-xl text-gold tracking-widest mb-6 border-b border-gold/10 pb-4 flex justify-between items-center",btnPrimary:"px-6 py-2 bg-gold text-navy cinzel font-bold text-xs tracking-widest uppercase rounded hover:bg-gold-bright transition-all"};function yG(){const{templates:t,updateTemplate:e}=c1(),[n,i]=D.useState("finalwishes"),r=t[n];if(!r)return l.jsx("div",{children:"Template not found."});const o=(c,h)=>{e(n,{[c]:h})};return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-6 rounded-2xl border border-white/5",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-gold tracking-widest",children:"Master Base Configuration"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase mt-1",children:"Design the legal and strategic blueprints for each project type"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("select",{value:n,onChange:c=>i(c.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-2 inter text-sm text-gold outline-none focus:border-gold/30 w-64 cinzel font-bold",children:Object.values(t).map(c=>l.jsx("option",{value:c.key,children:c.projectDisplayName},c.key))}),l.jsx("button",{className:Tt.btnPrimary,children:"+ New Template Base"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-8",children:[l.jsxs("div",{className:Tt.section,children:[l.jsx("h3",{className:Tt.h3,children:"I. Strategic Positioning"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Project Display Name"}),l.jsx("input",{className:Tt.input,value:r.projectDisplayName,onChange:c=>o("projectDisplayName",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Provider Entity"}),l.jsx("input",{className:Tt.input,value:r.providerName,onChange:c=>o("providerName",c.target.value)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Primary Objective Title"}),l.jsx("input",{className:Tt.input,value:r.primaryObjectiveTitle,onChange:c=>o("primaryObjectiveTitle",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Executive Summary Objective"}),l.jsx("textarea",{className:Tt.textarea,value:r.primaryObjectiveDescription,onChange:c=>o("primaryObjectiveDescription",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Strategic Market Position"}),l.jsx("textarea",{className:Tt.textarea,value:r.strategicPosition,onChange:c=>o("strategicPosition",c.target.value)})]})]})]}),l.jsxs("div",{className:Tt.section,children:[l.jsx("h3",{className:Tt.h3,children:"II. Statement of Work (SOW) Definitions"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"SOW Platform Type"}),l.jsx("input",{className:Tt.input,value:r.sowPlatformType,onChange:c=>o("sowPlatformType",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"SOW High-Level Objective"}),l.jsx("textarea",{className:Tt.textarea,value:r.sowObjective,onChange:c=>o("sowObjective",c.target.value)})]})]})]}),l.jsxs("div",{className:Tt.section,children:[l.jsx("h3",{className:Tt.h3,children:"III. Master Service Agreement (MSA) Terms"}),l.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"MSA Recitals (Introductory Clauses)"}),l.jsx("textarea",{className:Tt.textarea,style:{minHeight:"150px"},value:r.msaRecital,onChange:c=>o("msaRecital",c.target.value)}),l.jsxs("p",{className:"text-[9px] text-slate-500 mt-2 italic",children:["Use ","{projectName}"," for dynamic interpolation."]})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Foreground Intellectual Property Description"}),l.jsx("textarea",{className:Tt.textarea,value:r.msaForegroundIpDescription,onChange:c=>o("msaForegroundIpDescription",c.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Vertical Exclusive License Field"}),l.jsx("input",{className:Tt.input,value:r.msaVerticalLicense,onChange:c=>o("msaVerticalLicense",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:Tt.label,children:"Non-Compete Vertical Restricted Field"}),l.jsx("input",{className:Tt.input,value:r.msaNonCompeteVertical,onChange:c=>o("msaNonCompeteVertical",c.target.value)})]})]})]})]})]})]})}function xG(){const[t,e]=D.useState("catalog"),n=c1(i=>i.resetToDefaults);return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest uppercase",children:"Studio Governance Engine"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Modify core business logic, pricing, and contract archetypes"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:n,className:"px-6 py-2 border border-red-500/20 text-red-500/60 inter font-bold tracking-widest uppercase text-[10px] rounded hover:bg-red-500/5 transition-all",children:"Reset All to Defaults"}),l.jsx("button",{className:"px-6 py-2 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded hover:bg-gold-bright transition-all shadow-[0_0_15px_rgba(200,169,81,0.3)]",children:"Snapshot & Propagate "})]})]}),l.jsxs("div",{className:"flex gap-8 border-b border-white/5 pb-0",children:[l.jsxs("button",{onClick:()=>e("catalog"),className:`pb-4 inter text-xs font-bold uppercase tracking-widest transition-all relative ${t==="catalog"?"text-gold":"text-slate-500 hover:text-white"}`,children:["Product & Addon Catalog",t==="catalog"&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gold shadow-[0_0_8px_#C8A951]"})]}),l.jsxs("button",{onClick:()=>e("templates"),className:`pb-4 inter text-xs font-bold uppercase tracking-widest transition-all relative ${t==="templates"?"text-gold":"text-slate-500 hover:text-white"}`,children:["Contract Base Templates",t==="templates"&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gold shadow-[0_0_8px_#C8A951]"})]})]}),l.jsxs("div",{className:"min-h-[600px]",children:[t==="catalog"&&l.jsx(gG,{}),t==="templates"&&l.jsx(yG,{})]})]})}function vG(){const[t,e]=D.useState("contracts"),n=Yj();D.useEffect(()=>{$t.currentUser&&n.mutate({developerId:$t.currentUser.uid,action:"ADMIN_PORTAL_ENTER",metadata:JSON.stringify({userAgent:navigator.userAgent,timestamp:new Date().toISOString(),initialTab:t})})},[]);const i=[{id:"contracts",label:"Contract Manager",icon:"",category:"Operations"},{id:"tenants",label:"Tenant Registry",icon:"",category:"Operations"},{id:"users",label:"Users & Roles",icon:"",category:"Operations"},{id:"dataroom",label:"Data Room",icon:"",category:"Operations"},{id:"governance",label:"Studio Governance",icon:"",category:"Operations"},{id:"analytics",label:"Intelligence",icon:"",category:"Intelligence"},{id:"revenue",label:"Financials",icon:"",category:"Intelligence"},{id:"invoices",label:"Billing",icon:"",category:"Intelligence"},{id:"developers",label:"Dev Forge",icon:"",category:"Engineering"},{id:"development",label:"System Engineering",icon:"",category:"Engineering"},{id:"logs",label:"System Logs",icon:"",category:"Engineering"},{id:"docs",label:"Documentation",icon:"",category:"Knowledge"},{id:"notifications",label:"Omni-Notify",icon:"",category:"Knowledge"},{id:"settings",label:"System Config",icon:"",category:"Knowledge"},{id:"mfa",label:"Security (MFA)",icon:"",category:"Knowledge"}];return l.jsxs("div",{className:"min-h-screen bg-navy text-white flex",children:[l.jsxs("aside",{className:"w-64 border-r border-white/10 flex flex-col backdrop-blur-xl bg-black/20",children:[l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"cinzel text-xl text-gold tracking-widest font-bold",children:"SIRSI ADMIN"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 tracking-[0.2em] font-medium mt-1 uppercase",children:"Permanent Ledger Hub"})]}),l.jsxs("nav",{className:"flex-1 px-4 py-2 flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:"Main"}),l.jsxs("a",{href:"https://sign.sirsi.ai/vault",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 border border-transparent group",children:[l.jsx("span",{className:"text-lg opacity-70 group-hover:opacity-100 transition-opacity",children:""}),"Document Vault"]})]}),["Operations","Intelligence","Engineering","Knowledge"].map(r=>l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:r}),l.jsx("div",{className:"flex flex-col gap-1",children:i.filter(o=>o.category===r).map(o=>l.jsxs("button",{onClick:()=>e(o.id),className:`flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium ${t===o.id?"bg-gold/10 text-gold border border-gold/20 shadow-[0_0_15px_rgba(200,169,81,0.1)]":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg opacity-70",children:o.icon}),o.label]},o.id))})]},r))]}),l.jsx("div",{className:"p-6 border-t border-white/10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald/20 border border-emerald/50 flex items-center justify-center text-[10px] text-emerald font-bold",children:"CC"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-white",children:"Cylton Collymore"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase tracking-tighter",children:"System Architect"})]})]})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[t==="contracts"&&l.jsx(M9,{}),t==="tenants"&&l.jsx(L9,{}),t==="users"&&l.jsx(V9,{}),t==="analytics"&&l.jsx(U9,{}),t==="revenue"&&l.jsx(H9,{}),t==="invoices"&&l.jsx(G9,{}),t==="dataroom"&&l.jsx(uG,{}),t==="governance"&&l.jsx(xG,{}),t==="developers"&&l.jsx(q9,{}),t==="development"&&l.jsx(F9,{}),t==="logs"&&l.jsx(hG,{}),t==="docs"&&l.jsx(mG,{}),t==="notifications"&&l.jsx(B9,{}),t==="settings"&&l.jsx(z9,{}),t==="mfa"&&l.jsx(kb,{onComplete:()=>e("contracts"),onCancel:()=>e("contracts")})]})})]})}function bG(){return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-3xl text-white tracking-widest font-bold",children:["Investor ",l.jsx("span",{className:"text-emerald-500",children:"Dashboard"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-2 uppercase tracking-[0.2em]",children:"Secure gateway to comprehensive investment insights"})]}),l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),l.jsxs("div",{className:"relative flex flex-col gap-6",children:[l.jsxs("p",{className:"inter text-sm leading-relaxed text-slate-300 max-w-3xl",children:["SirsiNexus is revolutionizing cloud infrastructure management through our proprietary ",l.jsx("span",{className:"text-emerald-400 font-bold",children:"Graph of Thought AI"})," architecture integrated with ",l.jsx("span",{className:"text-emerald-400 font-bold",children:"Hedera Hashgraph"})," technology. Our unique superpower lies in strategic traction - exclusive access to NVIDIA's invite-only Inception Program and AWS's Migration Acceleration Program positions us at the epicenter of cloud transformation."]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(d0,{title:"Investment Opportunity",content:"Pre-Seed funding of $1.5M unlocks NVIDIA and AWS co-investment commitments, plus Hedera Hashgraph strategic investment interest.",color:"emerald"}),l.jsx(d0,{title:"Use of Funds",content:"40% Intelligence development, 35% enterprise sales expansion, 15% F100 adoption, and 10% working capital.",color:"blue"}),l.jsx(d0,{title:"Target Return",content:"10x return potential within 5 years through strategic exit or IPO, driven by dominant market position.",color:"purple"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Market Opportunity"}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(h0,{label:"$78.8B TAM",description:"Growing cloud infrastructure optimization market with 28.5% CAGR, driven by enterprise digital transformation."}),l.jsx(h0,{label:"28.5% CAGR",description:"Rapid market expansion driven by cloud adoption and AI-powered optimization demand."}),l.jsx(h0,{label:"Enterprise Focus",description:"Targeting high-value enterprise customers with $125K average contract value and 96% logo retention."})]})]}),l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Financial Projections"}),l.jsx("div",{className:"h-48 flex items-end gap-3 pb-2 border-b border-white/5",children:[20,35,55,85,100].map((t,e)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:"w-full bg-gradient-to-t from-emerald-500/40 to-emerald-500/20 rounded-t-sm group-hover:from-emerald-500 transition-all duration-500 relative",style:{height:`${t}%`},children:l.jsxs("div",{className:"absolute -top-8 left-1/2 -track-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-emerald-500 text-black text-[8px] font-bold px-1 rounded",children:["Year ",e+1]})}),l.jsxs("span",{className:"inter text-[8px] text-slate-500",children:["Y",e+1]})]},e))}),l.jsxs("div",{className:"flex justify-between mt-4",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Projected ARR"}),l.jsx("span",{className:"inter text-lg font-bold text-white",children:"$100M+"})]}),l.jsxs("div",{className:"text-right flex flex-col",children:[l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Exit Multiple"}),l.jsx("span",{className:"inter text-lg font-bold text-emerald-400",children:"12x - 15x"})]})]})]})]})]})}function d0({title:t,content:e,color:n}){const i={emerald:"border-emerald-500/30 bg-emerald-500/5",blue:"border-blue-500/30 bg-blue-500/5",purple:"border-purple-500/30 bg-purple-500/5"},r={emerald:"text-emerald-400",blue:"text-blue-400",purple:"text-purple-400"};return l.jsxs("div",{className:`p-4 rounded-xl border ${i[n]}`,children:[l.jsx("h4",{className:`inter text-[10px] font-bold uppercase tracking-wider mb-2 ${r[n]}`,children:t}),l.jsx("p",{className:"inter text-[11px] text-slate-400 leading-relaxed",children:e})]})}function h0({label:t,description:e}){return l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0 text-emerald-400 text-xs",children:""}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-bold text-white tracking-wide",children:t}),l.jsx("span",{className:"inter text-[11px] text-slate-400 mt-0.5",children:e})]})]})}function SG(){const[t,e]=D.useState("legal"),[n,i]=D.useState([]),[r,o]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const d=await tI();if(d.success){const p=d.files.map(m=>({id:m.id,name:m.name,size:m.size,type:m.type,access:"Confidential",uploaded:new Date(m.updated).toLocaleDateString()}));i(p)}}catch(d){console.error("DataRoom Access Error:",d)}finally{o(!1)}})()},[]);const c=[{id:"legal",label:"Legal & Intellectual Property",icon:""},{id:"financial",label:"Financials & Projections",icon:""},{id:"product",label:"Product & Technology",icon:""},{id:"governance",label:"Studio Governance",icon:""}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-2xl text-white tracking-widest font-bold",children:["Investor ",l.jsx("span",{className:"text-emerald-500",children:"Data Room"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-1 uppercase tracking-tighter",children:"Secure cryptographic repository for due diligence artifacts"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"flex flex-col gap-2",children:c.map(h=>l.jsxs("button",{onClick:()=>e(h.id),className:`flex items-center gap-4 px-6 py-4 rounded-xl border transition-all duration-300 ${t===h.id?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-black/20 border-white/5 text-slate-500 hover:text-slate-300 hover:bg-white/5"}`,children:[l.jsx("span",{className:"text-lg",children:h.icon}),l.jsx("span",{className:"inter text-[11px] font-bold uppercase tracking-widest text-left",children:h.label})]},h.id))}),l.jsxs("div",{className:"lg:col-span-3 bg-black/40 border border-white/5 rounded-2xl p-8 min-h-[500px] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/5 pb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 border border-emerald-500/30 flex items-center justify-center text-emerald-500",children:""}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm font-bold text-white uppercase tracking-widest",children:c.find(h=>h.id===t)?.label}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Synchronized with Secure Storage"})]})]}),l.jsx("button",{className:"px-4 py-2 border border-white/10 rounded-lg inter text-[10px] font-bold text-slate-400 hover:text-white hover:bg-white/5 transition-all uppercase",children:"Batch Download"})]}),r?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin"}),l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase tracking-[0.3em]",children:"Accessing Cryptographic Vault..."})]}):l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("div",{className:"p-20 text-center border border-dashed border-white/10 rounded-xl",children:l.jsx("p",{className:"inter text-sm text-slate-500 italic",children:"No artifacts available in this section."})}):n.map(h=>l.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl hover:bg-emerald-500/5 border border-transparent hover:border-emerald-500/20 transition-all cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-10 h-12 bg-slate-800 rounded flex flex-col items-center justify-center border border-white/10 group-hover:border-emerald-500/30",children:[l.jsx("span",{className:"inter text-[8px] font-bold text-slate-500 group-hover:text-emerald-500",children:h.type}),l.jsx("div",{className:"w-4 h-[1px] bg-slate-600 mt-1"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-slate-200 group-hover:text-white",children:h.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:h.size}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-700"}),l.jsx("span",{className:"inter text-[9px] text-emerald-500/70 font-bold uppercase tracking-tighter",children:h.access})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"inter text-[9px] text-slate-600 uppercase",children:["Uploaded ",h.uploaded]}),l.jsx("button",{className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-emerald-500 hover:border-emerald-500 group-hover:opacity-100 opacity-0 transition-all",children:l.jsx("span",{className:"text-white text-xs",children:""})})]})]},h.id))})]})]})]})}function wG(){return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-2xl text-white tracking-widest font-bold",children:["KPI ",l.jsx("span",{className:"text-emerald-500",children:"& Unit Metrics"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-1 uppercase tracking-tighter",children:"Strategic traction metrics and unit economics analysis"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(f0,{label:"Customer Lifetime Value",value:"$412.5k",sub:"Gross Margin: 82%",icon:"",trend:"+15%"}),l.jsx(f0,{label:"CAC (Total Blended)",value:"$14.2k",sub:"Payback: 3.2Mo",icon:"",trend:"-8%"}),l.jsx(f0,{label:"Churn Rate (Gross)",value:"0.8%",sub:"Expansion: +112%",icon:"",trend:"Stable"})]}),l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-start mb-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest",children:"Growth Velocity"}),l.jsx("p",{className:"inter text-[9px] text-slate-500 uppercase mt-1",children:"Institutional portfolio adoption rate"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(jC,{color:"bg-emerald-500",label:"SaaS Revenue"}),l.jsx(jC,{color:"bg-blue-500",label:"Professional Services"})]})]}),l.jsx("div",{className:"h-64 flex items-end gap-4 pb-2 border-b border-white/5",children:[30,45,40,65,55,80,75,95,100].map((t,e)=>l.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[l.jsxs("div",{className:"flex flex-col h-full justify-end",children:[l.jsx("div",{className:"w-full bg-blue-500/30 rounded-t-sm",style:{height:`${t*.3}%`}}),l.jsx("div",{className:"w-full bg-emerald-500 rounded-t-sm shadow-[0_0_15px_rgba(16,185,129,0.2)]",style:{height:`${t*.7}%`}})]}),l.jsxs("span",{className:"inter text-[8px] text-slate-600 text-center uppercase mt-1",children:["Q",e+1]})]},e))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-2xl p-8",children:[l.jsx("h4",{className:"inter text-xs font-bold text-emerald-400 uppercase tracking-widest mb-6",children:"Unfair Competitive Moats"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Wl,{title:"NVIDIA Inception",desc:"Exclusive hardware orchestration access and compute subsidies."}),l.jsx(Wl,{title:"Hedera Alliance",desc:"Institutional-grade consensus and permanent audit trail verification."}),l.jsx(Wl,{title:"AWS MAP Pilot",desc:"Direct migration funding for F100 portfolio optimization."})]})]}),l.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-2xl p-8",children:[l.jsx("h4",{className:"inter text-xs font-bold text-blue-400 uppercase tracking-widest mb-6",children:"Unit Economic Stability"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Wl,{title:"82% Contribution Margin",desc:"Highly scalable infrastructure with minimal manual overhead."}),l.jsx(Wl,{title:"8.5x ROI Projection",desc:"Verified via pilot deployments across University networks."}),l.jsx(Wl,{title:"Exclusivity Lock",desc:"Multi-year mandates for estate settlement orchestration."})]})]})]})]})}function f0({label:t,value:e,sub:n,icon:i,trend:r}){return l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl relative overflow-hidden group hover:border-emerald-500/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 text-2xl opacity-20 group-hover:opacity-40 transition-opacity translate-x-1 -translate-y-1",children:i}),l.jsx("span",{className:"inter text-[9px] text-slate-400 uppercase tracking-widest block mb-2",children:t}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-wider",children:e}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase mt-1",children:n})]}),l.jsxs("span",{className:`inter text-[9px] font-bold ${r==="Stable"?"text-slate-500":(r.startsWith("+"),"text-emerald-400")}`,children:[r," ",r!=="Stable"&&""]})]})]})}function jC({color:t,label:e}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-sm ${t}`}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-tighter",children:e})]})}function Wl({title:t,desc:e}){return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-bold text-slate-200",children:t}),l.jsx("span",{className:"inter text-[11px] text-slate-500 mt-0.5",children:e})]})}function _G(){const[t,e]=D.useState("dashboard"),[n,i]=D.useState(()=>nI()),r=[{id:"dashboard",label:"Dashboard",icon:"",category:"Portal"},{id:"dataroom",label:"Data Room",icon:"",category:"Portal"},{id:"metrics",label:"KPI Metrics",icon:"",category:"Portal"},{id:"committee",label:"Committee Docs",icon:"",category:"Resources"},{id:"support",label:"Investor Support",icon:"",category:"Resources"}];return n?l.jsxs("div",{className:"min-h-screen bg-[#022c22] text-slate-100 flex",children:[l.jsxs("aside",{className:"w-64 border-r border-white/5 flex flex-col bg-slate-900/50 backdrop-blur-xl",children:[l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 border border-emerald-500/50 flex items-center justify-center text-emerald-500 font-bold",children:"SN"}),l.jsxs("div",{children:[l.jsx("h1",{className:"inter text-sm font-bold tracking-tight text-white",children:"SirsiNexus"}),l.jsx("p",{className:"inter text-[10px] text-emerald-500/80 font-medium uppercase tracking-[0.2em]",children:"Investor Portal"})]})]})}),l.jsx("nav",{className:"flex-1 px-4 py-2 flex flex-col gap-6",children:["Portal","Resources"].map(o=>l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:o}),l.jsx("div",{className:"flex flex-col gap-1",children:r.filter(c=>c.category===o).map(c=>l.jsxs("button",{onClick:()=>e(c.id),className:`flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium ${t===c.id?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg opacity-70",children:c.icon}),c.label]},c.id))})]},o))}),l.jsx("div",{className:"p-6 border-t border-white/5 bg-black/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-white/10 flex items-center justify-center text-[10px] font-bold text-slate-400",children:$t.currentUser?.email?.[0].toUpperCase()||"I"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-white truncate max-w-[140px]",children:$t.currentUser?.email||"Authorized Investor"}),l.jsx("span",{className:"inter text-[9px] text-emerald-500 uppercase tracking-tighter",children:"Tier 1 Access"})]})]})})]}),l.jsxs("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-900 via-[#022c22] to-slate-950",children:[l.jsx("div",{className:"bg-emerald-500/5 border-b border-white/5 px-12 py-3",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx(Td,{label:"ARR Y3",value:"$33M",color:"emerald"}),l.jsx(Td,{label:"Customers",value:"280",color:"blue"}),l.jsx(Td,{label:"Savings",value:"25%",color:"purple"}),l.jsx(Td,{label:"Uptime",value:"99.2%",color:"orange"}),l.jsx(Td,{label:"ROI",value:"8.5x",color:"indigo"})]}),l.jsxs("span",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:["Live Feed  ",new Date().toLocaleTimeString()]})]})}),l.jsxs("div",{className:"p-12 max-w-6xl mx-auto",children:[t==="dashboard"&&l.jsx(bG,{}),t==="dataroom"&&l.jsx(SG,{}),t==="metrics"&&l.jsx(wG,{}),t==="committee"&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"Committee Documents"}),l.jsx("p",{className:"inter text-sm text-slate-400 max-w-md",children:"Access strategic committee records, market analysis, and product roadmaps from the secure repository."}),l.jsx("button",{className:"mt-8 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg inter text-xs font-bold transition-all",children:"Launch Document Store"})]}),t==="support"&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"Investor Relations"}),l.jsx("p",{className:"inter text-sm text-slate-400 max-w-md",children:"Primary contact: Cylton Collymore (General Partner). Direct support for cap table inquiries and strategic mandates."}),l.jsx("button",{className:"mt-8 px-6 py-2 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10 rounded-lg inter text-xs font-bold transition-all",children:"Open Secure Channel"})]})]})]})]}):l.jsx(Rb,{purpose:"vault",onVerified:()=>i(!0),onCancel:()=>window.location.href="/"})}function Td({label:t,value:e,color:n}){const i={emerald:"bg-emerald-500",blue:"bg-blue-500",purple:"bg-purple-500",orange:"bg-orange-500",indigo:"bg-indigo-500",rose:"bg-rose-500"};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${i[n]} animate-pulse`}),l.jsxs("span",{className:"inter text-[10px] font-medium text-slate-400 uppercase tracking-tight",children:[t,":"]}),l.jsx("span",{className:`inter text-[11px] font-bold text-${n}-400`,children:e})]})}function KR(){const[t,e]=D.useState(!1),[n,i]=D.useState(""),[r,o]=D.useState(""),[c,h]=D.useState(""),[d,p]=D.useState(!1),[m,x]=D.useState(!1),[v,S]=D.useState(!0),[w,E]=D.useState(null),{navigate:T,latestLocation:M}=wn(),O=M.search?.from||"/vault";D.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("email");W&&(o(W),e(!0));const K=Kv($t,I=>{I?T({to:"/vault",replace:!0}):S(!1)});return()=>K()},[T]);const k=async B=>{B.preventDefault(),x(!0),E(null);try{if(t){console.log(` Registering new account for ${r}...`);const W=await qL($t,r,c);await YL(W.user,{displayName:n}),console.log(" Registration successful")}else console.log(` Attempting login for ${r}...`),await WL($t,r,c),console.log(" Login successful");r.toLowerCase().includes("@sirsi.ai")?localStorage.setItem("sirsi_user_role","provider"):localStorage.setItem("sirsi_user_role","client"),localStorage.setItem("sirsi_user_email",r),t?(console.log(" New vault established  redirecting to MFA enrollment"),T({to:"/mfa",search:{mode:"enroll",from:O}})):T({to:O})}catch(W){console.error(" Authentication failed:",W),E(W.message||"Authentication failed")}finally{x(!1)}};return v?l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):l.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",opacity:.04,zIndex:5,backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"1200px",height:"1200px",background:"radial-gradient(circle, rgba(30, 58, 138, 0.25) 0%, transparent 70%)",zIndex:1,pointerEvents:"none"}}),l.jsxs("div",{style:{maxWidth:"520px",width:"100%",background:"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(40px)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"32px",padding:"60px 48px 48px 48px",textAlign:"center",boxShadow:"0 60px 120px -30px rgba(0, 0, 0, 0.8), inset 0 0 40px rgba(255, 255, 255, 0.02)",position:"relative",zIndex:10},children:[l.jsx("div",{style:{display:"inline-block",border:"1px solid #C8A951",borderRadius:"100px",padding:"8px 28px",marginBottom:"32px",background:"rgba(200, 169, 81, 0.02)"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"11px",fontWeight:800,letterSpacing:"0.35em",textTransform:"uppercase"},children:"Sirsi Nexus Sign"})}),l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",fontSize:"26px",fontWeight:400,margin:"0",letterSpacing:"0.18em",lineHeight:"1.2",color:"#FFFFFF"},children:"THE PROFESSIONAL"}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"40px",fontWeight:700,color:"#C8A951",margin:"8px 0 0 0",letterSpacing:"0.08em",lineHeight:"1.0"},children:"DOCUMENT VAULT"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.55)",fontSize:"14px",maxWidth:"380px",margin:"20px auto 36px auto",lineHeight:"1.6",fontWeight:300,fontFamily:"'Inter', sans-serif"},children:t?"Activate your secure vault to manage contracts and execute documents.":"Access your secure vault to review, execute, and archive master service agreements."}),l.jsx("div",{style:{height:"1px",background:"linear-gradient(to right, transparent, rgba(200, 169, 81, 0.3), transparent)",marginBottom:"32px"}}),l.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"18px"},children:[t&&l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Full Legal Name"}),l.jsx("input",{type:"text",required:!0,value:n,onChange:B=>i(B.target.value),placeholder:"Cylton Collymore",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:t?"Authorized Email":"Email Address"}),l.jsx("input",{type:"email",required:!0,value:r,onChange:B=>o(B.target.value),placeholder:"your@email.com",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:t?"Create Vault Password":"Password"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:d?"text":"password",required:!0,value:c,onChange:B=>h(B.target.value),placeholder:"",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",paddingRight:"48px",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}}),l.jsx("button",{type:"button",onClick:()=>p(!d),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.3)",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease"},onMouseEnter:B=>B.currentTarget.style.color="#C8A951",onMouseLeave:B=>B.currentTarget.style.color="rgba(255,255,255,0.3)",children:d?l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 19c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),w&&l.jsx("p",{style:{color:"#ef4444",fontSize:"12px",textAlign:"left",margin:"0",fontFamily:"'Inter', sans-serif"},children:w}),l.jsx("button",{type:"submit",className:"select-plan-btn",disabled:m,style:{width:"100%",padding:"16px",marginTop:"8px",border:"none",cursor:m?"wait":"pointer",opacity:m?.7:1},children:m?"Processing...":t?"Activate My Secure Vault":"Access Secure Hub"}),l.jsx("button",{type:"button",onClick:()=>{e(!t),E(null)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600,padding:"8px"},children:t?"Returning user? Sign in here":"First time? Activate your secure vault"}),l.jsxs("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.3)",marginTop:"8px",letterSpacing:"0.05em",fontFamily:"'Inter', sans-serif"},children:["BY ACCESSING THIS VAULT YOU AGREE TO SIRSI SECURITY PROTOCOLS. ",l.jsx("br",{}),"BIPARTITE MFA ENFORCEMENT IS ACTIVE."]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.06)",paddingTop:"32px",marginTop:"16px"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Immutable Audit"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Signed logs"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Smart Metadata"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"AI indexing"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Unified Billing"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Stripe rails"})]})]})]}),l.jsxs("div",{style:{marginTop:"32px",color:"rgba(255, 255, 255, 0.25)",fontSize:"10px",textAlign:"center",maxWidth:"500px",lineHeight:"1.6",zIndex:10,fontFamily:"'Inter', sans-serif"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc. All Rights Reserved. SOC 2 Type II compliant."]})]})}function TG(){const{navigate:t}=wn(),e=[{name:"Developer",price:"Free",description:"Perfect for individuals and experimenters.",features:["Up to 5 active projects","Community SDK support","Basic AI agent orchestration","Standard CI/CD pipeline","GitHub integration"],buttonText:"Start Building",highlight:!1},{name:"Professional",price:"$99/mo",description:"For growing teams scaling production workloads.",features:["Unlimited active projects","Priority engineer support","Advanced AI memory graphs","Dedicated gRPC endpoints","Comprehensive analytics","99.9% uptime SLA"],buttonText:"Scale Now",highlight:!0},{name:"Enterprise",price:"Custom",description:"Private Sovereign AI infrastructure.",features:["On-premise deployment","Custom LLM training","Dedicated Hardware HSM","Multi-Tenant Vaults","24/7 Concierge Dev-Ops","Unlimited User Access"],buttonText:"Contact Forge",highlight:!1}];return l.jsxs("div",{className:"min-h-screen bg-navy text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-6xl h-[500px] bg-gold/5 blur-[120px] rounded-full pointer-events-none"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h1",{className:"cinzel text-5xl md:text-6xl text-gold tracking-widest mb-6",children:"Forge Your Infrastructure"}),l.jsx("p",{className:"inter text-xl text-slate-400 max-w-3xl mx-auto font-light leading-relaxed",children:"Institutional-grade scaling for the next generation of AI-driven applications. Transparent, predictable, and permanent."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>l.jsxs("div",{className:`neo-glass-panel border ${n.highlight?"border-gold/50 scale-105 shadow-[0_0_50px_rgba(200,169,81,0.15)]":"border-white/10"} rounded-3xl p-10 flex flex-col h-full transition-all hover:translate-y-[-8px]`,children:[n.highlight&&l.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gold text-navy text-[10px] font-bold uppercase tracking-widest px-4 py-1.5 rounded-full",children:"Recommended"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"cinzel text-2xl text-white tracking-wider mb-2",children:n.name}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest mb-6",children:n.description}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"cinzel text-4xl font-bold text-gold",children:n.price}),n.price!=="Custom"&&n.price!=="Free"&&l.jsx("span",{className:"inter text-slate-500 text-xs tracking-tighter",children:"/ monthly"})]})]}),l.jsx("div",{className:"h-px bg-white/5 mb-8"}),l.jsx("ul",{className:"space-y-4 mb-10 flex-grow",children:n.features.map(i=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gold shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),l.jsx("span",{className:"inter text-sm text-slate-300 font-light",children:i})]},i))}),l.jsx("button",{onClick:()=>n.price==="Custom"?t({to:"/contact"}):t({to:"/signup",search:{plan:n.name.toLowerCase()}}),className:`w-full py-4 rounded-xl cinzel text-xs font-bold tracking-[0.2em] uppercase transition-all ${n.highlight?"bg-gold text-navy hover:bg-gold-bright hover:shadow-[0_0_30px_rgba(200,169,81,0.3)]":"bg-white/5 text-white border border-white/10 hover:bg-white/10"}`,children:n.buttonText})]},n.name))}),l.jsxs("div",{className:"mt-40 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"cinzel text-3xl text-gold tracking-widest text-center mb-16",children:"Intelligence Briefing"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"Can I move between tiers?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Seamless migration is built into the Sirsi Nexus core. Upgrade or adjust your resource allocation instantly through the Command Center."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"What about data sovereignty?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Every plan utilizes encrypted Sirsi Vaults. For Enterprise partners, we offer full on-premise knowledge graph synchronization for absolute air-gapped security."})]})]})]})]}),l.jsx("footer",{className:"py-20 text-center opacity-30",children:l.jsxs("p",{className:"inter text-[10px] uppercase tracking-widest",children:[" ",new Date().getFullYear()," Sirsi Technologies  Institutional Grade AI Infrastructure"]})})]})}function EG({baseUrl:t="/policies",newTab:e=!1}){const n=e?{target:"_blank",rel:"noopener noreferrer"}:{},i=[{label:"Privacy",path:"/privacy-policy.html"},{label:"Terms",path:"/terms-of-service.html"},{label:"Security",path:"/security.html"}];return l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:i.map((r,o)=>l.jsxs("span",{children:[l.jsx("a",{href:`${t}${r.path}`,...n,style:{color:"rgba(255,255,255,0.6)",textDecoration:"none",fontSize:"12px",transition:"color 0.2s ease"},onMouseEnter:c=>c.target.style.color="rgba(255,255,255,0.9)",onMouseLeave:c=>c.target.style.color="rgba(255,255,255,0.6)",children:r.label}),o<i.length-1&&l.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",marginLeft:"8px"},children:""})]},r.path))})}function CG({onAcceptAll:t,onRejectAll:e}){return l.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(10, 20, 50, 0.95)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(200, 169, 81, 0.3)",padding:"16px 24px",zIndex:9999,boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)"},children:l.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",lineHeight:"1.5",marginBottom:"16px"},children:['We use cookies to enhance your experience and analyze site usage. By clicking "Accept All", you consent to our use of cookies. Read our'," ",l.jsx("a",{href:"https://sirsi.ai/privacy-policy.html",style:{color:"#C8A951",textDecoration:"underline"},children:"Privacy Policy"})," ","for more information."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"10px 20px",borderRadius:"6px",cursor:"pointer"},children:"Reject All"}),l.jsx("button",{onClick:t,style:{background:"#C8A951",color:"#022c22",border:"none",padding:"10px 20px",borderRadius:"6px",fontWeight:600,cursor:"pointer"},children:"Accept All"})]})]})})}const p0="sirsi_consent_finalwishes";function AG({children:t}){const[e,n]=D.useState(!1);D.useEffect(()=>{localStorage.getItem(p0)||n(!0)},[]);const i=()=>{localStorage.setItem(p0,JSON.stringify({accepted:!0,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!0,marketing:!0}})),n(!1)},r=()=>{localStorage.setItem(p0,JSON.stringify({accepted:!1,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!1,marketing:!1}})),n(!1)};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[l.jsx("main",{style:{flex:1},children:t}),l.jsx("footer",{style:{padding:"16px 24px",background:"rgba(0, 0, 0, 0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto",flexWrap:"wrap",gap:"16px"},children:[l.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc.. All Rights Reserved."]}),l.jsx(EG,{baseUrl:"https://sirsi.ai",newTab:!0})]})}),e&&l.jsx(CG,{onAcceptAll:i,onRejectAll:r})]})}function cu({children:t}){const[e,n]=D.useState(null),[i,r]=D.useState(!0),{latestLocation:o}=wn();return D.useEffect(()=>{const c=Kv($t,h=>{n(h),r(!1)});return()=>c()},[]),i?l.jsx("div",{style:{minHeight:"100vh",background:"#050816",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):e?nI()?l.jsx(l.Fragment,{children:t}):(console.log(" MFA: Redirecting to verification hub"),l.jsx(h_,{to:"/mfa",search:{from:o.pathname},replace:!0})):l.jsx(h_,{to:"/login",search:{from:o.pathname},replace:!0})}function jG(){const{navigate:t}=wn(),e=km({strict:!1}),n=e.mode||"verify",i=e.from||"/vault",[r,o]=D.useState(!1),[c,h]=D.useState(!0);return D.useEffect(()=>{const d=Kv($t,p=>{p?o(!0):t({to:"/login",search:{from:window.location.pathname+window.location.search}}),h(!1)});return()=>d()},[t]),c?l.jsx("div",{className:"min-h-screen bg-[#050816] flex items-center justify-center",children:l.jsx("div",{className:"cinzel text-gold text-sm tracking-[0.2em] animate-pulse",children:"SECURE HUB INITIALIZING..."})}):r?l.jsx("div",{className:"min-h-screen bg-[#050816] flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[n==="enroll"?l.jsx(kb,{onComplete:()=>t({to:i}),onCancel:()=>t({to:"/vault"})}):l.jsx(Rb,{onVerified:()=>t({to:i}),onCancel:()=>t({to:"/"})}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("button",{onClick:()=>t({to:"/"}),className:"inter text-[10px] text-slate-500 hover:text-white uppercase tracking-widest transition-colors",children:" Back to Landing"})})]})}):null}const Pi=$D({component:()=>{const t=oA;return l.jsx(AG,{children:l.jsx(t,{})})}}),IG=ki({getParentRoute:()=>Pi,path:"/",component:KR}),RG=ki({getParentRoute:()=>Pi,path:"/login",component:KR}),NG=ki({getParentRoute:()=>Pi,path:"/pricing",component:TG}),kG=ki({getParentRoute:()=>Pi,path:"/investor",component:()=>l.jsx(cu,{children:l.jsx(_G,{})})}),PG=ki({getParentRoute:()=>Pi,path:"/vault",component:()=>l.jsx(cu,{children:l.jsx(mI,{})})}),DG=ki({getParentRoute:()=>Pi,path:"/admin",component:()=>l.jsx(cu,{children:l.jsx(vG,{})})}),OG=ki({getParentRoute:()=>Pi,path:"/contracts/$projectId",component:tg}),MG=ki({getParentRoute:()=>Pi,path:"/contracts",component:tg}),LG=ki({getParentRoute:()=>Pi,path:"/admin/contracts/$projectId",component:()=>l.jsx(cu,{children:l.jsx(tg,{})})}),VG=ki({getParentRoute:()=>Pi,path:"/vault/$userId",component:()=>l.jsx(cu,{children:l.jsx(mI,{})})}),FG=ki({getParentRoute:()=>Pi,path:"/vault/$userId/$category/$entityId/$docId",component:()=>l.jsx(cu,{children:l.jsx(tg,{})})}),BG=ki({getParentRoute:()=>Pi,path:"/mfa",component:jG}),zG=Pi.addChildren([IG,RG,NG,kG,PG,VG,FG,DG,LG,MG,OG,BG]),UG=XD({routeTree:zG}),HG=new tP,$G=nP,GG=tO;Nk.createRoot(document.getElementById("root")).render(l.jsx(D.StrictMode,{children:l.jsx($G,{client:HG,children:l.jsx(GG,{router:UG})})}));
