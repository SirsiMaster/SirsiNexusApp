(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function gk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},cd={};var E2;function yk(){if(E2)return cd;E2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:c,ref:r!==void 0?r:null,props:a}}return cd.Fragment=e,cd.jsx=n,cd.jsxs=n,cd}var C2;function xk(){return C2||(C2=1,c0.exports=yk()),c0.exports}var l=xk(),u0={exports:{}},ze={};var A2;function vk(){if(A2)return ze;A2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function S(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function O(H,ee,ne){this.props=H,this.context=ee,this.refs=T,this.updater=ne||w}O.prototype.isReactComponent={},O.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=O.prototype;function P(H,ee,ne){this.props=H,this.context=ee,this.refs=T,this.updater=ne||w}var B=P.prototype=new N;B.constructor=P,E(B,O.prototype),B.isPureReactComponent=!0;var W=Array.isArray;function K(){}var j={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(H,ee,ne){var ce=ne.ref;return{$$typeof:t,type:H,key:ee,ref:ce!==void 0?ce:null,props:ne}}function V(H,ee){return R(H.type,ee,H.props)}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return ee[ne]})}var F=/\/+/g;function pe(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):ee.toString(36)}function Ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(K,K):(H.status="pending",H.then(function(ee){H.status==="pending"&&(H.status="fulfilled",H.value=ee)},function(ee){H.status==="pending"&&(H.status="rejected",H.reason=ee)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function D(H,ee,ne,ce,we){var Ae=typeof H;(Ae==="undefined"||Ae==="boolean")&&(H=null);var De=!1;if(H===null)De=!0;else switch(Ae){case"bigint":case"string":case"number":De=!0;break;case"object":switch(H.$$typeof){case t:case e:De=!0;break;case m:return De=H._init,D(De(H._payload),ee,ne,ce,we)}}if(De)return we=we(H),De=ce===""?"."+pe(H,0):ce,W(we)?(ne="",De!=null&&(ne=De.replace(F,"$&/")+"/"),D(we,ee,ne,"",function(Ft){return Ft})):we!=null&&(z(we)&&(we=V(we,ne+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(F,"$&/")+"/")+De)),ee.push(we)),1;De=0;var ut=ce===""?".":ce+":";if(W(H))for(var rt=0;rt<H.length;rt++)ce=H[rt],Ae=ut+pe(ce,rt),De+=D(ce,ee,ne,Ae,we);else if(rt=S(H),typeof rt=="function")for(H=rt.call(H),rt=0;!(ce=H.next()).done;)ce=ce.value,Ae=ut+pe(ce,rt++),De+=D(ce,ee,ne,Ae,we);else if(Ae==="object"){if(typeof H.then=="function")return D(Ce(H),ee,ne,ce,we);throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return De}function G(H,ee,ne){if(H==null)return H;var ce=[],we=0;return D(H,ce,"","",function(Ae){return ee.call(ne,Ae,we++)}),ce}function oe(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var ye=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:G,forEach:function(H,ee,ne){G(H,function(){ee.apply(this,arguments)},ne)},count:function(H){var ee=0;return G(H,function(){ee++}),ee},toArray:function(H){return G(H,function(ee){return ee})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ze.Activity=x,ze.Children=Se,ze.Component=O,ze.Fragment=n,ze.Profiler=r,ze.PureComponent=P,ze.StrictMode=i,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,ze.__COMPILER_RUNTIME={__proto__:null,c:function(H){return j.H.useMemoCache(H)}},ze.cache=function(H){return function(){return H.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(H,ee,ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ce=E({},H.props),we=H.key;if(ee!=null)for(Ae in ee.key!==void 0&&(we=""+ee.key),ee)!A.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(ce[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=ne;else if(1<Ae){for(var De=Array(Ae),ut=0;ut<Ae;ut++)De[ut]=arguments[ut+2];ce.children=De}return R(H.type,we,ce)},ze.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},ze.createElement=function(H,ee,ne){var ce,we={},Ae=null;if(ee!=null)for(ce in ee.key!==void 0&&(Ae=""+ee.key),ee)A.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=ee[ce]);var De=arguments.length-2;if(De===1)we.children=ne;else if(1<De){for(var ut=Array(De),rt=0;rt<De;rt++)ut[rt]=arguments[rt+2];we.children=ut}if(H&&H.defaultProps)for(ce in De=H.defaultProps,De)we[ce]===void 0&&(we[ce]=De[ce]);return R(H,Ae,we)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(H){return{$$typeof:h,render:H}},ze.isValidElement=z,ze.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:oe}},ze.memo=function(H,ee){return{$$typeof:p,type:H,compare:ee===void 0?null:ee}},ze.startTransition=function(H){var ee=j.T,ne={};j.T=ne;try{var ce=H(),we=j.S;we!==null&&we(ne,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(K,ye)}catch(Ae){ye(Ae)}finally{ee!==null&&ne.types!==null&&(ee.types=ne.types),j.T=ee}},ze.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},ze.use=function(H){return j.H.use(H)},ze.useActionState=function(H,ee,ne){return j.H.useActionState(H,ee,ne)},ze.useCallback=function(H,ee){return j.H.useCallback(H,ee)},ze.useContext=function(H){return j.H.useContext(H)},ze.useDebugValue=function(){},ze.useDeferredValue=function(H,ee){return j.H.useDeferredValue(H,ee)},ze.useEffect=function(H,ee){return j.H.useEffect(H,ee)},ze.useEffectEvent=function(H){return j.H.useEffectEvent(H)},ze.useId=function(){return j.H.useId()},ze.useImperativeHandle=function(H,ee,ne){return j.H.useImperativeHandle(H,ee,ne)},ze.useInsertionEffect=function(H,ee){return j.H.useInsertionEffect(H,ee)},ze.useLayoutEffect=function(H,ee){return j.H.useLayoutEffect(H,ee)},ze.useMemo=function(H,ee){return j.H.useMemo(H,ee)},ze.useOptimistic=function(H,ee){return j.H.useOptimistic(H,ee)},ze.useReducer=function(H,ee,ne){return j.H.useReducer(H,ee,ne)},ze.useRef=function(H){return j.H.useRef(H)},ze.useState=function(H){return j.H.useState(H)},ze.useSyncExternalStore=function(H,ee,ne){return j.H.useSyncExternalStore(H,ee,ne)},ze.useTransition=function(){return j.H.useTransition()},ze.version="19.2.3",ze}var I2;function mh(){return I2||(I2=1,u0.exports=vk()),u0.exports}var L=mh();const xt=gk(L);var d0={exports:{}},ud={},h0={exports:{}},f0={};var j2;function bk(){return j2||(j2=1,(function(t){function e(D,G){var oe=D.length;D.push(G);e:for(;0<oe;){var ye=oe-1>>>1,Se=D[ye];if(0<r(Se,G))D[ye]=G,D[oe]=Se,oe=ye;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var G=D[0],oe=D.pop();if(oe!==G){D[0]=oe;e:for(var ye=0,Se=D.length,H=Se>>>1;ye<H;){var ee=2*(ye+1)-1,ne=D[ee],ce=ee+1,we=D[ce];if(0>r(ne,oe))ce<Se&&0>r(we,ne)?(D[ye]=we,D[ce]=oe,ye=ce):(D[ye]=ne,D[ee]=oe,ye=ee);else if(ce<Se&&0>r(we,oe))D[ye]=we,D[ce]=oe,ye=ce;else break e}}return G}function r(D,G){var oe=D.sortIndex-G.sortIndex;return oe!==0?oe:D.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],p=[],m=1,x=null,v=3,S=!1,w=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(D){for(var G=n(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=D)i(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(p)}}function W(D){if(E=!1,B(D),!w)if(n(d)!==null)w=!0,K||(K=!0,U());else{var G=n(p);G!==null&&Ce(W,G.startTime-D)}}var K=!1,j=-1,A=5,R=-1;function V(){return T?!0:!(t.unstable_now()-R<A)}function z(){if(T=!1,K){var D=t.unstable_now();R=D;var G=!0;try{e:{w=!1,E&&(E=!1,N(j),j=-1),S=!0;var oe=v;try{t:{for(B(D),x=n(d);x!==null&&!(x.expirationTime>D&&V());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,v=x.priorityLevel;var Se=ye(x.expirationTime<=D);if(D=t.unstable_now(),typeof Se=="function"){x.callback=Se,B(D),G=!0;break t}x===n(d)&&i(d),B(D)}else i(d);x=n(d)}if(x!==null)G=!0;else{var H=n(p);H!==null&&Ce(W,H.startTime-D),G=!1}}break e}finally{x=null,v=oe,S=!1}G=void 0}}finally{G?U():K=!1}}}var U;if(typeof P=="function")U=function(){P(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,pe=F.port2;F.port1.onmessage=z,U=function(){pe.postMessage(null)}}else U=function(){O(z,0)};function Ce(D,G){j=O(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(D){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var oe=v;v=G;try{return D()}finally{v=oe}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var oe=v;v=D;try{return G()}finally{v=oe}},t.unstable_scheduleCallback=function(D,G,oe){var ye=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ye+oe:ye):oe=ye,D){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=oe+Se,D={id:m++,callback:G,priorityLevel:D,startTime:oe,expirationTime:Se,sortIndex:-1},oe>ye?(D.sortIndex=oe,e(p,D),n(d)===null&&D===n(p)&&(E?(N(j),j=-1):E=!0,Ce(W,oe-ye))):(D.sortIndex=Se,e(d,D),w||S||(w=!0,K||(K=!0,U()))),D},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(D){var G=v;return function(){var oe=v;v=G;try{return D.apply(this,arguments)}finally{v=oe}}}})(f0)),f0}var R2;function Sk(){return R2||(R2=1,h0.exports=bk()),h0.exports}var p0={exports:{}},Un={};var N2;function wk(){if(N2)return Un;N2=1;var t=mh();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:d,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Un.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,m)},Un.flushSync=function(d){var p=c.T,m=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=m,i.d.f()}},Un.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Un.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Un.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,x=h(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:S}):m==="script"&&i.d.X(d,{crossOrigin:x,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Un.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Un.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=h(m,p.crossOrigin);i.d.L(d,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Un.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Un.requestFormReset=function(d){i.d.r(d)},Un.unstable_batchedUpdates=function(d,p){return d(p)},Un.useFormState=function(d,p,m){return c.H.useFormState(d,p,m)},Un.useFormStatus=function(){return c.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var k2;function EC(){if(k2)return p0.exports;k2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p0.exports=wk(),p0.exports}var P2;function _k(){if(P2)return ud;P2=1;var t=Sk(),e=mh(),n=EC();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function h(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(i(188))}function p(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var u=s,f=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),s;if(b===f)return d(y),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var C=!1,k=y.child;k;){if(k===u){C=!0,u=y,f=b;break}if(k===f){C=!0,f=y,u=b;break}k=k.sibling}if(!C){for(k=b.child;k;){if(k===u){C=!0,u=b,f=y;break}if(k===f){C=!0,f=b,u=y;break}k=k.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var F=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===F?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case P:return s.displayName||"Context";case N:return(s._context.displayName||"Context")+".Consumer";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case j:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case A:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}var Ce=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ye=[],Se=-1;function H(s){return{current:s}}function ee(s){0>Se||(s.current=ye[Se],ye[Se]=null,Se--)}function ne(s,o){Se++,ye[Se]=s.current,s.current=o}var ce=H(null),we=H(null),Ae=H(null),De=H(null);function ut(s,o){switch(ne(Ae,o),ne(we,s),ne(ce,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Kw(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Kw(o),s=Yw(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ee(ce),ne(ce,s)}function rt(){ee(ce),ee(we),ee(Ae)}function Ft(s){s.memoizedState!==null&&ne(De,s);var o=ce.current,u=Yw(o,s.type);o!==u&&(ne(we,s),ne(ce,u))}function _t(s){we.current===s&&(ee(ce),ee(we)),De.current===s&&(ee(De),sd._currentValue=oe)}var fe,Re;function xe(s){if(fe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);fe=o&&o[1]||"",Re=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+s+Re}var at=!1;function mt(s,o){if(!s||at)return"";at=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var te=ie}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(ie){te=ie}s.call(ue.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),C=b[0],k=b[1];if(C&&k){var $=C.split(`
`),Z=k.split(`
`);for(y=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===$.length||y===Z.length)for(f=$.length-1,y=Z.length-1;1<=f&&0<=y&&$[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if($[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||$[f]!==Z[y]){var se=`
`+$[f].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=f&&0<=y);break}}}finally{at=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?xe(u):""}function Sn(s,o){switch(s.tag){case 26:case 27:case 5:return xe(s.type);case 16:return xe("Lazy");case 13:return s.child!==o&&o!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return mt(s.type,!1);case 11:return mt(s.type.render,!1);case 1:return mt(s.type,!0);case 31:return xe("Activity");default:return""}}function In(s){try{var o="",u=null;do o+=Sn(s,u),u=s,s=s.return;while(s);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Bt=Object.prototype.hasOwnProperty,Ii=t.unstable_scheduleCallback,Yi=t.unstable_cancelCallback,Nr=t.unstable_shouldYield,hi=t.unstable_requestPaint,It=t.unstable_now,xs=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,st=t.unstable_UserBlockingPriority,Ht=t.unstable_NormalPriority,vs=t.unstable_LowPriority,ni=t.unstable_IdlePriority,uu=t.log,Qi=t.unstable_setDisableYieldValue,Bn=null,mn=null;function jn(s){if(typeof uu=="function"&&Qi(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Bn,s)}catch{}}var wn=Math.clz32?Math.clz32:et,le=Math.log,Ne=Math.LN2;function et(s){return s>>>=0,s===0?32:31-(le(s)/Ne|0)|0}var Ye=256,qe=262144,zt=4194304;function gn(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ji(s,o,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var k=f&134217727;return k!==0?(f=k&~b,f!==0?y=gn(f):(C&=k,C!==0?y=gn(C):u||(u=k&~s,u!==0&&(y=gn(u))))):(k=f&~b,k!==0?y=gn(k):C!==0?y=gn(C):u||(u=f&~s,u!==0&&(y=gn(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function bs(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function rl(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function kr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ss(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rn(s,o,u,f,y,b){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var k=s.entanglements,$=s.expirationTimes,Z=s.hiddenUpdates;for(u=C&~u;0<u;){var se=31-wn(u),ue=1<<se;k[se]=0,$[se]=-1;var te=Z[se];if(te!==null)for(Z[se]=null,se=0;se<te.length;se++){var ie=te[se];ie!==null&&(ie.lane&=-536870913)}u&=~ue}f!==0&&hu(s,f,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~o))}function hu(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-wn(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|u&261930}function ws(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-wn(u),y=1<<f;y&o|s[f]&o&&(s[f]|=o),u&=~y}}function _s(s,o){var u=o&-o;return u=(u&42)!==0?1:fu(u),(u&(s.suspendedLanes|o))!==0?0:u}function fu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Pr(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:x2(s.type))}function Ph(s,o){var u=G.p;try{return G.p=s,o()}finally{G.p=u}}var lr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+lr,Nn="__reactProps$"+lr,cr="__reactContainer$"+lr,Ts="__reactEvents$"+lr,ur="__reactListeners$"+lr,Dh="__reactHandles$"+lr,mu="__reactResources$"+lr,Dr="__reactMarker$"+lr;function Bo(s){delete s[Wt],delete s[Nn],delete s[Ts],delete s[ur],delete s[Dh]}function Or(s){var o=s[Wt];if(o)return o;for(var u=s.parentNode;u;){if(o=u[cr]||u[Wt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=n2(s);s!==null;){if(u=s[Wt])return u;s=n2(s)}return o}s=u,u=s.parentNode}return null}function Mr(s){if(s=s[Wt]||s[cr]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function zo(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ji(s){var o=s[mu];return o||(o=s[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(s){s[Dr]=!0}var sl=new Set,Es={};function Kn(s,o){dr(s,o),dr(s+"Capture",o)}function dr(s,o){for(Es[s]=o,s=0;s<o.length;s++)sl.add(o[s])}var ug=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},yu={};function Oh(s){return Bt.call(yu,s)?!0:Bt.call(gu,s)?!1:ug.test(s)?yu[s]=!0:(gu[s]=!0,!1)}function Cs(s,o,u){if(Oh(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function As(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Ri(s,o,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+f)}}function Yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Mh(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dg(s,o,u){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(s,o,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ol(s){if(!s._valueTracker){var o=Mh(s)?"checked":"value";s._valueTracker=dg(s,o,""+s[o])}}function xu(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Mh(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function al(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Lr=/[\n"\\]/g;function Kt(s){return s.replace(Lr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Is(s,o,u,f,y,b,C,k){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),o!=null?C==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Yn(o)):s.value!==""+Yn(o)&&(s.value=""+Yn(o)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),o!=null?ll(s,C,Yn(o)):u!=null?ll(s,C,Yn(u)):f!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Yn(k):s.removeAttribute("name")}function Uo(s,o,u,f,y,b,C,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ol(s);return}u=u!=null?""+Yn(u):"",o=o!=null?""+Yn(o):u,k||o===s.value||(s.value=o),s.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=k?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),ol(s)}function ll(s,o,u){o==="number"&&al(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function dt(s,o,u,f){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Yn(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Ho(s,o,u){if(o!=null&&(o=""+Yn(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Yn(u):""}function js(s,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(Ce(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Yn(o),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f),ol(s)}function Ni(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var hg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(s,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,u):typeof u!="number"||u===0||hg.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Lh(s,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&vu(s,y,f)}else for(var b in o)o.hasOwnProperty(b)&&vu(s,b,o[b])}function bu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(s){return pg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function _n(){}var cl=null;function ul(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vr=null,fi=null;function Vh(s){var o=Mr(s);if(o&&(s=o.stateNode)){var u=s[Nn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Is(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var y=f[Nn]||null;if(!y)throw Error(i(90));Is(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===s.form&&xu(f)}break e;case"textarea":Ho(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&dt(s,!!u.multiple,o,!1)}}}var Su=!1;function Fh(s,o,u){if(Su)return s(o,u);Su=!0;try{var f=s(o);return f}finally{if(Su=!1,(Vr!==null||fi!==null)&&(Mf(),Vr&&(o=Vr,s=fi,fi=Vr=null,Vh(o),s)))for(o=0;o<s.length;o++)Vh(s[o])}}function ii(s,o){var u=s.stateNode;if(u===null)return null;var f=u[Nn]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=!1;if(Xi)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){wu=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{wu=!1}var pi=null,dl=null,pr=null;function Rs(){if(pr)return pr;var s,o=dl,u=o.length,f,y="value"in pi?pi.value:pi.textContent,b=y.length;for(s=0;s<u&&o[s]===y[s];s++);var C=u-s;for(f=1;f<=C&&o[u-f]===y[b-f];f++);return pr=y.slice(s,1<f?1-f:void 0)}function $o(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ns(){return!0}function Dt(){return!1}function zn(s){function o(u,f,y,b,C){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(u=s[k],this[k]=u?u(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ns:Dt,this.isPropagationStopped=Dt,this}return x(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),o}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=zn(Fr),ks=x({},Fr,{view:0,detail:0}),Bh=zn(ks),Ps,hl,Qn,qo=x({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qn&&(Qn&&s.type==="mousemove"?(Ps=s.screenX-Qn.screenX,hl=s.screenY-Qn.screenY):hl=Ps=0,Qn=s),Ps)},movementY:function(s){return"movementY"in s?s.movementY:hl}}),zh=zn(qo),Wo=x({},qo,{dataTransfer:0}),Uh=zn(Wo),_u=x({},ks,{relatedTarget:0}),Ds=zn(_u),Hh=x({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),fl=zn(Hh),mg=x({},Fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$h=zn(mg),Ko=x({},Fr,{data:0}),Tu=zn(Ko),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Cu[s])?!!o[s]:!1}function Os(){return qh}var Wh=x({},ks,{key:function(s){if(s.key){var o=Gh[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$o(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Eu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(s){return s.type==="keypress"?$o(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$o(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Kh=zn(Wh),Br=x({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=zn(Br),Yh=x({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Qh=zn(Yh),Jh=x({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pl=zn(Jh),Jn=x({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xh=zn(Jn),Zh=x({},Fr,{newState:0,oldState:0}),Ms=zn(Zh),g=[9,13,27,32],_=Xi&&"CompositionEvent"in window,I=null;Xi&&"documentMode"in document&&(I=document.documentMode);var M=Xi&&"TextEvent"in window&&!I,J=Xi&&(!_||I&&8<I&&11>=I),re=" ",ge=!1;function yt(s,o){switch(s){case"keyup":return g.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function on(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ke=!1;function Tn(s,o){switch(s){case"compositionend":return on(o);case"keypress":return o.which!==32?null:(ge=!0,re);case"textInput":return s=o.data,s===re&&ge?null:s;default:return null}}function En(s,o){if(Ke)return s==="compositionend"||!_&&yt(s,o)?(s=Rs(),pr=dl=pi=null,Ke=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return J&&o.locale!=="ko"?null:o.data;default:return null}}var Ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ri(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ls[s.type]:o==="textarea"}function Yo(s,o,u,f){Vr?fi?fi.push(f):fi=[f]:Vr=f,o=Hf(o,"onChange"),0<o.length&&(u=new Go("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var zr=null,Iu=null;function HR(s){Uw(s,0)}function ef(s){var o=zo(s);if(xu(o))return s}function a1(s,o){if(s==="change")return o}var l1=!1;if(Xi){var gg;if(Xi){var yg="oninput"in document;if(!yg){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),yg=typeof c1.oninput=="function"}gg=yg}else gg=!1;l1=gg&&(!document.documentMode||9<document.documentMode)}function u1(){zr&&(zr.detachEvent("onpropertychange",d1),Iu=zr=null)}function d1(s){if(s.propertyName==="value"&&ef(Iu)){var o=[];Yo(o,Iu,s,ul(s)),Fh(HR,o)}}function $R(s,o,u){s==="focusin"?(u1(),zr=o,Iu=u,zr.attachEvent("onpropertychange",d1)):s==="focusout"&&u1()}function GR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ef(Iu)}function qR(s,o){if(s==="click")return ef(o)}function WR(s,o){if(s==="input"||s==="change")return ef(o)}function KR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var mi=typeof Object.is=="function"?Object.is:KR;function ju(s,o){if(mi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!Bt.call(o,y)||!mi(s[y],o[y]))return!1}return!0}function h1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function f1(s,o){var u=h1(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=h1(u)}}function p1(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?p1(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function m1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=al(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=al(s.document)}return o}function xg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var YR=Xi&&"documentMode"in document&&11>=document.documentMode,ml=null,vg=null,Ru=null,bg=!1;function g1(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bg||ml==null||ml!==al(f)||(f=ml,"selectionStart"in f&&xg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ru&&ju(Ru,f)||(Ru=f,f=Hf(vg,"onSelect"),0<f.length&&(o=new Go("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=ml)))}function Qo(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var gl={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionrun:Qo("Transition","TransitionRun"),transitionstart:Qo("Transition","TransitionStart"),transitioncancel:Qo("Transition","TransitionCancel"),transitionend:Qo("Transition","TransitionEnd")},Sg={},y1={};Xi&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Jo(s){if(Sg[s])return Sg[s];if(!gl[s])return s;var o=gl[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in y1)return Sg[s]=o[u];return s}var x1=Jo("animationend"),v1=Jo("animationiteration"),b1=Jo("animationstart"),QR=Jo("transitionrun"),JR=Jo("transitionstart"),XR=Jo("transitioncancel"),S1=Jo("transitionend"),w1=new Map,wg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wg.push("scrollEnd");function Zi(s,o){w1.set(s,o),Kn(o,[s])}var tf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ki=[],yl=0,_g=0;function nf(){for(var s=yl,o=_g=yl=0;o<s;){var u=ki[o];ki[o++]=null;var f=ki[o];ki[o++]=null;var y=ki[o];ki[o++]=null;var b=ki[o];if(ki[o++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}b!==0&&_1(u,y,b)}}function rf(s,o,u,f){ki[yl++]=s,ki[yl++]=o,ki[yl++]=u,ki[yl++]=f,_g|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Tg(s,o,u,f){return rf(s,o,u,f),sf(s)}function Xo(s,o){return rf(s,null,null,o),sf(s)}function _1(s,o,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&o!==null&&(y=31-wn(u),s=b.hiddenUpdates,f=s[y],f===null?s[y]=[o]:f.push(o),o.lane=u|536870912),b):null}function sf(s){if(50<Xu)throw Xu=0,Py=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var xl={};function ZR(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(s,o,u,f){return new ZR(s,o,u,f)}function Eg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ur(s,o){var u=s.alternate;return u===null?(u=gi(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function T1(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function of(s,o,u,f,y,b){var C=0;if(f=s,typeof s=="function")Eg(s)&&(C=1);else if(typeof s=="string")C=rk(s,u,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=gi(31,u,o,y),s.elementType=R,s.lanes=b,s;case E:return Zo(u.children,y,b,o);case T:C=8,y|=24;break;case O:return s=gi(12,u,o,y|2),s.elementType=O,s.lanes=b,s;case W:return s=gi(13,u,o,y),s.elementType=W,s.lanes=b,s;case K:return s=gi(19,u,o,y),s.elementType=K,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:C=10;break e;case N:C=9;break e;case B:C=11;break e;case j:C=14;break e;case A:C=16,f=null;break e}C=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return o=gi(C,u,o,y),o.elementType=s,o.type=f,o.lanes=b,o}function Zo(s,o,u,f){return s=gi(7,s,f,o),s.lanes=u,s}function Cg(s,o,u){return s=gi(6,s,null,o),s.lanes=u,s}function E1(s){var o=gi(18,null,null,0);return o.stateNode=s,o}function Ag(s,o,u){return o=gi(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var C1=new WeakMap;function Pi(s,o){if(typeof s=="object"&&s!==null){var u=C1.get(s);return u!==void 0?u:(o={value:s,source:o,stack:In(o)},C1.set(s,o),o)}return{value:s,source:o,stack:In(o)}}var vl=[],bl=0,af=null,Nu=0,Di=[],Oi=0,Vs=null,mr=1,gr="";function Hr(s,o){vl[bl++]=Nu,vl[bl++]=af,af=s,Nu=o}function A1(s,o,u){Di[Oi++]=mr,Di[Oi++]=gr,Di[Oi++]=Vs,Vs=s;var f=mr;s=gr;var y=32-wn(f)-1;f&=~(1<<y),u+=1;var b=32-wn(o)+y;if(30<b){var C=y-y%5;b=(f&(1<<C)-1).toString(32),f>>=C,y-=C,mr=1<<32-wn(o)+y|u<<y|f,gr=b+s}else mr=1<<b|u<<y|f,gr=s}function Ig(s){s.return!==null&&(Hr(s,1),A1(s,1,0))}function jg(s){for(;s===af;)af=vl[--bl],vl[bl]=null,Nu=vl[--bl],vl[bl]=null;for(;s===Vs;)Vs=Di[--Oi],Di[Oi]=null,gr=Di[--Oi],Di[Oi]=null,mr=Di[--Oi],Di[Oi]=null}function I1(s,o){Di[Oi++]=mr,Di[Oi++]=gr,Di[Oi++]=Vs,mr=o.id,gr=o.overflow,Vs=s}var kn=null,Ot=null,ot=!1,Fs=null,Mi=!1,Rg=Error(i(519));function Bs(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ku(Pi(o,s)),Rg}function j1(s){var o=s.stateNode,u=s.type,f=s.memoizedProps;switch(o[Wt]=s,o[Nn]=f,u){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(u=0;u<ed.length;u++)Je(ed[u],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),Uo(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),js(o,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||qw(o.textContent,u)?(f.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),f.onScroll!=null&&Je("scroll",o),f.onScrollEnd!=null&&Je("scrollend",o),f.onClick!=null&&(o.onclick=_n),o=!0):o=!1,o||Bs(s,!0)}function R1(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:kn=kn.return}}function Sl(s){if(s!==kn)return!1;if(!ot)return R1(s),ot=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Ky(s.type,s.memoizedProps)),u=!u),u&&Ot&&Bs(s),R1(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ot=t2(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ot=t2(s)}else o===27?(o=Ot,eo(s.type)?(s=Zy,Zy=null,Ot=s):Ot=o):Ot=kn?Vi(s.stateNode.nextSibling):null;return!0}function ea(){Ot=kn=null,ot=!1}function Ng(){var s=Fs;return s!==null&&(li===null?li=s:li.push.apply(li,s),Fs=null),s}function ku(s){Fs===null?Fs=[s]:Fs.push(s)}var kg=H(null),ta=null,$r=null;function zs(s,o,u){ne(kg,o._currentValue),o._currentValue=u}function Gr(s){s._currentValue=kg.current,ee(kg)}function Pg(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Dg(s,o,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=y;for(var $=0;$<o.length;$++)if(k.context===o[$]){b.lanes|=u,k=b.alternate,k!==null&&(k.lanes|=u),Pg(b.return,u,s),f||(C=null);break e}b=k.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(i(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),Pg(C,u,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function wl(s,o,u,f){s=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var k=y.type;mi(y.pendingProps.value,C.value)||(s!==null?s.push(k):s=[k])}}else if(y===De.current){if(C=y.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(sd):s=[sd])}y=y.return}s!==null&&Dg(o,s,u,f),o.flags|=262144}function lf(s){for(s=s.firstContext;s!==null;){if(!mi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function na(s){ta=s,$r=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pn(s){return N1(ta,s)}function cf(s,o){return ta===null&&na(s),N1(s,o)}function N1(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},$r===null){if(s===null)throw Error(i(308));$r=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else $r=$r.next=o;return u}var eN=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},tN=t.unstable_scheduleCallback,nN=t.unstable_NormalPriority,an={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Og(){return{controller:new eN,data:new Map,refCount:0}}function Pu(s){s.refCount--,s.refCount===0&&tN(nN,function(){s.controller.abort()})}var Du=null,Mg=0,_l=0,Tl=null;function iN(s,o){if(Du===null){var u=Du=[];Mg=0,_l=Fy(),Tl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Mg++,o.then(k1,k1),o}function k1(){if(--Mg===0&&Du!==null){Tl!==null&&(Tl.status="fulfilled");var s=Du;Du=null,_l=0,Tl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function rN(s,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var P1=D.S;D.S=function(s,o){gw=It(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&iN(s,o),P1!==null&&P1(s,o)};var ia=H(null);function Lg(){var s=ia.current;return s!==null?s:jt.pooledCache}function uf(s,o){o===null?ne(ia,ia.current):ne(ia,o.pool)}function D1(){var s=Lg();return s===null?null:{parent:an._currentValue,pool:s}}var El=Error(i(460)),Vg=Error(i(474)),df=Error(i(542)),hf={then:function(){}};function O1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function M1(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(_n,_n),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,V1(s),s;default:if(typeof o.status=="string")o.then(_n,_n);else{if(s=jt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,V1(s),s}throw sa=o,El}}function ra(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(sa=u,El):u}}var sa=null;function L1(){if(sa===null)throw Error(i(459));var s=sa;return sa=null,s}function V1(s){if(s===El||s===df)throw Error(i(483))}var Cl=null,Ou=0;function ff(s){var o=Ou;return Ou+=1,Cl===null&&(Cl=[]),M1(Cl,s,o)}function Mu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function pf(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function F1(s){function o(Q,q){if(s){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function u(Q,q){if(!s)return null;for(;q!==null;)o(Q,q),q=q.sibling;return null}function f(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function y(Q,q){return Q=Ur(Q,q),Q.index=0,Q.sibling=null,Q}function b(Q,q,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=67108866,q):X):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function C(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,q,X,ae){return q===null||q.tag!==6?(q=Cg(X,Q.mode,ae),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function $(Q,q,X,ae){var Ie=X.type;return Ie===E?se(Q,q,X.props.children,ae,X.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&ra(Ie)===q.type)?(q=y(q,X.props),Mu(q,X),q.return=Q,q):(q=of(X.type,X.key,X.props,null,Q.mode,ae),Mu(q,X),q.return=Q,q)}function Z(Q,q,X,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Ag(X,Q.mode,ae),q.return=Q,q):(q=y(q,X.children||[]),q.return=Q,q)}function se(Q,q,X,ae,Ie){return q===null||q.tag!==7?(q=Zo(X,Q.mode,ae,Ie),q.return=Q,q):(q=y(q,X),q.return=Q,q)}function ue(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Cg(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return X=of(q.type,q.key,q.props,null,Q.mode,X),Mu(X,q),X.return=Q,X;case w:return q=Ag(q,Q.mode,X),q.return=Q,q;case A:return q=ra(q),ue(Q,q,X)}if(Ce(q)||U(q))return q=Zo(q,Q.mode,X,null),q.return=Q,q;if(typeof q.then=="function")return ue(Q,ff(q),X);if(q.$$typeof===P)return ue(Q,cf(Q,q),X);pf(Q,q)}return null}function te(Q,q,X,ae){var Ie=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:k(Q,q,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Ie?$(Q,q,X,ae):null;case w:return X.key===Ie?Z(Q,q,X,ae):null;case A:return X=ra(X),te(Q,q,X,ae)}if(Ce(X)||U(X))return Ie!==null?null:se(Q,q,X,ae,null);if(typeof X.then=="function")return te(Q,q,ff(X),ae);if(X.$$typeof===P)return te(Q,q,cf(Q,X),ae);pf(Q,X)}return null}function ie(Q,q,X,ae,Ie){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Q=Q.get(X)||null,k(q,Q,""+ae,Ie);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return Q=Q.get(ae.key===null?X:ae.key)||null,$(q,Q,ae,Ie);case w:return Q=Q.get(ae.key===null?X:ae.key)||null,Z(q,Q,ae,Ie);case A:return ae=ra(ae),ie(Q,q,X,ae,Ie)}if(Ce(ae)||U(ae))return Q=Q.get(X)||null,se(q,Q,ae,Ie,null);if(typeof ae.then=="function")return ie(Q,q,X,ff(ae),Ie);if(ae.$$typeof===P)return ie(Q,q,X,cf(q,ae),Ie);pf(q,ae)}return null}function ve(Q,q,X,ae){for(var Ie=null,ht=null,Ee=q,Ge=q=0,nt=null;Ee!==null&&Ge<X.length;Ge++){Ee.index>Ge?(nt=Ee,Ee=null):nt=Ee.sibling;var ft=te(Q,Ee,X[Ge],ae);if(ft===null){Ee===null&&(Ee=nt);break}s&&Ee&&ft.alternate===null&&o(Q,Ee),q=b(ft,q,Ge),ht===null?Ie=ft:ht.sibling=ft,ht=ft,Ee=nt}if(Ge===X.length)return u(Q,Ee),ot&&Hr(Q,Ge),Ie;if(Ee===null){for(;Ge<X.length;Ge++)Ee=ue(Q,X[Ge],ae),Ee!==null&&(q=b(Ee,q,Ge),ht===null?Ie=Ee:ht.sibling=Ee,ht=Ee);return ot&&Hr(Q,Ge),Ie}for(Ee=f(Ee);Ge<X.length;Ge++)nt=ie(Ee,Q,Ge,X[Ge],ae),nt!==null&&(s&&nt.alternate!==null&&Ee.delete(nt.key===null?Ge:nt.key),q=b(nt,q,Ge),ht===null?Ie=nt:ht.sibling=nt,ht=nt);return s&&Ee.forEach(function(so){return o(Q,so)}),ot&&Hr(Q,Ge),Ie}function Pe(Q,q,X,ae){if(X==null)throw Error(i(151));for(var Ie=null,ht=null,Ee=q,Ge=q=0,nt=null,ft=X.next();Ee!==null&&!ft.done;Ge++,ft=X.next()){Ee.index>Ge?(nt=Ee,Ee=null):nt=Ee.sibling;var so=te(Q,Ee,ft.value,ae);if(so===null){Ee===null&&(Ee=nt);break}s&&Ee&&so.alternate===null&&o(Q,Ee),q=b(so,q,Ge),ht===null?Ie=so:ht.sibling=so,ht=so,Ee=nt}if(ft.done)return u(Q,Ee),ot&&Hr(Q,Ge),Ie;if(Ee===null){for(;!ft.done;Ge++,ft=X.next())ft=ue(Q,ft.value,ae),ft!==null&&(q=b(ft,q,Ge),ht===null?Ie=ft:ht.sibling=ft,ht=ft);return ot&&Hr(Q,Ge),Ie}for(Ee=f(Ee);!ft.done;Ge++,ft=X.next())ft=ie(Ee,Q,Ge,ft.value,ae),ft!==null&&(s&&ft.alternate!==null&&Ee.delete(ft.key===null?Ge:ft.key),q=b(ft,q,Ge),ht===null?Ie=ft:ht.sibling=ft,ht=ft);return s&&Ee.forEach(function(mk){return o(Q,mk)}),ot&&Hr(Q,Ge),Ie}function Ct(Q,q,X,ae){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Ie=X.key;q!==null;){if(q.key===Ie){if(Ie=X.type,Ie===E){if(q.tag===7){u(Q,q.sibling),ae=y(q,X.props.children),ae.return=Q,Q=ae;break e}}else if(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&ra(Ie)===q.type){u(Q,q.sibling),ae=y(q,X.props),Mu(ae,X),ae.return=Q,Q=ae;break e}u(Q,q);break}else o(Q,q);q=q.sibling}X.type===E?(ae=Zo(X.props.children,Q.mode,ae,X.key),ae.return=Q,Q=ae):(ae=of(X.type,X.key,X.props,null,Q.mode,ae),Mu(ae,X),ae.return=Q,Q=ae)}return C(Q);case w:e:{for(Ie=X.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){u(Q,q.sibling),ae=y(q,X.children||[]),ae.return=Q,Q=ae;break e}else{u(Q,q);break}else o(Q,q);q=q.sibling}ae=Ag(X,Q.mode,ae),ae.return=Q,Q=ae}return C(Q);case A:return X=ra(X),Ct(Q,q,X,ae)}if(Ce(X))return ve(Q,q,X,ae);if(U(X)){if(Ie=U(X),typeof Ie!="function")throw Error(i(150));return X=Ie.call(X),Pe(Q,q,X,ae)}if(typeof X.then=="function")return Ct(Q,q,ff(X),ae);if(X.$$typeof===P)return Ct(Q,q,cf(Q,X),ae);pf(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(u(Q,q.sibling),ae=y(q,X),ae.return=Q,Q=ae):(u(Q,q),ae=Cg(X,Q.mode,ae),ae.return=Q,Q=ae),C(Q)):u(Q,q)}return function(Q,q,X,ae){try{Ou=0;var Ie=Ct(Q,q,X,ae);return Cl=null,Ie}catch(Ee){if(Ee===El||Ee===df)throw Ee;var ht=gi(29,Ee,null,Q.mode);return ht.lanes=ae,ht.return=Q,ht}}}var oa=F1(!0),B1=F1(!1),Us=!1;function Fg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bg(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $s(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(gt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=sf(s),_1(s,null,u),o}return rf(s,f,o,u),sf(s)}function Lu(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,ws(s,u)}}function zg(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Ug=!1;function Vu(){if(Ug){var s=Tl;if(s!==null)throw s}}function Fu(s,o,u,f){Ug=!1;var y=s.updateQueue;Us=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var $=k,Z=$.next;$.next=null,C===null?b=Z:C.next=Z,C=$;var se=s.alternate;se!==null&&(se=se.updateQueue,k=se.lastBaseUpdate,k!==C&&(k===null?se.firstBaseUpdate=Z:k.next=Z,se.lastBaseUpdate=$))}if(b!==null){var ue=y.baseState;C=0,se=Z=$=null,k=b;do{var te=k.lane&-536870913,ie=te!==k.lane;if(ie?(tt&te)===te:(f&te)===te){te!==0&&te===_l&&(Ug=!0),se!==null&&(se=se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=s,Pe=k;te=o;var Ct=u;switch(Pe.tag){case 1:if(ve=Pe.payload,typeof ve=="function"){ue=ve.call(Ct,ue,te);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Pe.payload,te=typeof ve=="function"?ve.call(Ct,ue,te):ve,te==null)break e;ue=x({},ue,te);break e;case 2:Us=!0}}te=k.callback,te!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},se===null?(Z=se=ie,$=ue):se=se.next=ie,C|=te;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);se===null&&($=ue),y.baseState=$,y.firstBaseUpdate=Z,y.lastBaseUpdate=se,b===null&&(y.shared.lanes=0),Ys|=C,s.lanes=C,s.memoizedState=ue}}function z1(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function U1(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)z1(u[s],o)}var Al=H(null),mf=H(0);function H1(s,o){s=es,ne(mf,s),ne(Al,o),es=s|o.baseLanes}function Hg(){ne(mf,es),ne(Al,Al.current)}function $g(){es=mf.current,ee(Al),ee(mf)}var yi=H(null),Li=null;function Gs(s){var o=s.alternate;ne(en,en.current&1),ne(yi,s),Li===null&&(o===null||Al.current!==null||o.memoizedState!==null)&&(Li=s)}function Gg(s){ne(en,en.current),ne(yi,s),Li===null&&(Li=s)}function $1(s){s.tag===22?(ne(en,en.current),ne(yi,s),Li===null&&(Li=s)):qs()}function qs(){ne(en,en.current),ne(yi,yi.current)}function xi(s){ee(yi),Li===s&&(Li=null),ee(en)}var en=H(0);function gf(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Jy(u)||Xy(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qr=0,$e=null,Tt=null,ln=null,yf=!1,Il=!1,aa=!1,xf=0,Bu=0,jl=null,sN=0;function Yt(){throw Error(i(321))}function qg(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!mi(s[u],o[u]))return!1;return!0}function Wg(s,o,u,f,y,b){return qr=b,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=s===null||s.memoizedState===null?AS:ly,aa=!1,b=u(f,y),aa=!1,Il&&(b=q1(o,u,f,y)),G1(s),b}function G1(s){D.H=Hu;var o=Tt!==null&&Tt.next!==null;if(qr=0,ln=Tt=$e=null,yf=!1,Bu=0,jl=null,o)throw Error(i(300));s===null||cn||(s=s.dependencies,s!==null&&lf(s)&&(cn=!0))}function q1(s,o,u,f){$e=s;var y=0;do{if(Il&&(jl=null),Bu=0,Il=!1,25<=y)throw Error(i(301));if(y+=1,ln=Tt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}D.H=IS,b=o(u,f)}while(Il);return b}function oN(){var s=D.H,o=s.useState()[0];return o=typeof o.then=="function"?zu(o):o,s=s.useState()[0],(Tt!==null?Tt.memoizedState:null)!==s&&($e.flags|=1024),o}function Kg(){var s=xf!==0;return xf=0,s}function Yg(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function Qg(s){if(yf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}yf=!1}qr=0,ln=Tt=$e=null,Il=!1,Bu=xf=0,jl=null}function Xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?$e.memoizedState=ln=s:ln=ln.next=s,ln}function tn(){if(Tt===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=ln===null?$e.memoizedState:ln.next;if(o!==null)ln=o,Tt=s;else{if(s===null)throw $e.alternate===null?Error(i(467)):Error(i(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},ln===null?$e.memoizedState=ln=s:ln=ln.next=s}return ln}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(s){var o=Bu;return Bu+=1,jl===null&&(jl=[]),s=M1(jl,s,o),o=$e,(ln===null?o.memoizedState:ln.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?AS:ly),s}function bf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zu(s);if(s.$$typeof===P)return Pn(s)}throw Error(i(438,String(s)))}function Jg(s){var o=null,u=$e.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=$e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=vf(),$e.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),f=0;f<s;f++)u[f]=V;return o.index++,u}function Wr(s,o){return typeof o=="function"?o(s):o}function Sf(s){var o=tn();return Xg(o,Tt,s)}function Xg(s,o,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=s.baseQueue,b=f.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}o.baseQueue=y=b,f.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{o=y.next;var k=C=null,$=null,Z=o,se=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(tt&ue)===ue:(qr&ue)===ue){var te=Z.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===_l&&(se=!0);else if((qr&te)===te){Z=Z.next,te===_l&&(se=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(k=$=ue,C=b):$=$.next=ue,$e.lanes|=te,Ys|=te;ue=Z.action,aa&&u(b,ue),b=Z.hasEagerState?Z.eagerState:u(b,ue)}else te={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(k=$=te,C=b):$=$.next=te,$e.lanes|=ue,Ys|=ue;Z=Z.next}while(Z!==null&&Z!==o);if($===null?C=b:$.next=k,!mi(b,s.memoizedState)&&(cn=!0,se&&(u=Tl,u!==null)))throw u;s.memoizedState=b,s.baseState=C,s.baseQueue=$,f.lastRenderedState=b}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Zg(s){var o=tn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);mi(b,o.memoizedState)||(cn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function W1(s,o,u){var f=$e,y=tn(),b=ot;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var C=!mi((Tt||y).memoizedState,u);if(C&&(y.memoizedState=u,cn=!0),y=y.queue,ny(Q1.bind(null,f,y,s),[s]),y.getSnapshot!==o||C||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,Rl(9,{destroy:void 0},Y1.bind(null,f,y,u,o),null),jt===null)throw Error(i(349));b||(qr&127)!==0||K1(f,o,u)}return u}function K1(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=$e.updateQueue,o===null?(o=vf(),$e.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Y1(s,o,u,f){o.value=u,o.getSnapshot=f,J1(o)&&X1(s)}function Q1(s,o,u){return u(function(){J1(o)&&X1(s)})}function J1(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!mi(s,u)}catch{return!0}}function X1(s){var o=Xo(s,2);o!==null&&ci(o,s,2)}function ey(s){var o=Xn();if(typeof s=="function"){var u=s;if(s=u(),aa){jn(!0);try{u()}finally{jn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:s},o}function Z1(s,o,u,f){return s.baseState=u,Xg(s,Tt,typeof f=="function"?f:Wr)}function aN(s,o,u,f,y){if(Tf(s))throw Error(i(485));if(s=o.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};D.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,eS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function eS(s,o){var u=o.action,f=o.payload,y=s.state;if(o.isTransition){var b=D.T,C={};D.T=C;try{var k=u(y,f),$=D.S;$!==null&&$(C,k),tS(s,o,k)}catch(Z){ty(s,o,Z)}finally{b!==null&&C.types!==null&&(b.types=C.types),D.T=b}}else try{b=u(y,f),tS(s,o,b)}catch(Z){ty(s,o,Z)}}function tS(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){nS(s,o,f)},function(f){return ty(s,o,f)}):nS(s,o,u)}function nS(s,o,u){o.status="fulfilled",o.value=u,iS(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,eS(s,u)))}function ty(s,o,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,iS(o),o=o.next;while(o!==f)}s.action=null}function iS(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function rS(s,o){return o}function sS(s,o){if(ot){var u=jt.formState;if(u!==null){e:{var f=$e;if(ot){if(Ot){t:{for(var y=Ot,b=Mi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Vi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ot=Vi(y.nextSibling),f=y.data==="F!";break e}}Bs(f)}f=!1}f&&(o=u[0])}}return u=Xn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rS,lastRenderedState:o},u.queue=f,u=TS.bind(null,$e,f),f.dispatch=u,f=ey(!1),b=ay.bind(null,$e,!1,f.queue),f=Xn(),y={state:o,dispatch:null,action:s,pending:null},f.queue=y,u=aN.bind(null,$e,y,b,u),y.dispatch=u,f.memoizedState=s,[o,u,!1]}function oS(s){var o=tn();return aS(o,Tt,s)}function aS(s,o,u){if(o=Xg(s,o,rS)[0],s=Sf(Wr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=zu(o)}catch(C){throw C===El?df:C}else f=o;o=tn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&($e.flags|=2048,Rl(9,{destroy:void 0},lN.bind(null,y,u),null)),[f,b,s]}function lN(s,o){s.action=o}function lS(s){var o=tn(),u=Tt;if(u!==null)return aS(o,u,s);tn(),o=o.memoizedState,u=tn();var f=u.queue.dispatch;return u.memoizedState=s,[o,f,!1]}function Rl(s,o,u,f){return s={tag:s,create:u,deps:f,inst:o,next:null},o=$e.updateQueue,o===null&&(o=vf(),$e.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s),s}function cS(){return tn().memoizedState}function wf(s,o,u,f){var y=Xn();$e.flags|=s,y.memoizedState=Rl(1|o,{destroy:void 0},u,f===void 0?null:f)}function _f(s,o,u,f){var y=tn();f=f===void 0?null:f;var b=y.memoizedState.inst;Tt!==null&&f!==null&&qg(f,Tt.memoizedState.deps)?y.memoizedState=Rl(o,b,u,f):($e.flags|=s,y.memoizedState=Rl(1|o,b,u,f))}function uS(s,o){wf(8390656,8,s,o)}function ny(s,o){_f(2048,8,s,o)}function cN(s){$e.flags|=4;var o=$e.updateQueue;if(o===null)o=vf(),$e.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function dS(s){var o=tn().memoizedState;return cN({ref:o,nextImpl:s}),function(){if((gt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function hS(s,o){return _f(4,2,s,o)}function fS(s,o){return _f(4,4,s,o)}function pS(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function mS(s,o,u){u=u!=null?u.concat([s]):null,_f(4,4,pS.bind(null,o,s),u)}function iy(){}function gS(s,o){var u=tn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&qg(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function yS(s,o){var u=tn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&qg(o,f[1]))return f[0];if(f=s(),aa){jn(!0);try{s()}finally{jn(!1)}}return u.memoizedState=[f,o],f}function ry(s,o,u){return u===void 0||(qr&1073741824)!==0&&(tt&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=xw(),$e.lanes|=s,Ys|=s,u)}function xS(s,o,u,f){return mi(u,o)?u:Al.current!==null?(s=ry(s,u,f),mi(s,o)||(cn=!0),s):(qr&42)===0||(qr&1073741824)!==0&&(tt&261930)===0?(cn=!0,s.memoizedState=u):(s=xw(),$e.lanes|=s,Ys|=s,o)}function vS(s,o,u,f,y){var b=G.p;G.p=b!==0&&8>b?b:8;var C=D.T,k={};D.T=k,ay(s,!1,o,u);try{var $=y(),Z=D.S;if(Z!==null&&Z(k,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=rN($,f);Uu(s,o,se,Si(s))}else Uu(s,o,f,Si(s))}catch(ue){Uu(s,o,{then:function(){},status:"rejected",reason:ue},Si())}finally{G.p=b,C!==null&&k.types!==null&&(C.types=k.types),D.T=C}}function uN(){}function sy(s,o,u,f){if(s.tag!==5)throw Error(i(476));var y=bS(s).queue;vS(s,y,o,oe,u===null?uN:function(){return SS(s),u(f)})}function bS(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:oe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function SS(s){var o=bS(s);o.next===null&&(o=s.alternate.memoizedState),Uu(s,o.next.queue,{},Si())}function oy(){return Pn(sd)}function wS(){return tn().memoizedState}function _S(){return tn().memoizedState}function dN(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=Si();s=Hs(u);var f=$s(o,s,u);f!==null&&(ci(f,o,u),Lu(f,o,u)),o={cache:Og()},s.payload=o;return}o=o.return}}function hN(s,o,u){var f=Si();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Tf(s)?ES(o,u):(u=Tg(s,o,u,f),u!==null&&(ci(u,s,f),CS(u,o,f)))}function TS(s,o,u){var f=Si();Uu(s,o,u,f)}function Uu(s,o,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Tf(s))ES(o,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,k=b(C,u);if(y.hasEagerState=!0,y.eagerState=k,mi(k,C))return rf(s,o,y,0),jt===null&&nf(),!1}catch{}if(u=Tg(s,o,y,f),u!==null)return ci(u,s,f),CS(u,o,f),!0}return!1}function ay(s,o,u,f){if(f={lane:2,revertLane:Fy(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Tf(s)){if(o)throw Error(i(479))}else o=Tg(s,u,f,2),o!==null&&ci(o,s,2)}function Tf(s){var o=s.alternate;return s===$e||o!==null&&o===$e}function ES(s,o){Il=yf=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function CS(s,o,u){if((u&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,ws(s,u)}}var Hu={readContext:Pn,use:bf,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};Hu.useEffectEvent=Yt;var AS={readContext:Pn,use:bf,useCallback:function(s,o){return Xn().memoizedState=[s,o===void 0?null:o],s},useContext:Pn,useEffect:uS,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,wf(4194308,4,pS.bind(null,o,s),u)},useLayoutEffect:function(s,o){return wf(4194308,4,s,o)},useInsertionEffect:function(s,o){wf(4,2,s,o)},useMemo:function(s,o){var u=Xn();o=o===void 0?null:o;var f=s();if(aa){jn(!0);try{s()}finally{jn(!1)}}return u.memoizedState=[f,o],f},useReducer:function(s,o,u){var f=Xn();if(u!==void 0){var y=u(o);if(aa){jn(!0);try{u(o)}finally{jn(!1)}}}else y=o;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=hN.bind(null,$e,s),[f.memoizedState,s]},useRef:function(s){var o=Xn();return s={current:s},o.memoizedState=s},useState:function(s){s=ey(s);var o=s.queue,u=TS.bind(null,$e,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:iy,useDeferredValue:function(s,o){var u=Xn();return ry(u,s,o)},useTransition:function(){var s=ey(!1);return s=vS.bind(null,$e,s.queue,!0,!1),Xn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var f=$e,y=Xn();if(ot){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),jt===null)throw Error(i(349));(tt&127)!==0||K1(f,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,uS(Q1.bind(null,f,b,s),[s]),f.flags|=2048,Rl(9,{destroy:void 0},Y1.bind(null,f,b,u,o),null),u},useId:function(){var s=Xn(),o=jt.identifierPrefix;if(ot){var u=gr,f=mr;u=(f&~(1<<32-wn(f)-1)).toString(32)+u,o="_"+o+"R_"+u,u=xf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=sN++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:oy,useFormState:sS,useActionState:sS,useOptimistic:function(s){var o=Xn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ay.bind(null,$e,!0,u),u.dispatch=o,[s,o]},useMemoCache:Jg,useCacheRefresh:function(){return Xn().memoizedState=dN.bind(null,$e)},useEffectEvent:function(s){var o=Xn(),u={impl:s};return o.memoizedState=u,function(){if((gt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},ly={readContext:Pn,use:bf,useCallback:gS,useContext:Pn,useEffect:ny,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:Sf,useRef:cS,useState:function(){return Sf(Wr)},useDebugValue:iy,useDeferredValue:function(s,o){var u=tn();return xS(u,Tt.memoizedState,s,o)},useTransition:function(){var s=Sf(Wr)[0],o=tn().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:W1,useId:wS,useHostTransitionStatus:oy,useFormState:oS,useActionState:oS,useOptimistic:function(s,o){var u=tn();return Z1(u,Tt,s,o)},useMemoCache:Jg,useCacheRefresh:_S};ly.useEffectEvent=dS;var IS={readContext:Pn,use:bf,useCallback:gS,useContext:Pn,useEffect:ny,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:Zg,useRef:cS,useState:function(){return Zg(Wr)},useDebugValue:iy,useDeferredValue:function(s,o){var u=tn();return Tt===null?ry(u,s,o):xS(u,Tt.memoizedState,s,o)},useTransition:function(){var s=Zg(Wr)[0],o=tn().memoizedState;return[typeof s=="boolean"?s:zu(s),o]},useSyncExternalStore:W1,useId:wS,useHostTransitionStatus:oy,useFormState:lS,useActionState:lS,useOptimistic:function(s,o){var u=tn();return Tt!==null?Z1(u,Tt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Jg,useCacheRefresh:_S};IS.useEffectEvent=dS;function cy(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:x({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var uy={enqueueSetState:function(s,o,u){s=s._reactInternals;var f=Si(),y=Hs(f);y.payload=o,u!=null&&(y.callback=u),o=$s(s,y,f),o!==null&&(ci(o,s,f),Lu(o,s,f))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=Si(),y=Hs(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=$s(s,y,f),o!==null&&(ci(o,s,f),Lu(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Si(),f=Hs(u);f.tag=2,o!=null&&(f.callback=o),o=$s(s,f,u),o!==null&&(ci(o,s,u),Lu(o,s,u))}};function jS(s,o,u,f,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,C):o.prototype&&o.prototype.isPureReactComponent?!ju(u,f)||!ju(y,b):!0}function RS(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&uy.enqueueReplaceState(o,o.state,null)}function la(s,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(s=s.defaultProps){u===o&&(u=x({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function NS(s){tf(s)}function kS(s){console.error(s)}function PS(s){tf(s)}function Ef(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function DS(s,o,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dy(s,o,u){return u=Hs(u),u.tag=3,u.payload={element:null},u.callback=function(){Ef(s,o)},u}function OS(s){return s=Hs(s),s.tag=3,s}function MS(s,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;s.payload=function(){return y(b)},s.callback=function(){DS(o,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){DS(o,u,f),typeof y!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function fN(s,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&wl(o,u,y,!0),u=yi.current,u!==null){switch(u.tag){case 31:case 13:return Li===null?Lf():u.alternate===null&&Qt===0&&(Qt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===hf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),My(s,f,y)),!1;case 22:return u.flags|=65536,f===hf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),My(s,f,y)),!1}throw Error(i(435,u.tag))}return My(s,f,y),Lf(),!1}if(ot)return o=yi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Rg&&(s=Error(i(422),{cause:f}),ku(Pi(s,u)))):(f!==Rg&&(o=Error(i(423),{cause:f}),ku(Pi(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=Pi(f,u),y=dy(s.stateNode,f,y),zg(s,y),Qt!==4&&(Qt=2)),!1;var b=Error(i(520),{cause:f});if(b=Pi(b,u),Ju===null?Ju=[b]:Ju.push(b),Qt!==4&&(Qt=2),o===null)return!0;f=Pi(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=dy(u.stateNode,f,s),zg(u,s),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qs===null||!Qs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=OS(y),MS(y,s,u,f),zg(u,y),!1}u=u.return}while(u!==null);return!1}var hy=Error(i(461)),cn=!1;function Dn(s,o,u,f){o.child=s===null?B1(o,null,u,f):oa(o,s.child,u,f)}function LS(s,o,u,f,y){u=u.render;var b=o.ref;if("ref"in f){var C={};for(var k in f)k!=="ref"&&(C[k]=f[k])}else C=f;return na(o),f=Wg(s,o,u,C,b,y),k=Kg(),s!==null&&!cn?(Yg(s,o,y),Kr(s,o,y)):(ot&&k&&Ig(o),o.flags|=1,Dn(s,o,f,y),o.child)}function VS(s,o,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!Eg(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,FS(s,o,b,f,y)):(s=of(u.type,null,f,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!by(s,y)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:ju,u(C,f)&&s.ref===o.ref)return Kr(s,o,y)}return o.flags|=1,s=Ur(b,f),s.ref=o.ref,s.return=o,o.child=s}function FS(s,o,u,f,y){if(s!==null){var b=s.memoizedProps;if(ju(b,f)&&s.ref===o.ref)if(cn=!1,o.pendingProps=f=b,by(s,y))(s.flags&131072)!==0&&(cn=!0);else return o.lanes=s.lanes,Kr(s,o,y)}return fy(s,o,u,f,y)}function BS(s,o,u,f){var y=f.children,b=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,s!==null){for(f=o.child=s.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,o.child=null;return zS(s,o,b,u,f)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&uf(o,b!==null?b.cachePool:null),b!==null?H1(o,b):Hg(),$1(o);else return f=o.lanes=536870912,zS(s,o,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(uf(o,b.cachePool),H1(o,b),qs(),o.memoizedState=null):(s!==null&&uf(o,null),Hg(),qs());return Dn(s,o,y,u),o.child}function $u(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function zS(s,o,u,f,y){var b=Lg();return b=b===null?null:{parent:an._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},s!==null&&uf(o,null),Hg(),$1(o),s!==null&&wl(s,o,f,!0),o.childLanes=y,null}function Cf(s,o){return o=If({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function US(s,o,u){return oa(o,s.child,null,u),s=Cf(o,o.pendingProps),s.flags|=2,xi(o),o.memoizedState=null,s}function pN(s,o,u){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(ot){if(f.mode==="hidden")return s=Cf(o,f),o.lanes=536870912,$u(null,s);if(Gg(o),(s=Ot)?(s=e2(s,Mi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Vs!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},u=E1(s),u.return=o,o.child=u,kn=o,Ot=null)):s=null,s===null)throw Bs(o);return o.lanes=536870912,null}return Cf(o,f)}var b=s.memoizedState;if(b!==null){var C=b.dehydrated;if(Gg(o),y)if(o.flags&256)o.flags&=-257,o=US(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(cn||wl(s,o,u,!1),y=(u&s.childLanes)!==0,cn||y){if(f=jt,f!==null&&(C=_s(f,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,Xo(s,C),ci(f,s,C),hy;Lf(),o=US(s,o,u)}else s=b.treeContext,Ot=Vi(C.nextSibling),kn=o,ot=!0,Fs=null,Mi=!1,s!==null&&I1(o,s),o=Cf(o,f),o.flags|=4096;return o}return s=Ur(s.child,{mode:f.mode,children:f.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Af(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function fy(s,o,u,f,y){return na(o),u=Wg(s,o,u,f,void 0,y),f=Kg(),s!==null&&!cn?(Yg(s,o,y),Kr(s,o,y)):(ot&&f&&Ig(o),o.flags|=1,Dn(s,o,u,y),o.child)}function HS(s,o,u,f,y,b){return na(o),o.updateQueue=null,u=q1(o,f,u,y),G1(s),f=Kg(),s!==null&&!cn?(Yg(s,o,b),Kr(s,o,b)):(ot&&f&&Ig(o),o.flags|=1,Dn(s,o,u,b),o.child)}function $S(s,o,u,f,y){if(na(o),o.stateNode===null){var b=xl,C=u.contextType;typeof C=="object"&&C!==null&&(b=Pn(C)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=uy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Fg(o),C=u.contextType,b.context=typeof C=="object"&&C!==null?Pn(C):xl,b.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(cy(o,u,C,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&uy.enqueueReplaceState(b,b.state,null),Fu(o,f,b,y),Vu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){b=o.stateNode;var k=o.memoizedProps,$=la(u,k);b.props=$;var Z=b.context,se=u.contextType;C=xl,typeof se=="object"&&se!==null&&(C=Pn(se));var ue=u.getDerivedStateFromProps;se=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,se||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||Z!==C)&&RS(o,b,f,C),Us=!1;var te=o.memoizedState;b.state=te,Fu(o,f,b,y),Vu(),Z=o.memoizedState,k||te!==Z||Us?(typeof ue=="function"&&(cy(o,u,ue,f),Z=o.memoizedState),($=Us||jS(o,u,$,f,te,Z,C))?(se||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),b.props=f,b.state=Z,b.context=C,f=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Bg(s,o),C=o.memoizedProps,se=la(u,C),b.props=se,ue=o.pendingProps,te=b.context,Z=u.contextType,$=xl,typeof Z=="object"&&Z!==null&&($=Pn(Z)),k=u.getDerivedStateFromProps,(Z=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ue||te!==$)&&RS(o,b,f,$),Us=!1,te=o.memoizedState,b.state=te,Fu(o,f,b,y),Vu();var ie=o.memoizedState;C!==ue||te!==ie||Us||s!==null&&s.dependencies!==null&&lf(s.dependencies)?(typeof k=="function"&&(cy(o,u,k,f),ie=o.memoizedState),(se=Us||jS(o,u,se,f,te,ie,$)||s!==null&&s.dependencies!==null&&lf(s.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ie,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ie,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ie),b.props=f,b.state=ie,b.context=$,f=se):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),f=!1)}return b=f,Af(s,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&f?(o.child=oa(o,s.child,null,y),o.child=oa(o,null,u,y)):Dn(s,o,u,y),o.memoizedState=b.state,s=o.child):s=Kr(s,o,y),s}function GS(s,o,u,f){return ea(),o.flags|=256,Dn(s,o,u,f),o.child}var py={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function my(s){return{baseLanes:s,cachePool:D1()}}function gy(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=bi),s}function qS(s,o,u){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(en.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,s===null){if(ot){if(y?Gs(o):qs(),(s=Ot)?(s=e2(s,Mi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:Vs!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},u=E1(s),u.return=o,o.child=u,kn=o,Ot=null)):s=null,s===null)throw Bs(o);return Xy(s)?o.lanes=32:o.lanes=536870912,null}var k=f.children;return f=f.fallback,y?(qs(),y=o.mode,k=If({mode:"hidden",children:k},y),f=Zo(f,y,u,null),k.return=o,f.return=o,k.sibling=f,o.child=k,f=o.child,f.memoizedState=my(u),f.childLanes=gy(s,C,u),o.memoizedState=py,$u(null,f)):(Gs(o),yy(o,k))}var $=s.memoizedState;if($!==null&&(k=$.dehydrated,k!==null)){if(b)o.flags&256?(Gs(o),o.flags&=-257,o=xy(s,o,u)):o.memoizedState!==null?(qs(),o.child=s.child,o.flags|=128,o=null):(qs(),k=f.fallback,y=o.mode,f=If({mode:"visible",children:f.children},y),k=Zo(k,y,u,null),k.flags|=2,f.return=o,k.return=o,f.sibling=k,o.child=f,oa(o,s.child,null,u),f=o.child,f.memoizedState=my(u),f.childLanes=gy(s,C,u),o.memoizedState=py,o=$u(null,f));else if(Gs(o),Xy(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var Z=C.dgst;C=Z,f=Error(i(419)),f.stack="",f.digest=C,ku({value:f,source:null,stack:null}),o=xy(s,o,u)}else if(cn||wl(s,o,u,!1),C=(u&s.childLanes)!==0,cn||C){if(C=jt,C!==null&&(f=_s(C,u),f!==0&&f!==$.retryLane))throw $.retryLane=f,Xo(s,f),ci(C,s,f),hy;Jy(k)||Lf(),o=xy(s,o,u)}else Jy(k)?(o.flags|=192,o.child=s.child,o=null):(s=$.treeContext,Ot=Vi(k.nextSibling),kn=o,ot=!0,Fs=null,Mi=!1,s!==null&&I1(o,s),o=yy(o,f.children),o.flags|=4096);return o}return y?(qs(),k=f.fallback,y=o.mode,$=s.child,Z=$.sibling,f=Ur($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,Z!==null?k=Ur(Z,k):(k=Zo(k,y,u,null),k.flags|=2),k.return=o,f.return=o,f.sibling=k,o.child=f,$u(null,f),f=o.child,k=s.child.memoizedState,k===null?k=my(u):(y=k.cachePool,y!==null?($=an._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=D1(),k={baseLanes:k.baseLanes|u,cachePool:y}),f.memoizedState=k,f.childLanes=gy(s,C,u),o.memoizedState=py,$u(s.child,f)):(Gs(o),u=s.child,s=u.sibling,u=Ur(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,s!==null&&(C=o.deletions,C===null?(o.deletions=[s],o.flags|=16):C.push(s)),o.child=u,o.memoizedState=null,u)}function yy(s,o){return o=If({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function If(s,o){return s=gi(22,s,null,o),s.lanes=0,s}function xy(s,o,u){return oa(o,s.child,null,u),s=yy(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function WS(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Pg(s.return,o,u)}function vy(s,o,u,f,y,b){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=u,C.tailMode=y,C.treeForkCount=b)}function KS(s,o,u){var f=o.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var C=en.current,k=(C&2)!==0;if(k?(C=C&1|2,o.flags|=128):C&=1,ne(en,C),Dn(s,o,f,u),f=ot?Nu:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&WS(s,u,o);else if(s.tag===19)WS(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&gf(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),vy(o,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&gf(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}vy(o,!0,u,null,b,f);break;case"together":vy(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Kr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ys|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(wl(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,u=Ur(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Ur(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function by(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&lf(s)))}function mN(s,o,u){switch(o.tag){case 3:ut(o,o.stateNode.containerInfo),zs(o,an,s.memoizedState.cache),ea();break;case 27:case 5:Ft(o);break;case 4:ut(o,o.stateNode.containerInfo);break;case 10:zs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Gg(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Gs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qS(s,o,u):(Gs(o),s=Kr(s,o,u),s!==null?s.sibling:null);Gs(o);break;case 19:var y=(s.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(wl(s,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return KS(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ne(en,en.current),f)break;return null;case 22:return o.lanes=0,BS(s,o,u,o.pendingProps);case 24:zs(o,an,s.memoizedState.cache)}return Kr(s,o,u)}function YS(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)cn=!0;else{if(!by(s,u)&&(o.flags&128)===0)return cn=!1,mN(s,o,u);cn=(s.flags&131072)!==0}else cn=!1,ot&&(o.flags&1048576)!==0&&A1(o,Nu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(s=ra(o.elementType),o.type=s,typeof s=="function")Eg(s)?(f=la(s,f),o.tag=1,o=$S(null,o,s,f,u)):(o.tag=0,o=fy(null,o,s,f,u));else{if(s!=null){var y=s.$$typeof;if(y===B){o.tag=11,o=LS(null,o,s,f,u);break e}else if(y===j){o.tag=14,o=VS(null,o,s,f,u);break e}}throw o=pe(s)||s,Error(i(306,o,""))}}return o;case 0:return fy(s,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=la(f,o.pendingProps),$S(s,o,f,y,u);case 3:e:{if(ut(o,o.stateNode.containerInfo),s===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,Bg(s,o),Fu(o,f,null,u);var C=o.memoizedState;if(f=C.cache,zs(o,an,f),f!==b.cache&&Dg(o,[an],u,!0),Vu(),f=C.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=GS(s,o,f,u);break e}else if(f!==y){y=Pi(Error(i(424)),o),ku(y),o=GS(s,o,f,u);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ot=Vi(s.firstChild),kn=o,ot=!0,Fs=null,Mi=!0,u=B1(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ea(),f===y){o=Kr(s,o,u);break e}Dn(s,o,f,u)}o=o.child}return o;case 26:return Af(s,o),s===null?(u=o2(o.type,null,o.pendingProps,null))?o.memoizedState=u:ot||(u=o.type,s=o.pendingProps,f=$f(Ae.current).createElement(u),f[Wt]=o,f[Nn]=s,On(f,u,s),Zt(f),o.stateNode=f):o.memoizedState=o2(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ft(o),s===null&&ot&&(f=o.stateNode=i2(o.type,o.pendingProps,Ae.current),kn=o,Mi=!0,y=Ot,eo(o.type)?(Zy=y,Ot=Vi(f.firstChild)):Ot=y),Dn(s,o,o.pendingProps.children,u),Af(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ot&&((y=f=Ot)&&(f=GN(f,o.type,o.pendingProps,Mi),f!==null?(o.stateNode=f,kn=o,Ot=Vi(f.firstChild),Mi=!1,y=!0):y=!1),y||Bs(o)),Ft(o),y=o.type,b=o.pendingProps,C=s!==null?s.memoizedProps:null,f=b.children,Ky(y,b)?f=null:C!==null&&Ky(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Wg(s,o,oN,null,null,u),sd._currentValue=y),Af(s,o),Dn(s,o,f,u),o.child;case 6:return s===null&&ot&&((s=u=Ot)&&(u=qN(u,o.pendingProps,Mi),u!==null?(o.stateNode=u,kn=o,Ot=null,s=!0):s=!1),s||Bs(o)),null;case 13:return qS(s,o,u);case 4:return ut(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=oa(o,null,f,u):Dn(s,o,f,u),o.child;case 11:return LS(s,o,o.type,o.pendingProps,u);case 7:return Dn(s,o,o.pendingProps,u),o.child;case 8:return Dn(s,o,o.pendingProps.children,u),o.child;case 12:return Dn(s,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,zs(o,o.type,f.value),Dn(s,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,na(o),y=Pn(y),f=f(y),o.flags|=1,Dn(s,o,f,u),o.child;case 14:return VS(s,o,o.type,o.pendingProps,u);case 15:return FS(s,o,o.type,o.pendingProps,u);case 19:return KS(s,o,u);case 31:return pN(s,o,u);case 22:return BS(s,o,u,o.pendingProps);case 24:return na(o),f=Pn(an),s===null?(y=Lg(),y===null&&(y=jt,b=Og(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:f,cache:y},Fg(o),zs(o,an,y)):((s.lanes&u)!==0&&(Bg(s,o),Fu(o,null,null,u),Vu()),y=s.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),zs(o,an,f)):(f=b.cache,zs(o,an,f),f!==y.cache&&Dg(o,[an],u,!0))),Dn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Yr(s){s.flags|=4}function Sy(s,o,u,f,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(ww())s.flags|=8192;else throw sa=hf,Vg}else s.flags&=-16777217}function QS(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!d2(o))if(ww())s.flags|=8192;else throw sa=hf,Vg}function jf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?du():536870912,s.lanes|=o,Dl|=o)}function Gu(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Mt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function gN(s,o,u){var f=o.pendingProps;switch(jg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(o),null;case 1:return Mt(o),null;case 3:return u=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Gr(an),rt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Sl(o)?Yr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ng())),Mt(o),null;case 26:var y=o.type,b=o.memoizedState;return s===null?(Yr(o),b!==null?(Mt(o),QS(o,b)):(Mt(o),Sy(o,y,null,f,u))):b?b!==s.memoizedState?(Yr(o),Mt(o),QS(o,b)):(Mt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==f&&Yr(o),Mt(o),Sy(o,y,s,f,u)),null;case 27:if(_t(o),u=Ae.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Yr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Mt(o),null}s=ce.current,Sl(o)?j1(o):(s=i2(y,f,u),o.stateNode=s,Yr(o))}return Mt(o),null;case 5:if(_t(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&Yr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Mt(o),null}if(b=ce.current,Sl(o))j1(o);else{var C=$f(Ae.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?C.createElement(y,{is:f.is}):C.createElement(y)}}b[Wt]=o,b[Nn]=f;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=b;e:switch(On(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Yr(o)}}return Mt(o),Sy(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&Yr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(s=Ae.current,Sl(o)){if(s=o.stateNode,u=o.memoizedProps,f=null,y=kn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[Wt]=o,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||qw(s.nodeValue,u)),s||Bs(o,!0)}else s=$f(s).createTextNode(f),s[Wt]=o,o.stateNode=s}return Mt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(f=Sl(o),u!==null){if(s===null){if(!f)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Wt]=o}else ea(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),s=!1}else u=Ng(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(xi(o),o):(xi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Mt(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Sl(o),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Wt]=o}else ea(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Mt(o),y=!1}else y=Ng(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(xi(o),o):(xi(o),null)}return xi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=f!==null,s=s!==null&&s.memoizedState!==null,u&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),jf(o,o.updateQueue),Mt(o),null);case 4:return rt(),s===null&&Hy(o.stateNode.containerInfo),Mt(o),null;case 10:return Gr(o.type),Mt(o),null;case 19:if(ee(en),f=o.memoizedState,f===null)return Mt(o),null;if(y=(o.flags&128)!==0,b=f.rendering,b===null)if(y)Gu(f,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=gf(s),b!==null){for(o.flags|=128,Gu(f,!1),s=b.updateQueue,o.updateQueue=s,jf(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)T1(u,s),u=u.sibling;return ne(en,en.current&1|2),ot&&Hr(o,f.treeForkCount),o.child}s=s.sibling}f.tail!==null&&It()>Df&&(o.flags|=128,y=!0,Gu(f,!1),o.lanes=4194304)}else{if(!y)if(s=gf(b),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,jf(o,s),Gu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!ot)return Mt(o),null}else 2*It()-f.renderingStartTime>Df&&u!==536870912&&(o.flags|=128,y=!0,Gu(f,!1),o.lanes=4194304);f.isBackwards?(b.sibling=o.child,o.child=b):(s=f.last,s!==null?s.sibling=b:o.child=b,f.last=b)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=It(),s.sibling=null,u=en.current,ne(en,y?u&1|2:u&1),ot&&Hr(o,f.treeForkCount),s):(Mt(o),null);case 22:case 23:return xi(o),$g(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Mt(o),o.subtreeFlags&6&&(o.flags|=8192)):Mt(o),u=o.updateQueue,u!==null&&jf(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),s!==null&&ee(ia),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Gr(an),Mt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function yN(s,o){switch(jg(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Gr(an),rt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return _t(o),null;case 31:if(o.memoizedState!==null){if(xi(o),o.alternate===null)throw Error(i(340));ea()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(xi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ea()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ee(en),null;case 4:return rt(),null;case 10:return Gr(o.type),null;case 22:case 23:return xi(o),$g(),s!==null&&ee(ia),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Gr(an),null;case 25:return null;default:return null}}function JS(s,o){switch(jg(o),o.tag){case 3:Gr(an),rt();break;case 26:case 27:case 5:_t(o);break;case 4:rt();break;case 31:o.memoizedState!==null&&xi(o);break;case 13:xi(o);break;case 19:ee(en);break;case 10:Gr(o.type);break;case 22:case 23:xi(o),$g(),s!==null&&ee(ia);break;case 24:Gr(an)}}function qu(s,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var b=u.create,C=u.inst;f=b(),C.destroy=f}u=u.next}while(u!==y)}}catch(k){St(o,o.return,k)}}function Ws(s,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&s)===s){var C=f.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,y=o;var $=u,Z=k;try{Z()}catch(se){St(y,$,se)}}}f=f.next}while(f!==b)}}catch(se){St(o,o.return,se)}}function XS(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{U1(o,u)}catch(f){St(s,s.return,f)}}}function ZS(s,o,u){u.props=la(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){St(s,o,f)}}function Wu(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){St(s,o,y)}}function yr(s,o){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){St(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){St(s,o,y)}else u.current=null}function ew(s){var o=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){St(s,s.return,y)}}function wy(s,o,u){try{var f=s.stateNode;FN(f,s.type,u,o),f[Nn]=o}catch(y){St(s,s.return,y)}}function tw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&eo(s.type)||s.tag===4}function _y(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||tw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&eo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ty(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=_n));else if(f!==4&&(f===27&&eo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Ty(s,o,u),s=s.sibling;s!==null;)Ty(s,o,u),s=s.sibling}function Rf(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(f===27&&eo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Rf(s,o,u),s=s.sibling;s!==null;)Rf(s,o,u),s=s.sibling}function nw(s){var o=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);On(o,f,u),o[Wt]=s,o[Nn]=u}catch(b){St(s,s.return,b)}}var Qr=!1,un=!1,Ey=!1,iw=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function xN(s,o){if(s=s.containerInfo,qy=Jf,s=m1(s),xg(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,k=-1,$=-1,Z=0,se=0,ue=s,te=null;t:for(;;){for(var ie;ue!==u||y!==0&&ue.nodeType!==3||(k=C+y),ue!==b||f!==0&&ue.nodeType!==3||($=C+f),ue.nodeType===3&&(C+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)te=ue,ue=ie;for(;;){if(ue===s)break t;if(te===u&&++Z===y&&(k=C),te===b&&++se===f&&($=C),(ie=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ie}u=k===-1||$===-1?null:{start:k,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wy={focusedElem:s,selectionRange:u},Jf=!1,Cn=o;Cn!==null;)if(o=Cn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Cn=s;else for(;Cn!==null;){switch(o=Cn,b=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var ve=la(u.type,y);s=f.getSnapshotBeforeUpdate(ve,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){St(u,u.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)Qy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,Cn=s;break}Cn=o.return}}function rw(s,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Xr(s,u),f&4&&qu(5,u);break;case 1:if(Xr(s,u),f&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(C){St(u,u.return,C)}else{var y=la(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(C){St(u,u.return,C)}}f&64&&XS(u),f&512&&Wu(u,u.return);break;case 3:if(Xr(s,u),f&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{U1(s,o)}catch(C){St(u,u.return,C)}}break;case 27:o===null&&f&4&&nw(u);case 26:case 5:Xr(s,u),o===null&&f&4&&ew(u),f&512&&Wu(u,u.return);break;case 12:Xr(s,u);break;case 31:Xr(s,u),f&4&&aw(s,u);break;case 13:Xr(s,u),f&4&&lw(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=AN.bind(null,u),WN(s,u))));break;case 22:if(f=u.memoizedState!==null||Qr,!f){o=o!==null&&o.memoizedState!==null||un,y=Qr;var b=un;Qr=f,(un=o)&&!b?Zr(s,u,(u.subtreeFlags&8772)!==0):Xr(s,u),Qr=y,un=b}break;case 30:break;default:Xr(s,u)}}function sw(s){var o=s.alternate;o!==null&&(s.alternate=null,sw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Bo(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ut=null,si=!1;function Jr(s,o,u){for(u=u.child;u!==null;)ow(s,o,u),u=u.sibling}function ow(s,o,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Bn,u)}catch{}switch(u.tag){case 26:un||yr(u,o),Jr(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:un||yr(u,o);var f=Ut,y=si;eo(u.type)&&(Ut=u.stateNode,si=!1),Jr(s,o,u),nd(u.stateNode),Ut=f,si=y;break;case 5:un||yr(u,o);case 6:if(f=Ut,y=si,Ut=null,Jr(s,o,u),Ut=f,si=y,Ut!==null)if(si)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(u.stateNode)}catch(b){St(u,o,b)}else try{Ut.removeChild(u.stateNode)}catch(b){St(u,o,b)}break;case 18:Ut!==null&&(si?(s=Ut,Xw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Ul(s)):Xw(Ut,u.stateNode));break;case 4:f=Ut,y=si,Ut=u.stateNode.containerInfo,si=!0,Jr(s,o,u),Ut=f,si=y;break;case 0:case 11:case 14:case 15:Ws(2,u,o),un||Ws(4,u,o),Jr(s,o,u);break;case 1:un||(yr(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&ZS(u,o,f)),Jr(s,o,u);break;case 21:Jr(s,o,u);break;case 22:un=(f=un)||u.memoizedState!==null,Jr(s,o,u),un=f;break;default:Jr(s,o,u)}}function aw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ul(s)}catch(u){St(o,o.return,u)}}}function lw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ul(s)}catch(u){St(o,o.return,u)}}function vN(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new iw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new iw),o;default:throw Error(i(435,s.tag))}}function Nf(s,o){var u=vN(s);o.forEach(function(f){if(!u.has(f)){u.add(f);var y=IN.bind(null,s,f);f.then(y,y)}})}function oi(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=s,C=o,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(eo(k.type)){Ut=k.stateNode,si=!1;break e}break;case 5:Ut=k.stateNode,si=!1;break e;case 3:case 4:Ut=k.stateNode.containerInfo,si=!0;break e}k=k.return}if(Ut===null)throw Error(i(160));ow(b,C,y),Ut=null,si=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cw(o,s),o=o.sibling}var er=null;function cw(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:oi(o,s),ai(s),f&4&&(Ws(3,s,s.return),qu(3,s),Ws(5,s,s.return));break;case 1:oi(o,s),ai(s),f&512&&(un||u===null||yr(u,u.return)),f&64&&Qr&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=er;if(oi(o,s),ai(s),f&512&&(un||u===null||yr(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Dr]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),On(b,f,u),b[Wt]=s,Zt(b),f=b;break e;case"link":var C=c2("link","href",y).get(f+(u.href||""));if(C){for(var k=0;k<C.length;k++)if(b=C[k],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(k,1);break t}}b=y.createElement(f),On(b,f,u),y.head.appendChild(b);break;case"meta":if(C=c2("meta","content",y).get(f+(u.content||""))){for(k=0;k<C.length;k++)if(b=C[k],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(k,1);break t}}b=y.createElement(f),On(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[Wt]=s,Zt(b),f=b}s.stateNode=f}else u2(y,s.type,s.stateNode);else s.stateNode=l2(y,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?u2(y,s.type,s.stateNode):l2(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&wy(s,s.memoizedProps,u.memoizedProps)}break;case 27:oi(o,s),ai(s),f&512&&(un||u===null||yr(u,u.return)),u!==null&&f&4&&wy(s,s.memoizedProps,u.memoizedProps);break;case 5:if(oi(o,s),ai(s),f&512&&(un||u===null||yr(u,u.return)),s.flags&32){y=s.stateNode;try{Ni(y,"")}catch(ve){St(s,s.return,ve)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,wy(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Ey=!0);break;case 6:if(oi(o,s),ai(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(ve){St(s,s.return,ve)}}break;case 3:if(Wf=null,y=er,er=Gf(o.containerInfo),oi(o,s),er=y,ai(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ul(o.containerInfo)}catch(ve){St(s,s.return,ve)}Ey&&(Ey=!1,uw(s));break;case 4:f=er,er=Gf(s.stateNode.containerInfo),oi(o,s),ai(s),er=f;break;case 12:oi(o,s),ai(s);break;case 31:oi(o,s),ai(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Nf(s,f)));break;case 13:oi(o,s),ai(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Pf=It()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Nf(s,f)));break;case 22:y=s.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,Z=Qr,se=un;if(Qr=Z||y,un=se||$,oi(o,s),un=se,Qr=Z,ai(s),f&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||$||Qr||un||ca(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){$=u=o;try{if(b=$.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=$.stateNode;var ue=$.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ve){St($,$.return,ve)}}}else if(o.tag===6){if(u===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(ve){St($,$.return,ve)}}}else if(o.tag===18){if(u===null){$=o;try{var ie=$.stateNode;y?Zw(ie,!0):Zw($.stateNode,!1)}catch(ve){St($,$.return,ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Nf(s,u))));break;case 19:oi(o,s),ai(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Nf(s,f)));break;case 30:break;case 21:break;default:oi(o,s),ai(s)}}function ai(s){var o=s.flags;if(o&2){try{for(var u,f=s.return;f!==null;){if(tw(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=_y(s);Rf(s,b,y);break;case 5:var C=u.stateNode;u.flags&32&&(Ni(C,""),u.flags&=-33);var k=_y(s);Rf(s,k,C);break;case 3:case 4:var $=u.stateNode.containerInfo,Z=_y(s);Ty(s,Z,$);break;default:throw Error(i(161))}}catch(se){St(s,s.return,se)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function uw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;uw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Xr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rw(s,o.alternate,o),o=o.sibling}function ca(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ws(4,o,o.return),ca(o);break;case 1:yr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&ZS(o,o.return,u),ca(o);break;case 27:nd(o.stateNode);case 26:case 5:yr(o,o.return),ca(o);break;case 22:o.memoizedState===null&&ca(o);break;case 30:ca(o);break;default:ca(o)}s=s.sibling}}function Zr(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=s,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:Zr(y,b,u),qu(4,b);break;case 1:if(Zr(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){St(f,f.return,Z)}if(f=b,y=f.updateQueue,y!==null){var k=f.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)z1($[y],k)}catch(Z){St(f,f.return,Z)}}u&&C&64&&XS(b),Wu(b,b.return);break;case 27:nw(b);case 26:case 5:Zr(y,b,u),u&&f===null&&C&4&&ew(b),Wu(b,b.return);break;case 12:Zr(y,b,u);break;case 31:Zr(y,b,u),u&&C&4&&aw(y,b);break;case 13:Zr(y,b,u),u&&C&4&&lw(y,b);break;case 22:b.memoizedState===null&&Zr(y,b,u),Wu(b,b.return);break;case 30:break;default:Zr(y,b,u)}o=o.sibling}}function Cy(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Pu(u))}function Ay(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s))}function tr(s,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dw(s,o,u,f),o=o.sibling}function dw(s,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:tr(s,o,u,f),y&2048&&qu(9,o);break;case 1:tr(s,o,u,f);break;case 3:tr(s,o,u,f),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s)));break;case 12:if(y&2048){tr(s,o,u,f),s=o.stateNode;try{var b=o.memoizedProps,C=b.id,k=b.onPostCommit;typeof k=="function"&&k(C,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){St(o,o.return,$)}}else tr(s,o,u,f);break;case 31:tr(s,o,u,f);break;case 13:tr(s,o,u,f);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?tr(s,o,u,f):Ku(s,o):b._visibility&2?tr(s,o,u,f):(b._visibility|=2,Nl(s,o,u,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Cy(C,o);break;case 24:tr(s,o,u,f),y&2048&&Ay(o.alternate,o);break;default:tr(s,o,u,f)}}function Nl(s,o,u,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=s,C=o,k=u,$=f,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Nl(b,C,k,$,y),qu(8,C);break;case 23:break;case 22:var se=C.stateNode;C.memoizedState!==null?se._visibility&2?Nl(b,C,k,$,y):Ku(b,C):(se._visibility|=2,Nl(b,C,k,$,y)),y&&Z&2048&&Cy(C.alternate,C);break;case 24:Nl(b,C,k,$,y),y&&Z&2048&&Ay(C.alternate,C);break;default:Nl(b,C,k,$,y)}o=o.sibling}}function Ku(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,f=o,y=f.flags;switch(f.tag){case 22:Ku(u,f),y&2048&&Cy(f.alternate,f);break;case 24:Ku(u,f),y&2048&&Ay(f.alternate,f);break;default:Ku(u,f)}o=o.sibling}}var Yu=8192;function kl(s,o,u){if(s.subtreeFlags&Yu)for(s=s.child;s!==null;)hw(s,o,u),s=s.sibling}function hw(s,o,u){switch(s.tag){case 26:kl(s,o,u),s.flags&Yu&&s.memoizedState!==null&&sk(u,er,s.memoizedState,s.memoizedProps);break;case 5:kl(s,o,u);break;case 3:case 4:var f=er;er=Gf(s.stateNode.containerInfo),kl(s,o,u),er=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=Yu,Yu=16777216,kl(s,o,u),Yu=f):kl(s,o,u));break;default:kl(s,o,u)}}function fw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Qu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Cn=f,mw(f,s)}fw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pw(s),s=s.sibling}function pw(s){switch(s.tag){case 0:case 11:case 15:Qu(s),s.flags&2048&&Ws(9,s,s.return);break;case 3:Qu(s);break;case 12:Qu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,kf(s)):Qu(s);break;default:Qu(s)}}function kf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Cn=f,mw(f,s)}fw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ws(8,o,o.return),kf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,kf(o));break;default:kf(o)}s=s.sibling}}function mw(s,o){for(;Cn!==null;){var u=Cn;switch(u.tag){case 0:case 11:case 15:Ws(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Pu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Cn=f;else e:for(u=s;Cn!==null;){f=Cn;var y=f.sibling,b=f.return;if(sw(f),f===u){Cn=null;break e}if(y!==null){y.return=b,Cn=y;break e}Cn=b}}}var bN={getCacheForType:function(s){var o=Pn(an),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return Pn(an).controller.signal}},SN=typeof WeakMap=="function"?WeakMap:Map,gt=0,jt=null,Qe=null,tt=0,bt=0,vi=null,Ks=!1,Pl=!1,Iy=!1,es=0,Qt=0,Ys=0,ua=0,jy=0,bi=0,Dl=0,Ju=null,li=null,Ry=!1,Pf=0,gw=0,Df=1/0,Of=null,Qs=null,yn=0,Js=null,Ol=null,ts=0,Ny=0,ky=null,yw=null,Xu=0,Py=null;function Si(){return(gt&2)!==0&&tt!==0?tt&-tt:D.T!==null?Fy():Pr()}function xw(){if(bi===0)if((tt&536870912)===0||ot){var s=qe;qe<<=1,(qe&3932160)===0&&(qe=262144),bi=s}else bi=536870912;return s=yi.current,s!==null&&(s.flags|=32),bi}function ci(s,o,u){(s===jt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(Ml(s,0),Xs(s,tt,bi,!1)),Ss(s,u),((gt&2)===0||s!==jt)&&(s===jt&&((gt&2)===0&&(ua|=u),Qt===4&&Xs(s,tt,bi,!1)),xr(s))}function vw(s,o,u){if((gt&6)!==0)throw Error(i(327));var f=!u&&(o&127)===0&&(o&s.expiredLanes)===0||bs(s,o),y=f?TN(s,o):Oy(s,o,!0),b=f;do{if(y===0){Pl&&!f&&Xs(s,o,0,!1);break}else{if(u=s.current.alternate,b&&!wN(u)){y=Oy(s,o,!1),b=!1;continue}if(y===2){if(b=o,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var k=s;y=Ju;var $=k.current.memoizedState.isDehydrated;if($&&(Ml(k,C).flags|=256),C=Oy(k,C,!1),C!==2){if(Iy&&!$){k.errorRecoveryDisabledLanes|=b,ua|=b,y=4;break e}b=li,li=y,b!==null&&(li===null?li=b:li.push.apply(li,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){Ml(s,0),Xs(s,o,0,!0);break}e:{switch(f=s,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Xs(f,o,bi,!Ks);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Pf+300-It(),10<y)){if(Xs(f,o,bi,!Ks),ji(f,0,!0)!==0)break e;ts=o,f.timeoutHandle=Qw(bw.bind(null,f,u,li,Of,Ry,o,bi,ua,Dl,Ks,b,"Throttled",-0,0),y);break e}bw(f,u,li,Of,Ry,o,bi,ua,Dl,Ks,b,null,-0,0)}}break}while(!0);xr(s)}function bw(s,o,u,f,y,b,C,k,$,Z,se,ue,te,ie){if(s.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},hw(o,b,ue);var ve=(b&62914560)===b?Pf-It():(b&4194048)===b?gw-It():0;if(ve=ok(ue,ve),ve!==null){ts=b,s.cancelPendingCommit=ve(Iw.bind(null,s,o,b,u,f,y,C,k,$,se,ue,null,te,ie)),Xs(s,b,C,!Z);return}}Iw(s,o,b,u,f,y,C,k,$)}function wN(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!mi(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Xs(s,o,u,f){o&=~jy,o&=~ua,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var y=o;0<y;){var b=31-wn(y),C=1<<b;f[b]=-1,y&=~C}u!==0&&hu(s,u,o)}function Mf(){return(gt&6)===0?(Zu(0),!1):!0}function Dy(){if(Qe!==null){if(bt===0)var s=Qe.return;else s=Qe,$r=ta=null,Qg(s),Cl=null,Ou=0,s=Qe;for(;s!==null;)JS(s.alternate,s),s=s.return;Qe=null}}function Ml(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,UN(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ts=0,Dy(),jt=s,Qe=u=Ur(s.current,null),tt=o,bt=0,vi=null,Ks=!1,Pl=bs(s,o),Iy=!1,Dl=bi=jy=ua=Ys=Qt=0,li=Ju=null,Ry=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var y=31-wn(f),b=1<<y;o|=s[y],f&=~b}return es=o,nf(),u}function Sw(s,o){$e=null,D.H=Hu,o===El||o===df?(o=L1(),bt=3):o===Vg?(o=L1(),bt=4):bt=o===hy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,vi=o,Qe===null&&(Qt=1,Ef(s,Pi(o,s.current)))}function ww(){var s=yi.current;return s===null?!0:(tt&4194048)===tt?Li===null:(tt&62914560)===tt||(tt&536870912)!==0?s===Li:!1}function _w(){var s=D.H;return D.H=Hu,s===null?Hu:s}function Tw(){var s=D.A;return D.A=bN,s}function Lf(){Qt=4,Ks||(tt&4194048)!==tt&&yi.current!==null||(Pl=!0),(Ys&134217727)===0&&(ua&134217727)===0||jt===null||Xs(jt,tt,bi,!1)}function Oy(s,o,u){var f=gt;gt|=2;var y=_w(),b=Tw();(jt!==s||tt!==o)&&(Of=null,Ml(s,o)),o=!1;var C=Qt;e:do try{if(bt!==0&&Qe!==null){var k=Qe,$=vi;switch(bt){case 8:Dy(),C=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(o=!0);var Z=bt;if(bt=0,vi=null,Ll(s,k,$,Z),u&&Pl){C=0;break e}break;default:Z=bt,bt=0,vi=null,Ll(s,k,$,Z)}}_N(),C=Qt;break}catch(se){Sw(s,se)}while(!0);return o&&s.shellSuspendCounter++,$r=ta=null,gt=f,D.H=y,D.A=b,Qe===null&&(jt=null,tt=0,nf()),C}function _N(){for(;Qe!==null;)Ew(Qe)}function TN(s,o){var u=gt;gt|=2;var f=_w(),y=Tw();jt!==s||tt!==o?(Of=null,Df=It()+500,Ml(s,o)):Pl=bs(s,o);e:do try{if(bt!==0&&Qe!==null){o=Qe;var b=vi;t:switch(bt){case 1:bt=0,vi=null,Ll(s,o,b,1);break;case 2:case 9:if(O1(b)){bt=0,vi=null,Cw(o);break}o=function(){bt!==2&&bt!==9||jt!==s||(bt=7),xr(s)},b.then(o,o);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:O1(b)?(bt=0,vi=null,Cw(o)):(bt=0,vi=null,Ll(s,o,b,7));break;case 5:var C=null;switch(Qe.tag){case 26:C=Qe.memoizedState;case 5:case 27:var k=Qe;if(C?d2(C):k.stateNode.complete){bt=0,vi=null;var $=k.sibling;if($!==null)Qe=$;else{var Z=k.return;Z!==null?(Qe=Z,Vf(Z)):Qe=null}break t}}bt=0,vi=null,Ll(s,o,b,5);break;case 6:bt=0,vi=null,Ll(s,o,b,6);break;case 8:Dy(),Qt=6;break e;default:throw Error(i(462))}}EN();break}catch(se){Sw(s,se)}while(!0);return $r=ta=null,D.H=f,D.A=y,gt=u,Qe!==null?0:(jt=null,tt=0,nf(),Qt)}function EN(){for(;Qe!==null&&!Nr();)Ew(Qe)}function Ew(s){var o=YS(s.alternate,s,es);s.memoizedProps=s.pendingProps,o===null?Vf(s):Qe=o}function Cw(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=HS(u,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=HS(u,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:Qg(o);default:JS(u,o),o=Qe=T1(o,es),o=YS(u,o,es)}s.memoizedProps=s.pendingProps,o===null?Vf(s):Qe=o}function Ll(s,o,u,f){$r=ta=null,Qg(o),Cl=null,Ou=0;var y=o.return;try{if(fN(s,y,o,u,tt)){Qt=1,Ef(s,Pi(u,s.current)),Qe=null;return}}catch(b){if(y!==null)throw Qe=y,b;Qt=1,Ef(s,Pi(u,s.current)),Qe=null;return}o.flags&32768?(ot||f===1?s=!0:Pl||(tt&536870912)!==0?s=!1:(Ks=s=!0,(f===2||f===9||f===3||f===6)&&(f=yi.current,f!==null&&f.tag===13&&(f.flags|=16384))),Aw(o,s)):Vf(o)}function Vf(s){var o=s;do{if((o.flags&32768)!==0){Aw(o,Ks);return}s=o.return;var u=gN(o.alternate,o,es);if(u!==null){Qe=u;return}if(o=o.sibling,o!==null){Qe=o;return}Qe=o=s}while(o!==null);Qt===0&&(Qt=5)}function Aw(s,o){do{var u=yN(s.alternate,s);if(u!==null){u.flags&=32767,Qe=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=u}while(s!==null);Qt=6,Qe=null}function Iw(s,o,u,f,y,b,C,k,$){s.cancelPendingCommit=null;do Ff();while(yn!==0);if((gt&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=_g,Rn(s,u,b,C,k,$),s===jt&&(Qe=jt=null,tt=0),Ol=o,Js=s,ts=u,Ny=b,ky=y,yw=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jN(Ht,function(){return Pw(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=D.T,D.T=null,y=G.p,G.p=2,C=gt,gt|=4;try{xN(s,o,u)}finally{gt=C,G.p=y,D.T=f}}yn=1,jw(),Rw(),Nw()}}function jw(){if(yn===1){yn=0;var s=Js,o=Ol,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var f=G.p;G.p=2;var y=gt;gt|=4;try{cw(o,s);var b=Wy,C=m1(s.containerInfo),k=b.focusedElem,$=b.selectionRange;if(C!==k&&k&&k.ownerDocument&&p1(k.ownerDocument.documentElement,k)){if($!==null&&xg(k)){var Z=$.start,se=$.end;if(se===void 0&&(se=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(se,k.value.length);else{var ue=k.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ie=te.getSelection(),ve=k.textContent.length,Pe=Math.min($.start,ve),Ct=$.end===void 0?Pe:Math.min($.end,ve);!ie.extend&&Pe>Ct&&(C=Ct,Ct=Pe,Pe=C);var Q=f1(k,Pe),q=f1(k,Ct);if(Q&&q&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var X=ue.createRange();X.setStart(Q.node,Q.offset),ie.removeAllRanges(),Pe>Ct?(ie.addRange(X),ie.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),ie.addRange(X))}}}}for(ue=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ue.length;k++){var ae=ue[k];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Jf=!!qy,Wy=qy=null}finally{gt=y,G.p=f,D.T=u}}s.current=o,yn=2}}function Rw(){if(yn===2){yn=0;var s=Js,o=Ol,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var f=G.p;G.p=2;var y=gt;gt|=4;try{rw(s,o.alternate,o)}finally{gt=y,G.p=f,D.T=u}}yn=3}}function Nw(){if(yn===4||yn===3){yn=0,hi();var s=Js,o=Ol,u=ts,f=yw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Ol=Js=null,kw(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Qs=null),pu(u),o=o.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Bn,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=D.T,y=G.p,G.p=2,D.T=null;try{for(var b=s.onRecoverableError,C=0;C<f.length;C++){var k=f[C];b(k.value,{componentStack:k.stack})}}finally{D.T=o,G.p=y}}(ts&3)!==0&&Ff(),xr(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===Py?Xu++:(Xu=0,Py=s):Xu=0,Zu(0)}}function kw(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pu(o)))}function Ff(){return jw(),Rw(),Nw(),Pw()}function Pw(){if(yn!==5)return!1;var s=Js,o=Ny;Ny=0;var u=pu(ts),f=D.T,y=G.p;try{G.p=32>u?32:u,D.T=null,u=ky,ky=null;var b=Js,C=ts;if(yn=0,Ol=Js=null,ts=0,(gt&6)!==0)throw Error(i(331));var k=gt;if(gt|=4,pw(b.current),dw(b,b.current,C,u),gt=k,Zu(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Bn,b)}catch{}return!0}finally{G.p=y,D.T=f,kw(s,o)}}function Dw(s,o,u){o=Pi(u,o),o=dy(s.stateNode,o,2),s=$s(s,o,2),s!==null&&(Ss(s,2),xr(s))}function St(s,o,u){if(s.tag===3)Dw(s,s,u);else for(;o!==null;){if(o.tag===3){Dw(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))){s=Pi(u,s),u=OS(2),f=$s(o,u,2),f!==null&&(MS(u,f,o,s),Ss(f,2),xr(f));break}}o=o.return}}function My(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new SN;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Iy=!0,y.add(u),s=CN.bind(null,s,o,u),o.then(s,s))}function CN(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,jt===s&&(tt&u)===u&&(Qt===4||Qt===3&&(tt&62914560)===tt&&300>It()-Pf?(gt&2)===0&&Ml(s,0):jy|=u,Dl===tt&&(Dl=0)),xr(s)}function Ow(s,o){o===0&&(o=du()),s=Xo(s,o),s!==null&&(Ss(s,o),xr(s))}function AN(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Ow(s,u)}function IN(s,o){var u=0;switch(s.tag){case 31:case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),Ow(s,u)}function jN(s,o){return Ii(s,o)}var Bf=null,Vl=null,Ly=!1,zf=!1,Vy=!1,Zs=0;function xr(s){s!==Vl&&s.next===null&&(Vl===null?Bf=Vl=s:Vl=Vl.next=s),zf=!0,Ly||(Ly=!0,NN())}function Zu(s,o){if(!Vy&&zf){Vy=!0;do for(var u=!1,f=Bf;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var C=f.suspendedLanes,k=f.pingedLanes;b=(1<<31-wn(42|s)+1)-1,b&=y&~(C&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Fw(f,b))}else b=tt,b=ji(f,f===jt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||bs(f,b)||(u=!0,Fw(f,b));f=f.next}while(u);Vy=!1}}function RN(){Mw()}function Mw(){zf=Ly=!1;var s=0;Zs!==0&&zN()&&(s=Zs);for(var o=It(),u=null,f=Bf;f!==null;){var y=f.next,b=Lw(f,o);b===0?(f.next=null,u===null?Bf=y:u.next=y,y===null&&(Vl=u)):(u=f,(s!==0||(b&3)!==0)&&(zf=!0)),f=y}yn!==0&&yn!==5||Zu(s),Zs!==0&&(Zs=0)}function Lw(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-wn(b),k=1<<C,$=y[C];$===-1?((k&u)===0||(k&f)!==0)&&(y[C]=rl(k,o)):$<=o&&(s.expiredLanes|=k),b&=~k}if(o=jt,u=tt,u=ji(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===o&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&Yi(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||bs(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(f!==null&&Yi(f),pu(u)){case 2:case 8:u=st;break;case 32:u=Ht;break;case 268435456:u=ni;break;default:u=Ht}return f=Vw.bind(null,s),u=Ii(u,f),s.callbackPriority=o,s.callbackNode=u,o}return f!==null&&f!==null&&Yi(f),s.callbackPriority=2,s.callbackNode=null,2}function Vw(s,o){if(yn!==0&&yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Ff()&&s.callbackNode!==u)return null;var f=tt;return f=ji(s,s===jt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(vw(s,f,o),Lw(s,It()),s.callbackNode!=null&&s.callbackNode===u?Vw.bind(null,s):null)}function Fw(s,o){if(Ff())return null;vw(s,o,!0)}function NN(){HN(function(){(gt&6)!==0?Ii(Be,RN):Mw()})}function Fy(){if(Zs===0){var s=_l;s===0&&(s=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),Zs=s}return Zs}function Bw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hr(""+s)}function zw(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function kN(s,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var b=Bw((y[Nn]||null).action),C=f.submitter;C&&(o=(o=C[Nn]||null)?Bw(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var k=new Go("action","action",null,f,y);s.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Zs!==0){var $=C?zw(y,C):new FormData(y);sy(u,{pending:!0,data:$,method:y.method,action:b},null,$)}}else typeof b=="function"&&(k.preventDefault(),$=C?zw(y,C):new FormData(y),sy(u,{pending:!0,data:$,method:y.method,action:b},b,$))},currentTarget:y}]})}}for(var By=0;By<wg.length;By++){var zy=wg[By],PN=zy.toLowerCase(),DN=zy[0].toUpperCase()+zy.slice(1);Zi(PN,"on"+DN)}Zi(x1,"onAnimationEnd"),Zi(v1,"onAnimationIteration"),Zi(b1,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(QR,"onTransitionRun"),Zi(JR,"onTransitionStart"),Zi(XR,"onTransitionCancel"),Zi(S1,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ed));function Uw(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var C=f.length-1;0<=C;C--){var k=f[C],$=k.instance,Z=k.currentTarget;if(k=k.listener,$!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=Z;try{b(y)}catch(se){tf(se)}y.currentTarget=null,b=$}else for(C=0;C<f.length;C++){if(k=f[C],$=k.instance,Z=k.currentTarget,k=k.listener,$!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=Z;try{b(y)}catch(se){tf(se)}y.currentTarget=null,b=$}}}}function Je(s,o){var u=o[Ts];u===void 0&&(u=o[Ts]=new Set);var f=s+"__bubble";u.has(f)||(Hw(o,s,2,!1),u.add(f))}function Uy(s,o,u){var f=0;o&&(f|=4),Hw(u,s,f,o)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Hy(s){if(!s[Uf]){s[Uf]=!0,sl.forEach(function(u){u!=="selectionchange"&&(ON.has(u)||Uy(u,!1,s),Uy(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Uf]||(o[Uf]=!0,Uy("selectionchange",!1,o))}}function Hw(s,o,u,f){switch(x2(o)){case 2:var y=ck;break;case 8:y=uk;break;default:y=r0}u=y.bind(null,o,u,s),y=void 0,!wu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function $y(s,o,u,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var k=f.stateNode.containerInfo;if(k===y)break;if(C===4)for(C=f.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;k!==null;){if(C=Or(k),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){f=b=C;continue e}k=k.parentNode}}f=f.return}Fh(function(){var Z=b,se=ul(u),ue=[];e:{var te=w1.get(s);if(te!==void 0){var ie=Go,ve=s;switch(s){case"keypress":if($o(u)===0)break e;case"keydown":case"keyup":ie=Kh;break;case"focusin":ve="focus",ie=Ds;break;case"focusout":ve="blur",ie=Ds;break;case"beforeblur":case"afterblur":ie=Ds;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Qh;break;case x1:case v1:case b1:ie=fl;break;case S1:ie=pl;break;case"scroll":case"scrollend":ie=Bh;break;case"wheel":ie=Xh;break;case"copy":case"cut":case"paste":ie=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Au;break;case"toggle":case"beforetoggle":ie=Ms}var Pe=(o&4)!==0,Ct=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var q=Z,X;q!==null;){var ae=q;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||Q===null||(ae=ii(q,Q),ae!=null&&Pe.push(td(q,ae,X))),Ct)break;q=q.return}0<Pe.length&&(te=new ie(te,ve,null,u,se),ue.push({event:te,listeners:Pe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",te&&u!==cl&&(ve=u.relatedTarget||u.fromElement)&&(Or(ve)||ve[cr]))break e;if((ie||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(ve=u.relatedTarget||u.toElement,ie=Z,ve=ve?Or(ve):null,ve!==null&&(Ct=a(ve),Pe=ve.tag,ve!==Ct||Pe!==5&&Pe!==27&&Pe!==6)&&(ve=null)):(ie=null,ve=Z),ie!==ve)){if(Pe=zh,ae="onMouseLeave",Q="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=Au,ae="onPointerLeave",Q="onPointerEnter",q="pointer"),Ct=ie==null?te:zo(ie),X=ve==null?te:zo(ve),te=new Pe(ae,q+"leave",ie,u,se),te.target=Ct,te.relatedTarget=X,ae=null,Or(se)===Z&&(Pe=new Pe(Q,q+"enter",ve,u,se),Pe.target=X,Pe.relatedTarget=Ct,ae=Pe),Ct=ae,ie&&ve)t:{for(Pe=MN,Q=ie,q=ve,X=0,ae=Q;ae;ae=Pe(ae))X++;ae=0;for(var Ie=q;Ie;Ie=Pe(Ie))ae++;for(;0<X-ae;)Q=Pe(Q),X--;for(;0<ae-X;)q=Pe(q),ae--;for(;X--;){if(Q===q||q!==null&&Q===q.alternate){Pe=Q;break t}Q=Pe(Q),q=Pe(q)}Pe=null}else Pe=null;ie!==null&&$w(ue,te,ie,Pe,!1),ve!==null&&Ct!==null&&$w(ue,Ct,ve,Pe,!0)}}e:{if(te=Z?zo(Z):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var ht=a1;else if(ri(te))if(l1)ht=WR;else{ht=GR;var Ee=$R}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&bu(Z.elementType)&&(ht=a1):ht=qR;if(ht&&(ht=ht(s,Z))){Yo(ue,ht,u,se);break e}Ee&&Ee(s,te,Z),s==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&ll(te,"number",te.value)}switch(Ee=Z?zo(Z):window,s){case"focusin":(ri(Ee)||Ee.contentEditable==="true")&&(ml=Ee,vg=Z,Ru=null);break;case"focusout":Ru=vg=ml=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,g1(ue,u,se);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":g1(ue,u,se)}var Ge;if(_)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ke?yt(s,u)&&(nt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(nt="onCompositionStart");nt&&(J&&u.locale!=="ko"&&(Ke||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ke&&(Ge=Rs()):(pi=se,dl="value"in pi?pi.value:pi.textContent,Ke=!0)),Ee=Hf(Z,nt),0<Ee.length&&(nt=new Tu(nt,s,null,u,se),ue.push({event:nt,listeners:Ee}),Ge?nt.data=Ge:(Ge=on(u),Ge!==null&&(nt.data=Ge)))),(Ge=M?Tn(s,u):En(s,u))&&(nt=Hf(Z,"onBeforeInput"),0<nt.length&&(Ee=new Tu("onBeforeInput","beforeinput",null,u,se),ue.push({event:Ee,listeners:nt}),Ee.data=Ge)),kN(ue,s,Z,u,se)}Uw(ue,o)})}function td(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Hf(s,o){for(var u=o+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=ii(s,u),y!=null&&f.unshift(td(s,y,b)),y=ii(s,o),y!=null&&f.push(td(s,y,b))),s.tag===3)return f;s=s.return}return[]}function MN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $w(s,o,u,f,y){for(var b=o._reactName,C=[];u!==null&&u!==f;){var k=u,$=k.alternate,Z=k.stateNode;if(k=k.tag,$!==null&&$===f)break;k!==5&&k!==26&&k!==27||Z===null||($=Z,y?(Z=ii(u,b),Z!=null&&C.unshift(td(u,Z,$))):y||(Z=ii(u,b),Z!=null&&C.push(td(u,Z,$)))),u=u.return}C.length!==0&&s.push({event:o,listeners:C})}var LN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function Gw(s){return(typeof s=="string"?s:""+s).replace(LN,`
`).replace(VN,"")}function qw(s,o){return o=Gw(o),Gw(s)===o}function Et(s,o,u,f,y,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Ni(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Ni(s,""+f);break;case"className":As(s,"class",f);break;case"tabIndex":As(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":As(s,u,f);break;case"style":Lh(s,f,b);break;case"data":if(o!=="object"){As(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=hr(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Et(s,o,"name",y.name,y,null),Et(s,o,"formEncType",y.formEncType,y,null),Et(s,o,"formMethod",y.formMethod,y,null),Et(s,o,"formTarget",y.formTarget,y,null)):(Et(s,o,"encType",y.encType,y,null),Et(s,o,"method",y.method,y,null),Et(s,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=hr(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=_n);break;case"onScroll":f!=null&&Je("scroll",s);break;case"onScrollEnd":f!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=hr(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Cs(s,"popover",f);break;case"xlinkActuate":Ri(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ri(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ri(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ri(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ri(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ri(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ri(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ri(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ri(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Cs(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=fg.get(u)||u,Cs(s,u,f))}}function Gy(s,o,u,f,y,b){switch(u){case"style":Lh(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Ni(s,f):(typeof f=="number"||typeof f=="bigint")&&Ni(s,""+f);break;case"onScroll":f!=null&&Je("scroll",s);break;case"onScrollEnd":f!=null&&Je("scrollend",s);break;case"onClick":f!=null&&(s.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=s[Nn]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,f,y);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Cs(s,u,f)}}}function On(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Et(s,o,b,C,u,null)}}y&&Et(s,o,"srcSet",u.srcSet,u,null),f&&Et(s,o,"src",u.src,u,null);return;case"input":Je("invalid",s);var k=b=C=y=null,$=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var se=u[f];if(se!=null)switch(f){case"name":y=se;break;case"type":C=se;break;case"checked":$=se;break;case"defaultChecked":Z=se;break;case"value":b=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,o));break;default:Et(s,o,f,se,u,null)}}Uo(s,b,k,$,Z,C,y,!1);return;case"select":Je("invalid",s),f=C=b=null;for(y in u)if(u.hasOwnProperty(y)&&(k=u[y],k!=null))switch(y){case"value":b=k;break;case"defaultValue":C=k;break;case"multiple":f=k;default:Et(s,o,y,k,u,null)}o=b,u=C,s.multiple=!!f,o!=null?dt(s,!!f,o,!1):u!=null&&dt(s,!!f,u,!0);return;case"textarea":Je("invalid",s),b=y=f=null;for(C in u)if(u.hasOwnProperty(C)&&(k=u[C],k!=null))switch(C){case"value":f=k;break;case"defaultValue":y=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Et(s,o,C,k,u,null)}js(s,f,y,b);return;case"option":for($ in u)u.hasOwnProperty($)&&(f=u[$],f!=null)&&($==="selected"?s.selected=f&&typeof f!="function"&&typeof f!="symbol":Et(s,o,$,f,u,null));return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(f=0;f<ed.length;f++)Je(ed[f],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Et(s,o,Z,f,u,null)}return;default:if(bu(o)){for(se in u)u.hasOwnProperty(se)&&(f=u[se],f!==void 0&&Gy(s,o,se,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&Et(s,o,k,f,u,null))}function FN(s,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,k=null,$=null,Z=null,se=null;for(ie in u){var ue=u[ie];if(u.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=ue;default:f.hasOwnProperty(ie)||Et(s,o,ie,null,f,ue)}}for(var te in f){var ie=f[te];if(ue=u[te],f.hasOwnProperty(te)&&(ie!=null||ue!=null))switch(te){case"type":b=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":se=ie;break;case"value":C=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,o));break;default:ie!==ue&&Et(s,o,te,ie,f,ue)}}Is(s,C,k,$,Z,se,b,y);return;case"select":ie=C=k=te=null;for(b in u)if($=u[b],u.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":ie=$;default:f.hasOwnProperty(b)||Et(s,o,b,null,f,$)}for(y in f)if(b=f[y],$=u[y],f.hasOwnProperty(y)&&(b!=null||$!=null))switch(y){case"value":te=b;break;case"defaultValue":k=b;break;case"multiple":C=b;default:b!==$&&Et(s,o,y,b,f,$)}o=k,u=C,f=ie,te!=null?dt(s,!!u,te,!1):!!f!=!!u&&(o!=null?dt(s,!!u,o,!0):dt(s,!!u,u?[]:"",!1));return;case"textarea":ie=te=null;for(k in u)if(y=u[k],u.hasOwnProperty(k)&&y!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Et(s,o,k,null,f,y)}for(C in f)if(y=f[C],b=u[C],f.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":te=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Et(s,o,C,y,f,b)}Ho(s,te,ie);return;case"option":for(var ve in u)te=u[ve],u.hasOwnProperty(ve)&&te!=null&&!f.hasOwnProperty(ve)&&(ve==="selected"?s.selected=!1:Et(s,o,ve,null,f,te));for($ in f)te=f[$],ie=u[$],f.hasOwnProperty($)&&te!==ie&&(te!=null||ie!=null)&&($==="selected"?s.selected=te&&typeof te!="function"&&typeof te!="symbol":Et(s,o,$,te,f,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)te=u[Pe],u.hasOwnProperty(Pe)&&te!=null&&!f.hasOwnProperty(Pe)&&Et(s,o,Pe,null,f,te);for(Z in f)if(te=f[Z],ie=u[Z],f.hasOwnProperty(Z)&&te!==ie&&(te!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:Et(s,o,Z,te,f,ie)}return;default:if(bu(o)){for(var Ct in u)te=u[Ct],u.hasOwnProperty(Ct)&&te!==void 0&&!f.hasOwnProperty(Ct)&&Gy(s,o,Ct,void 0,f,te);for(se in f)te=f[se],ie=u[se],!f.hasOwnProperty(se)||te===ie||te===void 0&&ie===void 0||Gy(s,o,se,te,f,ie);return}}for(var Q in u)te=u[Q],u.hasOwnProperty(Q)&&te!=null&&!f.hasOwnProperty(Q)&&Et(s,o,Q,null,f,te);for(ue in f)te=f[ue],ie=u[ue],!f.hasOwnProperty(ue)||te===ie||te==null&&ie==null||Et(s,o,ue,te,f,ie)}function Ww(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,C=y.initiatorType,k=y.duration;if(b&&k&&Ww(C)){for(C=0,k=y.responseEnd,f+=1;f<u.length;f++){var $=u[f],Z=$.startTime;if(Z>k)break;var se=$.transferSize,ue=$.initiatorType;se&&Ww(ue)&&($=$.responseEnd,C+=se*($<k?1:(k-Z)/($-Z)))}if(--f,o+=8*(b+C)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qy=null,Wy=null;function $f(s){return s.nodeType===9?s:s.ownerDocument}function Kw(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yw(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Ky(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yy=null;function zN(){var s=window.event;return s&&s.type==="popstate"?s===Yy?!1:(Yy=s,!0):(Yy=null,!1)}var Qw=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,Jw=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof Jw<"u"?function(s){return Jw.resolve(null).then(s).catch($N)}:Qw;function $N(s){setTimeout(function(){throw s})}function eo(s){return s==="head"}function Xw(s,o){var u=o,f=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){s.removeChild(y),Ul(o);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")nd(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,nd(u);for(var b=u.firstChild;b;){var C=b.nextSibling,k=b.nodeName;b[Dr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&nd(s.ownerDocument.body);u=y}while(u);Ul(o)}function Zw(s,o){var u=s;s=0;do{var f=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=f}while(u)}function Qy(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Qy(u),Bo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function GN(s,o,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Dr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Vi(s.nextSibling),s===null)break}return null}function qN(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Vi(s.nextSibling),s===null))return null;return s}function e2(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Vi(s.nextSibling),s===null))return null;return s}function Jy(s){return s.data==="$?"||s.data==="$~"}function Xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WN(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Vi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Zy=null;function t2(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return Vi(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function n2(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function i2(s,o,u){switch(o=$f(u),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nd(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Bo(s)}var Fi=new Map,r2=new Set;function Gf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ns=G.d;G.d={f:KN,r:YN,D:QN,C:JN,L:XN,m:ZN,X:tk,S:ek,M:nk};function KN(){var s=ns.f(),o=Mf();return s||o}function YN(s){var o=Mr(s);o!==null&&o.tag===5&&o.type==="form"?SS(o):ns.r(s)}var Fl=typeof document>"u"?null:document;function s2(s,o,u){var f=Fl;if(f&&typeof o=="string"&&o){var y=Kt(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),r2.has(y)||(r2.add(y),s={rel:s,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),On(o,"link",s),Zt(o),f.head.appendChild(o)))}}function QN(s){ns.D(s),s2("dns-prefetch",s,null)}function JN(s,o){ns.C(s,o),s2("preconnect",s,o)}function XN(s,o,u){ns.L(s,o,u);var f=Fl;if(f&&s&&o){var y='link[rel="preload"][as="'+Kt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Kt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Kt(u.imageSizes)+'"]')):y+='[href="'+Kt(s)+'"]';var b=y;switch(o){case"style":b=Bl(s);break;case"script":b=zl(s)}Fi.has(b)||(s=x({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Fi.set(b,s),f.querySelector(y)!==null||o==="style"&&f.querySelector(id(b))||o==="script"&&f.querySelector(rd(b))||(o=f.createElement("link"),On(o,"link",s),Zt(o),f.head.appendChild(o)))}}function ZN(s,o){ns.m(s,o);var u=Fl;if(u&&s){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Kt(f)+'"][href="'+Kt(s)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=zl(s)}if(!Fi.has(b)&&(s=x({rel:"modulepreload",href:s},o),Fi.set(b,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rd(b)))return}f=u.createElement("link"),On(f,"link",s),Zt(f),u.head.appendChild(f)}}}function ek(s,o,u){ns.S(s,o,u);var f=Fl;if(f&&s){var y=Ji(f).hoistableStyles,b=Bl(s);o=o||"default";var C=y.get(b);if(!C){var k={loading:0,preload:null};if(C=f.querySelector(id(b)))k.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Fi.get(b))&&e0(s,u);var $=C=f.createElement("link");Zt($),On($,"link",s),$._p=new Promise(function(Z,se){$.onload=Z,$.onerror=se}),$.addEventListener("load",function(){k.loading|=1}),$.addEventListener("error",function(){k.loading|=2}),k.loading|=4,qf(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:k},y.set(b,C)}}}function tk(s,o){ns.X(s,o);var u=Fl;if(u&&s){var f=Ji(u).hoistableScripts,y=zl(s),b=f.get(y);b||(b=u.querySelector(rd(y)),b||(s=x({src:s,async:!0},o),(o=Fi.get(y))&&t0(s,o),b=u.createElement("script"),Zt(b),On(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function nk(s,o){ns.M(s,o);var u=Fl;if(u&&s){var f=Ji(u).hoistableScripts,y=zl(s),b=f.get(y);b||(b=u.querySelector(rd(y)),b||(s=x({src:s,async:!0,type:"module"},o),(o=Fi.get(y))&&t0(s,o),b=u.createElement("script"),Zt(b),On(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function o2(s,o,u,f){var y=(y=Ae.current)?Gf(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Bl(u.href),u=Ji(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Bl(u.href);var b=Ji(y).hoistableStyles,C=b.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=y.querySelector(id(s)))&&!b._p&&(C.instance=b,C.state.loading=5),Fi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Fi.set(s,u),b||ik(y,s,u,C.state))),o&&f===null)throw Error(i(528,""));return C}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zl(u),u=Ji(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Bl(s){return'href="'+Kt(s)+'"'}function id(s){return'link[rel="stylesheet"]['+s+"]"}function a2(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function ik(s,o,u,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),On(o,"link",u),Zt(o),s.head.appendChild(o))}function zl(s){return'[src="'+Kt(s)+'"]'}function rd(s){return"script[async]"+s}function l2(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+Kt(u.href)+'"]');if(f)return o.instance=f,Zt(f),f;var y=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Zt(f),On(f,"style",y),qf(f,u.precedence,s),o.instance=f;case"stylesheet":y=Bl(u.href);var b=s.querySelector(id(y));if(b)return o.state.loading|=4,o.instance=b,Zt(b),b;f=a2(u),(y=Fi.get(y))&&e0(f,y),b=(s.ownerDocument||s).createElement("link"),Zt(b);var C=b;return C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),On(b,"link",f),o.state.loading|=4,qf(b,u.precedence,s),o.instance=b;case"script":return b=zl(u.src),(y=s.querySelector(rd(b)))?(o.instance=y,Zt(y),y):(f=u,(y=Fi.get(b))&&(f=x({},u),t0(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),Zt(y),On(y,"link",f),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,qf(f,u.precedence,s));return o.instance}function qf(s,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,C=0;C<f.length;C++){var k=f[C];if(k.dataset.precedence===o)b=k;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function e0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function t0(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Wf=null;function c2(s,o,u){if(Wf===null){var f=new Map,y=Wf=new Map;y.set(u,f)}else y=Wf,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[Dr]||b[Wt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=s+C;var k=f.get(C);k?k.push(b):f.set(C,[b])}}return f}function u2(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function rk(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function d2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sk(s,o,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Bl(f.href),b=o.querySelector(id(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Kf.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=b,Zt(b);return}b=o.ownerDocument||o,f=a2(f),(y=Fi.get(y))&&e0(f,y),b=b.createElement("link"),Zt(b);var C=b;C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),On(b,"link",f),u.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=Kf.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var n0=0;function ok(s,o){return s.stylesheets&&s.count===0&&Qf(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var f=setTimeout(function(){if(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+o);0<s.imgBytes&&n0===0&&(n0=62500*BN());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>n0?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Kf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yf=null;function Qf(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yf=new Map,o.forEach(ak,s),Yf=null,Kf.call(s))}function ak(s,o){if(!(o.state.loading&4)){var u=Yf.get(s);if(u)var f=u.get(null);else{u=new Map,Yf.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}y=o.instance,C=y.getAttribute("data-precedence"),b=u.get(C)||f,b===f&&u.set(null,y),u.set(C,y),this.count++,f=Kf.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var sd={$$typeof:P,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function lk(s,o,u,f,y,b,C,k,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function h2(s,o,u,f,y,b,C,k,$,Z,se,ue){return s=new lk(s,o,u,C,$,Z,se,ue,k),o=1,b===!0&&(o|=24),b=gi(3,null,null,o),s.current=b,b.stateNode=s,o=Og(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},Fg(b),s}function f2(s){return s?(s=xl,s):xl}function p2(s,o,u,f,y,b){y=f2(y),f.context===null?f.context=y:f.pendingContext=y,f=Hs(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=$s(s,f,o),u!==null&&(ci(u,s,o),Lu(u,s,o))}function m2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function i0(s,o){m2(s,o),(s=s.alternate)&&m2(s,o)}function g2(s){if(s.tag===13||s.tag===31){var o=Xo(s,67108864);o!==null&&ci(o,s,67108864),i0(s,67108864)}}function y2(s){if(s.tag===13||s.tag===31){var o=Si();o=fu(o);var u=Xo(s,o);u!==null&&ci(u,s,o),i0(s,o)}}var Jf=!0;function ck(s,o,u,f){var y=D.T;D.T=null;var b=G.p;try{G.p=2,r0(s,o,u,f)}finally{G.p=b,D.T=y}}function uk(s,o,u,f){var y=D.T;D.T=null;var b=G.p;try{G.p=8,r0(s,o,u,f)}finally{G.p=b,D.T=y}}function r0(s,o,u,f){if(Jf){var y=s0(f);if(y===null)$y(s,o,f,Xf,u),v2(s,f);else if(hk(y,s,o,u,f))f.stopPropagation();else if(v2(s,f),o&4&&-1<dk.indexOf(s)){for(;y!==null;){var b=Mr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=gn(b.pendingLanes);if(C!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var $=1<<31-wn(C);k.entanglements[1]|=$,C&=~$}xr(b),(gt&6)===0&&(Df=It()+500,Zu(0))}}break;case 31:case 13:k=Xo(b,2),k!==null&&ci(k,b,2),Mf(),i0(b,2)}if(b=s0(f),b===null&&$y(s,o,f,Xf,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else $y(s,o,f,null,u)}}function s0(s){return s=ul(s),o0(s)}var Xf=null;function o0(s){if(Xf=null,s=Or(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=c(o),s!==null)return s;s=null}else if(u===31){if(s=h(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Xf=s,null}function x2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Be:return 2;case st:return 8;case Ht:case vs:return 32;case ni:return 268435456;default:return 32}default:return 32}}var a0=!1,to=null,no=null,io=null,od=new Map,ad=new Map,ro=[],dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v2(s,o){switch(s){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":od.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(o.pointerId)}}function ld(s,o,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Mr(o),o!==null&&g2(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function hk(s,o,u,f,y){switch(o){case"focusin":return to=ld(to,s,o,u,f,y),!0;case"dragenter":return no=ld(no,s,o,u,f,y),!0;case"mouseover":return io=ld(io,s,o,u,f,y),!0;case"pointerover":var b=y.pointerId;return od.set(b,ld(od.get(b)||null,s,o,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,ad.set(b,ld(ad.get(b)||null,s,o,u,f,y)),!0}return!1}function b2(s){var o=Or(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){s.blockedOn=o,Ph(s.priority,function(){y2(u)});return}}else if(o===31){if(o=h(u),o!==null){s.blockedOn=o,Ph(s.priority,function(){y2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zf(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=s0(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);cl=f,u.target.dispatchEvent(f),cl=null}else return o=Mr(u),o!==null&&g2(o),s.blockedOn=u,!1;o.shift()}return!0}function S2(s,o,u){Zf(s)&&u.delete(o)}function fk(){a0=!1,to!==null&&Zf(to)&&(to=null),no!==null&&Zf(no)&&(no=null),io!==null&&Zf(io)&&(io=null),od.forEach(S2),ad.forEach(S2)}function ep(s,o){s.blockedOn===o&&(s.blockedOn=null,a0||(a0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fk)))}var tp=null;function w2(s){tp!==s&&(tp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tp===s&&(tp=null);for(var o=0;o<s.length;o+=3){var u=s[o],f=s[o+1],y=s[o+2];if(typeof f!="function"){if(o0(f||u)===null)continue;break}var b=Mr(u);b!==null&&(s.splice(o,3),o-=3,sy(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function Ul(s){function o($){return ep($,s)}to!==null&&ep(to,s),no!==null&&ep(no,s),io!==null&&ep(io,s),od.forEach(o),ad.forEach(o);for(var u=0;u<ro.length;u++){var f=ro[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ro.length&&(u=ro[0],u.blockedOn===null);)b2(u),u.blockedOn===null&&ro.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],C=y[Nn]||null;if(typeof b=="function")C||w2(u);else if(C){var k=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[Nn]||null)k=C.formAction;else if(o0(y)!==null)continue}else k=C.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),w2(u)}}}function _2(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function l0(s){this._internalRoot=s}np.prototype.render=l0.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Si();p2(u,f,s,o,null,null)},np.prototype.unmount=l0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;p2(s.current,2,null,s,null,null),Mf(),o[cr]=null}};function np(s){this._internalRoot=s}np.prototype.unstable_scheduleHydration=function(s){if(s){var o=Pr();s={blockedOn:null,target:s,priority:o};for(var u=0;u<ro.length&&o!==0&&o<ro[u].priority;u++);ro.splice(u,0,s),u===0&&b2(s)}};var T2=e.version;if(T2!=="19.2.3")throw Error(i(527,T2,"19.2.3"));G.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var pk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ip.isDisabled&&ip.supportsFiber)try{Bn=ip.inject(pk),mn=ip}catch{}}return ud.createRoot=function(s,o){if(!r(s))throw Error(i(299));var u=!1,f="",y=NS,b=kS,C=PS;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=h2(s,1,!1,null,null,u,f,null,y,b,C,_2),s[cr]=o.current,Hy(s),new l0(o)},ud.hydrateRoot=function(s,o,u){if(!r(s))throw Error(i(299));var f=!1,y="",b=NS,C=kS,k=PS,$=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),o=h2(s,1,!0,o,u??null,f,y,$,b,C,k,_2),o.context=f2(null),u=o.current,f=Si(),f=fu(f),y=Hs(f),y.callback=null,$s(u,y,f),u=f,o.current.lanes=u,Ss(o,u),xr(o),s[cr]=o.current,Hy(s),new np(o)},ud.version="19.2.3",ud}var D2;function Tk(){if(D2)return d0.exports;D2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=_k(),d0.exports}var Ek=Tk(),Zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ck={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ak=class{#e=Ck;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ga=new Ak;function Ik(t){setTimeout(t,0)}var za=typeof window>"u"||"Deno"in globalThis;function ei(){}function jk(t,e){return typeof t=="function"?t(e):t}function px(t){return typeof t=="number"&&t>=0&&t!==1/0}function CC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bo(t,e){return typeof t=="function"?t(e):t}function Ui(t,e){return typeof t=="function"?t(e):t}function O2(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:a,queryKey:c,stale:h}=t;if(c){if(i){if(e.queryHash!==bv(c,e.options))return!1}else if(!Xd(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||r&&r!==e.state.fetchStatus||a&&!a(e))}function M2(t,e){const{exact:n,status:i,predicate:r,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Ua(e.options.mutationKey)!==Ua(a))return!1}else if(!Xd(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function bv(t,e){return(e?.queryKeyHashFn||Ua)(t)}function Ua(t){return JSON.stringify(t,(e,n)=>mx(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Xd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xd(t[n],e[n])):!1}var Rk=Object.prototype.hasOwnProperty;function AC(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=L2(t)&&L2(e);if(!i&&!(mx(t)&&mx(e)))return e;const a=(i?t:Object.keys(t)).length,c=i?e:Object.keys(e),h=c.length,d=i?new Array(h):{};let p=0;for(let m=0;m<h;m++){const x=i?m:c[m],v=t[x],S=e[x];if(v===S){d[x]=v,(i?m<a:Rk.call(t,x))&&p++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[x]=S;continue}const w=AC(v,S,n+1);d[x]=w,w===v&&p++}return a===h&&p===a?t:d}function Hp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function L2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mx(t){if(!V2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!V2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V2(t){return Object.prototype.toString.call(t)==="[object Object]"}function Nk(t){return new Promise(e=>{ga.setTimeout(e,t)})}function gx(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AC(t,e):e}function kk(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function Pk(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Sv=Symbol();function IC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function wv(t,e){return typeof t=="function"?t(...e):!!t}function Dk(t,e,n){let i=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=e(),i||(i=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var Ok=class extends Zc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!za&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_v=new Ok;function yx(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var Mk=Ik;function Lk(){let t=[],e=0,n=h=>{h()},i=h=>{h()},r=Mk;const a=h=>{e?t.push(h):r(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&r(()=>{i(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||c()}return d},batchCalls:h=>(...d)=>{a(()=>{h(...d)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{r=h}}}var xn=Lk(),Vk=class extends Zc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!za&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},$p=new Vk;function Fk(t){return Math.min(1e3*2**t,3e4)}function jC(t){return(t??"online")==="online"?$p.isOnline():!0}var xx=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function RC(t){let e=!1,n=0,i;const r=yx(),a=()=>r.status!=="pending",c=E=>{if(!a()){const T=new xx(E);v(T),t.onCancel?.(T)}},h=()=>{e=!0},d=()=>{e=!1},p=()=>_v.isFocused()&&(t.networkMode==="always"||$p.isOnline())&&t.canRun(),m=()=>jC(t.networkMode)&&t.canRun(),x=E=>{a()||(i?.(),r.resolve(E))},v=E=>{a()||(i?.(),r.reject(E))},S=()=>new Promise(E=>{i=T=>{(a()||p())&&E(T)},t.onPause?.()}).then(()=>{i=void 0,a()||t.onContinue?.()}),w=()=>{if(a())return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(O){E=Promise.reject(O)}Promise.resolve(E).then(x).catch(O=>{if(a())return;const N=t.retry??(za?0:3),P=t.retryDelay??Fk,B=typeof P=="function"?P(n,O):P,W=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,O);if(e||!W){v(O);return}n++,t.onFail?.(n,O),Nk(B).then(()=>p()?void 0:S()).then(()=>{e?v(O):w()})})};return{promise:r,status:()=>r.status,cancel:c,continue:()=>(i?.(),r),cancelRetry:h,continueRetry:d,canStart:m,start:()=>(m()?w():S().then(w),r)}}var NC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),px(this.gcTime)&&(this.#e=ga.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(za?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ga.clearTimeout(this.#e),this.#e=void 0)}},Bk=class extends NC{#e;#t;#n;#r;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=B2(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=B2(this.options);n.data!==void 0&&(this.setState(F2(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=gx(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(ei).catch(ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ui(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>bo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!CC(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,i.signal)})},a=()=>{const d=IC(this.options,n),m=(()=>{const x={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(x),x})();return this.#a=!1,this.options.persister?this.options.persister(d,m,this):d(m)},h=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return r(d),d})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#s({type:"fetch",meta:h.fetchOptions?.meta}),this.#i=RC({initialPromise:n?.initialPromise,fn:h.fetchFn,onCancel:d=>{d instanceof xx&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(d,p)=>{this.#s({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const d=await this.#i.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof xx){if(d.silent)return this.#i.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...kC(i.data,this.options),fetchMeta:e.meta??null};case"success":const r={...i,...F2(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const a=e.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),xn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function kC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function F2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function B2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zk=class extends Zc{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#a=yx(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),z2(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ui(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Hp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&U2(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),i&&(this.#t!==n||Ui(this.options.enabled,this.#t)!==Ui(e.enabled,this.#t)||bo(this.options.staleTime,this.#t)!==bo(e.staleTime,this.#t))&&this.#g();const r=this.#y();i&&(this.#t!==n||Ui(this.options.enabled,this.#t)!==Ui(e.enabled,this.#t)||r!==this.#l)&&this.#x(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Hk(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ei)),e}#g(){this.#b();const t=bo(this.options.staleTime,this.#t);if(za||this.#r.isStale||!px(t))return;const n=CC(this.#r.dataUpdatedAt,t)+1;this.#c=ga.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#S(),this.#l=t,!(za||Ui(this.options.enabled,this.#t)===!1||!px(this.#l)||this.#l===0)&&(this.#u=ga.setInterval(()=>{(this.options.refetchIntervalInBackground||_v.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#x(this.#y())}#b(){this.#c&&(ga.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(ga.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,a=this.#i,c=this.#o,d=t!==n?t.state:this.#n,{state:p}=t;let m={...p},x=!1,v;if(e._optimisticResults){const A=this.hasListeners(),R=!A&&z2(t,e),V=A&&U2(t,n,e,i);(R||V)&&(m={...m,...kC(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:w,status:E}=m;v=m.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&E==="pending"){let A;r?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=r.data,T=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,A!==void 0&&(E="success",v=gx(r?.data,A,e),x=!0)}if(e.select&&v!==void 0&&!T)if(r&&v===a?.data&&e.select===this.#m)v=this.#h;else try{this.#m=e.select,v=e.select(v),v=gx(r?.data,v,e),this.#h=v,this.#s=null}catch(A){this.#s=A}this.#s&&(S=this.#s,v=this.#h,w=Date.now(),E="error");const O=m.fetchStatus==="fetching",N=E==="pending",P=E==="error",B=N&&O,W=v!==void 0,j={status:E,fetchStatus:m.fetchStatus,isPending:N,isSuccess:E==="success",isError:P,isInitialLoading:B,isLoading:B,data:v,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:O,isRefetching:O&&!N,isLoadingError:P&&!W,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&W,isStale:Tv(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Ui(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=j.data!==void 0,R=j.status==="error"&&!A,V=F=>{R?F.reject(j.error):A&&F.resolve(j.data)},z=()=>{const F=this.#a=j.promise=yx();V(F)},U=this.#a;switch(U.status){case"pending":t.queryHash===n.queryHash&&V(U);break;case"fulfilled":(R||j.data!==U.value)&&z();break;case"rejected":(!R||j.error!==U.reason)&&z();break}}return j}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#f=this.#t),Hp(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const a=new Set(r??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(c=>{const h=c;return this.#r[h]!==t[h]&&a.has(h)})};this.#_({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#_(t){xn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Uk(t,e){return Ui(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function z2(t,e){return Uk(t,e)||t.state.data!==void 0&&vx(t,e,e.refetchOnMount)}function vx(t,e,n){if(Ui(e.enabled,t)!==!1&&bo(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Tv(t,e)}return!1}function U2(t,e,n,i){return(t!==e||Ui(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Tv(t,n)}function Tv(t,e){return Ui(e.enabled,t)!==!1&&t.isStaleByTime(bo(e.staleTime,t))}function Hk(t,e){return!Hp(t.getCurrentResult(),e)}function H2(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const p=async()=>{let m=!1;const x=w=>{Dk(w,()=>e.signal,()=>m=!0)},v=IC(e.options,e.fetchOptions),S=async(w,E,T)=>{if(m)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return x(K),K})(),P=await v(N),{maxPages:B}=e.options,W=T?Pk:kk;return{pages:W(w.pages,P,B),pageParams:W(w.pageParams,E,B)}};if(r&&a.length){const w=r==="backward",E=w?$k:$2,T={pages:a,pageParams:c},O=E(i,T);h=await S(T,O,w)}else{const w=t??a.length;do{const E=d===0?c[0]??i.initialPageParam:$2(i,h);if(d>0&&E==null)break;h=await S(h,E),d++}while(d<w)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function $2(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function $k(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Gk=class extends NC{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||PC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=RC({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(c,h)=>{this.#i({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#r.canStart();try{if(r)n();else{this.#i({type:"pending",variables:e,isPaused:a}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,i);const h=await this.options.onMutate?.(e,i);h!==this.state.context&&this.#i({type:"pending",context:h,variables:e,isPaused:a})}const c=await this.#r.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,i),await this.options.onSuccess?.(c,e,this.state.context,i),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(c,null,e,this.state.context,i),this.#i({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onError?.(c,e,this.state.context,i)}catch(h){Promise.reject(h)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,i)}catch(h){Promise.reject(h)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,i)}catch(h){Promise.reject(h)}throw this.#i({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function PC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qk=class extends Zc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new Gk({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=rp(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=rp(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=rp(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=rp(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){xn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>M2(e,n))}findAll(t={}){return this.getAll().filter(e=>M2(t,e))}notify(t){xn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return xn.batch(()=>Promise.all(t.map(e=>e.continue().catch(ei))))}};function rp(t){return t.options.scope?.id}var Wk=class extends Zc{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Hp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ua(n.mutationKey)!==Ua(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??PC();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){xn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#r.onSuccess?.(e.data,n,i,r)}catch(a){Promise.reject(a)}try{this.#r.onSettled?.(e.data,null,n,i,r)}catch(a){Promise.reject(a)}}else if(e?.type==="error"){try{this.#r.onError?.(e.error,n,i,r)}catch(a){Promise.reject(a)}try{this.#r.onSettled?.(void 0,e.error,n,i,r)}catch(a){Promise.reject(a)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Kk=class extends Zc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??bv(i,e);let a=this.get(r);return a||(a=new Bk({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>O2(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>O2(t,n)):e}notify(t){xn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yk=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new Kk,this.#t=t.mutationCache||new qk,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=_v.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=$p.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(i.queryHash)?.state.data,c=jk(e,a);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return xn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return xn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=xn.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(ei).catch(ei)}invalidateQueries(t,e={}){return xn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=xn.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(ei)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(ei)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(bo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ei).catch(ei)}fetchInfiniteQuery(t){return t.behavior=H2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ei).catch(ei)}ensureInfiniteQueryData(t){return t.behavior=H2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $p.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ua(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Xd(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Ua(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Xd(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},DC=L.createContext(void 0),gh=t=>{const e=L.useContext(DC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qk=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(DC.Provider,{value:t,children:e})),OC=L.createContext(!1),Jk=()=>L.useContext(OC);OC.Provider;function Xk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Zk=L.createContext(Xk()),eP=()=>L.useContext(Zk),tP=(t,e,n)=>{const i=n?.state.error&&typeof t.throwOnError=="function"?wv(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},nP=t=>{L.useEffect(()=>{t.clearReset()},[t])},iP=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||wv(n,[t.error,i])),rP=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},sP=(t,e)=>t.isLoading&&t.isFetching&&!e,oP=(t,e)=>t?.suspense&&e.isPending,G2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function aP(t,e,n){const i=Jk(),r=eP(),a=gh(),c=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=a.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",rP(c),tP(c,r,h),nP(r);const d=!a.getQueryCache().get(c.queryHash),[p]=L.useState(()=>new e(a,c)),m=p.getOptimisticResult(c),x=!i&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(v=>{const S=x?p.subscribe(xn.batchCalls(v)):ei;return p.updateResult(),S},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),L.useEffect(()=>{p.setOptions(c)},[c,p]),oP(c,m))throw G2(c,p,r);if(iP({result:m,errorResetBoundary:r,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw m.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!za&&sP(m,i)&&(d?G2(c,p,r):h?.promise)?.catch(ei).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?m:p.trackResult(m)}function yh(t,e){return aP(t,zk)}function jm(t,e){const n=gh(),[i]=L.useState(()=>new Wk(n,t));L.useEffect(()=>{i.setOptions(t)},[i,t]);const r=L.useSyncExternalStore(L.useCallback(c=>i.subscribe(xn.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),a=L.useCallback((c,h)=>{i.mutate(c,h).catch(ei)},[i]);if(r.error&&wv(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}const bx=new WeakMap,lP=new WeakMap,Gp={current:[]};let m0=!1,Vd=0;const Cd=new Set,sp=new Map;function MC(t){for(const e of t){if(Gp.current.includes(e))continue;Gp.current.push(e),e.recompute();const n=lP.get(e);if(n)for(const i of n){const r=bx.get(i);r?.length&&MC(r)}}}function cP(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function uP(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function LC(t){if(Vd>0&&!sp.has(t)&&sp.set(t,t.prevState),Cd.add(t),!(Vd>0)&&!m0)try{for(m0=!0;Cd.size>0;){const e=Array.from(Cd);Cd.clear();for(const n of e){const i=sp.get(n)??n.prevState;n.prevState=i,cP(n)}for(const n of e){const i=bx.get(n);i&&(Gp.current.push(n),MC(i))}for(const n of e){const i=bx.get(n);if(i)for(const r of i)uP(r)}}}finally{m0=!1,Gp.current=[],sp.clear()}}function dP(t){Vd++;try{t()}finally{if(Vd--,Vd===0){const e=Cd.values().next().value;e&&LC(e)}}}function hP(t){return typeof t=="function"}class fP{constructor(e,n){this.listeners=new Set,this.subscribe=i=>{var r,a;this.listeners.add(i);const c=(a=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:a.call(r,i,this);return()=>{this.listeners.delete(i),c?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,i,r;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):hP(e)?this.state=e(this.prevState):this.state=e,(r=(i=this.options)==null?void 0:i.onUpdate)==null||r.call(i),LC(this)}}const So="__TSR_index",q2="popstate",W2="beforeunload";function pP(t){let e=t.getLocation();const n=new Set,i=c=>{e=t.getLocation(),n.forEach(h=>h({location:e,action:c}))},r=c=>{t.notifyOnIndexChange??!0?i(c):e=t.getLocation()},a=async({task:c,navigateOpts:h,...d})=>{if(h?.ignoreBlocker??!1){c();return}const m=t.getBlockers?.()??[],x=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&x)for(const v of m){const S=qp(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}c()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:c=>(n.add(c),()=>{n.delete(c)}),push:(c,h,d)=>{const p=e.state[So];h=K2(p+1,h),a({task:()=>{t.pushState(c,h),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:c,state:h})},replace:(c,h,d)=>{const p=e.state[So];h=K2(p,h),a({task:()=>{t.replaceState(c,h),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:c,state:h})},go:(c,h)=>{a({task:()=>{t.go(c),r({type:"GO",index:c})},navigateOpts:h,type:"GO"})},back:c=>{a({task:()=>{t.back(c?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{a({task:()=>{t.forward(c?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>e.state[So]!==0,createHref:c=>t.createHref(c),block:c=>{if(!t.setBlockers)return()=>{};const h=t.getBlockers?.()??[];return t.setBlockers([...h,c]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(p=>p!==c))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:i}}function K2(t,e){e||(e={});const n=Ev();return{...e,key:n,__TSR_key:n,[So]:t}}function mP(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,i=e.history.replaceState;let r=[];const a=()=>r,c=A=>r=A,h=(A=>A),d=(()=>qp(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const A=Ev();e.history.replaceState({[So]:0,key:A,__TSR_key:A},"")}let p=d(),m,x=!1,v=!1,S=!1,w=!1;const E=()=>p;let T,O;const N=()=>{T&&(j._ignoreSubscribers=!0,(T.isPush?e.history.pushState:e.history.replaceState)(T.state,"",T.href),j._ignoreSubscribers=!1,T=void 0,O=void 0,m=void 0)},P=(A,R,V)=>{const z=h(R);O||(m=p),p=qp(R,V),T={href:z,state:V,isPush:T?.isPush||A==="push"},O||(O=Promise.resolve().then(()=>N()))},B=A=>{p=d(),j.notify({type:A})},W=async()=>{if(v){v=!1;return}const A=d(),R=A.state[So]-p.state[So],V=R===1,z=R===-1,U=!V&&!z||x;x=!1;const F=U?"GO":z?"BACK":"FORWARD",pe=U?{type:"GO",index:R}:{type:z?"BACK":"FORWARD"};if(S)S=!1;else{const Ce=a();if(typeof document<"u"&&Ce.length){for(const D of Ce)if(await D.blockerFn({currentLocation:p,nextLocation:A,action:F})){v=!0,e.history.go(1),j.notify(pe);return}}}p=d(),j.notify(pe)},K=A=>{if(w){w=!1;return}let R=!1;const V=a();if(typeof document<"u"&&V.length)for(const z of V){const U=z.enableBeforeUnload??!0;if(U===!0){R=!0;break}if(typeof U=="function"&&U()===!0){R=!0;break}}if(R)return A.preventDefault(),A.returnValue=""},j=pP({getLocation:E,getLength:()=>e.history.length,pushState:(A,R)=>P("push",A,R),replaceState:(A,R)=>P("replace",A,R),back:A=>(A&&(S=!0),w=!0,e.history.back()),forward:A=>{A&&(S=!0),w=!0,e.history.forward()},go:A=>{x=!0,e.history.go(A)},createHref:A=>h(A),flush:N,destroy:()=>{e.history.pushState=n,e.history.replaceState=i,e.removeEventListener(W2,K,{capture:!0}),e.removeEventListener(q2,W)},onBlocked:()=>{m&&p!==m&&(p=m)},getBlockers:a,setBlockers:c,notifyOnIndexChange:!1});return e.addEventListener(W2,K,{capture:!0}),e.addEventListener(q2,W),e.history.pushState=function(...A){const R=n.apply(e.history,A);return j._ignoreSubscribers||B("PUSH"),R},e.history.replaceState=function(...A){const R=i.apply(e.history,A);return j._ignoreSubscribers||B("REPLACE"),R},j}function gP(t){let e=t.replace(/[\x00-\x1f\x7f]/g,"");return e.startsWith("//")&&(e="/"+e.replace(/^\/+/,"")),e}function qp(t,e){const n=gP(t),i=n.indexOf("#"),r=n.indexOf("?"),a=Ev();return{href:n,pathname:n.substring(0,i>0?r>0?Math.min(i,r):i:r>0?r:n.length),hash:i>-1?n.substring(i):"",search:r>-1?n.slice(r,i===-1?void 0:i):"",state:e||{[So]:0,key:a,__TSR_key:a}}}function Ev(){return(Math.random()+1).toString(36).substring(7)}const yP=!1;function Fd(t){let e;return dP(()=>{e=t()}),e}function Zd(t){return t[t.length-1]}function xP(t){return typeof t=="function"}function mo(t,e){return xP(t)?t(e):t}const vP=Object.prototype.hasOwnProperty,Y2=Object.prototype.propertyIsEnumerable;function wi(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=e,r=X2(t)&&X2(i);if(!r&&!(Wp(t)&&Wp(i)))return i;const a=r?t:Q2(t);if(!a)return i;const c=r?i:Q2(i);if(!c)return i;const h=a.length,d=c.length,p=r?new Array(d):{};let m=0;for(let x=0;x<d;x++){const v=r?x:c[x],S=t[v],w=i[v];if(S===w){p[v]=S,(r?x<h:vP.call(t,v))&&m++;continue}if(S===null||w===null||typeof S!="object"||typeof w!="object"){p[v]=w;continue}const E=wi(S,w,n+1);p[v]=E,E===S&&m++}return h===d&&m===h?t:p}function Q2(t){const e=Object.getOwnPropertyNames(t);for(const r of e)if(!Y2.call(t,r))return!1;const n=Object.getOwnPropertySymbols(t);if(n.length===0)return e;const i=e;for(const r of n){if(!Y2.call(t,r))return!1;i.push(r)}return i}function Wp(t){if(!J2(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!J2(n)||!n.hasOwnProperty("isPrototypeOf"))}function J2(t){return Object.prototype.toString.call(t)==="[object Object]"}function X2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ma(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;i++)if(!Ma(t[i],e[i],n))return!1;return!0}if(Wp(t)&&Wp(e)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const c in e)if((!i||e[c]!==void 0)&&!Ma(t[c],e[c],n))return!1;return!0}let r=0;if(!i)r=Object.keys(t).length;else for(const c in t)t[c]!==void 0&&r++;let a=0;for(const c in e)if((!i||e[c]!==void 0)&&(a++,a>r||!Ma(t[c],e[c],n)))return!1;return r===a}return!1}function Oc(t){let e,n;const i=new Promise((r,a)=>{e=r,n=a});return i.status="pending",i.resolve=r=>{i.status="resolved",i.value=r,e(r),t?.(r)},i.reject=r=>{i.status="rejected",n(r)},i}function Ac(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function bP(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function Z2(t){let e;try{e=decodeURI(t)}catch{e=t.replaceAll(/%[0-9A-F]{2}/gi,n=>{try{return decodeURI(n)}catch{return n}})}return bP(e)}const VC=["http:","https:","mailto:","tel:"];function Kp(t){if(!t)return!1;try{const e=new URL(t);return!VC.includes(e.protocol)}catch{return!1}}function dd(t){if(!t)return{path:t,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(t)&&!t.startsWith("//"))return{path:t,handledProtocolRelativeURL:!1};const e=/%25|%5C/gi;let n=0,i="",r;for(;(r=e.exec(t))!==null;)i+=Z2(t.slice(n,r.index))+r[0],n=e.lastIndex;i=i+Z2(n?t.slice(n):t);let a=!1;return i.startsWith("//")&&(a=!0,i="/"+i.replace(/^\/+/,"")),{path:i,handledProtocolRelativeURL:a}}function SP(t){return/\s|[^\u0000-\u007F]/.test(t)?t.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):t}var wP="Invariant failed";function fs(t,e){if(!t)throw new Error(wP)}function Yp(t){const e=new Map;let n,i;const r=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,i&&(i.next=a,a.prev=i)):(a.next.prev=void 0,n=a.next,a.next=void 0,i&&(a.prev=i,i.next=a)),i=a)};return{get(a){const c=e.get(a);if(c)return r(c),c.value},set(a,c){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const h=e.get(a);if(h)h.value=c,r(h);else{const d={key:a,value:c,prev:i};i&&(i.next=d),i=d,n||(n=d),e.set(a,d)}},clear(){e.clear(),n=void 0,i=void 0}}}const Mc=0,Ha=1,$a=2,eh=3,ya=4,FC=5;function _P(t){const e=t.indexOf("{");if(e===-1)return null;const n=t.indexOf("}",e);return n===-1||e+1>=t.length?null:[e,n]}function Cv(t,e,n=new Uint16Array(6)){const i=t.indexOf("/",e),r=i===-1?t.length:i,a=t.substring(e,r);if(!a||!a.includes("$"))return n[0]=Mc,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n;if(a==="$"){const h=t.length;return n[0]=$a,n[1]=e,n[2]=e,n[3]=h,n[4]=h,n[5]=h,n}if(a.charCodeAt(0)===36)return n[0]=Ha,n[1]=e,n[2]=e+1,n[3]=r,n[4]=r,n[5]=r,n;const c=_P(a);if(c){const[h,d]=c,p=a.charCodeAt(h+1);if(p===45){if(h+2<a.length&&a.charCodeAt(h+2)===36){const m=h+3,x=d;if(m<x)return n[0]=eh,n[1]=e+h,n[2]=e+m,n[3]=e+x,n[4]=e+d+1,n[5]=r,n}}else if(p===36){const m=h+1,x=h+2;return x===d?(n[0]=$a,n[1]=e+h,n[2]=e+m,n[3]=e+x,n[4]=e+d+1,n[5]=t.length,n):(n[0]=Ha,n[1]=e+h,n[2]=e+x,n[3]=e+d,n[4]=e+d+1,n[5]=r,n)}}return n[0]=Mc,n[1]=e,n[2]=e,n[3]=r,n[4]=r,n[5]=r,n}function Rm(t,e,n,i,r,a,c){c?.(n);let h=i;{const d=n.fullPath??n.from,p=d.length,m=n.options?.caseSensitive??t,x=!!(n.options?.params?.parse&&n.options?.skipRouteOnParseError?.params);for(;h<p;){const S=Cv(d,h,e);let w;const E=h,T=S[5];switch(h=T+1,a++,S[0]){case Mc:{const N=d.substring(S[2],S[3]);if(m){const P=r.static?.get(N);if(P)w=P;else{r.static??=new Map;const B=xa(n.fullPath??n.from);B.parent=r,B.depth=a,w=B,r.static.set(N,B)}}else{const P=N.toLowerCase(),B=r.staticInsensitive?.get(P);if(B)w=B;else{r.staticInsensitive??=new Map;const W=xa(n.fullPath??n.from);W.parent=r,W.depth=a,w=W,r.staticInsensitive.set(P,W)}}break}case Ha:{const N=d.substring(E,S[1]),P=d.substring(S[4],T),B=m&&!!(N||P),W=N?B?N:N.toLowerCase():void 0,K=P?B?P:P.toLowerCase():void 0,j=!x&&r.dynamic?.find(A=>!A.skipOnParamError&&A.caseSensitive===B&&A.prefix===W&&A.suffix===K);if(j)w=j;else{const A=y0(Ha,n.fullPath??n.from,B,W,K);w=A,A.depth=a,A.parent=r,r.dynamic??=[],r.dynamic.push(A)}break}case eh:{const N=d.substring(E,S[1]),P=d.substring(S[4],T),B=m&&!!(N||P),W=N?B?N:N.toLowerCase():void 0,K=P?B?P:P.toLowerCase():void 0,j=!x&&r.optional?.find(A=>!A.skipOnParamError&&A.caseSensitive===B&&A.prefix===W&&A.suffix===K);if(j)w=j;else{const A=y0(eh,n.fullPath??n.from,B,W,K);w=A,A.parent=r,A.depth=a,r.optional??=[],r.optional.push(A)}break}case $a:{const N=d.substring(E,S[1]),P=d.substring(S[4],T),B=m&&!!(N||P),W=N?B?N:N.toLowerCase():void 0,K=P?B?P:P.toLowerCase():void 0,j=y0($a,n.fullPath??n.from,B,W,K);w=j,j.parent=r,j.depth=a,r.wildcard??=[],r.wildcard.push(j)}}r=w}if(x&&n.children&&!n.isRoot&&n.id&&n.id.charCodeAt(n.id.lastIndexOf("/")+1)===95){const S=xa(n.fullPath??n.from);S.kind=FC,S.parent=r,a++,S.depth=a,r.pathless??=[],r.pathless.push(S),r=S}const v=(n.path||!n.children)&&!n.isRoot;if(v&&d.endsWith("/")){const S=xa(n.fullPath??n.from);S.kind=ya,S.parent=r,a++,S.depth=a,r.index=S,r=S}r.parse=n.options?.params?.parse??null,r.skipOnParamError=x,r.parsingPriority=n.options?.skipRouteOnParseError?.priority??0,v&&!r.route&&(r.route=n,r.fullPath=n.fullPath??n.from)}if(n.children)for(const d of n.children)Rm(t,e,d,h,r,a,c)}function g0(t,e){if(t.skipOnParamError&&!e.skipOnParamError)return-1;if(!t.skipOnParamError&&e.skipOnParamError)return 1;if(t.skipOnParamError&&e.skipOnParamError&&(t.parsingPriority||e.parsingPriority))return e.parsingPriority-t.parsingPriority;if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function co(t){if(t.pathless)for(const e of t.pathless)co(e);if(t.static)for(const e of t.static.values())co(e);if(t.staticInsensitive)for(const e of t.staticInsensitive.values())co(e);if(t.dynamic?.length){t.dynamic.sort(g0);for(const e of t.dynamic)co(e)}if(t.optional?.length){t.optional.sort(g0);for(const e of t.optional)co(e)}if(t.wildcard?.length){t.wildcard.sort(g0);for(const e of t.wildcard)co(e)}}function xa(t){return{kind:Mc,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function y0(t,e,n,i,r){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:n,prefix:i,suffix:r}}function TP(t,e){const n=xa("/"),i=new Uint16Array(6);for(const r of t)Rm(!1,i,r,1,n,0);co(n),e.masksTree=n,e.flatCache=Yp(1e3)}function EP(t,e){t||="/";const n=e.flatCache.get(t);if(n)return n;const i=Av(t,e.masksTree);return e.flatCache.set(t,i),i}function CP(t,e,n,i,r){t||="/",i||="/";const a=e?`case\0${t}`:t;let c=r.singleCache.get(a);if(!c){c=xa("/");const h=new Uint16Array(6);Rm(e,h,{from:t},1,c,0),r.singleCache.set(a,c)}return Av(i,c,n)}function AP(t,e,n=!1){const i=n?t:`nofuzz\0${t}`,r=e.matchCache.get(i);if(r!==void 0)return r;t||="/";let a;try{a=Av(t,e.segmentTree,n)}catch(c){if(c instanceof URIError)a=null;else throw c}return a&&(a.branch=RP(a.route)),e.matchCache.set(i,a),a}function IP(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function jP(t,e=!1,n){const i=xa(t.fullPath),r=new Uint16Array(6),a={},c={};let h=0;return Rm(e,r,t,1,i,0,p=>{if(n?.(p,h),fs(!(p.id in a),`Duplicate routes found with id: ${String(p.id)}`),a[p.id]=p,h!==0&&p.path){const m=IP(p.fullPath);(!c[m]||p.fullPath.endsWith("/"))&&(c[m]=p)}h++}),co(i),{processedTree:{segmentTree:i,singleCache:Yp(1e3),matchCache:Yp(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:c}}function Av(t,e,n=!1){const i=t.split("/"),r=kP(t,i,e,n);if(!r)return null;const[a]=BC(t,i,r);return{route:r.node.route,rawParams:a,parsedParams:r.parsedParams}}function BC(t,e,n){const i=NP(n.node);let r=null;const a={};let c=n.extract?.part??0,h=n.extract?.node??0,d=n.extract?.path??0,p=n.extract?.segment??0;for(;h<i.length;c++,h++,d++,p++){const m=i[h];if(m.kind===ya)break;if(m.kind===FC){p--,c--,d--;continue}const x=e[c],v=d;if(x&&(d+=x.length),m.kind===Ha){r??=n.node.fullPath.split("/");const S=r[p],w=m.prefix?.length??0;if(S.charCodeAt(w)===123){const T=m.suffix?.length??0,O=S.substring(w+2,S.length-T-1),N=x.substring(w,x.length-T);a[O]=decodeURIComponent(N)}else{const T=S.substring(1);a[T]=decodeURIComponent(x)}}else if(m.kind===eh){if(n.skipped&1<<h){c--,d=v-1;continue}r??=n.node.fullPath.split("/");const S=r[p],w=m.prefix?.length??0,E=m.suffix?.length??0,T=S.substring(w+3,S.length-E-1),O=m.suffix||m.prefix?x.substring(w,x.length-E):x;O&&(a[T]=decodeURIComponent(O))}else if(m.kind===$a){const S=m,w=t.substring(v+(S.prefix?.length??0),t.length-(S.suffix?.length??0)),E=decodeURIComponent(w);a["*"]=E,a._splat=E;break}}return n.rawParams&&Object.assign(a,n.rawParams),[a,{part:c,node:h,path:d,segment:p}]}function RP(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function NP(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function kP(t,e,n,i){if(t==="/"&&n.index)return{node:n.index,skipped:0};const r=!Zd(e),a=r&&t!=="/",c=e.length-(r?1:0),h=[{node:n,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,p=null,m=null;for(;h.length;){const x=h.pop(),{node:v,index:S,skipped:w,depth:E,statics:T,dynamics:O,optionals:N}=x;let{extract:P,rawParams:B,parsedParams:W}=x;if(v.skipOnParamError){if(!x0(t,e,x))continue;B=x.rawParams,P=x.extract,W=x.parsedParams}i&&v.route&&v.kind!==ya&&hd(p,x)&&(p=x);const K=S===c;if(K&&(v.route&&!a&&hd(m,x)&&(m=x),!v.optional&&!v.wildcard&&!v.index&&!v.pathless))continue;const j=K?void 0:e[S];let A;if(K&&v.index){const R={node:v.index,index:S,skipped:w,depth:E+1,statics:T,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W};let V=!0;if(v.index.skipOnParamError&&(x0(t,e,R)||(V=!1)),V){if(T===c&&!O&&!N&&!w)return R;hd(m,R)&&(m=R)}}if(v.wildcard&&hd(d,x))for(const R of v.wildcard){const{prefix:V,suffix:z}=R;if(V&&(K||!(R.caseSensitive?j:A??=j.toLowerCase()).startsWith(V)))continue;if(z){if(K)continue;const F=e.slice(S).join("/").slice(-z.length);if((R.caseSensitive?F:F.toLowerCase())!==z)continue}const U={node:R,index:c,skipped:w,depth:E,statics:T,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W};if(!(R.skipOnParamError&&!x0(t,e,U))){d=U;break}}if(v.optional){const R=w|1<<E,V=E+1;for(let z=v.optional.length-1;z>=0;z--){const U=v.optional[z];h.push({node:U,index:S,skipped:R,depth:V,statics:T,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W})}if(!K)for(let z=v.optional.length-1;z>=0;z--){const U=v.optional[z],{prefix:F,suffix:pe}=U;if(F||pe){const Ce=U.caseSensitive?j:A??=j.toLowerCase();if(F&&!Ce.startsWith(F)||pe&&!Ce.endsWith(pe))continue}h.push({node:U,index:S+1,skipped:w,depth:V,statics:T,dynamics:O,optionals:N+1,extract:P,rawParams:B,parsedParams:W})}}if(!K&&v.dynamic&&j)for(let R=v.dynamic.length-1;R>=0;R--){const V=v.dynamic[R],{prefix:z,suffix:U}=V;if(z||U){const F=V.caseSensitive?j:A??=j.toLowerCase();if(z&&!F.startsWith(z)||U&&!F.endsWith(U))continue}h.push({node:V,index:S+1,skipped:w,depth:E+1,statics:T,dynamics:O+1,optionals:N,extract:P,rawParams:B,parsedParams:W})}if(!K&&v.staticInsensitive){const R=v.staticInsensitive.get(A??=j.toLowerCase());R&&h.push({node:R,index:S+1,skipped:w,depth:E+1,statics:T+1,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W})}if(!K&&v.static){const R=v.static.get(j);R&&h.push({node:R,index:S+1,skipped:w,depth:E+1,statics:T+1,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W})}if(v.pathless){const R=E+1;for(let V=v.pathless.length-1;V>=0;V--){const z=v.pathless[V];h.push({node:z,index:S,skipped:w,depth:R,statics:T,dynamics:O,optionals:N,extract:P,rawParams:B,parsedParams:W})}}}if(m&&d)return hd(d,m)?m:d;if(m)return m;if(d)return d;if(i&&p){let x=p.index;for(let S=0;S<p.index;S++)x+=e[S].length;const v=x===t.length?"/":t.slice(x);return p.rawParams??={},p.rawParams["**"]=decodeURIComponent(v),p}return null}function x0(t,e,n){try{const[i,r]=BC(t,e,n);n.rawParams=i,n.extract=r;const a=n.node.parse(i);return n.parsedParams=Object.assign({},n.parsedParams,a),!0}catch{return null}}function hd(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&(e.optionals>t.optionals||e.optionals===t.optionals&&((e.node.kind===ya)>(t.node.kind===ya)||e.node.kind===ya==(t.node.kind===ya)&&e.depth>t.depth))):!0}function Cp(t){return Iv(t.filter(e=>e!==void 0).join("/"))}function Iv(t){return t.replace(/\/{2,}/g,"/")}function zC(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function os(t){const e=t.length;return e>1&&t[e-1]==="/"?t.replace(/\/{1,}$/,""):t}function UC(t){return os(zC(t))}function Qp(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function PP(t,e,n){return Qp(t,n)===Qp(e,n)}function DP({base:t,to:e,trailingSlash:n="never",cache:i}){const r=e.startsWith("/"),a=!r&&e===".";let c;if(i){c=r?e:a?t:t+"\0"+e;const x=i.get(c);if(x)return x}let h;if(a)h=t.split("/");else if(r)h=e.split("/");else{for(h=t.split("/");h.length>1&&Zd(h)==="";)h.pop();const x=e.split("/");for(let v=0,S=x.length;v<S;v++){const w=x[v];w===""?v?v===S-1&&h.push(w):h=[w]:w===".."?h.pop():w==="."||h.push(w)}}h.length>1&&(Zd(h)===""?n==="never"&&h.pop():n==="always"&&h.push(""));let d,p="";for(let x=0;x<h.length;x++){x>0&&(p+="/");const v=h[x];if(!v)continue;d=Cv(v,0,d);const S=d[0];if(S===Mc){p+=v;continue}const w=d[5],E=v.substring(0,d[1]),T=v.substring(d[4],w),O=v.substring(d[2],d[3]);S===Ha?p+=E||T?`${E}{$${O}}${T}`:`$${O}`:S===$a?p+=E||T?`${E}{$}${T}`:"$":p+=`${E}{-$${O}}${T}`}p=Iv(p);const m=p||"/";return c&&i&&i.set(c,m),m}function OP(t){const e=new Map(t.map(r=>[encodeURIComponent(r),r])),n=Array.from(e.keys()).map(r=>r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),i=new RegExp(n,"g");return r=>r.replace(i,a=>e.get(a)??a)}function v0(t,e,n){const i=e[t];return typeof i!="string"?i:t==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(i)?i:i.split("/").map(r=>e_(r,n)).join("/"):e_(i,n)}function b0({path:t,params:e,decoder:n,...i}){let r=!1;const a={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:a,isMissingParams:r};if(!t.includes("$"))return{interpolatedPath:t,usedParams:a,isMissingParams:r};const c=t.length;let h=0,d,p="";for(;h<c;){const x=h;d=Cv(t,x,d);const v=d[5];if(h=v+1,x===v)continue;const S=d[0];if(S===Mc){p+="/"+t.substring(x,v);continue}if(S===$a){const w=e._splat;a._splat=w,a["*"]=w;const E=t.substring(x,d[1]),T=t.substring(d[4],v);if(!w){r=!0,(E||T)&&(p+="/"+E+T);continue}const O=v0("_splat",e,n);p+="/"+E+O+T;continue}if(S===Ha){const w=t.substring(d[2],d[3]);!r&&!(w in e)&&(r=!0),a[w]=e[w];const E=t.substring(x,d[1]),T=t.substring(d[4],v),O=v0(w,e,n)??"undefined";p+="/"+E+O+T;continue}if(S===eh){const w=t.substring(d[2],d[3]),E=e[w];if(E==null)continue;a[w]=E;const T=t.substring(x,d[1]),O=t.substring(d[4],v),N=v0(w,e,n)??"";p+="/"+T+N+O;continue}}return t.endsWith("/")&&(p+="/"),{usedParams:a,interpolatedPath:p||"/",isMissingParams:r}}function e_(t,e){const n=encodeURIComponent(t);return e?.(n)??n}function _i(t){return!!t?.isNotFound}function MP(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Sx="tsr-scroll-restoration-v1_3",LP=(t,e)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{t(...i),n=null},e))}};function VP(){const t=MP();if(!t)return null;const e=t.getItem(Sx);let n=e?JSON.parse(e):{};return{state:n,set:i=>{n=mo(i,n)||n;try{t.setItem(Sx,JSON.stringify(n))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const op=VP(),FP=t=>t.state.__TSR_key||t.href;function BP(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Jp=!1;function zP({storageKey:t,key:e,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:r,location:a}){let c;try{c=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(p){console.error(p);return}const h=e||window.history.state?.__TSR_key,d=c[h];Jp=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const x in d){const v=d[x];if(x==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(x){const S=document.querySelector(x);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(a??window.location).hash.split("#",2)[1];if(p){const x=window.history.state?.__hashScrollIntoViewOptions??!0;if(x){const v=document.getElementById(p);v&&v.scrollIntoView(x)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),r)for(const x of r){if(x==="window")continue;const v=typeof x=="function"?x():document.querySelector(x);v&&v.scrollTo(m)}}Jp=!1}function UP(t,e){if(!op||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isScrollRestorationSetup||!op))return;t.isScrollRestorationSetup=!0,Jp=!1;const i=t.options.getScrollRestorationKey||FP;window.history.scrollRestoration="manual";const r=a=>{if(Jp||!t.isScrollRestoring)return;let c="";if(a.target===document||a.target===window)c="window";else{const d=a.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=BP(a.target)}const h=i(t.state.location);op.set(d=>{const p=d[h]||={},m=p[c]||={};if(c==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(c){const x=document.querySelector(c);x&&(m.scrollX=x.scrollLeft||0,m.scrollY=x.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",LP(r,100),!0),t.subscribe("onRendered",a=>{const c=i(a.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(zP({storageKey:Sx,key:c,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&op.set(h=>(h[c]||={},h)))})}function HP(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function $P(t,e=String){const n=new URLSearchParams;for(const i in t){const r=t[i];r!==void 0&&n.set(i,e(r))}return n.toString()}function S0(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function GP(t){const e=new URLSearchParams(t),n={};for(const[i,r]of e.entries()){const a=n[i];a==null?n[i]=S0(r):Array.isArray(a)?a.push(S0(r)):n[i]=[a,S0(r)]}return n}const qP=KP(JSON.parse),WP=YP(JSON.stringify,JSON.parse);function KP(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=GP(e);for(const i in n){const r=n[i];if(typeof r=="string")try{n[i]=t(r)}catch{}}return n}}function YP(t,e){const n=typeof e=="function";function i(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(n&&typeof r=="string")try{return e(r),t(r)}catch{}return r}return r=>{const a=$P(r,i);return a?`?${a}`:""}}const Hi="__root__";function QP(t){if(t.statusCode=t.statusCode||t.code||307,!t._builtLocation&&typeof t.href=="string"&&Kp(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${VC.join(", ")} protocols are allowed.`);if(!t._builtLocation&&!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function Gi(t){return t instanceof Response&&!!t.options}const Ap=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Nm=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),Ic=(t,e,n=!0)=>{const i={...t.router.options.context??{}},r=n?e:e-1;for(let a=0;a<=r;a++){const c=t.matches[a];if(!c)continue;const h=t.router.getMatch(c.id);h&&Object.assign(i,h.__routeContext,h.__beforeLoadContext)}return i},HC=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),fs(n.options.notFoundComponent);const i=t.matches.find(r=>r.routeId===n.id);fs(i,"Could not find match for route: "+n.id),t.updateMatch(i.id,r=>({...r,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,HC(t,e))},go=(t,e,n)=>{if(!(!Gi(n)&&!_i(n))){if(Gi(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const i=Gi(n)?"redirected":"notFound";e._nonReactive.error=n,t.updateMatch(e.id,r=>({...r,status:i,context:Ic(t,e.index),isFetching:!1,error:n})),_i(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw Gi(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(HC(t,n),n)}},$C=(t,e)=>!!t.router.getMatch(e)._nonReactive.dehydrated,fd=(t,e,n,i)=>{const{id:r,routeId:a}=t.matches[e],c=t.router.looseRoutesById[a];if(n instanceof Promise)throw n;n.routerCode=i,t.firstBadMatchIndex??=e,go(t,t.router.getMatch(r),n);try{c.options.onError?.(n)}catch(h){n=h,go(t,t.router.getMatch(r),n)}t.updateMatch(r,h=>(h._nonReactive.beforeLoadPromise?.resolve(),h._nonReactive.beforeLoadPromise=void 0,h._nonReactive.loadPromise?.resolve(),{...h,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},GC=(t,e,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const r=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!Nm(t,e)&&(n.options.loader||n.options.beforeLoad||KC(n))&&typeof r=="number"&&r!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const c=setTimeout(()=>{Ap(t)},r);i._nonReactive.pendingTimeout=c}},JP=(t,e,n)=>{const i=t.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;GC(t,e,n,i);const r=()=>{const a=t.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&go(t,a,a.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(r):r()},XP=(t,e,n,i)=>{const r=t.router.getMatch(e),a=r._nonReactive.loadPromise;r._nonReactive.loadPromise=Oc(()=>{a?.resolve()});const{paramsError:c,searchError:h}=r;c&&fd(t,n,c,"PARSE_PARAMS"),h&&fd(t,n,h,"VALIDATE_SEARCH"),GC(t,e,i,r);const d=new AbortController;let p=!1;const m=()=>{p||(p=!0,t.updateMatch(e,B=>({...B,isFetching:"beforeLoad",fetchCount:B.fetchCount+1,abortController:d})))},x=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,B=>({...B,isFetching:!1}))};if(!i.options.beforeLoad){Fd(()=>{m(),x()});return}r._nonReactive.beforeLoadPromise=Oc();const v={...Ic(t,n,!1),...r.__routeContext},{search:S,params:w,cause:E}=r,T=Nm(t,e),O={search:S,abortController:d,params:w,preload:T,context:v,location:t.location,navigate:B=>t.router.navigate({...B,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:T?"preload":E,matches:t.matches,routeId:i.id,...t.router.options.additionalContext},N=B=>{if(B===void 0){Fd(()=>{m(),x()});return}(Gi(B)||_i(B))&&(m(),fd(t,n,B,"BEFORE_LOAD")),Fd(()=>{m(),t.updateMatch(e,W=>({...W,__beforeLoadContext:B})),x()})};let P;try{if(P=i.options.beforeLoad(O),Ac(P))return m(),P.catch(B=>{fd(t,n,B,"BEFORE_LOAD")}).then(N)}catch(B){m(),fd(t,n,B,"BEFORE_LOAD")}N(P)},ZP=(t,e)=>{const{id:n,routeId:i}=t.matches[e],r=t.router.looseRoutesById[i],a=()=>h(),c=()=>XP(t,n,e,r),h=()=>{if($C(t,n))return;const d=JP(t,n,r);return Ac(d)?d.then(c):c()};return a()},eD=(t,e,n)=>{const i=t.router.getMatch(e);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const r={ssr:t.router.options.ssr,matches:t.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(r),n.options.scripts?.(r),n.options.headers?.(r)]).then(([a,c,h])=>{const d=a?.meta,p=a?.links,m=a?.scripts,x=a?.styles;return{meta:d,links:p,headScripts:m,headers:h,scripts:c,styles:x}})},qC=(t,e,n,i)=>{const r=t.matchPromises[n-1],{params:a,loaderDeps:c,abortController:h,cause:d}=t.router.getMatch(e),p=Ic(t,n),m=Nm(t,e);return{params:a,deps:c,preload:!!m,parentMatchPromise:r,abortController:h,context:p,location:t.location,navigate:x=>t.router.navigate({...x,_fromLocation:t.location}),cause:m?"preload":d,route:i,...t.router.options.additionalContext}},t_=async(t,e,n,i)=>{try{const r=t.router.getMatch(e);try{(!(yP??t.router.isServer)||r.ssr===!0)&&WC(i);const a=i.options.loader?.(qC(t,e,n,i)),c=i.options.loader&&Ac(a);if((c||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||r._nonReactive.minPendingPromise)&&t.updateMatch(e,p=>({...p,isFetching:"loader"})),i.options.loader){const p=c?await a:a;go(t,t.router.getMatch(e),p),p!==void 0&&t.updateMatch(e,m=>({...m,loaderData:p}))}i._lazyPromise&&await i._lazyPromise;const d=r._nonReactive.minPendingPromise;d&&await d,i._componentsPromise&&await i._componentsPromise,t.updateMatch(e,p=>({...p,error:void 0,context:Ic(t,n),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(a){let c=a;if(c?.name==="AbortError"){if(r.abortController.signal.aborted){r._nonReactive.loaderPromise?.resolve(),r._nonReactive.loaderPromise=void 0;return}t.updateMatch(e,d=>({...d,status:d.status==="pending"?"success":d.status,isFetching:!1,context:Ic(t,n)}));return}const h=r._nonReactive.minPendingPromise;h&&await h,_i(a)&&await i.options.notFoundComponent?.preload?.(),go(t,t.router.getMatch(e),a);try{i.options.onError?.(a)}catch(d){c=d,go(t,t.router.getMatch(e),d)}t.updateMatch(e,d=>({...d,error:c,context:Ic(t,n),status:"error",isFetching:!1}))}}catch(r){const a=t.router.getMatch(e);a&&(a._nonReactive.loaderPromise=void 0),go(t,a,r)}},tD=async(t,e)=>{async function n(m,x,v,S){const w=Date.now()-x.updatedAt,E=m?S.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:S.options.staleTime??t.router.options.defaultStaleTime??0,T=S.options.shouldReload,O=typeof T=="function"?T(qC(t,i,e,S)):T,{status:N,invalid:P}=v;a=N==="success"&&(P||(O??w>E)),m&&S.options.preload===!1||(a&&!t.sync?(c=!0,(async()=>{try{await t_(t,i,e,S);const B=t.router.getMatch(i);B._nonReactive.loaderPromise?.resolve(),B._nonReactive.loadPromise?.resolve(),B._nonReactive.loaderPromise=void 0}catch(B){Gi(B)&&await t.router.navigate(B.options)}})()):(N!=="success"||a&&t.sync)&&await t_(t,i,e,S))}const{id:i,routeId:r}=t.matches[e];let a=!1,c=!1;const h=t.router.looseRoutesById[r];if(!$C(t,i)){const m=t.router.getMatch(i),x=Nm(t,i);if(m._nonReactive.loaderPromise){if(m.status==="success"&&!t.sync&&!m.preload)return m;await m._nonReactive.loaderPromise;const v=t.router.getMatch(i),S=v._nonReactive.error||v.error;S&&go(t,v,S),v.status==="pending"&&await n(x,m,v,h)}else{const v=x&&!t.router.state.matches.some(w=>w.id===i),S=t.router.getMatch(i);S._nonReactive.loaderPromise=Oc(),v!==S.preload&&t.updateMatch(i,w=>({...w,preload:v})),await n(x,m,S,h)}}const d=t.router.getMatch(i);c||(d._nonReactive.loaderPromise?.resolve(),d._nonReactive.loadPromise?.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,c||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const p=c?d.isFetching:!1;return p!==d.isFetching||d.invalid!==!1?(t.updateMatch(i,m=>({...m,isFetching:p,invalid:!1})),t.router.getMatch(i)):d};async function n_(t){const e=Object.assign(t,{matchPromises:[]});e.router.state.matches.some(n=>n._forcePending)&&Ap(e);try{for(let h=0;h<e.matches.length;h++){const d=ZP(e,h);Ac(d)&&await d}const n=e.firstBadMatchIndex??e.matches.length;for(let h=0;h<n;h++)e.matchPromises.push(tD(e,h));const r=(await Promise.allSettled(e.matchPromises)).filter(h=>h.status==="rejected").map(h=>h.reason);let a;for(const h of r){if(Gi(h))throw h;!a&&_i(h)&&(a=h)}for(const h of e.matches){const{id:d,routeId:p}=h,m=e.router.looseRoutesById[p];try{const x=eD(e,d,m);if(x){const v=await x;e.updateMatch(d,S=>({...S,...v}))}}catch(x){console.error(`Error executing head for route ${p}:`,x)}}if(a)throw a;const c=Ap(e);Ac(c)&&await c}catch(n){if(_i(n)&&!e.preload){const i=Ap(e);throw Ac(i)&&await i,n}if(Gi(n))throw n}return e.matches}async function WC(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...i}=e.options;Object.assign(t.options,i),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const i of YC){const r=t.options[i]?.preload;r&&n.push(r())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function KC(t){for(const e of YC)if(t.options[e]?.preload)return!0;return!1}const YC=["component","errorComponent","pendingComponent","notFoundComponent"];function nD(t){return{input:({url:e})=>{for(const n of t)e=wx(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=QC(t[n],e);return e}}}function iD(t){const e=UC(t.basepath),n=`/${e}`,i=`${n}/`,r=t.caseSensitive?n:n.toLowerCase(),a=t.caseSensitive?i:i.toLowerCase();return{input:({url:c})=>{const h=t.caseSensitive?c.pathname:c.pathname.toLowerCase();return h===r?c.pathname="/":h.startsWith(a)&&(c.pathname=c.pathname.slice(n.length)),c},output:({url:c})=>(c.pathname=Cp(["/",e,c.pathname]),c)}}function wx(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function QC(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function La(t){const e=t.resolvedLocation,n=t.location,i=e?.pathname!==n.pathname,r=e?.href!==n.href,a=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:i,hrefChanged:r,hashChanged:a}}class rD{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,r=this.basepath??i?.basepath??"/",a=this.basepath===void 0,c=i?.rewrite;if(this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=OP(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=mP()),this.origin=this.options.origin,this.origin||(window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let v;this.resolvePathCache=Yp(1e3),v=this.buildRouteTree(),this.setRoutes(v)}!this.__store&&this.latestLocation&&(this.__store=new fP(oD(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),UP(this));let h=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(a||r!==d||c!==p){this.basepath=d;const v=[],S=UC(d);S&&S!=="/"&&v.push(iD({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:nD(v),this.history&&this.updateLatestLocation(),h=!0}h&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const n=jP(this.routeTree,this.options.caseSensitive,(i,r)=>{i.init({originalIndex:r})});return this.options.routeMasks&&TP(this.options.routeMasks,n.processedTree),n},this.subscribe=(n,i)=>{const r={eventType:n,fn:i};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const r=({pathname:d,search:p,hash:m,href:x,state:v})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const N=this.options.parseSearch(p),P=this.options.stringifySearch(N);return{href:d+P+m,publicHref:x,pathname:dd(d).path,external:!1,searchStr:P,search:wi(i?.search,N),hash:dd(m.slice(1)).path,state:wi(i?.state,v)}}const S=new URL(x,this.origin),w=wx(this.rewrite,S),E=this.options.parseSearch(w.search),T=this.options.stringifySearch(E);return w.search=T,{href:w.href.replace(w.origin,""),publicHref:x,pathname:dd(w.pathname).path,external:!!this.rewrite&&w.origin!==this.origin,searchStr:T,search:wi(i?.search,E),hash:dd(w.hash.slice(1)).path,state:wi(i?.state,v)}},a=r(n),{__tempLocation:c,__tempKey:h}=a.state;if(c&&(!h||h===this.tempLocationKey)){const d=r(c);return d.state.key=a.state.key,d.state.__TSR_key=a.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:a}}return a},this.resolvePathWithBase=(n,i)=>DP({base:n,to:Iv(i),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(n,i,r)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},r):this.matchRoutesInternal(n,i),this.getMatchedRoutes=n=>aD({pathname:n,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const n=this.state.matches.filter(a=>a.status==="pending"),i=this.state.matches.filter(a=>a.isFetching==="loader");new Set([...this.state.pendingMatches??[],...n,...i]).forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=n=>{const i=(a={})=>{const c=a._fromLocation||this.pendingBuiltLocation||this.latestLocation,h=this.matchRoutesLightweight(c);a.from;const d=a.unsafeRelative==="path"?c.pathname:a.from??h.fullPath,p=this.resolvePathWithBase(d,"."),m=h.search,x={...h.params},v=a.to?this.resolvePathWithBase(p,`${a.to}`):this.resolvePathWithBase(p,"."),S=a.params===!1||a.params===null?{}:(a.params??!0)===!0?x:Object.assign(x,mo(a.params,x)),w=b0({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,E=this.getMatchedRoutes(w);let T=E.matchedRoutes;(E.foundRoute?E.foundRoute.path!=="/"&&E.routeParams["**"]:os(w))&&this.options.notFoundRoute&&(T=[...T,this.options.notFoundRoute]);let N=!1;if(Object.keys(S).length>0)for(const F of T){const pe=F.options.params?.stringify??F.options.stringifyParams;pe&&(N=!0,Object.assign(S,pe(S)))}const P=n.leaveParams?v:dd(N?b0({path:v,params:S,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:w).path;let B=m;if(n._includeValidateSearch&&this.options.search?.strict){const F={};T.forEach(pe=>{if(pe.options.validateSearch)try{Object.assign(F,Ip(pe.options.validateSearch,{...F,...B}))}catch{}}),B=F}B=lD({search:B,dest:a,destRoutes:T,_includeValidateSearch:n._includeValidateSearch}),B=wi(m,B);const W=this.options.stringifySearch(B),K=a.hash===!0?c.hash:a.hash?mo(a.hash,c.hash):void 0,j=K?`#${K}`:"";let A=a.state===!0?c.state:a.state?mo(a.state,c.state):{};A=wi(c.state,A);const R=`${P}${W}${j}`;let V,z,U=!1;if(this.rewrite){const F=new URL(R,this.origin),pe=QC(this.rewrite,F);V=F.href.replace(F.origin,""),pe.origin!==this.origin?(z=pe.href,U=!0):z=pe.pathname+pe.search+pe.hash}else V=SP(R),z=V;return{publicHref:z,href:V,pathname:P,search:B,searchStr:W,state:A,hash:K??"",external:U,unmaskOnReload:a.unmaskOnReload}},r=(a={},c)=>{const h=i(a);let d=c?i(c):void 0;if(!d){const p={};if(this.options.routeMasks){const m=EP(h.pathname,this.processedTree);if(m){Object.assign(p,m.rawParams);const{from:x,params:v,...S}=m.route,w=v===!1||v===null?{}:(v??!0)===!0?p:Object.assign(p,mo(v,p));c={from:n.from,...S,params:w},d=i(c)}}}return d&&(h.maskedLocation=d),h};return n.mask?r(n,{from:n.from,...n.mask}):r(n)},this.commitLocation=async({viewTransition:n,ignoreBlocker:i,...r})=>{const a=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const p=Ma(r.state,this.latestLocation.state);return d.forEach(m=>{delete r.state[m]}),p},c=os(this.latestLocation.href)===os(r.href),h=this.commitLocationPromise;if(this.commitLocationPromise=Oc(()=>{h?.resolve()}),c&&a())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...m}=r;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[r.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:r,viewTransition:a,ignoreBlocker:c,href:h,...d}={})=>{if(h){const x=this.history.location.state.__TSR_index,v=qp(h,{__TSR_index:n?x:x+1}),S=new URL(v.pathname,this.origin),w=wx(this.rewrite,S);d.to=w.pathname,d.search=this.options.parseSearch(v.search),d.hash=v.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=p;const m=this.commitLocation({...p,viewTransition:a,replace:n,resetScroll:i,hashScrollIntoView:r,ignoreBlocker:c});return Promise.resolve().then(()=>{this.pendingBuiltLocation===p&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=async({to:n,reloadDocument:i,href:r,publicHref:a,...c})=>{let h=!1;if(r)try{new URL(`${r}`),h=!0}catch{}if(h&&!i&&(i=!0),i){if(n!==void 0||!r){const p=this.buildLocation({to:n,...c});r=r??p.publicHref,a=a??p.publicHref}const d=!h&&a?a:r;if(Kp(d))return Promise.resolve();if(!c.ignoreBlocker){const m=this.history.getBlockers?.()??[];for(const x of m)if(x?.blockerFn&&await x.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return c.replace?window.location.replace(d):window.location.href=d,Promise.resolve()}return this.buildAndCommitLocation({...c,href:r,to:n,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(r=>!n.some(a=>a.id===r.id))}))},this.load=async n=>{let i,r,a;for(a=new Promise(h=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...La({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...La({resolvedLocation:p,location:d})}),await n_({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let m=[],x=[],v=[];Fd(()=>{this.__store.setState(S=>{const w=S.matches,E=S.pendingMatches||S.matches;return m=w.filter(T=>!E.some(O=>O.id===T.id)),x=E.filter(T=>!w.some(O=>O.id===T.id)),v=E.filter(T=>w.some(O=>O.id===T.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...m.filter(T=>T.status!=="error"&&T.status!=="notFound")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[x,"onEnter"],[v,"onStay"]].forEach(([S,w])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[w]?.(E)})})})})}})}catch(d){Gi(d)?(i=d,this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):_i(d)&&(r=d),this.__store.setState(p=>({...p,statusCode:i?i.status:r?404:p.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===a&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),h()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;let c;this.hasNotFoundMatch()?c=404:this.__store.state.matches.some(h=>h.status==="error")&&(c=500),c!==void 0&&this.__store.setState(h=>({...h,statusCode:c}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,c=this.state.resolvedLocation,h=typeof i.types=="function"?i.types(La({resolvedLocation:c,location:a})):i.types;if(h===!1){n();return}r={update:n,types:h}}else r=n;document.startViewTransition(r)}else n()},this.updateMatch=(n,i)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(a=>a.id===n)?"pendingMatches":this.state.matches.some(a=>a.id===n)?"matches":this.state.cachedMatches.some(a=>a.id===n)?"cachedMatches":"";r&&this.__store.setState(a=>({...a,[r]:a[r]?.map(c=>c.id===n?i(c):c)}))})},this.getMatch=n=>{const i=r=>r.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=r=>n?.filter?.(r)??!0?{...r,invalid:!0,...n?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(i),cachedMatches:r.cachedMatches.map(i),pendingMatches:r.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.getParsedLocationHref=n=>n.publicHref||"/",this.resolveRedirect=n=>{const i=n.headers.get("Location");if(!n.options.href||n.options._builtLocation){const r=n.options._builtLocation??this.buildLocation(n.options),a=this.getParsedLocationHref(r);n.options.href=a,n.headers.set("Location",a)}else if(i)try{const r=new URL(i);if(this.origin&&r.origin===this.origin){const a=r.pathname+r.search+r.hash;n.options.href=a,n.headers.set("Location",a)}}catch{}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(a=>!i(a))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const r=this.looseRoutesById[i.routeId];if(!r.options.loader)return!0;const a=(i.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=a};this.clearCache({filter:n})},this.loadRouteChunk=WC,this.preloadRoute=async n=>{const i=this.buildLocation(n);let r=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(h=>h.id)),c=new Set([...a,...this.state.cachedMatches.map(h=>h.id)]);Fd(()=>{r.forEach(h=>{c.has(h.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,h]}))})});try{return r=await n_({router:this,matches:r,location:i,preload:!0,updateMatch:(h,d)=>{a.has(h)?r=r.map(p=>p.id===h?d(p):p):this.updateMatch(h,d)}}),r}catch(h){if(Gi(h))return h.options.reloadDocument?void 0:await this.preloadRoute({...h.options,_fromLocation:i});_i(h)||console.error(h);return}},this.matchRoute=(n,i)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},a=this.buildLocation(r);if(i?.pending&&this.state.status!=="pending")return!1;const h=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=CP(a.pathname,i?.caseSensitive??!1,i?.fuzzy??!1,h.pathname,this.processedTree);return!d||n.params&&!Ma(d.rawParams,n.params,{partial:!0})?!1:i?.includeSearch??!0?Ma(h.search,a.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??WP,parseSearch:e.parseSearch??qP}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:e,routesByPath:n,processedTree:i}){this.routesById=e,this.routesByPath=n,this.processedTree=i;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)}get looseRoutesById(){return this.routesById}getParentContext(e){return e?.id?e.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(e,n){const i=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:a,parsedParams:c}=i;let{matchedRoutes:h}=i,d=!1;(r?r.path!=="/"&&a["**"]:os(e.pathname))&&(this.options.notFoundRoute?h=[...h,this.options.notFoundRoute]:d=!0);const p=d?uD(this.options.notFoundMode,h):void 0,m=new Array(h.length),x=new Map(this.state.matches.map(v=>[v.routeId,v]));for(let v=0;v<h.length;v++){const S=h[v],w=m[v-1];let E,T,O;{const pe=w?.search??e.search,Ce=w?._strictSearch??void 0;try{const D=Ip(S.options.validateSearch,{...pe})??void 0;E={...pe,...D},T={...Ce,...D},O=void 0}catch(D){let G=D;if(D instanceof Xp||(G=new Xp(D.message,{cause:D})),n?.throwOnError)throw G;E=pe,T={},O=G}}const N=S.options.loaderDeps?.({search:E})??"",P=N?JSON.stringify(N):"",{interpolatedPath:B,usedParams:W}=b0({path:S.fullPath,params:a,decoder:this.pathParamsDecoder,server:this.isServer}),K=S.id+B+P,j=this.getMatch(K),A=x.get(S.id),R=j?._strictParams??W;let V;if(!j)try{i_(S,W,c,R)}catch(pe){if(_i(pe)||Gi(pe)?V=pe:V=new sD(pe.message,{cause:pe}),n?.throwOnError)throw V}Object.assign(a,R);const z=A?"stay":"enter";let U;if(j)U={...j,cause:z,params:A?.params??a,_strictParams:R,search:wi(A?A.search:j.search,E),_strictSearch:T};else{const pe=S.options.loader||S.options.beforeLoad||S.lazyFn||KC(S)?"pending":"success";U={id:K,ssr:S.options.ssr,index:v,routeId:S.id,params:A?.params??a,_strictParams:R,pathname:B,updatedAt:Date.now(),search:A?wi(A.search,E):E,_strictSearch:T,searchError:void 0,status:pe,isFetching:!1,error:void 0,paramsError:V,__routeContext:void 0,_nonReactive:{loadPromise:Oc()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:z,loaderDeps:A?wi(A.loaderDeps,N):N,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:S.options.staticData||{},fullPath:S.fullPath}}n?.preload||(U.globalNotFound=p===S.id),U.searchError=O;const F=this.getParentContext(w);U.context={...F,...U.__routeContext,...U.__beforeLoadContext},m[v]=U}for(let v=0;v<m.length;v++){const S=m[v],w=this.looseRoutesById[S.routeId],E=this.getMatch(S.id),T=x.get(S.routeId);if(S.params=T?wi(T.params,a):a,!E){const O=m[v-1],N=this.getParentContext(O);if(w.options.context){const P={deps:S.loaderDeps,params:S.params,context:N??{},location:e,navigate:B=>this.navigate({...B,_fromLocation:e}),buildLocation:this.buildLocation,cause:S.cause,abortController:S.abortController,preload:!!S.preload,matches:m,routeId:w.id};S.__routeContext=w.options.context(P)??void 0}S.context={...N,...S.__routeContext,...S.__beforeLoadContext}}}return m}matchRoutesLightweight(e){const{matchedRoutes:n,routeParams:i,parsedParams:r}=this.getMatchedRoutes(e.pathname),a=Zd(n),c={...e.search};for(const m of n)try{Object.assign(c,Ip(m.options.validateSearch,c))}catch{}const h=Zd(this.state.matches),d=h&&h.routeId===a.id&&e.pathname===this.state.location.pathname;let p;if(d)p=h.params;else{const m={...i};for(const x of n)try{i_(x,i,r??{},m)}catch{}p=m}return{matchedRoutes:n,fullPath:a.fullPath,search:c,params:p}}}class Xp extends Error{}class sD extends Error{}function oD(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Ip(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Xp("Async validation not supported");if(n.issues)throw new Xp(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function aD({pathname:t,routesById:e,processedTree:n}){const i={},r=os(t);let a,c;const h=AP(r,n,!0);return h&&(a=h.route,Object.assign(i,h.rawParams),c=Object.assign({},h.parsedParams)),{matchedRoutes:h?.branch||[e[Hi]],routeParams:i,foundRoute:a,parsedParams:c}}function lD({search:t,dest:e,destRoutes:n,_includeValidateSearch:i}){return cD(n)(t,e,i??!1)}function cD(t){const e={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const r of t){if("search"in r.options)r.options.search?.middlewares&&e.middlewares.push(...r.options.search.middlewares);else if(r.options.preSearchFilters||r.options.postSearchFilters){const a=({search:c,next:h})=>{let d=c;"preSearchFilters"in r.options&&r.options.preSearchFilters&&(d=r.options.preSearchFilters.reduce((m,x)=>x(m),c));const p=h(d);return"postSearchFilters"in r.options&&r.options.postSearchFilters?r.options.postSearchFilters.reduce((m,x)=>x(m),p):p};e.middlewares.push(a)}if(r.options.validateSearch){const a=({search:c,next:h})=>{const d=h(c);if(!e._includeValidateSearch)return d;try{return{...d,...Ip(r.options.validateSearch,d)??void 0}}catch{return d}};e.middlewares.push(a)}}const n=({search:r})=>{const a=e.dest;return a.search?a.search===!0?r:mo(a.search,r):{}};e.middlewares.push(n);const i=(r,a,c)=>{if(r>=c.length)return a;const h=c[r];return h({search:a,next:p=>i(r+1,p,c)})};return function(a,c,h){return e.dest=c,e._includeValidateSearch=h,i(0,a,e.middlewares)}}function uD(t,e){if(t!=="root")for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.children)return i.id}return Hi}function i_(t,e,n,i){const r=t.options.params?.parse??t.options.parseParams;if(r)if(t.options.skipRouteOnParseError)for(const a in e)a in n&&(i[a]=n[a]);else{const a=r(i);Object.assign(i,a)}}const dD="Error preloading route! ";class JC{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,r=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=Hi:this.parentRoute||fs(!1);let a=r?Hi:i?.path;a&&a!=="/"&&(a=zC(a));const c=i?.id||a;let h=r?Hi:Cp([this.parentRoute.id===Hi?"":this.parentRoute.id,c]);a===Hi&&(a="/"),h!==Hi&&(h=Cp(["/",h]));const d=h===Hi?"/":Cp([this.parentRoute.fullPath,a]);this._path=a,this._id=h,this._fullPath=d,this._to=os(d)},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.redirect=n=>QP({from:this.fullPath,...n}),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class hD extends JC{constructor(e){super(e)}}const Ad=typeof window<"u"?L.useLayoutEffect:L.useEffect;function w0(t){const e=L.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function fD(t,e,n={},i={}){L.useEffect(()=>{if(!t.current||i.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([a])=>{e(a)},n);return r.observe(t.current),()=>{r.disconnect()}},[e,n,i.disabled,t])}function pD(t){const e=L.useRef(null);return L.useImperativeHandle(t,()=>e.current,[]),e}function jv(t){const e=t.errorComponent??Rv;return l.jsx(mD,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:i})=>n?L.createElement(e,{error:n,reset:i}):t.children})}class mD extends L.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Rv({error:t}){const[e,n]=L.useState(!1);return l.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[l.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),l.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:e?"Hide Error":"Show Error"})]}),l.jsx("div",{style:{height:".25rem"}}),e?l.jsx("div",{children:l.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?l.jsx("code",{children:t.message}):null})}):null]})}function gD({children:t,fallback:e=null}){return XC()?l.jsx(xt.Fragment,{children:t}):l.jsx(xt.Fragment,{children:e})}function XC(){return xt.useSyncExternalStore(yD,()=>!0,()=>!1)}function yD(){return()=>{}}var _0={exports:{}},T0={},E0={exports:{}},C0={};var r_;function xD(){if(r_)return C0;r_=1;var t=mh();function e(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function h(x,v){var S=v(),w=i({inst:{value:S,getSnapshot:v}}),E=w[0].inst,T=w[1];return a(function(){E.value=S,E.getSnapshot=v,d(E)&&T({inst:E})},[x,S,v]),r(function(){return d(E)&&T({inst:E}),x(function(){d(E)&&T({inst:E})})},[x]),c(S),S}function d(x){var v=x.getSnapshot;x=x.value;try{var S=v();return!n(x,S)}catch{return!0}}function p(x,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return C0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,C0}var s_;function vD(){return s_||(s_=1,E0.exports=xD()),E0.exports}var o_;function bD(){if(o_)return T0;o_=1;var t=mh(),e=vD();function n(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,h=t.useMemo,d=t.useDebugValue;return T0.useSyncExternalStoreWithSelector=function(p,m,x,v,S){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=h(function(){function O(K){if(!N){if(N=!0,P=K,K=v(K),S!==void 0&&E.hasValue){var j=E.value;if(S(j,K))return B=j}return B=K}if(j=B,i(P,K))return j;var A=v(K);return S!==void 0&&S(j,A)?(P=K,j):(P=K,B=A)}var N=!1,P,B,W=x===void 0?null:x;return[function(){return O(m())},W===null?void 0:function(){return O(W())}]},[m,x,v,S]);var T=r(p,w[0],w[1]);return c(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},T0}var a_;function SD(){return a_||(a_=1,_0.exports=bD()),_0.exports}var wD=SD();function _D(t,e=i=>i,n={}){const i=n.equal??TD;return wD.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,i)}function TD(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,r]of t)if(!e.has(i)||!Object.is(r,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=l_(t);if(n.length!==l_(e).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0}function l_(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const A0=L.createContext(null);function ZC(){return typeof document>"u"?A0:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=A0,A0)}function bn(t){const e=L.useContext(ZC());return t?.warn,e}function qi(t){const e=bn({warn:t?.router===void 0}),n=t?.router||e,i=L.useRef(void 0);return _D(n.__store,r=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const a=wi(i.current,t.select(r));return i.current=a,a}return t.select(r)}return r})}const km=L.createContext(void 0),ED=L.createContext(void 0);function Ir(t){const e=L.useContext(t.from?ED:km);return qi({select:i=>{const r=i.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(fs(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function Nv(t){return Ir({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function kv(t){const{select:e,...n}=t;return Ir({...n,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function xh(t){return Ir({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function Pv(t){return Ir({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Pm(t){const e=bn();return L.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}function CD(t){const e=bn(),n=Pm(),i=L.useRef(null);return Ad(()=>{i.current!==t&&(n(t),i.current=t)},[e,t,n]),null}var AD=EC();function ID(t,e){const n=bn(),i=pD(e),{activeProps:r,inactiveProps:a,activeOptions:c,to:h,preload:d,preloadDelay:p,hashScrollIntoView:m,replace:x,startTransition:v,resetScroll:S,viewTransition:w,children:E,target:T,disabled:O,style:N,className:P,onClick:B,onFocus:W,onMouseEnter:K,onMouseLeave:j,onTouchStart:A,ignoreBlocker:R,params:V,search:z,hash:U,state:F,mask:pe,reloadDocument:Ce,unsafeRelative:D,from:G,_fromLocation:oe,...ye}=t,Se=XC(),H=qi({select:Be=>Be.location.search,structuralSharing:!0}),ee=t.from,ne=L.useMemo(()=>({...t,from:ee}),[n,H,ee,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),ce=L.useMemo(()=>n.buildLocation({...ne}),[n,ne]),we=ce.maskedLocation?ce.maskedLocation.publicHref:ce.publicHref,Ae=ce.maskedLocation?ce.maskedLocation.external:ce.external,De=L.useMemo(()=>DD(we,Ae,n.history,O),[O,Ae,we,n.history]),ut=L.useMemo(()=>{if(De?.external)return Kp(De.href)?void 0:De.href;if(!OD(h)&&!(typeof h!="string"||h.indexOf(":")===-1))try{return new URL(h),Kp(h)?void 0:h}catch{}},[h,De]),rt=qi({select:Be=>{if(ut)return!1;if(c?.exact){if(!PP(Be.location.pathname,ce.pathname,n.basepath))return!1}else{const st=Qp(Be.location.pathname,n.basepath),Ht=Qp(ce.pathname,n.basepath);if(!(st.startsWith(Ht)&&(st.length===Ht.length||st[Ht.length]==="/")))return!1}return(c?.includeSearch??!0)&&!Ma(Be.location.search,ce.search,{partial:!c?.exact,ignoreUndefined:!c?.explicitUndefined})?!1:c?.includeHash?Se&&Be.location.hash===ce.hash:!0}}),Ft=rt?mo(r,{})??jD:I0,_t=rt?I0:mo(a,{})??I0,fe=[P,Ft.className,_t.className].filter(Boolean).join(" "),Re=(N||Ft.style||_t.style)&&{...N,...Ft.style,..._t.style},[xe,at]=L.useState(!1),mt=L.useRef(!1),Sn=t.reloadDocument||ut?!1:d??n.options.defaultPreload,In=p??n.options.defaultPreloadDelay??0,Bt=L.useCallback(()=>{n.preloadRoute({...ne}).catch(Be=>{console.warn(Be),console.warn(dD)})},[n,ne]),Ii=L.useCallback(Be=>{Be?.isIntersecting&&Bt()},[Bt]);fD(i,Ii,PD,{disabled:!!O||Sn!=="viewport"}),L.useEffect(()=>{mt.current||!O&&Sn==="render"&&(Bt(),mt.current=!0)},[O,Bt,Sn]);const Yi=Be=>{const st=Be.currentTarget.getAttribute("target"),Ht=T!==void 0?T:st;if(!O&&!MD(Be)&&!Be.defaultPrevented&&(!Ht||Ht==="_self")&&Be.button===0){Be.preventDefault(),AD.flushSync(()=>{at(!0)});const vs=n.subscribe("onResolved",()=>{vs(),at(!1)});n.navigate({...ne,replace:x,resetScroll:S,hashScrollIntoView:m,startTransition:v,viewTransition:w,ignoreBlocker:R})}};if(ut)return{...ye,ref:i,href:ut,...E&&{children:E},...T&&{target:T},...O&&{disabled:O},...N&&{style:N},...P&&{className:P},...B&&{onClick:B},...W&&{onFocus:W},...K&&{onMouseEnter:K},...j&&{onMouseLeave:j},...A&&{onTouchStart:A}};const Nr=Be=>{O||Sn&&Bt()},hi=Nr,It=Be=>{if(!(O||!Sn))if(!In)Bt();else{const st=Be.target;if(pd.has(st))return;const Ht=setTimeout(()=>{pd.delete(st),Bt()},In);pd.set(st,Ht)}},xs=Be=>{if(O||!Sn||!In)return;const st=Be.target,Ht=pd.get(st);Ht&&(clearTimeout(Ht),pd.delete(st))};return{...ye,...Ft,..._t,href:De?.href,ref:i,onClick:md([B,Yi]),onFocus:md([W,Nr]),onMouseEnter:md([K,It]),onMouseLeave:md([j,xs]),onTouchStart:md([A,hi]),disabled:!!O,target:T,...Re&&{style:Re},...fe&&{className:fe},...O&&RD,...rt&&ND,...Se&&xe&&kD}}const I0={},jD={className:"active"},RD={role:"link","aria-disabled":!0},ND={"data-status":"active","aria-current":"page"},kD={"data-transitioning":"transitioning"},pd=new WeakMap,PD={rootMargin:"100px"},md=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}};function DD(t,e,n,i){if(!i)return e?{href:t,external:!0}:{href:n.createHref(t)||"/",external:!1}}function OD(t){if(typeof t!="string")return!1;const e=t.charCodeAt(0);return e===47?t.charCodeAt(1)!==47:e===46}const e5=L.forwardRef((t,e)=>{const{_asChild:n,...i}=t,{type:r,...a}=ID(i,e),c=typeof i.children=="function"?i.children({isActive:a["data-status"]==="active"}):i.children;if(!n){const{disabled:h,...d}=a;return L.createElement("a",d,c)}return L.createElement(n,a,c)});function MD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class LD extends JC{constructor(e){super(e),this.useMatch=n=>Ir({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Pv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>xh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>kv({...n,from:this.id}),this.useLoaderData=n=>Nv({...n,from:this.id}),this.useNavigate=()=>Pm({from:this.fullPath}),this.Link=xt.forwardRef((n,i)=>l.jsx(e5,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Wi(t){return new LD(t)}class VD extends hD{constructor(e){super(e),this.useMatch=n=>Ir({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Pv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>xh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>kv({...n,from:this.id}),this.useLoaderData=n=>Nv({...n,from:this.id}),this.useNavigate=()=>Pm({from:this.fullPath}),this.Link=xt.forwardRef((n,i)=>l.jsx(e5,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function FD(t){return new VD(t)}function c_(t){return typeof t=="object"?new u_(t,{silent:!0}).createRoute(t):new u_(t,{silent:!0}).createRoute}class u_{constructor(e,n){this.path=e,this.createRoute=i=>{this.silent;const r=Wi(i);return r.isRoot=!1,r},this.silent=n?.silent}}class d_{constructor(e){this.useMatch=n=>Ir({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ir({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Pv({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>xh({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>kv({...n,from:this.options.id}),this.useLoaderData=n=>Nv({...n,from:this.options.id}),this.useNavigate=()=>{const n=bn();return Pm({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function h_(t){return typeof t=="object"?new d_(t):e=>new d_({id:t,...e})}function BD(){const t=bn(),e=L.useRef({router:t,mounted:!1}),[n,i]=L.useState(!1),{hasPendingMatches:r,isLoading:a}=qi({select:x=>({isLoading:x.isLoading,hasPendingMatches:x.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),c=w0(a),h=a||n||r,d=w0(h),p=a||r,m=w0(p);return t.startTransition=x=>{i(!0),L.startTransition(()=>{x(),i(!1)})},L.useEffect(()=>{const x=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return os(t.latestLocation.publicHref)!==os(v.publicHref)&&t.commitLocation({...v,replace:!0}),()=>{x()}},[t,t.history]),Ad(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),Ad(()=>{c&&!a&&t.emit({type:"onLoad",...La(t.state)})},[c,t,a]),Ad(()=>{m&&!p&&t.emit({type:"onBeforeRouteMount",...La(t.state)})},[p,m,t]),Ad(()=>{if(d&&!h){const x=La(t.state);t.emit({type:"onResolved",...x}),t.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})),x.hrefChanged&&HP(t)}},[h,d,t]),null}function zD(t){const e=qi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return l.jsx(jv,{getResetKey:()=>e,onCatch:(n,i)=>{if(_i(n))t.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(_i(n))return t.fallback?.(n);throw n},children:t.children})}function UD(){return l.jsx("p",{children:"Not Found"})}function ql(t){return l.jsx(l.Fragment,{children:t.children})}function t5(t,e,n){return e.options.notFoundComponent?l.jsx(e.options.notFoundComponent,{...n}):t.options.defaultNotFoundComponent?l.jsx(t.options.defaultNotFoundComponent,{...n}):l.jsx(UD,{})}function HD(){return bn().isScrollRestoring,null}const n5=L.memo(function({matchId:e}){const n=bn(),i=qi({select:E=>{const T=E.matches.findIndex(N=>N.id===e),O=E.matches[T];return fs(O),{routeId:O.routeId,ssr:O.ssr,_displayPending:O._displayPending,resetKey:E.loadedAt,parentRouteId:E.matches[T-1]?.routeId}},structuralSharing:!0}),r=n.routesById[i.routeId],a=r.options.pendingComponent??n.options.defaultPendingComponent,c=a?l.jsx(a,{}):null,h=r.options.errorComponent??n.options.defaultErrorComponent,d=r.options.onCatch??n.options.defaultOnCatch,p=r.isRoot?r.options.notFoundComponent??n.options.notFoundRoute?.options.component:r.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",x=(!r.isRoot||r.options.wrapInSuspense||m)&&(r.options.wrapInSuspense??a??(r.options.errorComponent?.preload||m))?L.Suspense:ql,v=h?jv:ql,S=p?zD:ql,w=r.isRoot?r.options.shellComponent??ql:ql;return l.jsxs(w,{children:[l.jsx(km.Provider,{value:e,children:l.jsx(x,{fallback:c,children:l.jsx(v,{getResetKey:()=>i.resetKey,errorComponent:h||Rv,onCatch:(E,T)=>{if(_i(E))throw E;d?.(E,T)},children:l.jsx(S,{fallback:E=>{if(!p||E.routeId&&E.routeId!==i.routeId||!E.routeId&&!r.isRoot)throw E;return L.createElement(p,E)},children:m||i._displayPending?l.jsx(gD,{fallback:c,children:l.jsx(f_,{matchId:e})}):l.jsx(f_,{matchId:e})})})})}),i.parentRouteId===Hi&&n.options.scrollRestoration?l.jsxs(l.Fragment,{children:[l.jsx($D,{}),l.jsx(HD,{})]}):null]})});function $D(){const t=bn(),e=L.useRef(void 0);return l.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...La(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const f_=L.memo(function({matchId:e}){const n=bn(),{match:i,key:r,routeId:a}=qi({select:d=>{const p=d.matches.find(w=>w.id===e),m=p.routeId,v=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:m,match:{id:p.id,status:p.status,error:p.error,invalid:p.invalid,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),c=n.routesById[a],h=L.useMemo(()=>{const d=c.options.component??n.options.defaultComponent;return d?l.jsx(d,{},r):l.jsx(i5,{})},[r,c.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=c.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(i.id);if(p&&!p._nonReactive.minPendingPromise){const m=Oc();p._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return fs(_i(i.error)),t5(n,c,i.error);if(i.status==="redirected")throw fs(Gi(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error")throw i.error;return h}),i5=L.memo(function(){const e=bn(),n=L.useContext(km),i=qi({select:p=>p.matches.find(m=>m.id===n)?.routeId}),r=e.routesById[i],a=qi({select:p=>{const x=p.matches.find(v=>v.id===n);return fs(x),x.globalNotFound}}),c=qi({select:p=>{const m=p.matches,x=m.findIndex(v=>v.id===n);return m[x+1]?.id}}),h=e.options.defaultPendingComponent?l.jsx(e.options.defaultPendingComponent,{}):null;if(a)return t5(e,r,void 0);if(!c)return null;const d=l.jsx(n5,{matchId:c});return i===Hi?l.jsx(L.Suspense,{fallback:h,children:d}):d});function GD(){const t=bn(),n=t.routesById[Hi].options.pendingComponent??t.options.defaultPendingComponent,i=n?l.jsx(n,{}):null,r=typeof document<"u"&&t.ssr?ql:L.Suspense,a=l.jsxs(r,{fallback:i,children:[l.jsx(BD,{}),l.jsx(qD,{})]});return t.options.InnerWrap?l.jsx(t.options.InnerWrap,{children:a}):a}function qD(){const t=bn(),e=qi({select:r=>r.matches[0]?.id}),n=qi({select:r=>r.loadedAt}),i=e?l.jsx(n5,{matchId:e}):null;return l.jsx(km.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?i:l.jsx(jv,{getResetKey:()=>n,errorComponent:Rv,onCatch:r=>{r.message||r.toString()},children:i})})}const WD=t=>new KD(t);let KD=class extends rD{constructor(e){super(e)}};typeof globalThis<"u"?(globalThis.createFileRoute=c_,globalThis.createLazyFileRoute=h_):typeof window<"u"&&(window.createFileRoute=c_,window.createLazyFileRoute=h_);function YD({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const i=ZC(),r=l.jsx(i.Provider,{value:t,children:e});return t.options.Wrap?l.jsx(t.options.Wrap,{children:r}):r}function QD({router:t,...e}){return l.jsx(YD,{router:t,...e,children:l.jsx(GD,{})})}const JD=[{id:"dashboard",label:"Dashboard",section:"MAIN",icon:l.jsx(ZD,{})},{id:"proposal-contract",label:"Proposal & Contract",section:"MAIN",icon:l.jsx(e4,{})},{id:"estates",label:"Estates",section:"MAIN",icon:l.jsx(t4,{})},{id:"users",label:"Users",section:"MANAGEMENT",icon:l.jsx(n4,{})},{id:"document-vault",label:"Document Vault",section:"MANAGEMENT",icon:l.jsx(i4,{})},{id:"notifications",label:"Notifications",section:"MANAGEMENT",icon:l.jsx(r4,{})},{id:"dev-dashboard",label:"Dev Dashboard",section:"DEVELOPMENT",icon:l.jsx(s4,{})},{id:"analytics",label:"Analytics",section:"DEVELOPMENT",icon:l.jsx(o4,{})},{id:"cost-tracking",label:"Cost Tracking",section:"DEVELOPMENT",icon:l.jsx(a4,{})},{id:"reports",label:"Reports",section:"DEVELOPMENT",icon:l.jsx(l4,{})},{id:"settings",label:"Settings",section:"SYSTEM",icon:l.jsx(c4,{})}];function XD(){const[t,e]=L.useState("proposal-contract"),n=JD.reduce((i,r)=>{const a=r.section||"OTHER";return i[a]||(i[a]=[]),i[a].push(r),i},{});return l.jsxs("aside",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-logo",children:[l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),l.jsx("path",{d:"M2 17l10 5 10-5"}),l.jsx("path",{d:"M2 12l10 5 10-5"})]}),l.jsx("span",{children:"Legacy"})]}),l.jsx("nav",{children:Object.entries(n).map(([i,r])=>l.jsxs("div",{children:[l.jsx("div",{className:"nav-section-label",children:i}),r.map(a=>l.jsxs("a",{className:`nav-item ${t===a.id?"active":""}`,onClick:()=>e(a.id),children:[a.icon,l.jsx("span",{children:a.label}),a.id==="proposal-contract"&&l.jsx("span",{style:{marginLeft:"auto",background:"#C8A951",color:"#000",padding:"2px 6px",borderRadius:"4px",fontSize:"9px",fontWeight:700,letterSpacing:"0.05em"},children:"ACTION REQ"})]},a.id))]},i))}),l.jsxs("div",{style:{marginTop:"auto",padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"linear-gradient(135deg, #C8A951, #D4AF37)",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontWeight:700,fontSize:"0.75rem"},children:"AD"}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"white",fontSize:"0.875rem",fontWeight:500},children:"Admin"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.625rem"},children:"System Level"})]})]})]})}function ZD(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),l.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),l.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}function e4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),l.jsx("polyline",{points:"10 9 9 9 8 9"})]})}function t4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),l.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function n4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function i4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}function r4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),l.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}function s4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("polyline",{points:"16 18 22 12 16 6"}),l.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function o4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),l.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),l.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}function a4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),l.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function l4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),l.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}function c4(){return l.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}function u4({isLightTheme:t,onToggleTheme:e}){return l.jsxs("header",{className:"admin-header",style:{position:"sticky",top:0,zIndex:1e3,background:t?"#fff":"#0f172a",borderBottom:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.1)"}`,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",height:"80px"},children:[l.jsxs("div",{className:"header-left",children:[l.jsx("h1",{style:{fontSize:"1.25rem",fontFamily:"Cinzel, serif",margin:0,color:t?"#0f172a":"#C8A951"},children:"Master Service Agreement"}),l.jsx("p",{style:{fontSize:"0.75rem",margin:0,color:t?"#64748b":"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sirsi Engineering  Professional Services"})]}),l.jsxs("div",{className:"header-right",style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",border:`1px solid ${t?"#e2e8f0":"rgba(255,255,255,0.2)"}`,borderRadius:"8px",padding:"8px 12px",color:t?"#0f172a":"#fff",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:500,transition:"all 0.2s ease"},children:t?" Dark Mode":" Light Mode"}),l.jsx("div",{className:"avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#C8A951",color:"#000",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:"AD"})]})]})}const p_=t=>{let e;const n=new Set,i=(p,m)=>{const x=typeof p=="function"?p(e):p;if(!Object.is(x,e)){const v=e;e=m??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(S=>S(e,v))}},r=()=>e,h={setState:i,getState:r,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p))},d=e=t(i,r,h);return h},d4=(t=>t?p_(t):p_),h4=t=>t;function f4(t,e=h4){const n=xt.useSyncExternalStore(t.subscribe,xt.useCallback(()=>e(t.getState()),[t,e]),xt.useCallback(()=>e(t.getInitialState()),[t,e]));return xt.useDebugValue(n),n}const p4=t=>{const e=d4(t),n=i=>f4(e,i);return Object.assign(n,e),n},m4=(t=>p4);function r5(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var a;const c=d=>d===null?null:JSON.parse(d,void 0),h=(a=n.getItem(r))!=null?a:null;return h instanceof Promise?h.then(c):c(h)},setItem:(r,a)=>n.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>n.removeItem(r)}}const _x=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(i){return _x(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return _x(i)(n)}}}},g4=(t,e)=>(n,i,r)=>{let a={storage:r5(()=>window.localStorage),partialize:T=>T,version:0,merge:(T,O)=>({...O,...T}),...e},c=!1,h=0;const d=new Set,p=new Set;let m=a.storage;if(!m)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...T)},i,r);const x=()=>{const T=a.partialize({...i()});return m.setItem(a.name,{state:T,version:a.version})},v=r.setState;r.setState=(T,O)=>(v(T,O),x());const S=t((...T)=>(n(...T),x()),i,r);r.getInitialState=()=>S;let w;const E=()=>{var T,O;if(!m)return;const N=++h;c=!1,d.forEach(B=>{var W;return B((W=i())!=null?W:S)});const P=((O=a.onRehydrateStorage)==null?void 0:O.call(a,(T=i())!=null?T:S))||void 0;return _x(m.getItem.bind(m))(a.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==a.version){if(a.migrate){const W=a.migrate(B.state,B.version);return W instanceof Promise?W.then(K=>[!0,K]):[!0,W]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var W;if(N!==h)return;const[K,j]=B;if(w=a.merge(j,(W=i())!=null?W:S),n(w,!0),K)return x()}).then(()=>{N===h&&(P?.(w,void 0),w=i(),c=!0,p.forEach(B=>B(w)))}).catch(B=>{N===h&&P?.(void 0,B)})};return r.persist={setOptions:T=>{a={...a,...T},T.storage&&(m=T.storage)},clearStorage:()=>{m?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>c,onHydrate:T=>(d.add(T),()=>{d.delete(T)}),onFinishHydration:T=>(p.add(T),()=>{p.delete(T)})},a.skipHydration||E(),w||S},y4=g4;var At;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(At||(At={}));function Tx(t){const e=At[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let ap;function x4(t){if(!ap){ap={};for(const e of Object.values(At))typeof e!="string"&&(ap[Tx(e)]=e)}return ap[t]}class fn extends Error{constructor(e,n=At.Unknown,i,r,a){super(v4(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(e,n=At.Unknown){return e instanceof fn?e:e instanceof Error?e.name=="AbortError"?new fn(e.message,At.Canceled):new fn(e.message,n,void 0,void 0,e):new fn(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===fn.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n="typeName"in e?{findMessage:r=>r===e.typeName?e:void 0}:e,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function v4(t,e){return t.length?`[${Tx(e)}] ${t}`:`[${Tx(e)}]`}function Xt(t,e){if(!t)throw new Error(e)}const b4=34028234663852886e22,S4=-34028234663852886e22,w4=4294967295,_4=2147483647,T4=-2147483648;function jp(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>_4||t<T4)throw new Error("invalid int 32: "+t)}function Ex(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>w4||t<0)throw new Error("invalid uint 32: "+t)}function s5(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>b4||t<S4))throw new Error("invalid float 32: "+t)}const o5=Symbol("@bufbuild/protobuf/enum-type");function E4(t){const e=t[o5];return Xt(e,"missing enum type on enum object"),e}function a5(t,e,n,i){t[o5]=l5(e,n.map(r=>({no:r.no,name:r.name,localName:t[r.no]})))}function l5(t,e,n){const i=Object.create(null),r=Object.create(null),a=[];for(const c of e){const h=c5(c);a.push(h),i[c.name]=h,r[c.no]=h}return{typeName:t,values:a,findName(c){return i[c]},findNumber(c){return r[c]}}}function C4(t,e,n){const i={};for(const r of e){const a=c5(r);i[a.localName]=a.no,i[a.no]=a.localName}return a5(i,t,e),i}function c5(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class Fe{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(e),e.byteLength,a),this}fromJson(e,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,e,a,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(e){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(e),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(e){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(e);return i.writeMessage(this,r)}toJsonString(e){var n;const i=this.toJson(e);return JSON.stringify(i,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function A4(t,e,n,i){var r;const a=(r=i?.localName)!==null&&r!==void 0?r:e.substring(e.lastIndexOf(".")+1),c={[a]:function(h){t.util.initFields(this),t.util.initPartial(h,this)}}[a];return Object.setPrototypeOf(c.prototype,new Fe),Object.assign(c,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(h,d){return new c().fromBinary(h,d)},fromJson(h,d){return new c().fromJson(h,d)},fromJsonString(h,d){return new c().fromJsonString(h,d)},equals(h,d){return t.util.equals(c,h,d)}}),c}function I4(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function j0(t,e,n){for(let a=0;a<28;a=a+7){const c=t>>>a,h=!(!(c>>>7)&&e==0),d=(h?c|128:c)&255;if(n.push(d),!h)return}const i=t>>>28&15|(e&7)<<4,r=e>>3!=0;if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const c=e>>>a,h=!!(c>>>7),d=(h?c|128:c)&255;if(n.push(d),!h)return}n.push(e>>>31&1)}}const Rp=4294967296;function m_(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function a(c,h){const d=Number(t.slice(c,h));r*=n,i=i*n+d,i>=Rp&&(r=r+(i/Rp|0),i=i%Rp)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?d5(i,r):Dv(i,r)}function j4(t,e){let n=Dv(t,e);const i=n.hi&2147483648;i&&(n=d5(n.lo,n.hi));const r=u5(n.lo,n.hi);return i?"-"+r:r}function u5(t,e){if({lo:t,hi:e}=R4(t,e),e<=2097151)return String(Rp*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535;let a=n+i*6777216+r*6710656,c=i+r*8147497,h=r*2;const d=1e7;return a>=d&&(c+=Math.floor(a/d),a%=d),c>=d&&(h+=Math.floor(c/d),c%=d),h.toString()+g_(c)+g_(a)}function R4(t,e){return{lo:t>>>0,hi:e>>>0}}function Dv(t,e){return{lo:t|0,hi:e|0}}function d5(t,e){return e=~e,t?t=~t+1:e+=1,Dv(t,e)}const g_=t=>{const e=String(t);return"0000000".slice(e.length)+e};function y_(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function N4(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var x_={};function k4(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof x_!="object"||x_.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),c=BigInt("0"),h=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>a||p<r)throw new Error(`int64 invalid: ${d}`);return p},uParse(d){const p=typeof d=="bigint"?d:BigInt(d);if(p>h||p<c)throw new Error(`uint64 invalid: ${d}`);return p},enc(d){return t.setBigInt64(0,this.parse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(d){return t.setBigInt64(0,this.uParse(d),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigInt64(0,!0)},uDec(d,p){return t.setInt32(0,d,!0),t.setInt32(4,p,!0),t.getBigUint64(0,!0)}}}const n=r=>Xt(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>Xt(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),m_(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),m_(r)},dec(r,a){return j4(r,a)},uDec(r,a){return u5(r,a)}}}const Nt=k4();var de;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(de||(de={}));var Io;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(Io||(Io={}));function oo(t,e,n){if(e===n)return!0;if(t==de.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(t){case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return e==n}return!1}function Lc(t,e){switch(t){case de.BOOL:return!1;case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return e==0?Nt.zero:"0";case de.DOUBLE:case de.FLOAT:return 0;case de.BYTES:return new Uint8Array(0);case de.STRING:return"";default:return 0}}function h5(t,e){switch(t){case de.BOOL:return e===!1;case de.STRING:return e==="";case de.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var rn;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(rn||(rn={}));class P4{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Ex(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return jp(e),y_(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){s5(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){Ex(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){jp(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return jp(e),e=(e<<1^e>>31)>>>0,y_(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Nt.enc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Nt.uEnc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=Nt.enc(e);return j0(n.lo,n.hi,this.buf),this}sint64(e){let n=Nt.enc(e),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return j0(r,a,this.buf),this}uint64(e){let n=Nt.uEnc(e);return j0(n.lo,n.hi,this.buf),this}}class D4{constructor(e,n){this.varint64=I4,this.uint32=N4,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case rn.Varint:for(;this.buf[this.pos++]&128;);break;case rn.Bit64:this.pos+=4;case rn.Bit32:this.pos+=4;break;case rn.LengthDelimited:let r=this.uint32();this.pos+=r;break;case rn.StartGroup:for(;;){const[a,c]=this.tag();if(c===rn.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(c,a)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Nt.dec(...this.varint64())}uint64(){return Nt.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,Nt.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Nt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Nt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function O4(t,e,n,i){let r;return{typeName:e,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=e.split(".").pop(),a.jsonName=`[${e}]`,r=t.util.newFieldList([a]).list()[0]}return r},runtime:t}}function f5(t){const e=t.field.localName,n=Object.create(null);return n[e]=M4(t),[n,()=>n[e]]}function M4(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return Lc(e.T,e.L);case"message":const n=e.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function L4(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Dm=[];for(let t=0;t<rs.length;t++)Dm[rs[t].charCodeAt(0)]=t;Dm[45]=rs.indexOf("+");Dm[95]=rs.indexOf("/");const Om={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,r=0,a,c=0;for(let h=0;h<t.length;h++){if(a=Dm[t.charCodeAt(h)],a===void 0)switch(t[h]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:c=a,r=1;break;case 1:n[i++]=c<<2|(a&48)>>4,c=a,r=2;break;case 2:n[i++]=(c&15)<<4|(a&60)>>2,c=a,r=3;break;case 3:n[i++]=(c&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(t){let e="",n=0,i,r=0;for(let a=0;a<t.length;a++)switch(i=t[a],n){case 0:e+=rs[i>>2],r=(i&3)<<4,n=1;break;case 1:e+=rs[r|i>>4],r=(i&15)<<2,n=2;break;case 2:e+=rs[r|i>>6],e+=rs[i&63],n=0;break}return n&&(e+=rs[r],e+="=",n==1&&(e+="=")),e}};function V4(t,e,n){m5(e,t);const i=e.runtime.bin.makeReadOptions(n),r=L4(t.getType().runtime.bin.listUnknownFields(t),e.field),[a,c]=f5(e);for(const h of r)e.runtime.bin.readField(a,i.readerFactory(h.data),e.field,h.wireType,i);return c()}function F4(t,e,n,i){m5(e,t);const r=e.runtime.bin.makeReadOptions(i),a=e.runtime.bin.makeWriteOptions(i);if(p5(t,e)){const p=t.getType().runtime.bin.listUnknownFields(t).filter(m=>m.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const m of p)t.getType().runtime.bin.onUnknownField(t,m.no,m.wireType,m.data)}const c=a.writerFactory();let h=e.field;!h.opt&&!h.repeated&&(h.kind=="enum"||h.kind=="scalar")&&(h=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(h,n,c,a);const d=r.readerFactory(c.finish());for(;d.pos<d.len;){const[p,m]=d.tag(),x=d.skip(m,p);t.getType().runtime.bin.onUnknownField(t,p,m,x)}}function p5(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(i=>i.no==e.field.no)}function m5(t,e){Xt(t.extendee.typeName==e.getType().typeName,`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}function g5(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!h5(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function v_(t,e){const n=t.localName,i=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=i?t.T.values[0].no:void 0;break;case"scalar":e[n]=i?Lc(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function ss(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(Fe.prototype).every(i=>i in t&&typeof t[i]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function y5(t,e){return ss(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}de.DOUBLE,de.FLOAT,de.INT64,de.UINT64,de.INT32,de.UINT32,de.BOOL,de.STRING,de.BYTES;const b_={ignoreUnknownFields:!1},S_={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function B4(t){return t?Object.assign(Object.assign({},b_),t):b_}function z4(t){return t?Object.assign(Object.assign({},S_),t):S_}const Zp=Symbol(),Np=Symbol();function U4(){return{makeReadOptions:B4,makeWriteOptions:z4,readMessage(t,e,n,i){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${vr(e)}`);i=i??new t;const r=new Map,a=n.typeRegistry;for(const[c,h]of Object.entries(e)){const d=t.fields.findJsonName(c);if(d){if(d.oneof){if(h===null&&d.kind=="scalar")continue;const p=r.get(d.oneof);if(p!==void 0)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${d.oneof.name}" present: "${p}", "${c}"`);r.set(d.oneof,c)}w_(i,h,d,n,t)}else{let p=!1;if(a?.findExtension&&c.startsWith("[")&&c.endsWith("]")){const m=a.findExtension(c.substring(1,c.length-1));if(m&&m.extendee.typeName==t.typeName){p=!0;const[x,v]=f5(m);w_(x,h,m.field,n,m),F4(i,m,v(),n)}}if(!p&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${c}" is unknown`)}}return i},writeMessage(t,e){const n=t.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!g5(r,t)){if(r.req)throw"required field not set";if(!e.emitDefaultValues||!$4(r))continue}const c=r.oneof?t[r.oneof.localName].value:t[r.localName],h=__(r,c,e);h!==void 0&&(i[e.useProtoFieldName?r.name:r.jsonName]=h)}const a=e.typeRegistry;if(a?.findExtensionFor)for(const c of n.runtime.bin.listUnknownFields(t)){const h=a.findExtensionFor(n.typeName,c.no);if(h&&p5(t,h)){const d=V4(t,h,e),p=__(h.field,d,e);p!==void 0&&(i[h.field.jsonName]=p)}}}catch(a){const c=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,h=a instanceof Error?a.message:String(a);throw new Error(c+(h.length>0?`: ${h}`:""))}return i},readScalar(t,e,n){return Bd(t,e,n??Io.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||h5(t,e)))return kp(t,e)},debug:vr}}function vr(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return String(t)}}function w_(t,e,n,i,r){let a=n.localName;if(n.repeated){if(Xt(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${vr(e)}`);const c=t[a];for(const h of e){if(h===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${vr(h)}`);switch(n.kind){case"message":c.push(n.T.fromJson(h,i));break;case"enum":const d=R0(n.T,h,i.ignoreUnknownFields,!0);d!==Np&&c.push(d);break;case"scalar":try{c.push(Bd(n.T,h,n.L,!0))}catch(p){let m=`cannot decode field ${r.typeName}.${n.name} from JSON: ${vr(h)}`;throw p instanceof Error&&p.message.length>0&&(m+=`: ${p.message}`),new Error(m)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${vr(e)}`);const c=t[a];for(const[h,d]of Object.entries(e)){if(d===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let p;try{p=H4(n.K,h)}catch(m){let x=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${vr(e)}`;throw m instanceof Error&&m.message.length>0&&(x+=`: ${m.message}`),new Error(x)}switch(n.V.kind){case"message":c[p]=n.V.T.fromJson(d,i);break;case"enum":const m=R0(n.V.T,d,i.ignoreUnknownFields,!0);m!==Np&&(c[p]=m);break;case"scalar":try{c[p]=Bd(n.V.T,d,Io.BIGINT,!0)}catch(x){let v=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${vr(e)}`;throw x instanceof Error&&x.message.length>0&&(v+=`: ${x.message}`),new Error(v)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const c=n.T;if(e===null&&c.typeName!="google.protobuf.Value")return;let h=t[a];ss(h)?h.fromJson(e,i):(t[a]=h=c.fromJson(e,i),c.fieldWrapper&&!n.oneof&&(t[a]=c.fieldWrapper.unwrapField(h)));break;case"enum":const d=R0(n.T,e,i.ignoreUnknownFields,!1);switch(d){case Zp:v_(n,t);break;case Np:break;default:t[a]=d;break}break;case"scalar":try{const p=Bd(n.T,e,n.L,!1);p===Zp?v_(n,t):t[a]=p}catch(p){let m=`cannot decode field ${r.typeName}.${n.name} from JSON: ${vr(e)}`;throw p instanceof Error&&p.message.length>0&&(m+=`: ${p.message}`),new Error(m)}break}}function H4(t,e){if(t===de.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return Bd(t,e,Io.BIGINT,!0).toString()}function Bd(t,e,n,i){if(e===null)return i?Lc(t,n):Zp;switch(t){case de.DOUBLE:case de.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==de.FLOAT&&s5(r),r;case de.INT32:case de.FIXED32:case de.SFIXED32:case de.SINT32:case de.UINT32:let a;if(typeof e=="number"?a=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(a=Number(e)),a===void 0)break;return t==de.UINT32||t==de.FIXED32?Ex(a):jp(a),a;case de.INT64:case de.SFIXED64:case de.SINT64:if(typeof e!="number"&&typeof e!="string")break;const c=Nt.parse(e);return n?c.toString():c;case de.FIXED64:case de.UINT64:if(typeof e!="number"&&typeof e!="string")break;const h=Nt.uParse(e);return n?h.toString():h;case de.BOOL:if(typeof e!="boolean")break;return e;case de.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case de.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return Om.dec(e)}throw new Error}function R0(t,e,n,i){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:i?t.values[0].no:Zp;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.findName(e);if(r!==void 0)return r.no;if(n)return Np;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${vr(e)}`)}function $4(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function __(t,e,n){if(t.kind=="map"){Xt(typeof e=="object"&&e!=null);const i={},r=Object.entries(e);switch(t.V.kind){case"scalar":for(const[c,h]of r)i[c.toString()]=kp(t.V.T,h);break;case"message":for(const[c,h]of r)i[c.toString()]=h.toJson(n);break;case"enum":const a=t.V.T;for(const[c,h]of r)i[c.toString()]=N0(a,h,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(t.repeated){Xt(Array.isArray(e));const i=[];switch(t.kind){case"scalar":for(let r=0;r<e.length;r++)i.push(kp(t.T,e[r]));break;case"enum":for(let r=0;r<e.length;r++)i.push(N0(t.T,e[r],n.enumAsInteger));break;case"message":for(let r=0;r<e.length;r++)i.push(e[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(t.kind){case"scalar":return kp(t.T,e);case"enum":return N0(t.T,e,n.enumAsInteger);case"message":return y5(t.T,e).toJson(n)}}function N0(t,e,n){var i;if(Xt(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const r=t.findNumber(e);return(i=r?.name)!==null&&i!==void 0?i:e}function kp(t,e){switch(t){case de.INT32:case de.SFIXED32:case de.SINT32:case de.FIXED32:case de.UINT32:return Xt(typeof e=="number"),e;case de.FLOAT:case de.DOUBLE:return Xt(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case de.STRING:return Xt(typeof e=="string"),e;case de.BOOL:return Xt(typeof e=="boolean"),e;case de.UINT64:case de.FIXED64:case de.INT64:case de.SFIXED64:case de.SINT64:return Xt(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case de.BYTES:return Xt(e instanceof Uint8Array),Om.enc(e)}}const Hl=Symbol("@bufbuild/protobuf/unknown-fields"),T_={readUnknownFields:!0,readerFactory:t=>new D4(t)},E_={writeUnknownFields:!0,writerFactory:()=>new P4};function G4(t){return t?Object.assign(Object.assign({},T_),t):T_}function q4(t){return t?Object.assign(Object.assign({},E_),t):E_}function W4(){return{makeReadOptions:G4,makeWriteOptions:q4,listUnknownFields(t){var e;return(e=t[Hl])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[Hl]},writeUnknownFields(t,e){const i=t[Hl];if(i)for(const r of i)e.tag(r.no,r.wireType).raw(r.data)},onUnknownField(t,e,n,i){const r=t;Array.isArray(r[Hl])||(r[Hl]=[]),r[Hl].push({no:e,wireType:n,data:i})},readMessage(t,e,n,i,r){const a=t.getType(),c=r?e.len:e.pos+n;let h,d;for(;e.pos<c&&([h,d]=e.tag(),!(r===!0&&d==rn.EndGroup));){const p=a.fields.find(h);if(!p){const m=e.skip(d,h);i.readUnknownFields&&this.onUnknownField(t,h,d,m);continue}C_(t,e,p,d,i)}if(r&&(d!=rn.EndGroup||h!==n))throw new Error("invalid end group tag")},readField:C_,writeMessage(t,e,n){const i=t.getType();for(const r of i.fields.byNumber()){if(!g5(r,t)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?t[r.oneof.localName].value:t[r.localName];A_(r,a,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,i){e!==void 0&&A_(t,e,n,i)}}}function C_(t,e,n,i,r){let{repeated:a,localName:c}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=c&&delete t.value,t.case=c,c="value"),n.kind){case"scalar":case"enum":const h=n.kind=="enum"?de.INT32:n.T;let d=em;if(n.kind=="scalar"&&n.L>0&&(d=Y4),a){let v=t[c];if(i==rn.LengthDelimited&&h!=de.STRING&&h!=de.BYTES){let w=e.uint32()+e.pos;for(;e.pos<w;)v.push(d(e,h))}else v.push(d(e,h))}else t[c]=d(e,h);break;case"message":const p=n.T;a?t[c].push(Pp(e,new p,r,n)):ss(t[c])?Pp(e,t[c],r,n):(t[c]=Pp(e,new p,r,n),p.fieldWrapper&&!n.oneof&&!n.repeated&&(t[c]=p.fieldWrapper.unwrapField(t[c])));break;case"map":let[m,x]=K4(n,e,r);t[c][m]=x;break}}function Pp(t,e,n,i){const r=e.getType().runtime.bin,a=i?.delimited;return r.readMessage(e,t,a?i.no:t.uint32(),n,a),e}function K4(t,e,n){const i=e.uint32(),r=e.pos+i;let a,c;for(;e.pos<r;){const[h]=e.tag();switch(h){case 1:a=em(e,t.K);break;case 2:switch(t.V.kind){case"scalar":c=em(e,t.V.T);break;case"enum":c=e.int32();break;case"message":c=Pp(e,new t.V.T,n,void 0);break}break}}if(a===void 0&&(a=Lc(t.K,Io.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),c===void 0)switch(t.V.kind){case"scalar":c=Lc(t.V.T,Io.BIGINT);break;case"enum":c=t.V.T.values[0].no;break;case"message":c=new t.V.T;break}return[a,c]}function Y4(t,e){const n=em(t,e);return typeof n=="bigint"?n.toString():n}function em(t,e){switch(e){case de.STRING:return t.string();case de.BOOL:return t.bool();case de.DOUBLE:return t.double();case de.FLOAT:return t.float();case de.INT32:return t.int32();case de.INT64:return t.int64();case de.UINT64:return t.uint64();case de.FIXED64:return t.fixed64();case de.BYTES:return t.bytes();case de.FIXED32:return t.fixed32();case de.SFIXED32:return t.sfixed32();case de.SFIXED64:return t.sfixed64();case de.SINT64:return t.sint64();case de.UINT32:return t.uint32();case de.SINT32:return t.sint32()}}function A_(t,e,n,i){Xt(e!==void 0);const r=t.repeated;switch(t.kind){case"scalar":case"enum":let a=t.kind=="enum"?de.INT32:t.T;if(r)if(Xt(Array.isArray(e)),t.packed)J4(n,a,t.no,e);else for(const c of e)zd(n,a,t.no,c);else zd(n,a,t.no,e);break;case"message":if(r){Xt(Array.isArray(e));for(const c of e)I_(n,i,t,c)}else I_(n,i,t,e);break;case"map":Xt(typeof e=="object"&&e!=null);for(const[c,h]of Object.entries(e))Q4(n,i,t,c,h);break}}function Q4(t,e,n,i,r){t.tag(n.no,rn.LengthDelimited),t.fork();let a=i;switch(n.K){case de.INT32:case de.FIXED32:case de.UINT32:case de.SFIXED32:case de.SINT32:a=Number.parseInt(i);break;case de.BOOL:Xt(i=="true"||i=="false"),a=i=="true";break}switch(zd(t,n.K,1,a),n.V.kind){case"scalar":zd(t,n.V.T,2,r);break;case"enum":zd(t,de.INT32,2,r);break;case"message":Xt(r!==void 0),t.tag(2,rn.LengthDelimited).bytes(r.toBinary(e));break}t.join()}function I_(t,e,n,i){const r=y5(n.T,i);n.delimited?t.tag(n.no,rn.StartGroup).raw(r.toBinary(e)).tag(n.no,rn.EndGroup):t.tag(n.no,rn.LengthDelimited).bytes(r.toBinary(e))}function zd(t,e,n,i){Xt(i!==void 0);let[r,a]=x5(e);t.tag(n,r)[a](i)}function J4(t,e,n,i){if(!i.length)return;t.tag(n,rn.LengthDelimited).fork();let[,r]=x5(e);for(let a=0;a<i.length;a++)t[r](i[a]);t.join()}function x5(t){let e=rn.Varint;switch(t){case de.BYTES:case de.STRING:e=rn.LengthDelimited;break;case de.DOUBLE:case de.FIXED64:case de.SFIXED64:e=rn.Bit64;break;case de.FIXED32:case de.SFIXED32:case de.FLOAT:e=rn.Bit32;break}const n=de[t].toLowerCase();return[e,n]}function X4(){return{setEnumType:a5,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const i of n.fields.byMember()){const r=i.localName,a=e,c=t;if(c[r]!=null)switch(i.kind){case"oneof":const h=c[r].case;if(h===void 0)continue;const d=i.findField(h);let p=c[r].value;d&&d.kind=="message"&&!ss(p,d.T)?p=new d.T(p):d&&d.kind==="scalar"&&d.T===de.BYTES&&(p=gd(p)),a[r]={case:h,value:p};break;case"scalar":case"enum":let m=c[r];i.T===de.BYTES&&(m=i.repeated?m.map(gd):gd(m)),a[r]=m;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===de.BYTES)for(const[S,w]of Object.entries(c[r]))a[r][S]=gd(w);else Object.assign(a[r],c[r]);break;case"message":const v=i.V.T;for(const S of Object.keys(c[r])){let w=c[r][S];v.fieldWrapper||(w=new v(w)),a[r][S]=w}break}break;case"message":const x=i.T;if(i.repeated)a[r]=c[r].map(v=>ss(v,x)?v:new x(v));else{const v=c[r];x.fieldWrapper?x.typeName==="google.protobuf.BytesValue"?a[r]=gd(v):a[r]=v:a[r]=ss(v,x)?v:new x(v)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(i=>{const r=e[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((c,h)=>i.T.equals(c,a[h]));case"scalar":return r.every((c,h)=>oo(i.T,c,a[h]));case"enum":return r.every((c,h)=>oo(de.INT32,c,a[h]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let c=r,h=a;return i.T.fieldWrapper&&(c!==void 0&&!ss(c)&&(c=i.T.fieldWrapper.wrapField(c)),h!==void 0&&!ss(h)&&(h=i.T.fieldWrapper.wrapField(h))),i.T.equals(c,h);case"enum":return oo(de.INT32,r,a);case"scalar":return oo(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const d=i.findField(r.case);if(d===void 0)return!0;switch(d.kind){case"message":return d.T.equals(r.value,a.value);case"enum":return oo(de.INT32,r.value,a.value);case"scalar":return oo(d.T,r.value,a.value)}throw new Error(`oneof cannot contain ${d.kind}`);case"map":const p=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const m=i.V.T;return p.every(v=>m.equals(r[v],a[v]));case"enum":return p.every(v=>oo(de.INT32,r[v],a[v]));case"scalar":const x=i.V.T;return p.every(v=>oo(x,r[v],a[v]))}break}})},clone(t){const e=t.getType(),n=new e,i=n;for(const r of e.fields.byMember()){const a=t[r.localName];let c;if(r.repeated)c=a.map(lp);else if(r.kind=="map"){c=i[r.localName];for(const[h,d]of Object.entries(a))c[h]=lp(d)}else r.kind=="oneof"?c=r.findField(a.case)?{case:a.case,value:lp(a.value)}:{case:void 0}:c=lp(a);i[r.localName]=c}for(const r of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function lp(t){if(t===void 0)return t;if(ss(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function gd(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Z4(t,e,n){return{syntax:t,json:U4(),bin:W4(),util:Object.assign(Object.assign({},X4()),{newFieldList:e,initFields:n}),makeMessageType(i,r,a){return A4(this,i,r,a)},makeEnum:C4,makeEnumType:l5,getEnumType:E4,makeExtension(i,r,a){return O4(this,i,r,a)}}}class eO{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}}function v5(t,e){const n=b5(t);return e?n:oO(sO(n))}function tO(t){return v5(t,!1)}const nO=b5;function b5(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const iO=new Set(["constructor","toString","toJSON","valueOf"]),rO=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),S5=t=>`${t}$`,sO=t=>rO.has(t)?S5(t):t,oO=t=>iO.has(t)?S5(t):t;class aO{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=tO(e)}addField(e){Xt(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function lO(t,e){var n,i,r,a,c,h;const d=[];let p;for(const m of typeof t=="function"?t():t){const x=m;if(x.localName=v5(m.name,m.oneof!==void 0),x.jsonName=(n=m.jsonName)!==null&&n!==void 0?n:nO(m.name),x.repeated=(i=m.repeated)!==null&&i!==void 0?i:!1,m.kind=="scalar"&&(x.L=(r=m.L)!==null&&r!==void 0?r:Io.BIGINT),x.delimited=(a=m.delimited)!==null&&a!==void 0?a:!1,x.req=(c=m.req)!==null&&c!==void 0?c:!1,x.opt=(h=m.opt)!==null&&h!==void 0?h:!1,m.packed===void 0&&(x.packed=m.kind=="enum"||m.kind=="scalar"&&m.T!=de.BYTES&&m.T!=de.STRING),m.oneof!==void 0){const v=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!p||p.name!=v)&&(p=new aO(v)),x.oneof=p,p.addField(x)}d.push(x)}return d}const Y=Z4("proto3",t=>new eO(t,e=>lO(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,i=t;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Lc(e.T,e.L);break}}});var vt;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(vt||(vt={}));var Cx;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(Cx||(Cx={}));function cO(...t){const e=new Headers;for(const n of t)n.forEach((i,r)=>{e.append(r,i)});return e}function uO(t,e){const n={};for(const[i,r]of Object.entries(t.methods)){const a=e(Object.assign(Object.assign({},r),{localName:i,service:t}));a!=null&&(n[i]=a)}return n}const j_=1;function dO(t){let e,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){e=t.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let d=0;for(let p=1;p<5;p++)d=(d<<8)+n[p];a={flags:n[0],length:d}}if(a!==void 0&&n.byteLength>=a.length+5)break;const h=await e.read();if(h.done)break;i(h.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new fn("premature end of stream",At.DataLoss));return}const c=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:c})}})}function hO(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,t),i.setUint32(1,e.length),n}var fO=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,d){c=t[a](c),r(h,d,c.done,c.value)})}}function r(a,c,h,d){Promise.resolve(d).then(function(p){a({value:p,done:h})},c)}},th=function(t){return this instanceof th?(this.v=t,this):new th(t)},pO=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,O){a.push([S,E,T,O])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(a[0][3],E)}}function p(S){S.value instanceof th?Promise.resolve(S.value.v).then(m,x):v(a[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),a.shift(),a.length&&d(a[0][0],a[0][1])}},mO=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=t[r]?function(c){return(n=!n)?{value:th(t[r](c)),done:!1}:a?a(c):c}:a}};function gO(t){return pO(this,arguments,function*(){yield th(yield*mO(fO(t)))})}var w5=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(c){return new Promise(function(h,d){c=t[a](c),r(h,d,c.done,c.value)})}}function r(a,c,h,d){Promise.resolve(d).then(function(p){a({value:p,done:h})},c)}},Vc=function(t){return this instanceof Vc?(this.v=t,this):new Vc(t)},yO=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=t[r]?function(c){return(n=!n)?{value:Vc(t[r](c)),done:!1}:a?a(c):c}:a}},xO=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,O){a.push([S,E,T,O])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(a[0][3],E)}}function p(S){S.value instanceof Vc?Promise.resolve(S.value.v).then(m,x):v(a[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),a.shift(),a.length&&d(a[0][0],a[0][1])}};function vO(t,e){return uO(t,n=>{switch(n.kind){case vt.Unary:return bO(e,t,n);case vt.ServerStreaming:return SO(e,t,n);case vt.ClientStreaming:return wO(e,t,n);case vt.BiDiStreaming:return _O(e,t,n);default:return null}})}function _5(t,e){return vO(t,e)}function bO(t,e,n){return async function(i,r){var a,c;const h=await t.unary(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues);return(a=r?.onHeader)===null||a===void 0||a.call(r,h.header),(c=r?.onTrailer)===null||c===void 0||c.call(r,h.trailer),h.message}}function SO(t,e,n){return function(i,r){return T5(t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,gO([i]),r?.contextValues),r)}}function wO(t,e,n){return async function(i,r){var a,c,h,d,p,m;const x=await t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues);(p=r?.onHeader)===null||p===void 0||p.call(r,x.header);let v,S=0;try{for(var w=!0,E=w5(x.message),T;T=await E.next(),a=T.done,!a;w=!0)d=T.value,w=!1,v=d,S++}catch(O){c={error:O}}finally{try{!w&&!a&&(h=E.return)&&await h.call(E)}finally{if(c)throw c.error}}if(!v)throw new fn("protocol error: missing response message",At.Unimplemented);if(S>1)throw new fn("protocol error: received extra messages for client streaming method",At.Unimplemented);return(m=r?.onTrailer)===null||m===void 0||m.call(r,x.trailer),v}}function _O(t,e,n){return function(i,r){return T5(t.stream(e,n,r?.signal,r?.timeoutMs,r?.headers,i,r?.contextValues),r)}}function T5(t,e){const n=(function(){return xO(this,arguments,function*(){var i,r;const a=yield Vc(t);(i=e?.onHeader)===null||i===void 0||i.call(e,a.header),yield Vc(yield*yO(w5(a.message))),(r=e?.onTrailer)===null||r===void 0||r.call(e,a.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function TO(...t){const e=new AbortController,n=t.filter(r=>r!==void 0).concat(e.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(E5(this));for(const r of n)r.removeEventListener("abort",i)}return e}function EO(t){const e=new AbortController,n=()=>{e.abort(new fn("the operation timed out",At.DeadlineExceeded))};let i;return t!==void 0&&(t<=0?n():i=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function E5(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function R_(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function N_(t,e,n){const i=typeof e=="string"?e:e.typeName,r=typeof n=="string"?n:n.name;return t.toString().replace(/\/?$/,`/${i}/${r}`)}function C5(t,e){return e instanceof t?e:new t(e)}function CO(t,e){function n(i){return i.done===!0?i:{done:i.done,value:C5(t,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function A5(t,e){var n;return(n=e?.concat().reverse().reduce((i,r)=>r(i),t))!==null&&n!==void 0?n:t}function I5(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function k_(t,e,n,i){const r=e?P_(t.I,i):D_(t.I,n);return{parse:(e?P_(t.O,i):D_(t.O,n)).parse,serialize:r.serialize}}function P_(t,e){return{parse(n){try{return t.fromBinary(n,e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new fn(`parse binary: ${r}`,At.Internal)}},serialize(n){try{return n.toBinary(e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new fn(`serialize binary: ${r}`,At.Internal)}}}}function D_(t,e){var n,i;const r=(n=e?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=e?.textDecoder)!==null&&i!==void 0?i:new TextDecoder,c=I5(e);return{parse(h){try{const d=a.decode(h);return t.fromJsonString(d,c)}catch(d){throw fn.from(d,At.InvalidArgument)}},serialize(h){try{const d=h.toJsonString(c);return r.encode(d)}catch(d){throw fn.from(d,At.Internal)}}}}const AO=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,IO="application/proto",jO="application/json",RO="application/connect+proto",NO="application/connect+json";function kO(t){const e=t?.match(AO);if(!e)return;const n=!!e[1],i=!!e[3];return{stream:n,binary:i}}function j5(t,e,n){var i;if(e&&new Headers(e).forEach((h,d)=>n.metadata.append(d,h)),typeof t!="object"||t==null||Array.isArray(t))throw n;let r=n.code;"code"in t&&typeof t.code=="string"&&(r=(i=x4(t.code))!==null&&i!==void 0?i:r);const a=t.message;if(a!=null&&typeof a!="string")throw n;const c=new fn(a??"",r,e);if("details"in t&&Array.isArray(t.details))for(const h of t.details){if(h===null||typeof h!="object"||Array.isArray(h)||typeof h.type!="string"||typeof h.value!="string")throw n;try{c.details.push({type:h.type,value:Om.dec(h.value),debug:h.debug})}catch{throw n}}return c}const O_=2;function PO(t){const e=new fn("invalid end stream",At.Unknown);let n;try{n=JSON.parse(typeof t=="string"?t:new TextDecoder().decode(t))}catch{throw e}if(typeof n!="object"||n==null||Array.isArray(n))throw e;const i=new Headers;if("metadata"in n){if(typeof n.metadata!="object"||n.metadata==null||Array.isArray(n.metadata))throw e;for(const[a,c]of Object.entries(n.metadata)){if(!Array.isArray(c)||c.some(h=>typeof h!="string"))throw e;for(const h of c)i.append(a,h)}}const r="error"in n&&n.error!=null?j5(n.error,i,e):void 0;return{metadata:i,error:r}}const tm="Content-Type",DO="Content-Length",M_="Content-Encoding",OO="Accept-Encoding",MO="Connect-Timeout-Ms",R5="Connect-Protocol-Version";function LO(t){switch(t){case 400:return At.Internal;case 401:return At.Unauthenticated;case 403:return At.PermissionDenied;case 404:return At.Unimplemented;case 429:return At.Unavailable;case 502:return At.Unavailable;case 503:return At.Unavailable;case 504:return At.Unavailable;default:return At.Unknown}}function L_(t){const e=new Headers,n=new Headers;return t.forEach((i,r)=>{r.toLowerCase().startsWith("trailer-")?n.append(r.substring(8),i):e.append(r,i)}),[e,n]}const N5="1";function V_(t,e,n,i,r){const a=new Headers(i??{});return n!==void 0&&a.set(MO,`${n}`),a.set(tm,t==vt.Unary?e?IO:jO:e?RO:NO),a.set(R5,N5),a}function F_(t,e,n,i){const r=i.get(tm),a=kO(r);if(n!==200){const h=new fn(`HTTP ${n}`,LO(n),i);if(t==vt.Unary&&a&&!a.binary)return{isUnaryError:!0,unaryError:h};throw h}const c={binary:e,stream:t!==vt.Unary};if(a?.binary!==c.binary||a.stream!==c.stream)throw new fn(`unsupported content type ${r}`,a===void 0?At.Unknown:At.Internal,i);return{isUnaryError:!1}}const B_="application/";function VO(t,e){return e?Om.enc(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(t))}function FO(t,e,n){let i=`?connect=v${N5}`;const r=t.header.get(tm);r?.indexOf(B_)===0&&(i+="&encoding="+encodeURIComponent(r.slice(B_.length)));const a=t.header.get(M_);a!==null&&a!=="identity"&&(i+="&compression="+encodeURIComponent(a),n=!0),n&&(i+="&base64=1"),i+="&message="+VO(e,n);const c=t.url+i,h=new Headers(t.header);return[R5,tm,DO,M_,OO].forEach(d=>h.delete(d)),Object.assign(Object.assign({},t),{init:Object.assign(Object.assign({},t.init),{method:"GET"}),url:c,header:h})}function BO(t){const e=A5(t.next,t.interceptors),[n,i,r]=k5(t),a=Object.assign(Object.assign({},t.req),{message:C5(t.req.method.I,t.req.message),signal:n});return e(a).then(c=>(r(),c),i)}function zO(t){const e=A5(t.next,t.interceptors),[n,i,r]=k5(t),a=Object.assign(Object.assign({},t.req),{message:CO(t.req.method.I,t.req.message),signal:n});let c=!1;return n.addEventListener("abort",function(){var h,d;const p=t.req.message[Symbol.asyncIterator]();c||(h=p.throw)===null||h===void 0||h.call(p,this.reason).catch(()=>{}),(d=p.return)===null||d===void 0||d.call(p).catch(()=>{})}),e(a).then(h=>Object.assign(Object.assign({},h),{message:{[Symbol.asyncIterator](){const d=h.message[Symbol.asyncIterator]();return{next(){return d.next().then(p=>(p.done==!0&&(c=!0,r()),p),i)}}}}}),i)}function k5(t){const{signal:e,cleanup:n}=EO(t.timeoutMs),i=TO(t.signal,e);return[i.signal,function(a){const c=fn.from(e.aborted?E5(e):a);return i.abort(c),n(),Promise.reject(c)},function(){n(),i.abort()}]}function UO(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var nh=function(t){return this instanceof nh?(this.v=t,this):new nh(t)},HO=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r={},h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(S){return function(w){return Promise.resolve(w).then(S,x)}}function h(S,w){i[S]&&(r[S]=function(E){return new Promise(function(T,O){a.push([S,E,T,O])>1||d(S,E)})},w&&(r[S]=w(r[S])))}function d(S,w){try{p(i[S](w))}catch(E){v(a[0][3],E)}}function p(S){S.value instanceof nh?Promise.resolve(S.value.v).then(m,x):v(a[0][2],S)}function m(S){d("next",S)}function x(S){d("throw",S)}function v(S,w){S(w),a.shift(),a.length&&d(a[0][0],a[0][1])}};function $O(t){var e;UO();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!1;return{async unary(i,r,a,c,h,d,p){var m;const{serialize:x,parse:v}=k_(r,n,t.jsonOptions,t.binaryOptions);return c=c===void 0?t.defaultTimeoutMs:c<=0?void 0:c,await BO({interceptors:t.interceptors,signal:a,timeoutMs:c,req:{stream:!1,service:i,method:r,url:N_(t.baseUrl,i,r),init:{method:"POST",credentials:(m=t.credentials)!==null&&m!==void 0?m:"same-origin",redirect:"error",mode:"cors"},header:V_(r.kind,n,c,h),contextValues:p??R_(),message:d},next:async S=>{var w;const E=t.useHttpGet===!0&&r.idempotency===Cx.NoSideEffects;let T=null;E?S=FO(S,x(S.message),n):T=x(S.message);const N=await((w=t.fetch)!==null&&w!==void 0?w:globalThis.fetch)(S.url,Object.assign(Object.assign({},S.init),{headers:S.header,signal:S.signal,body:T})),{isUnaryError:P,unaryError:B}=F_(r.kind,n,N.status,N.headers);if(P)throw j5(await N.json(),cO(...L_(N.headers)),B);const[W,K]=L_(N.headers);return{stream:!1,service:i,method:r,header:W,message:n?v(new Uint8Array(await N.arrayBuffer())):r.O.fromJson(await N.json(),I5(t.jsonOptions)),trailer:K}}})},async stream(i,r,a,c,h,d,p){var m;const{serialize:x,parse:v}=k_(r,n,t.jsonOptions,t.binaryOptions);function S(E,T,O,N){return HO(this,arguments,function*(){const B=dO(E).getReader();let W=!1;for(;;){const K=yield nh(B.read());if(K.done)break;const{flags:j,data:A}=K.value;if((j&j_)===j_)throw new fn("protocol error: received unsupported compressed output",At.Internal);if((j&O_)===O_){W=!0;const R=PO(A);if(R.error){const V=R.error;throw O.forEach((z,U)=>{V.metadata.append(U,z)}),V}R.metadata.forEach((V,z)=>T.set(z,V));continue}yield yield nh(v(A))}if("throwIfAborted"in N&&N.throwIfAborted(),!W)throw"missing EndStreamResponse"})}async function w(E){if(r.kind!=vt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const T=await E[Symbol.asyncIterator]().next();if(T.done==!0)throw"missing request message";return hO(0,x(T.value))}return c=c===void 0?t.defaultTimeoutMs:c<=0?void 0:c,await zO({interceptors:t.interceptors,timeoutMs:c,signal:a,req:{stream:!0,service:i,method:r,url:N_(t.baseUrl,i,r),init:{method:"POST",credentials:(m=t.credentials)!==null&&m!==void 0?m:"same-origin",redirect:"error",mode:"cors"},header:V_(r.kind,n,c,h),contextValues:p??R_(),message:d},next:async E=>{var T;const N=await((T=t.fetch)!==null&&T!==void 0?T:globalThis.fetch)(E.url,Object.assign(Object.assign({},E.init),{headers:E.header,signal:E.signal,body:await w(E.message)}));if(F_(r.kind,n,N.status,N.headers),N.body===null)throw"missing response body";const P=new Headers;return Object.assign(Object.assign({},E),{header:N.headers,trailer:P,message:S(N.body,P,N.headers,E.signal)})}})}}}var ir=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.DRAFT=1]="DRAFT",t[t.ACTIVE=2]="ACTIVE",t[t.SIGNED=3]="SIGNED",t[t.PAID=4]="PAID",t[t.ARCHIVED=5]="ARCHIVED",t[t.WAITING_FOR_COUNTERSIGN=6]="WAITING_FOR_COUNTERSIGN",t[t.FULLY_EXECUTED=7]="FULLY_EXECUTED",t))(ir||{});Y.util.setEnumType(ir,"sirsi.contracts.v1.ContractStatus",[{no:0,name:"CONTRACT_STATUS_UNSPECIFIED"},{no:1,name:"CONTRACT_STATUS_DRAFT"},{no:2,name:"CONTRACT_STATUS_ACTIVE"},{no:3,name:"CONTRACT_STATUS_SIGNED"},{no:4,name:"CONTRACT_STATUS_PAID"},{no:5,name:"CONTRACT_STATUS_ARCHIVED"},{no:6,name:"CONTRACT_STATUS_WAITING_FOR_COUNTERSIGN"},{no:7,name:"CONTRACT_STATUS_FULLY_EXECUTED"}]);class Ql extends Fe{userId="";clientName="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreatePlaidLinkTokenRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ql().fromBinary(e,n)}static fromJson(e,n){return new Ql().fromJson(e,n)}static fromJsonString(e,n){return new Ql().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ql,e,n)}}class Jl extends Fe{linkToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.PlaidLinkToken";static fields=Y.util.newFieldList(()=>[{no:1,name:"link_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Jl().fromBinary(e,n)}static fromJson(e,n){return new Jl().fromJson(e,n)}static fromJsonString(e,n){return new Jl().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Jl,e,n)}}class Xl extends Fe{publicToken="";contractId="";accountId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ExchangePlaidTokenRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"public_token",kind:"scalar",T:9},{no:2,name:"contract_id",kind:"scalar",T:9},{no:3,name:"account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new Xl().fromBinary(e,n)}static fromJson(e,n){return new Xl().fromJson(e,n)}static fromJsonString(e,n){return new Xl().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Xl,e,n)}}class Zl extends Fe{success=!1;stripeBankAccountToken="";message="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ExchangePlaidTokenResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8},{no:2,name:"stripe_bank_account_token",kind:"scalar",T:9},{no:3,name:"message",kind:"scalar",T:9}]);static fromBinary(e,n){return new Zl().fromBinary(e,n)}static fromJson(e,n){return new Zl().fromJson(e,n)}static fromJsonString(e,n){return new Zl().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Zl,e,n)}}class rr extends Fe{id="";projectId="";clientName="";clientEmail="";projectName="";totalAmount=Nt.zero;paymentPlans=[];theme;status=0;createdAt=Nt.zero;updatedAt=Nt.zero;createdBy="";countersignerName="";countersignerEmail="";countersignedAt=Nt.zero;stripeConnectAccountId="";signatureImageData="";signatureHash="";legalAcknowledgment=!1;clientTitle="";countersignerSignatureImageData="";countersignerSignatureHash="";countersignerSignedAt=Nt.zero;countersignerTitle="";selectedPaymentPlan=0;paymentMethod="";paidAmount=Nt.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.Contract";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"project_id",kind:"scalar",T:9},{no:3,name:"client_name",kind:"scalar",T:9},{no:4,name:"client_email",kind:"scalar",T:9},{no:5,name:"project_name",kind:"scalar",T:9},{no:6,name:"total_amount",kind:"scalar",T:3},{no:7,name:"payment_plans",kind:"message",T:va,repeated:!0},{no:8,name:"theme",kind:"message",T:yo},{no:9,name:"status",kind:"enum",T:Y.getEnumType(ir)},{no:10,name:"created_at",kind:"scalar",T:3},{no:11,name:"updated_at",kind:"scalar",T:3},{no:12,name:"created_by",kind:"scalar",T:9},{no:13,name:"countersigner_name",kind:"scalar",T:9},{no:14,name:"countersigner_email",kind:"scalar",T:9},{no:15,name:"countersigned_at",kind:"scalar",T:3},{no:20,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:16,name:"signature_image_data",kind:"scalar",T:9},{no:21,name:"signature_hash",kind:"scalar",T:9},{no:17,name:"legal_acknowledgment",kind:"scalar",T:8},{no:23,name:"client_title",kind:"scalar",T:9},{no:24,name:"countersigner_signature_image_data",kind:"scalar",T:9},{no:25,name:"countersigner_signature_hash",kind:"scalar",T:9},{no:26,name:"countersigner_signed_at",kind:"scalar",T:3},{no:27,name:"countersigner_title",kind:"scalar",T:9},{no:18,name:"selected_payment_plan",kind:"scalar",T:5},{no:19,name:"payment_method",kind:"scalar",T:9},{no:22,name:"paid_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new rr().fromBinary(e,n)}static fromJson(e,n){return new rr().fromJson(e,n)}static fromJsonString(e,n){return new rr().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(rr,e,n)}}class va extends Fe{id="";name="";description="";paymentCount=0;monthlyAmount=Nt.zero;totalAmount=Nt.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.PaymentPlan";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"payment_count",kind:"scalar",T:5},{no:5,name:"monthly_amount",kind:"scalar",T:3},{no:6,name:"total_amount",kind:"scalar",T:3}]);static fromBinary(e,n){return new va().fromBinary(e,n)}static fromJson(e,n){return new va().fromJson(e,n)}static fromJsonString(e,n){return new va().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(va,e,n)}}class yo extends Fe{primaryColor="";secondaryColor="";accentColor="";fontHeading="";fontBody="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.Theme";static fields=Y.util.newFieldList(()=>[{no:1,name:"primary_color",kind:"scalar",T:9},{no:2,name:"secondary_color",kind:"scalar",T:9},{no:3,name:"accent_color",kind:"scalar",T:9},{no:4,name:"font_heading",kind:"scalar",T:9},{no:5,name:"font_body",kind:"scalar",T:9}]);static fromBinary(e,n){return new yo().fromBinary(e,n)}static fromJson(e,n){return new yo().fromJson(e,n)}static fromJsonString(e,n){return new yo().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(yo,e,n)}}class ba extends Fe{projectId="";clientName="";clientEmail="";projectName="";totalAmount=Nt.zero;paymentPlans=[];theme;countersignerName="";countersignerEmail="";stripeConnectAccountId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreateContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"client_name",kind:"scalar",T:9},{no:3,name:"client_email",kind:"scalar",T:9},{no:4,name:"project_name",kind:"scalar",T:9},{no:5,name:"total_amount",kind:"scalar",T:3},{no:6,name:"payment_plans",kind:"message",T:va,repeated:!0},{no:7,name:"theme",kind:"message",T:yo},{no:8,name:"countersigner_name",kind:"scalar",T:9},{no:9,name:"countersigner_email",kind:"scalar",T:9},{no:10,name:"stripe_connect_account_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new ba().fromBinary(e,n)}static fromJson(e,n){return new ba().fromJson(e,n)}static fromJsonString(e,n){return new ba().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ba,e,n)}}class ec extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GetContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new ec().fromBinary(e,n)}static fromJson(e,n){return new ec().fromJson(e,n)}static fromJsonString(e,n){return new ec().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ec,e,n)}}class Sa extends Fe{projectId="";pageSize=0;pageToken="";userEmail="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ListContractsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"project_id",kind:"scalar",T:9},{no:2,name:"page_size",kind:"scalar",T:5},{no:3,name:"page_token",kind:"scalar",T:9},{no:4,name:"user_email",kind:"scalar",T:9}]);static fromBinary(e,n){return new Sa().fromBinary(e,n)}static fromJson(e,n){return new Sa().fromJson(e,n)}static fromJsonString(e,n){return new Sa().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Sa,e,n)}}class tc extends Fe{contracts=[];nextPageToken="";totalCount=0;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.ListContractsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"contracts",kind:"message",T:rr,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9},{no:3,name:"total_count",kind:"scalar",T:5}]);static fromBinary(e,n){return new tc().fromBinary(e,n)}static fromJson(e,n){return new tc().fromJson(e,n)}static fromJsonString(e,n){return new tc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(tc,e,n)}}class wa extends Fe{id="";contract;updateMask=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.UpdateContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"contract",kind:"message",T:rr},{no:3,name:"update_mask",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new wa().fromBinary(e,n)}static fromJson(e,n){return new wa().fromJson(e,n)}static fromJsonString(e,n){return new wa().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(wa,e,n)}}class nc extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.DeleteContractRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new nc().fromBinary(e,n)}static fromJson(e,n){return new nc().fromJson(e,n)}static fromJsonString(e,n){return new nc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(nc,e,n)}}class ic extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.DeleteContractResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new ic().fromBinary(e,n)}static fromJson(e,n){return new ic().fromJson(e,n)}static fromJsonString(e,n){return new ic().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ic,e,n)}}class rc extends Fe{contractId="";themeOverride;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GeneratePageRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"theme_override",kind:"message",T:yo}]);static fromBinary(e,n){return new rc().fromBinary(e,n)}static fromJson(e,n){return new rc().fromJson(e,n)}static fromJsonString(e,n){return new rc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(rc,e,n)}}class sc extends Fe{html="";previewUrl="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.GeneratePageResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"html",kind:"scalar",T:9},{no:2,name:"preview_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new sc().fromBinary(e,n)}static fromJson(e,n){return new sc().fromJson(e,n)}static fromJsonString(e,n){return new sc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(sc,e,n)}}class oc extends Fe{contractId="";planId="";successUrl="";cancelUrl="";stripeConnectAccountId="";paymentMethodTypes=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CreateCheckoutRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"contract_id",kind:"scalar",T:9},{no:2,name:"plan_id",kind:"scalar",T:9},{no:3,name:"success_url",kind:"scalar",T:9},{no:4,name:"cancel_url",kind:"scalar",T:9},{no:5,name:"stripe_connect_account_id",kind:"scalar",T:9},{no:6,name:"payment_method_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new oc().fromBinary(e,n)}static fromJson(e,n){return new oc().fromJson(e,n)}static fromJsonString(e,n){return new oc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(oc,e,n)}}class ac extends Fe{sessionId="";checkoutUrl="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.CheckoutSession";static fields=Y.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"checkout_url",kind:"scalar",T:9}]);static fromBinary(e,n){return new ac().fromBinary(e,n)}static fromJson(e,n){return new ac().fromJson(e,n)}static fromJsonString(e,n){return new ac().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ac,e,n)}}class lc extends Fe{subscriptionId="";eventTypes=[];constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.EventRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"subscription_id",kind:"scalar",T:9},{no:2,name:"event_types",kind:"scalar",T:9,repeated:!0}]);static fromBinary(e,n){return new lc().fromBinary(e,n)}static fromJson(e,n){return new lc().fromJson(e,n)}static fromJsonString(e,n){return new lc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(lc,e,n)}}class cc extends Fe{eventId="";eventType="";payload="";timestamp=Nt.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.contracts.v1.EventResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"event_id",kind:"scalar",T:9},{no:2,name:"event_type",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3}]);static fromBinary(e,n){return new cc().fromBinary(e,n)}static fromJson(e,n){return new cc().fromJson(e,n)}static fromJsonString(e,n){return new cc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(cc,e,n)}}const GO={typeName:"sirsi.contracts.v1.ContractsService",methods:{createContract:{name:"CreateContract",I:ba,O:rr,kind:vt.Unary},getContract:{name:"GetContract",I:ec,O:rr,kind:vt.Unary},listContracts:{name:"ListContracts",I:Sa,O:tc,kind:vt.Unary},updateContract:{name:"UpdateContract",I:wa,O:rr,kind:vt.Unary},deleteContract:{name:"DeleteContract",I:nc,O:ic,kind:vt.Unary},generatePage:{name:"GeneratePage",I:rc,O:sc,kind:vt.Unary},createCheckoutSession:{name:"CreateCheckoutSession",I:oc,O:ac,kind:vt.Unary},createPlaidLinkToken:{name:"CreatePlaidLinkToken",I:Ql,O:Jl,kind:vt.Unary},exchangePlaidToken:{name:"ExchangePlaidToken",I:Xl,O:Zl,kind:vt.Unary},streamEvents:{name:"StreamEvents",I:lc,O:cc,kind:vt.BiDiStreaming}}};class _a extends Fe{id="";name="";ownerName="";status="";createdAt=Nt.zero;updatedAt=Nt.zero;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.Estate";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"owner_name",kind:"scalar",T:9},{no:4,name:"status",kind:"scalar",T:9},{no:5,name:"created_at",kind:"scalar",T:3},{no:6,name:"updated_at",kind:"scalar",T:3}]);static fromBinary(e,n){return new _a().fromBinary(e,n)}static fromJson(e,n){return new _a().fromJson(e,n)}static fromJsonString(e,n){return new _a().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(_a,e,n)}}class uc extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListEstatesRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new uc().fromBinary(e,n)}static fromJson(e,n){return new uc().fromJson(e,n)}static fromJsonString(e,n){return new uc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(uc,e,n)}}class dc extends Fe{estates=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListEstatesResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"estates",kind:"message",T:_a,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new dc().fromBinary(e,n)}static fromJson(e,n){return new dc().fromJson(e,n)}static fromJsonString(e,n){return new dc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(dc,e,n)}}class hc extends Fe{id="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetEstateRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9}]);static fromBinary(e,n){return new hc().fromBinary(e,n)}static fromJson(e,n){return new hc().fromJson(e,n)}static fromJsonString(e,n){return new hc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(hc,e,n)}}class Ta extends Fe{developerId="";action="";metadata="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.LogDevSessionRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"developer_id",kind:"scalar",T:9},{no:2,name:"action",kind:"scalar",T:9},{no:3,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ta().fromBinary(e,n)}static fromJson(e,n){return new Ta().fromJson(e,n)}static fromJsonString(e,n){return new Ta().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ta,e,n)}}class fc extends Fe{sessionId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.LogDevSessionResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new fc().fromBinary(e,n)}static fromJson(e,n){return new fc().fromJson(e,n)}static fromJsonString(e,n){return new fc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(fc,e,n)}}class Ea extends Fe{userId="";role="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ManageUserRoleRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ea().fromBinary(e,n)}static fromJson(e,n){return new Ea().fromJson(e,n)}static fromJsonString(e,n){return new Ea().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ea,e,n)}}class pc extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ManageUserRoleResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new pc().fromBinary(e,n)}static fromJson(e,n){return new pc().fromJson(e,n)}static fromJsonString(e,n){return new pc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(pc,e,n)}}let qO=class Id extends Fe{id="";email="";name="";role="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.User";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"email",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"role",kind:"scalar",T:9}]);static fromBinary(e,n){return new Id().fromBinary(e,n)}static fromJson(e,n){return new Id().fromJson(e,n)}static fromJsonString(e,n){return new Id().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Id,e,n)}};class Ca extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListUsersRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ca().fromBinary(e,n)}static fromJson(e,n){return new Ca().fromJson(e,n)}static fromJsonString(e,n){return new Ca().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ca,e,n)}}class mc extends Fe{users=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListUsersResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"users",kind:"message",T:qO,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new mc().fromBinary(e,n)}static fromJson(e,n){return new mc().fromJson(e,n)}static fromJsonString(e,n){return new mc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(mc,e,n)}}class Aa extends Fe{recipientId="";title="";body="";type="";channel="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SendNotificationRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"recipient_id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"type",kind:"scalar",T:9},{no:5,name:"channel",kind:"scalar",T:9}]);static fromBinary(e,n){return new Aa().fromBinary(e,n)}static fromJson(e,n){return new Aa().fromJson(e,n)}static fromJsonString(e,n){return new Aa().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Aa,e,n)}}class gc extends Fe{notificationId="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SendNotificationResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"notification_id",kind:"scalar",T:9}]);static fromBinary(e,n){return new gc().fromBinary(e,n)}static fromJson(e,n){return new gc().fromJson(e,n)}static fromJsonString(e,n){return new gc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(gc,e,n)}}class Ia extends Fe{pageSize=0;pageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListNotificationsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new Ia().fromBinary(e,n)}static fromJson(e,n){return new Ia().fromJson(e,n)}static fromJsonString(e,n){return new Ia().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ia,e,n)}}class yc extends Fe{notifications=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListNotificationsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"notifications",kind:"message",T:WO,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new yc().fromBinary(e,n)}static fromJson(e,n){return new yc().fromJson(e,n)}static fromJsonString(e,n){return new yc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(yc,e,n)}}let WO=class jd extends Fe{id="";recipientId="";title="";body="";type="";sentAt=Nt.zero;status="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.Notification";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"recipient_id",kind:"scalar",T:9},{no:3,name:"title",kind:"scalar",T:9},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"type",kind:"scalar",T:9},{no:6,name:"sent_at",kind:"scalar",T:3},{no:7,name:"status",kind:"scalar",T:9}]);static fromBinary(e,n){return new jd().fromBinary(e,n)}static fromJson(e,n){return new jd().fromJson(e,n)}static fromJsonString(e,n){return new jd().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(jd,e,n)}},Ov=class Rd extends Fe{maintenanceMode=!1;activeRegion="";sirsiMultiplier=0;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.SystemSettings";static fields=Y.util.newFieldList(()=>[{no:1,name:"maintenance_mode",kind:"scalar",T:8},{no:2,name:"active_region",kind:"scalar",T:9},{no:3,name:"sirsi_multiplier",kind:"scalar",T:1}]);static fromBinary(e,n){return new Rd().fromBinary(e,n)}static fromJson(e,n){return new Rd().fromJson(e,n)}static fromJsonString(e,n){return new Rd().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Rd,e,n)}};class ja extends Fe{constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetSettingsRequest";static fields=Y.util.newFieldList(()=>[]);static fromBinary(e,n){return new ja().fromBinary(e,n)}static fromJson(e,n){return new ja().fromJson(e,n)}static fromJsonString(e,n){return new ja().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(ja,e,n)}}class xc extends Fe{settings;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.GetSettingsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Ov}]);static fromBinary(e,n){return new xc().fromBinary(e,n)}static fromJson(e,n){return new xc().fromJson(e,n)}static fromJsonString(e,n){return new xc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(xc,e,n)}}class Ra extends Fe{settings;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.UpdateSettingsRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"settings",kind:"message",T:Ov}]);static fromBinary(e,n){return new Ra().fromBinary(e,n)}static fromJson(e,n){return new Ra().fromJson(e,n)}static fromJsonString(e,n){return new Ra().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Ra,e,n)}}class vc extends Fe{success=!1;constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.UpdateSettingsResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"success",kind:"scalar",T:8}]);static fromBinary(e,n){return new vc().fromBinary(e,n)}static fromJson(e,n){return new vc().fromJson(e,n)}static fromJsonString(e,n){return new vc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(vc,e,n)}}class Na extends Fe{pageSize=0;pageToken="";filterLevel="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListAuditTrailRequest";static fields=Y.util.newFieldList(()=>[{no:1,name:"page_size",kind:"scalar",T:5},{no:2,name:"page_token",kind:"scalar",T:9},{no:3,name:"filter_level",kind:"scalar",T:9}]);static fromBinary(e,n){return new Na().fromBinary(e,n)}static fromJson(e,n){return new Na().fromJson(e,n)}static fromJsonString(e,n){return new Na().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Na,e,n)}}class bc extends Fe{logs=[];nextPageToken="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.ListAuditTrailResponse";static fields=Y.util.newFieldList(()=>[{no:1,name:"logs",kind:"message",T:Sc,repeated:!0},{no:2,name:"next_page_token",kind:"scalar",T:9}]);static fromBinary(e,n){return new bc().fromBinary(e,n)}static fromJson(e,n){return new bc().fromJson(e,n)}static fromJsonString(e,n){return new bc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(bc,e,n)}}class Sc extends Fe{id="";timestamp=Nt.zero;level="";source="";message="";user="";metadata="";constructor(e){super(),Y.util.initPartial(e,this)}static runtime=Y;static typeName="sirsi.admin.v1.AuditLogEntry";static fields=Y.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"level",kind:"scalar",T:9},{no:4,name:"source",kind:"scalar",T:9},{no:5,name:"message",kind:"scalar",T:9},{no:6,name:"user",kind:"scalar",T:9},{no:7,name:"metadata",kind:"scalar",T:9}]);static fromBinary(e,n){return new Sc().fromBinary(e,n)}static fromJson(e,n){return new Sc().fromJson(e,n)}static fromJsonString(e,n){return new Sc().fromJsonString(e,n)}static equals(e,n){return Y.util.equals(Sc,e,n)}}const KO={typeName:"sirsi.admin.v1.AdminService",methods:{listEstates:{name:"ListEstates",I:uc,O:dc,kind:vt.Unary},getEstate:{name:"GetEstate",I:hc,O:_a,kind:vt.Unary},logDevSession:{name:"LogDevSession",I:Ta,O:fc,kind:vt.Unary},manageUserRole:{name:"ManageUserRole",I:Ea,O:pc,kind:vt.Unary},listUsers:{name:"ListUsers",I:Ca,O:mc,kind:vt.Unary},sendNotification:{name:"SendNotification",I:Aa,O:gc,kind:vt.Unary},listNotifications:{name:"ListNotifications",I:Ia,O:yc,kind:vt.Unary},getSettings:{name:"GetSettings",I:ja,O:xc,kind:vt.Unary},updateSettings:{name:"UpdateSettings",I:Ra,O:vc,kind:vt.Unary},listAuditTrail:{name:"ListAuditTrail",I:Na,O:bc,kind:vt.Unary}}};var z_={};const P5=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},YO=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},D5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=a>>2,x=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||h==null||p==null||x==null)throw new QO;const v=a<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let QO=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const JO=function(t){const e=P5(t);return D5.encodeByteArray(e,!0)},O5=function(t){return JO(t).replace(/\./g,"")},XO=function(t){try{return D5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eM=()=>ZO().__FIREBASE_DEFAULTS__,tM=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XO(t[1]);return e&&JSON.parse(e)},iM=()=>{try{return eM()||tM()||nM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M5=()=>{var t;return(t=iM())===null||t===void 0?void 0:t.config};class rM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function sM(){try{return typeof indexedDB=="object"}catch{return!1}}function oM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}const aM="FirebaseError";let Mv=class L5 extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aM,Object.setPrototypeOf(this,L5.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V5.prototype.create)}},V5=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?lM(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Mv(r,h,i)}};function lM(t,e){return t.replace(cM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const cM=/\{\$([^}]+)}/g;function Ax(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],c=e[r];if(U_(a)&&U_(c)){if(!Ax(a,c))return!1}else if(a!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function U_(t){return t!==null&&typeof t=="object"}let nm=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const ha="[DEFAULT]";let uM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hM(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const c=this.instances.get(r);return c&&e(c,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dM(t){return t===ha?void 0:t}function hM(t){return t.instantiationMode==="EAGER"}class fM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const pM={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},mM=Lt.INFO,gM={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},yM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=gM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let xM=class{constructor(e){this.name=e,this._logLevel=mM,this._logHandler=yM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}};const vM=(t,e)=>e.some(n=>t instanceof n);let H_,$_;function bM(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F5=new WeakMap,Ix=new WeakMap,B5=new WeakMap,k0=new WeakMap,Lv=new WeakMap;function wM(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(wo(t.result)),r()},c=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&F5.set(n,t)}).catch(()=>{}),Lv.set(e,t),e}function _M(t){if(Ix.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),r()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Ix.set(t,e)}let jx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ix.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TM(t){jx=t(jx)}function EM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(P0(this),e,...n);return B5.set(i,e.sort?e.sort():[e]),wo(i)}:SM().includes(t)?function(...e){return t.apply(P0(this),e),wo(F5.get(this))}:function(...e){return wo(t.apply(P0(this),e))}}function CM(t){return typeof t=="function"?EM(t):(t instanceof IDBTransaction&&_M(t),vM(t,bM())?new Proxy(t,jx):t)}function wo(t){if(t instanceof IDBRequest)return wM(t);if(k0.has(t))return k0.get(t);const e=CM(t);return e!==t&&(k0.set(t,e),Lv.set(e,t)),e}const P0=t=>Lv.get(t);function AM(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const c=indexedDB.open(t,e),h=wo(c);return i&&c.addEventListener("upgradeneeded",d=>{i(wo(c.result),d.oldVersion,d.newVersion,wo(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const IM=["get","getKey","getAll","getAllKeys","count"],jM=["put","add","delete","clear"],D0=new Map;function G_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D0.get(e))return D0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=jM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||IM.includes(n)))return;const a=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),r&&d.done]))[0]};return D0.set(e,a),a}TM(t=>({...t,get:(e,n,i)=>G_(e,n)||t.get(e,n,i),has:(e,n)=>!!G_(e,n)||t.has(e,n)}));class RM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function NM(t){const e=t.getComponent();return e?.type==="VERSION"}const Rx="@firebase/app",q_="0.10.13";const ps=new xM("@firebase/app"),kM="@firebase/app-compat",PM="@firebase/analytics-compat",DM="@firebase/analytics",OM="@firebase/app-check-compat",MM="@firebase/app-check",LM="@firebase/auth",VM="@firebase/auth-compat",FM="@firebase/database",BM="@firebase/data-connect",zM="@firebase/database-compat",UM="@firebase/functions",HM="@firebase/functions-compat",$M="@firebase/installations",GM="@firebase/installations-compat",qM="@firebase/messaging",WM="@firebase/messaging-compat",KM="@firebase/performance",YM="@firebase/performance-compat",QM="@firebase/remote-config",JM="@firebase/remote-config-compat",XM="@firebase/storage",ZM="@firebase/storage-compat",e3="@firebase/firestore",t3="@firebase/vertexai-preview",n3="@firebase/firestore-compat",i3="firebase",r3="10.14.1";const Nx="[DEFAULT]",s3={[Rx]:"fire-core",[kM]:"fire-core-compat",[DM]:"fire-analytics",[PM]:"fire-analytics-compat",[MM]:"fire-app-check",[OM]:"fire-app-check-compat",[LM]:"fire-auth",[VM]:"fire-auth-compat",[FM]:"fire-rtdb",[BM]:"fire-data-connect",[zM]:"fire-rtdb-compat",[UM]:"fire-fn",[HM]:"fire-fn-compat",[$M]:"fire-iid",[GM]:"fire-iid-compat",[qM]:"fire-fcm",[WM]:"fire-fcm-compat",[KM]:"fire-perf",[YM]:"fire-perf-compat",[QM]:"fire-rc",[JM]:"fire-rc-compat",[XM]:"fire-gcs",[ZM]:"fire-gcs-compat",[e3]:"fire-fst",[n3]:"fire-fst-compat",[t3]:"fire-vertex","fire-js":"fire-js",[i3]:"fire-js-all"};const im=new Map,o3=new Map,kx=new Map;function W_(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if(kx.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;kx.set(e,t);for(const n of im.values())W_(n,t);for(const n of o3.values())W_(n,t);return!0}function Vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t.settings!==void 0}const a3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new V5("app","Firebase",a3);class l3{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new nm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}const Mm=r3;function z5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Nx,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw _o.create("bad-app-name",{appName:String(r)});if(n||(n=M5()),!n)throw _o.create("no-options");const a=im.get(r);if(a){if(Ax(n,a.options)&&Ax(i,a.config))return a;throw _o.create("duplicate-app",{appName:r})}const c=new fM(r);for(const d of kx.values())c.addComponent(d);const h=new l3(n,i,c);return im.set(r,h),h}function U5(t=Nx){const e=im.get(t);if(!e&&t===Nx&&M5())return z5();if(!e)throw _o.create("no-app",{appName:t});return e}function _r(t,e,n){var i;let r=(i=s3[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${r}" with version "${e}":`];a&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(h.join(" "));return}Ga(new nm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const c3="firebase-heartbeat-database",u3=1,ih="firebase-heartbeat-store";let O0=null;function H5(){return O0||(O0=AM(c3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),O0}async function d3(t){try{const n=(await H5()).transaction(ih),i=await n.objectStore(ih).get($5(t));return await n.done,i}catch(e){if(e instanceof Mv)ps.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}}async function K_(t,e){try{const i=(await H5()).transaction(ih,"readwrite");await i.objectStore(ih).put(e,$5(t)),await i.done}catch(n){if(n instanceof Mv)ps.warn(n.message);else{const i=_o.create("idb-set",{originalErrorMessage:n?.message});ps.warn(i.message)}}}function $5(t){return`${t.name}!${t.options.appId}`}const h3=1024,f3=720*60*60*1e3;class p3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=f3}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ps.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y_(),{heartbeatsToSend:i,unsentEntries:r}=m3(this._heartbeatsCache.heartbeats),a=O5(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ps.warn(n),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function m3(t,e=h3){const n=[];let i=t.slice();for(const r of t){const a=n.find(c=>c.agent===r.agent);if(a){if(a.dates.push(r.date),Q_(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Q_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class g3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sM()?oM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(t){return O5(JSON.stringify({version:2,heartbeats:t})).length}function y3(t){Ga(new nm("platform-logger",e=>new RM(e),"PRIVATE")),Ga(new nm("heartbeat",e=>new p3(e),"PRIVATE")),_r(Rx,q_,t),_r(Rx,q_,"esm2017"),_r("fire-js","")}y3("");var x3="firebase",v3="10.14.1";_r(x3,v3,"app");var J_={};const b3=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},S3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},w3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=a>>2,x=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||h==null||p==null||x==null)throw new _3;const v=a<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let _3=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const G5=function(t){try{return w3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E3=()=>T3().__FIREBASE_DEFAULTS__,C3=()=>{if(typeof process>"u"||typeof J_>"u")return;const t=J_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&G5(t[1]);return e&&JSON.parse(e)},I3=()=>{try{return E3()||C3()||A3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j3=t=>{var e;return(e=I3())===null||e===void 0?void 0:e[`_${t}`]};function Ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ei())}function N3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D3(){const t=Ei();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}const O3="FirebaseError";let Lm=class q5 extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=O3,Object.setPrototypeOf(this,q5.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vm.prototype.create)}},Vm=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?M3(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Lm(r,h,i)}};function M3(t,e){return t.replace(L3,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const L3=/\{\$([^}]+)}/g;function W5(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],c=e[r];if(X_(a)&&X_(c)){if(!W5(a,c))return!1}else if(a!==c)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}function Fv(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function kd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V3(t,e){const n=new F3(t,e);return n.subscribe.bind(n)}class F3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");B3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=M0),r.error===void 0&&(r.error=M0),r.complete===void 0&&(r.complete=M0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function M0(){}function Za(t){return t&&t._delegate?t._delegate:t}var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const z3={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},U3=Rt.INFO,H3={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=H3[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let G3=class{constructor(e){this.name=e,this._logLevel=U3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}};function Bv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}let Z_=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function K5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q3=K5,Y5=new Vm("auth","Firebase",K5());const rm=new G3("@firebase/auth");function W3(t,...e){rm.logLevel<=Rt.WARN&&rm.warn(`Auth (${Mm}): ${t}`,...e)}function Dp(t,...e){rm.logLevel<=Rt.ERROR&&rm.error(`Auth (${Mm}): ${t}`,...e)}function jr(t,...e){throw Uv(t,...e)}function Va(t,...e){return Uv(t,...e)}function zv(t,e,n){const i=Object.assign(Object.assign({},q3()),{[e]:n});return new Vm("auth","Firebase",i).create(e,{appName:t.name})}function To(t){return zv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K3(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&jr(t,"argument-error"),zv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Y5.create(t,...e)}function We(t,e,...n){if(!t)throw Uv(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dp(e),new Error(e)}function qa(t,e){t||as(e)}function Y3(){return eT()==="http:"||eT()==="https:"}function eT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Q3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y3()||k3()||"connection"in navigator)?navigator.onLine:!0}function J3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,qa(n>e,"Short delay should be less than long delay!"),this.isMobile=R3()||P3()}get(){return Q3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function X3(t,e){qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Q5{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eL=new vh(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mo(t,e,n,i,r={}){return J5(t,r,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Fv(Object.assign({key:t.config.apiKey},c)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return N3()||(p.referrerPolicy="no-referrer"),Q5.fetch()(X5(t,t.config.apiHost,n,h),p)})}async function J5(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Z3),e);try{const r=new nL(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw cp(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw cp(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw cp(t,"user-disabled",c);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zv(t,m,p);jr(t,m)}}catch(r){if(r instanceof Lm)throw r;jr(t,"network-request-failed",{message:String(r)})}}async function bh(t,e,n,i,r={}){const a=await Mo(t,e,n,i,r);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function X5(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?X3(t.config,r):`${t.config.apiScheme}://${r}`}function tL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Va(this.auth,"network-request-failed")),eL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Va(t,e,i);return r.customData._tokenResponse=n,r}function tT(t){return t!==void 0&&t.enterprise!==void 0}class iL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rL(t,e){return Mo(t,"GET","/v2/recaptchaConfig",Oo(t,e))}async function sL(t,e){return Mo(t,"POST","/v1/accounts:delete",e)}async function Z5(t,e){return Mo(t,"POST","/v1/accounts:lookup",e)}function Ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oL(t,e=!1){const n=Za(t),i=await n.getIdToken(e),r=Hv(i);We(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,c=a?.sign_in_provider;return{claims:r,token:i,authTime:Ud(L0(r.auth_time)),issuedAtTime:Ud(L0(r.iat)),expirationTime:Ud(L0(r.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function L0(t){return Number(t)*1e3}function Hv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{const r=G5(n);return r?JSON.parse(r):(Dp("Failed to decode base64 JWT payload"),null)}catch(r){return Dp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function nT(t){const e=Hv(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Lm&&aL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class lL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sm(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Fc(t,Z5(n,{idToken:i}));We(r?.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?eA(a.providerUserInfo):[],h=uL(t.providerData,c),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!h?.length,m=d?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Px(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,x)}async function cL(t){const e=Za(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uL(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function eA(t){return t.map(e=>{var{providerId:n}=e,i=Bv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function dL(t,e){const n=await J5(t,{},async()=>{const i=Fv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,c=X5(t,r,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Q5.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hL(t,e){return Mo(t,"POST","/v2/accounts:revokeToken",Oo(t,e))}class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=nT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await dL(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,c=new jc;return i&&(We(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),r&&(We(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),a&&(We(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return as("not implemented")}}function ao(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,a=Bv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Px(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oL(this,e)}reload(){return cL(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(To(this.auth));const e=await this.getIdToken();return await Fc(this,sL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,a,c,h,d,p,m;const x=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,w=(c=n.photoURL)!==null&&c!==void 0?c:void 0,E=(h=n.tenantId)!==null&&h!==void 0?h:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,N=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:P,emailVerified:B,isAnonymous:W,providerData:K,stsTokenManager:j}=n;We(P&&j,e,"internal-error");const A=jc.fromJSON(this.name,j);We(typeof P=="string",e,"internal-error"),ao(x,e.name),ao(v,e.name),We(typeof B=="boolean",e,"internal-error"),We(typeof W=="boolean",e,"internal-error"),ao(S,e.name),ao(w,e.name),ao(E,e.name),ao(T,e.name),ao(O,e.name),ao(N,e.name);const R=new ls({uid:P,auth:e,email:v,emailVerified:B,displayName:x,isAnonymous:W,photoURL:w,phoneNumber:S,tenantId:E,stsTokenManager:A,createdAt:O,lastLoginAt:N});return K&&Array.isArray(K)&&(R.providerData=K.map(V=>Object.assign({},V))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,i=!1){const r=new jc;r.updateFromServerResponse(n);const a=new ls({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sm(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];We(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?eA(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!a?.length,h=new jc;h.updateFromIdToken(i);const d=new ls({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Px(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(d,p),d}}const iT=new Map;function ka(t){qa(t instanceof Function,"Expected a class definition");let e=iT.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iT.set(t,e),e)}class tA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tA.type="NONE";const rT=tA;function V0(t,e,n){return`firebase:${t}:${e}:${n}`}class Rc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=V0(this.userKey,r.apiKey,a),this.fullPersistenceKey=V0("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rc(ka(rT),e,i);const r=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=r[0]||ka(rT);const c=V0(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const m=await p._get(c);if(m){const x=ls._fromJSON(e,m);p!==a&&(h=x),a=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Rc(a,e,i):(a=d[0],h&&await a._set(c,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(c)}catch{}})),new Rc(a,e,i))}}function sT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rA(e))return"Blackberry";if(sA(e))return"Webos";if(pL(e))return"Safari";if((e.includes("chrome/")||mL(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function fL(t=Ei()){return/firefox\//i.test(t)}function pL(t=Ei()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mL(t=Ei()){return/crios\//i.test(t)}function nA(t=Ei()){return/iemobile/i.test(t)}function iA(t=Ei()){return/android/i.test(t)}function rA(t=Ei()){return/blackberry/i.test(t)}function sA(t=Ei()){return/webos/i.test(t)}function gL(t=Ei()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yL(){return D3()&&document.documentMode===10}function xL(t=Ei()){return gL(t)||iA(t)||sA(t)||rA(t)||/windows phone/i.test(t)||nA(t)}function oA(t,e=[]){let n;switch(t){case"Browser":n=sT(Ei());break;case"Worker":n=`${sT(Ei())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mm}/${i}`}class vL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((c,h)=>{try{const d=e(a);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function bL(t,e={}){return Mo(t,"GET","/v2/passwordPolicy",Oo(t,e))}const SL=6;class wL{constructor(e){var n,i,r,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:SL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,a,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class _L{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new vL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ka(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Rc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Z5(this,{idToken:e}),i=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(To(this));const n=e?Za(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(To(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(To(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bL(this),n=new wL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vm("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ka(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Rc.create(this,[ka(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,r);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&W3(`Error while retrieving App Check token: ${n.error}`),n?.token}}function eu(t){return Za(t)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=V3(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TL(t){$v=t}function EL(t){return $v.loadJS(t)}function CL(){return $v.recaptchaEnterpriseScript}const AL="recaptcha-enterprise",IL="NO_RECAPTCHA";class jL{constructor(e){this.type=AL,this.auth=eu(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{rL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new iL(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function r(a,c,h){const d=window.grecaptcha;tT(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{c(p)}).catch(()=>{c(IL)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{i(this.auth).then(h=>{if(!n&&tT(window.grecaptcha))r(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CL();d.length!==0&&(d+=h),EL(d).then(()=>{r(h,a,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function aT(t,e,n,i=!1){const r=new jL(t);let a;try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const c=Object.assign({},e);return i?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Dx(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await aT(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await aT(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(a)})}function RL(t,e){const n=Vv(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(W5(a,e??{}))return r;jr(r,"already-initialized")}return n.initialize({options:e})}function NL(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ka);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}class Gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function kL(t,e){return Mo(t,"POST","/v1/accounts:signUp",e)}async function PL(t,e){return bh(t,"POST","/v1/accounts:signInWithPassword",Oo(t,e))}async function DL(t,e){return bh(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}async function OL(t,e){return bh(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}class rh extends Gv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new rh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,n,"signInWithPassword",PL);case"emailLink":return DL(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,i,"signUpPassword",kL);case"emailLink":return OL(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nc(t,e){return bh(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))}const ML="http://localhost";class Wa extends Gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,a=Bv(n,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Wa(i,r);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Nc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Nc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nc(e,n)}buildRequest(){const e={requestUri:ML,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fv(n)}return e}}function LL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VL(t){const e=Nd(kd(t)).link,n=e?Nd(kd(e)).deep_link_id:null,i=Nd(kd(t)).deep_link_id;return(i?Nd(kd(i)).link:null)||i||n||e||t}class qv{constructor(e){var n,i,r,a,c,h;const d=Nd(kd(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,x=LL((r=d.mode)!==null&&r!==void 0?r:null);We(p&&m&&x,"argument-error"),this.apiKey=p,this.operation=x,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=VL(e);try{return new qv(n)}catch{return null}}}class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(e,n){return rh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=qv.parseLink(n);return We(i,"argument-error"),rh._fromEmailAndCode(e,i.code,i.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class aA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fm extends aA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ho extends Fm{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";class fo extends Fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fo.credential(n,i)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";class br extends Fm{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";class po extends Fm{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return po.credential(n,i)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";async function FL(t,e){return bh(t,"POST","/v1/accounts:signUp",Oo(t,e))}class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await ls._fromIdTokenResponse(e,i,r),c=lT(i);return new Ka({user:a,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=lT(i);return new Ka({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function lT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class om extends Lm{constructor(e,n,i,r){var a;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new om(e,n,i,r)}}function lA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,a,e,i):a})}async function BL(t,e,n=!1){const i=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",i)}async function zL(t,e,n=!1){const{auth:i}=t;if(wr(i.app))return Promise.reject(To(i));const r="reauthenticate";try{const a=await Fc(t,lA(i,r,e,t),n);We(a.idToken,i,"internal-error");const c=Hv(a.idToken);We(c,i,"internal-error");const{sub:h}=c;return We(t.uid===h,i,"user-mismatch"),Ka._forOperation(t,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&jr(i,"user-mismatch"),a}}async function cA(t,e,n=!1){if(wr(t.app))return Promise.reject(To(t));const i="signIn",r=await lA(t,i,e),a=await Ka._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}async function UL(t,e){return cA(eu(t),e)}async function uA(t){const e=eu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HL(t,e,n){if(wr(t.app))return Promise.reject(To(t));const i=eu(t),c=await Dx(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&uA(t),d}),h=await Ka._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function $L(t,e,n){return wr(t.app)?Promise.reject(To(t)):UL(Za(t),tu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&uA(t),i})}async function GL(t,e){return Mo(t,"POST","/v1/accounts:update",e)}async function qL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Za(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Fc(i,GL(i.auth,a));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function dA(t,e,n,i){return Za(t).onAuthStateChanged(e,n,i)}const cT="__sak";class hA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cT,"1"),this.storage.removeItem(cT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WL=1e3,KL=10;class fA extends hA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);yL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,KL):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},WL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fA.type="LOCAL";const YL=fA;class QL extends hA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QL.type="SESSION";function JL(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}new vh(3e4,6e4);function XL(t,e){return We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver}class Wv extends Gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZL(t){return cA(t.auth,new Wv(t),t.bypassAuthState)}function e6(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),zL(n,new Wv(t),t.bypassAuthState)}async function t6(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),BL(n,new Wv(t),t.bypassAuthState)}class n6{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZL;case"linkViaPopup":case"linkViaRedirect":return t6;case"reauthViaPopup":case"reauthViaRedirect":return e6;default:jr(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i6=new vh(2e3,1e4);async function r6(t,e,n){if(wr(t.app))return Promise.reject(Va(t,"operation-not-supported-in-this-environment"));const i=eu(t);K3(t,e,aA);const r=XL(i);return new Pa(i,"signInViaPopup",e,r).executeNotNull()}class Pa extends n6{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const e=JL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i6.get())};e()}}Pa.currentPopupAction=null;new vh(3e4,6e4);new vh(5e3,15e3);var uT="@firebase/auth",dT="1.7.9";class s6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function o6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a6(t){Ga(new Z_("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;We(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(t)},p=new _L(i,r,a,d);return NL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ga(new Z_("auth-internal",e=>{const n=eu(e.getProvider("auth").getImmediate());return(i=>new s6(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(uT,dT,o6(t)),_r(uT,dT,"esm2017")}const l6=300;j3("authIdTokenMaxAge");function c6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TL({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=Va("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",c6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a6("Browser");var hT={};const pA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},u6=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},mA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=a>>2,x=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||h==null||p==null||x==null)throw new d6;const v=a<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let d6=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const h6=function(t){const e=pA(t);return mA.encodeByteArray(e,!0)},fT=function(t){return h6(t).replace(/\./g,"")},f6=function(t){try{return mA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const m6=()=>p6().__FIREBASE_DEFAULTS__,g6=()=>{if(typeof process>"u"||typeof hT>"u")return;const t=hT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f6(t[1]);return e&&JSON.parse(e)},gA=()=>{try{return m6()||g6()||y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x6=t=>{var e,n;return(n=(e=gA())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v6=t=>{const e=x6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};function b6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fT(JSON.stringify(n)),fT(JSON.stringify(c)),""].join(".")}function S6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w6(){var t;const e=(t=gA())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _6(){return!w6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}const T6="FirebaseError";let yA=class xA extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=T6,Object.setPrototypeOf(this,xA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E6.prototype.create)}},E6=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?C6(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new yA(r,h,i)}};function C6(t,e){return t.replace(A6,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const A6=/\{\$([^}]+)}/g;function Bc(t){return t&&t._delegate?t._delegate:t}let I6=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const j6={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},R6=ct.INFO,N6={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},k6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=N6[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P6{constructor(e){this.name=e,this._logLevel=R6,this._logHandler=k6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fa,vA;(function(){var t;function e(j,A){function R(){}R.prototype=A.prototype,j.D=A.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(V,z,U){for(var F=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)F[pe-2]=arguments[pe];return A.prototype[z].apply(V,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(j,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)V[z]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(z=0;16>z;++z)V[z]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=j.g[0],R=j.g[1],z=j.g[2];var U=j.g[3],F=A+(U^R&(z^U))+V[0]+3614090360&4294967295;A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+V[1]+3905402710&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+V[2]+606105819&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+V[3]+3250441966&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+V[4]+4118548399&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+V[5]+1200080426&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+V[6]+2821735955&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+V[7]+4249261313&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+V[8]+1770035416&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+V[9]+2336552879&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+V[10]+4294925233&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+V[11]+2304563134&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(U^R&(z^U))+V[12]+1804603682&4294967295,A=R+(F<<7&4294967295|F>>>25),F=U+(z^A&(R^z))+V[13]+4254626195&4294967295,U=A+(F<<12&4294967295|F>>>20),F=z+(R^U&(A^R))+V[14]+2792965006&4294967295,z=U+(F<<17&4294967295|F>>>15),F=R+(A^z&(U^A))+V[15]+1236535329&4294967295,R=z+(F<<22&4294967295|F>>>10),F=A+(z^U&(R^z))+V[1]+4129170786&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+V[6]+3225465664&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+V[11]+643717713&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+V[0]+3921069994&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+V[5]+3593408605&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+V[10]+38016083&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+V[15]+3634488961&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+V[4]+3889429448&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+V[9]+568446438&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+V[14]+3275163606&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+V[3]+4107603335&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+V[8]+1163531501&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(z^U&(R^z))+V[13]+2850285829&4294967295,A=R+(F<<5&4294967295|F>>>27),F=U+(R^z&(A^R))+V[2]+4243563512&4294967295,U=A+(F<<9&4294967295|F>>>23),F=z+(A^R&(U^A))+V[7]+1735328473&4294967295,z=U+(F<<14&4294967295|F>>>18),F=R+(U^A&(z^U))+V[12]+2368359562&4294967295,R=z+(F<<20&4294967295|F>>>12),F=A+(R^z^U)+V[5]+4294588738&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+V[8]+2272392833&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+V[11]+1839030562&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+V[14]+4259657740&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+V[1]+2763975236&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+V[4]+1272893353&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+V[7]+4139469664&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+V[10]+3200236656&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+V[13]+681279174&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+V[0]+3936430074&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+V[3]+3572445317&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+V[6]+76029189&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(R^z^U)+V[9]+3654602809&4294967295,A=R+(F<<4&4294967295|F>>>28),F=U+(A^R^z)+V[12]+3873151461&4294967295,U=A+(F<<11&4294967295|F>>>21),F=z+(U^A^R)+V[15]+530742520&4294967295,z=U+(F<<16&4294967295|F>>>16),F=R+(z^U^A)+V[2]+3299628645&4294967295,R=z+(F<<23&4294967295|F>>>9),F=A+(z^(R|~U))+V[0]+4096336452&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+V[7]+1126891415&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+V[14]+2878612391&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+V[5]+4237533241&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+V[12]+1700485571&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+V[3]+2399980690&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+V[10]+4293915773&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+V[1]+2240044497&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+V[8]+1873313359&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+V[15]+4264355552&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+V[6]+2734768916&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+V[13]+1309151649&4294967295,R=z+(F<<21&4294967295|F>>>11),F=A+(z^(R|~U))+V[4]+4149444226&4294967295,A=R+(F<<6&4294967295|F>>>26),F=U+(R^(A|~z))+V[11]+3174756917&4294967295,U=A+(F<<10&4294967295|F>>>22),F=z+(A^(U|~R))+V[2]+718787259&4294967295,z=U+(F<<15&4294967295|F>>>17),F=R+(U^(z|~A))+V[9]+3951481745&4294967295,j.g[0]=j.g[0]+A&4294967295,j.g[1]=j.g[1]+(z+(F<<21&4294967295|F>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+U&4294967295}i.prototype.u=function(j,A){A===void 0&&(A=j.length);for(var R=A-this.blockSize,V=this.B,z=this.h,U=0;U<A;){if(z==0)for(;U<=R;)r(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<A;)if(V[z++]=j.charCodeAt(U++),z==this.blockSize){r(this,V),z=0;break}}else for(;U<A;)if(V[z++]=j[U++],z==this.blockSize){r(this,V),z=0;break}}this.h=z,this.o+=A},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var A=1;A<j.length-8;++A)j[A]=0;var R=8*this.o;for(A=j.length-8;A<j.length;++A)j[A]=R&255,R/=256;for(this.u(j),j=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)j[R++]=this.g[A]>>>V&255;return j};function a(j,A){var R=h;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=A(j)}function c(j,A){this.h=A;for(var R=[],V=!0,z=j.length-1;0<=z;z--){var U=j[z]|0;V&&U==A||(R[z]=U,V=!1)}this.g=R}var h={};function d(j){return-128<=j&&128>j?a(j,function(A){return new c([A|0],0>A?-1:0)}):new c([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return x;if(0>j)return T(p(-j));for(var A=[],R=1,V=0;j>=R;V++)A[V]=j/R|0,R*=4294967296;return new c(A,0)}function m(j,A){if(j.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(j.charAt(0)=="-")return T(m(j.substring(1),A));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),V=x,z=0;z<j.length;z+=8){var U=Math.min(8,j.length-z),F=parseInt(j.substring(z,z+U),A);8>U?(U=p(Math.pow(A,U)),V=V.j(U).add(p(F))):(V=V.j(R),V=V.add(p(F)))}return V}var x=d(0),v=d(1),S=d(16777216);t=c.prototype,t.m=function(){if(E(this))return-T(this).m();for(var j=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);j+=(0<=V?V:4294967296+V)*A,A*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(w(this))return"0";if(E(this))return"-"+T(this).toString(j);for(var A=p(Math.pow(j,6)),R=this,V="";;){var z=B(R,A).g;R=O(R,z.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=z,w(R))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function w(j){if(j.h!=0)return!1;for(var A=0;A<j.g.length;A++)if(j.g[A]!=0)return!1;return!0}function E(j){return j.h==-1}t.l=function(j){return j=O(this,j),E(j)?-1:w(j)?0:1};function T(j){for(var A=j.g.length,R=[],V=0;V<A;V++)R[V]=~j.g[V];return new c(R,~j.h).add(v)}t.abs=function(){return E(this)?T(this):this},t.add=function(j){for(var A=Math.max(this.g.length,j.g.length),R=[],V=0,z=0;z<=A;z++){var U=V+(this.i(z)&65535)+(j.i(z)&65535),F=(U>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);V=F>>>16,U&=65535,F&=65535,R[z]=F<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function O(j,A){return j.add(T(A))}t.j=function(j){if(w(this)||w(j))return x;if(E(this))return E(j)?T(this).j(T(j)):T(T(this).j(j));if(E(j))return T(this.j(T(j)));if(0>this.l(S)&&0>j.l(S))return p(this.m()*j.m());for(var A=this.g.length+j.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<j.g.length;z++){var U=this.i(V)>>>16,F=this.i(V)&65535,pe=j.i(z)>>>16,Ce=j.i(z)&65535;R[2*V+2*z]+=F*Ce,N(R,2*V+2*z),R[2*V+2*z+1]+=U*Ce,N(R,2*V+2*z+1),R[2*V+2*z+1]+=F*pe,N(R,2*V+2*z+1),R[2*V+2*z+2]+=U*pe,N(R,2*V+2*z+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new c(R,0)};function N(j,A){for(;(j[A]&65535)!=j[A];)j[A+1]+=j[A]>>>16,j[A]&=65535,A++}function P(j,A){this.g=j,this.h=A}function B(j,A){if(w(A))throw Error("division by zero");if(w(j))return new P(x,x);if(E(j))return A=B(T(j),A),new P(T(A.g),T(A.h));if(E(A))return A=B(j,T(A)),new P(T(A.g),A.h);if(30<j.g.length){if(E(j)||E(A))throw Error("slowDivide_ only works with positive integers.");for(var R=v,V=A;0>=V.l(j);)R=W(R),V=W(V);var z=K(R,1),U=K(V,1);for(V=K(V,2),R=K(R,2);!w(V);){var F=U.add(V);0>=F.l(j)&&(z=z.add(R),U=F),V=K(V,1),R=K(R,1)}return A=O(j,z.j(A)),new P(z,A)}for(z=x;0<=j.l(A);){for(R=Math.max(1,Math.floor(j.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=p(R),F=U.j(A);E(F)||0<F.l(j);)R-=V,U=p(R),F=U.j(A);w(U)&&(U=v),z=z.add(U),j=O(j,F)}return new P(z,j)}t.A=function(j){return B(this,j).h},t.and=function(j){for(var A=Math.max(this.g.length,j.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&j.i(V);return new c(R,this.h&j.h)},t.or=function(j){for(var A=Math.max(this.g.length,j.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|j.i(V);return new c(R,this.h|j.h)},t.xor=function(j){for(var A=Math.max(this.g.length,j.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^j.i(V);return new c(R,this.h^j.h)};function W(j){for(var A=j.g.length+1,R=[],V=0;V<A;V++)R[V]=j.i(V)<<1|j.i(V-1)>>>31;return new c(R,j.h)}function K(j,A){var R=A>>5;A%=32;for(var V=j.g.length-R,z=[],U=0;U<V;U++)z[U]=0<A?j.i(U+R)>>>A|j.i(U+R+1)<<32-A:j.i(U+R);return new c(z,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,vA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=m,Fa=c}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bA,Pd,SA,Op,Ox,wA,_A,TA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,I){return g==Array.prototype||g==Object.prototype||(g[_]=I.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var _=0;_<g.length;++_){var I=g[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=n(this);function r(g,_){if(_)e:{var I=i;g=g.split(".");for(var M=0;M<g.length-1;M++){var J=g[M];if(!(J in I))break e;I=I[J]}g=g[g.length-1],M=I[g],_=_(M),_!=M&&_!=null&&e(I,g,{configurable:!0,writable:!0,value:_})}}function a(g,_){g instanceof String&&(g+="");var I=0,M=!1,J={next:function(){if(!M&&I<g.length){var re=I++;return{value:_(re,g[re]),done:!1}}return M=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}r("Array.prototype.values",function(g){return g||function(){return a(this,function(_,I){return I})}});var c=c||{},h=this||self;function d(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function p(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function m(g,_,I){return g.call.apply(g.bind,arguments)}function x(g,_,I){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,M),g.apply(_,J)}}return function(){return g.apply(_,arguments)}}function v(g,_,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:x,v.apply(null,arguments)}function S(g,_){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function w(g,_){function I(){}I.prototype=_.prototype,g.aa=_.prototype,g.prototype=new I,g.prototype.constructor=g,g.Qb=function(M,J,re){for(var ge=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ge[yt-2]=arguments[yt];return _.prototype[J].apply(M,ge)}}function E(g){const _=g.length;if(0<_){const I=Array(_);for(let M=0;M<_;M++)I[M]=g[M];return I}return[]}function T(g,_){for(let I=1;I<arguments.length;I++){const M=arguments[I];if(d(M)){const J=g.length||0,re=M.length||0;g.length=J+re;for(let ge=0;ge<re;ge++)g[J+ge]=M[ge]}else g.push(M)}}class O{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=h.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var W=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function K(g,_,I){for(const M in g)_.call(I,g[M],M,g)}function j(g,_){for(const I in g)_.call(void 0,g[I],I,g)}function A(g){const _={};for(const I in g)_[I]=g[I];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,_){let I,M;for(let J=1;J<arguments.length;J++){M=arguments[J];for(I in M)g[I]=M[I];for(let re=0;re<R.length;re++)I=R[re],Object.prototype.hasOwnProperty.call(M,I)&&(g[I]=M[I])}}function z(g){var _=1;g=g.split(":");const I=[];for(;0<_&&g.length;)I.push(g.shift()),_--;return g.length&&I.push(g.join(":")),I}function U(g){h.setTimeout(()=>{throw g},0)}function F(){var g=ye;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class pe{constructor(){this.h=this.g=null}add(_,I){const M=Ce.get();M.set(_,I),this.h?this.h.next=M:this.g=M,this.h=M}}var Ce=new O(()=>new D,g=>g.reset());class D{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let G,oe=!1,ye=new pe,Se=()=>{const g=h.Promise.resolve(void 0);G=()=>{g.then(H)}};var H=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(I){U(I)}var _=Ce;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}oe=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const I=()=>{};h.addEventListener("test",I,_),h.removeEventListener("test",I,_)}catch{}return g})();function we(g,_){if(ne.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var I=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(W){e:{try{B(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else I=="mouseover"?_=g.fromElement:I=="mouseout"&&(_=g.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ae[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&we.aa.h.call(this)}}w(we,ne);var Ae={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),ut=0;function rt(g,_,I,M,J){this.listener=g,this.proxy=null,this.src=_,this.type=I,this.capture=!!M,this.ha=J,this.key=++ut,this.da=this.fa=!1}function Ft(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function _t(g){this.src=g,this.g={},this.h=0}_t.prototype.add=function(g,_,I,M,J){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ge=Re(g,_,M,J);return-1<ge?(_=g[ge],I||(_.fa=!1)):(_=new rt(_,this.src,re,!!M,J),_.fa=I,g.push(_)),_};function fe(g,_){var I=_.type;if(I in g.g){var M=g.g[I],J=Array.prototype.indexOf.call(M,_,void 0),re;(re=0<=J)&&Array.prototype.splice.call(M,J,1),re&&(Ft(_),g.g[I].length==0&&(delete g.g[I],g.h--))}}function Re(g,_,I,M){for(var J=0;J<g.length;++J){var re=g[J];if(!re.da&&re.listener==_&&re.capture==!!I&&re.ha==M)return J}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),at={};function mt(g,_,I,M,J){if(Array.isArray(_)){for(var re=0;re<_.length;re++)mt(g,_[re],I,M,J);return null}return I=xs(I),g&&g[De]?g.K(_,I,p(M)?!!M.capture:!1,J):Sn(g,_,I,!1,M,J)}function Sn(g,_,I,M,J,re){if(!_)throw Error("Invalid event type");var ge=p(J)?!!J.capture:!!J,yt=hi(g);if(yt||(g[xe]=yt=new _t(g)),I=yt.add(_,I,M,ge,re),I.proxy)return I;if(M=In(),I.proxy=M,M.src=g,M.listener=I,g.addEventListener)ce||(J=ge),J===void 0&&(J=!1),g.addEventListener(_.toString(),M,J);else if(g.attachEvent)g.attachEvent(Yi(_.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function In(){function g(I){return _.call(g.src,g.listener,I)}const _=Nr;return g}function Bt(g,_,I,M,J){if(Array.isArray(_))for(var re=0;re<_.length;re++)Bt(g,_[re],I,M,J);else M=p(M)?!!M.capture:!!M,I=xs(I),g&&g[De]?(g=g.i,_=String(_).toString(),_ in g.g&&(re=g.g[_],I=Re(re,I,M,J),-1<I&&(Ft(re[I]),Array.prototype.splice.call(re,I,1),re.length==0&&(delete g.g[_],g.h--)))):g&&(g=hi(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Re(_,I,M,J)),(I=-1<g?_[g]:null)&&Ii(I))}function Ii(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[De])fe(_.i,g);else{var I=g.type,M=g.proxy;_.removeEventListener?_.removeEventListener(I,M,g.capture):_.detachEvent?_.detachEvent(Yi(I),M):_.addListener&&_.removeListener&&_.removeListener(M),(I=hi(_))?(fe(I,g),I.h==0&&(I.src=null,_[xe]=null)):Ft(g)}}}function Yi(g){return g in at?at[g]:at[g]="on"+g}function Nr(g,_){if(g.da)g=!0;else{_=new we(_,this);var I=g.listener,M=g.ha||g.src;g.fa&&Ii(g),g=I.call(M,_)}return g}function hi(g){return g=g[xe],g instanceof _t?g:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(g){return typeof g=="function"?g:(g[It]||(g[It]=function(_){return g.handleEvent(_)}),g[It])}function Be(){ee.call(this),this.i=new _t(this),this.M=this,this.F=null}w(Be,ee),Be.prototype[De]=!0,Be.prototype.removeEventListener=function(g,_,I,M){Bt(this,g,_,I,M)};function st(g,_){var I,M=g.F;if(M)for(I=[];M;M=M.F)I.push(M);if(g=g.M,M=_.type||_,typeof _=="string")_=new ne(_,g);else if(_ instanceof ne)_.target=_.target||g;else{var J=_;_=new ne(M,g),V(_,J)}if(J=!0,I)for(var re=I.length-1;0<=re;re--){var ge=_.g=I[re];J=Ht(ge,M,!0,_)&&J}if(ge=_.g=g,J=Ht(ge,M,!0,_)&&J,J=Ht(ge,M,!1,_)&&J,I)for(re=0;re<I.length;re++)ge=_.g=I[re],J=Ht(ge,M,!1,_)&&J}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var I=g.g[_],M=0;M<I.length;M++)Ft(I[M]);delete g.g[_],g.h--}}this.F=null},Be.prototype.K=function(g,_,I,M){return this.i.add(String(g),_,!1,I,M)},Be.prototype.L=function(g,_,I,M){return this.i.add(String(g),_,!0,I,M)};function Ht(g,_,I,M){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,re=0;re<_.length;++re){var ge=_[re];if(ge&&!ge.da&&ge.capture==I){var yt=ge.listener,on=ge.ha||ge.src;ge.fa&&fe(g.i,ge),J=yt.call(on,M)!==!1&&J}}return J&&!M.defaultPrevented}function vs(g,_,I){if(typeof g=="function")I&&(g=v(g,I));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(g,_||0)}function ni(g){g.g=vs(()=>{g.g=null,g.i&&(g.i=!1,ni(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class uu extends ee{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(g){ee.call(this),this.h=g,this.g={}}w(Qi,ee);var Bn=[];function mn(g){K(g.g,function(_,I){this.g.hasOwnProperty(I)&&Ii(_)},g),g.g={}}Qi.prototype.N=function(){Qi.aa.N.call(this),mn(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=h.JSON.stringify,wn=h.JSON.parse,le=class{stringify(g){return h.JSON.stringify(g,void 0)}parse(g){return h.JSON.parse(g,void 0)}};function Ne(){}Ne.prototype.h=null;function et(g){return g.h||(g.h=g.i())}function Ye(){}var qe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){ne.call(this,"d")}w(zt,ne);function gn(){ne.call(this,"c")}w(gn,ne);var ji={},bs=null;function rl(){return bs=bs||new Be}ji.La="serverreachability";function du(g){ne.call(this,ji.La,g)}w(du,ne);function kr(g){const _=rl();st(_,new du(_))}ji.STAT_EVENT="statevent";function Ss(g,_){ne.call(this,ji.STAT_EVENT,g),this.stat=_}w(Ss,ne);function Rn(g){const _=rl();st(_,new Ss(_,g))}ji.Ma="timingevent";function hu(g,_){ne.call(this,ji.Ma,g),this.size=_}w(hu,ne);function ws(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){g()},_)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function fu(g,_,I,M,J,re){g.info(function(){if(g.g)if(re)for(var ge="",yt=re.split("&"),on=0;on<yt.length;on++){var Ke=yt[on].split("=");if(1<Ke.length){var Tn=Ke[0];Ke=Ke[1];var En=Tn.split("_");ge=2<=En.length&&En[1]=="type"?ge+(Tn+"="+Ke+"&"):ge+(Tn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+M+") [attempt "+J+"]: "+_+`
`+I+`
`+ge})}function pu(g,_,I,M,J,re,ge){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+J+"]: "+_+`
`+I+`
`+re+" "+ge})}function Pr(g,_,I,M){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+lr(g,I)+(M?" "+M:"")})}function Ph(g,_){g.info(function(){return"TIMEOUT: "+_})}_s.prototype.info=function(){};function lr(g,_){if(!g.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(g=0;g<I.length;g++)if(Array.isArray(I[g])){var M=I[g];if(!(2>M.length)){var J=M[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<J.length;ge++)J[ge]=""}}}}return jn(I)}catch{return _}}var Wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function Ts(){}w(Ts,Ne),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},cr=new Ts;function ur(g,_,I,M){this.j=g,this.i=_,this.l=I,this.R=M||1,this.U=new Qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dh}function Dh(){this.i=null,this.g="",this.h=!1}var mu={},Dr={};function Bo(g,_,I){g.L=1,g.v=Ho(Kt(_)),g.m=I,g.P=!0,Or(g,null)}function Or(g,_){g.F=Date.now(),Ji(g),g.A=Kt(g.v);var I=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Vr(I.i,"t",M),g.C=0,I=g.j.J,g.h=new Dh,g.g=Qh(g.j,I?_:null,!g.m),0<g.O&&(g.M=new uu(v(g.Y,g,g.g),g.O)),_=g.U,I=g.g,M=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Bn[0]=J.toString()),J=Bn);for(var re=0;re<J.length;re++){var ge=mt(I,J[re],M||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=g.H?A(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),kr(),fu(g.i,g.u,g.A,g.l,g.R,g.m)}ur.prototype.ca=function(g){g=g.target;const _=this.M;_&&Qn(g)==3?_.j():this.Y(g)},ur.prototype.Y=function(g){try{if(g==this.g)e:{const En=Qn(this.g);var _=this.g.Ba();const Ls=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||qo(this.g)))){this.J||En!=4||_==7||(_==8||0>=Ls?kr(3):kr(2)),sl(this);var I=this.g.Z();this.X=I;t:if(Mr(this)){var M=qo(this.g);g="";var J=M.length,re=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Es(this);var ge="";break t}this.h.i=new h.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,g+=this.h.i.decode(M[_],{stream:!(re&&_==J-1)});M.length=0,this.h.g+=g,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,pu(this.i,this.u,this.A,this.l,this.R,En,I),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,on=this.g;if((yt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(yt)){var Ke=yt;break t}}Ke=null}if(I=Ke)Pr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dr(this,I);else{this.o=!1,this.s=3,Rn(12),Kn(this),Es(this);break e}}if(this.P){I=!0;let ri;for(;!this.J&&this.C<ge.length;)if(ri=zo(this,ge),ri==Dr){En==4&&(this.s=4,Rn(14),I=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==mu){this.s=4,Rn(15),Pr(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Pr(this.i,this.l,ri,null),dr(this,ri);if(Mr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||ge.length!=0||this.h.h||(this.s=1,Rn(16),I=!1),this.o=this.o&&I,!I)Pr(this.i,this.l,ge,"[Invalid Chunked Response]"),Kn(this),Es(this);else if(0<ge.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Cu(Tn),Tn.M=!0,Rn(11))}}else Pr(this.i,this.l,ge,null),dr(this,ge);En==4&&Kn(this),this.o&&!this.J&&(En==4?Wh(this.j,this):(this.o=!1,Ji(this)))}else zh(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Kn(this),Es(this)}}}catch{}};function Mr(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function zo(g,_){var I=g.C,M=_.indexOf(`
`,I);return M==-1?Dr:(I=Number(_.substring(I,M)),isNaN(I)?mu:(M+=1,M+I>_.length?Dr:(_=_.slice(M,M+I),g.C=M+I,_)))}ur.prototype.cancel=function(){this.J=!0,Kn(this)};function Ji(g){g.S=Date.now()+g.I,Zt(g,g.I)}function Zt(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ws(v(g.ba,g),_)}function sl(g){g.B&&(h.clearTimeout(g.B),g.B=null)}ur.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ph(this.i,this.A),this.L!=2&&(kr(),Rn(17)),Kn(this),this.s=2,Es(this)):Zt(this,this.S-g)};function Es(g){g.j.G==0||g.J||Wh(g.j,g)}function Kn(g){sl(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,mn(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function dr(g,_){try{var I=g.j;if(I.G!=0&&(I.g==g||Cs(I.h,g))){if(!g.K&&Cs(I.h,g)&&I.G==3){try{var M=I.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var J=M;if(J[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<g.F)Os(I),Ds(I);else break e;Eu(I),Rn(18)}}else I.za=J[1],0<I.za-I.T&&37500>J[2]&&I.F&&I.v==0&&!I.C&&(I.C=ws(v(I.Za,I),6e3));if(1>=Oh(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Br(I,11)}else if((g.K||I.g==g)&&Os(I),!N(_))for(J=I.Da.g.parse(_),_=0;_<J.length;_++){let Ke=J[_];if(I.T=Ke[0],Ke=Ke[1],I.G==2)if(Ke[0]=="c"){I.K=Ke[1],I.ia=Ke[2];const Tn=Ke[3];Tn!=null&&(I.la=Tn,I.j.info("VER="+I.la));const En=Ke[4];En!=null&&(I.Aa=En,I.j.info("SVER="+I.Aa));const Ls=Ke[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(M=1.5*Ls,I.L=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const ri=g.g;if(ri){const Yo=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var re=M.h;re.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(As(re,re.h),re.h=null))}if(M.D){const zr=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;zr&&(M.ya=zr,dt(M.I,M.D,zr))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-g.F,I.j.info("Handshake RTT: "+I.R+"ms")),M=I;var ge=g;if(M.qa=Yh(M,M.J?M.ia:null,M.W),ge.K){Ri(M.h,ge);var yt=ge,on=M.L;on&&(yt.I=on),yt.B&&(sl(yt),Ji(yt)),M.g=ge}else Gh(M);0<I.i.length&&fl(I)}else Ke[0]!="stop"&&Ke[0]!="close"||Br(I,7);else I.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Br(I,7):_u(I):Ke[0]!="noop"&&I.l&&I.l.ta(Ke),I.v=0)}}kr(4)}catch{}}var ug=class{constructor(g,_){this.g=g,this.map=_}};function gu(g){this.l=g||10,h.PerformanceNavigationTiming?(g=h.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Oh(g){return g.h?1:g.g?g.g.size:0}function Cs(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function As(g,_){g.g?g.g.add(_):g.h=_}function Ri(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}gu.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Yn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const I of g.g.values())_=_.concat(I.D);return _}return E(g.i)}function Mh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var _=[],I=g.length,M=0;M<I;M++)_.push(g[M]);return _}_=[],I=0;for(M in g)_[I++]=g[M];return _}function dg(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var _=[];g=g.length;for(var I=0;I<g;I++)_.push(I);return _}_=[],I=0;for(const M in g)_[I++]=M;return _}}}function ol(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var I=dg(g),M=Mh(g),J=M.length,re=0;re<J;re++)_.call(void 0,M[re],I&&I[re],g)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function al(g,_){if(g){g=g.split("&");for(var I=0;I<g.length;I++){var M=g[I].indexOf("="),J=null;if(0<=M){var re=g[I].substring(0,M);J=g[I].substring(M+1)}else re=g[I];_(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Lr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Lr){this.h=g.h,Is(this,g.j),this.o=g.o,this.g=g.g,Uo(this,g.s),this.l=g.l;var _=g.i,I=new hr;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),ll(this,I),this.m=g.m}else g&&(_=String(g).match(xu))?(this.h=!1,Is(this,_[1]||"",!0),this.o=js(_[2]||""),this.g=js(_[3]||"",!0),Uo(this,_[4]),this.l=js(_[5]||"",!0),ll(this,_[6]||"",!0),this.m=js(_[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Lr.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Ni(_,vu,!0),":");var I=this.g;return(I||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Ni(_,vu,!0),"@"),g.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&g.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&g.push("/"),g.push(Ni(I,I.charAt(0)=="/"?bu:Lh,!0))),(I=this.i.toString())&&g.push("?",I),(I=this.m)&&g.push("#",Ni(I,pg)),g.join("")};function Kt(g){return new Lr(g)}function Is(g,_,I){g.j=I?js(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function Uo(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function ll(g,_,I){_ instanceof hr?(g.i=_,Vh(g.i,g.h)):(I||(_=Ni(_,fg)),g.i=new hr(_,g.h))}function dt(g,_,I){g.i.set(_,I)}function Ho(g){return dt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function js(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ni(g,_,I){return typeof g=="string"?(g=encodeURI(g).replace(_,hg),I&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function hg(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var vu=/[#\/\?@]/g,Lh=/[#\?:]/g,bu=/[#\?]/g,fg=/[#\?@]/g,pg=/#/g;function hr(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function _n(g){g.g||(g.g=new Map,g.h=0,g.i&&al(g.i,function(_,I){g.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=hr.prototype,t.add=function(g,_){_n(this),this.i=null,g=fi(this,g);var I=this.g.get(g);return I||this.g.set(g,I=[]),I.push(_),this.h+=1,this};function cl(g,_){_n(g),_=fi(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function ul(g,_){return _n(g),_=fi(g,_),g.g.has(_)}t.forEach=function(g,_){_n(this),this.g.forEach(function(I,M){I.forEach(function(J){g.call(_,J,M,this)},this)},this)},t.na=function(){_n(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let M=0;M<_.length;M++){const J=g[M];for(let re=0;re<J.length;re++)I.push(_[M])}return I},t.V=function(g){_n(this);let _=[];if(typeof g=="string")ul(this,g)&&(_=_.concat(this.g.get(fi(this,g))));else{g=Array.from(this.g.values());for(let I=0;I<g.length;I++)_=_.concat(g[I])}return _},t.set=function(g,_){return _n(this),this.i=null,g=fi(this,g),ul(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function Vr(g,_,I){cl(g,_),0<I.length&&(g.i=null,g.g.set(fi(g,_),E(I)),g.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var M=_[I];const re=encodeURIComponent(String(M)),ge=this.V(M);for(M=0;M<ge.length;M++){var J=re;ge[M]!==""&&(J+="="+encodeURIComponent(String(ge[M]))),g.push(J)}}return this.i=g.join("&")};function fi(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function Vh(g,_){_&&!g.j&&(_n(g),g.i=null,g.g.forEach(function(I,M){var J=M.toLowerCase();M!=J&&(cl(this,M),Vr(this,J,I))},g)),g.j=_}function Su(g,_){const I=new _s;if(h.Image){const M=new Image;M.onload=S(ii,I,"TestLoadImage: loaded",!0,_,M),M.onerror=S(ii,I,"TestLoadImage: error",!1,_,M),M.onabort=S(ii,I,"TestLoadImage: abort",!1,_,M),M.ontimeout=S(ii,I,"TestLoadImage: timeout",!1,_,M),h.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else _(!1)}function Fh(g,_){const I=new _s,M=new AbortController,J=setTimeout(()=>{M.abort(),ii(I,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:M.signal}).then(re=>{clearTimeout(J),re.ok?ii(I,"TestPingServer: ok",!0,_):ii(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),ii(I,"TestPingServer: error",!1,_)})}function ii(g,_,I,M,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),M(I)}catch{}}function Xi(){this.g=new le}function wu(g,_,I){const M=I||"";try{ol(g,function(J,re){let ge=J;p(J)&&(ge=jn(J)),_.push(M+re+"="+encodeURIComponent(ge))})}catch(J){throw _.push(M+"type="+encodeURIComponent("_badmap")),J}}function fr(g){this.l=g.Ub||null,this.j=g.eb||!1}w(fr,Ne),fr.prototype.g=function(){return new pi(this.l,this.j)},fr.prototype.i=(function(g){return function(){return g}})({});function pi(g,_){Be.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(pi,Be),t=pi.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,Rs(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?pr(this):Rs(this),this.readyState==3&&dl(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,pr(this))},t.Qa=function(g){this.g&&(this.response=g,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Rs(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,g.push(I[0]+": "+I[1]),I=_.next();return g.join(`\r
`)};function Rs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function $o(g){let _="";return K(g,function(I,M){_+=M,_+=":",_+=I,_+=`\r
`}),_}function Ns(g,_,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=$o(I),typeof g=="string"?I!=null&&encodeURIComponent(String(I)):dt(g,_,I))}function Dt(g){Be.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Dt,Be);var zn=/^https?$/i,Fr=["POST","PUT"];t=Dt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?et(this.o):et(cr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(re){Go(this,re);return}if(g=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var J in M)I.set(J,M[J]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const re of M.keys())I.set(re,M.get(re));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),J=h.FormData&&g instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fr,_,void 0))||M||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of I)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hl(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Go(this,re)}};function Go(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,ks(g),Ps(g)}function ks(g){g.A||(g.A=!0,st(g,"complete"),st(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,st(this,"complete"),st(this,"abort"),Ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bh(this):this.bb())},t.bb=function(){Bh(this)};function Bh(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Qn(g)!=4||g.Z()!=2)){if(g.u&&Qn(g)==4)vs(g.Ea,0,g);else if(st(g,"readystatechange"),Qn(g)==4){g.h=!1;try{const ge=g.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var M;if(M=ge===0){var J=String(g.D).match(xu)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),M=!zn.test(J?J.toLowerCase():"")}I=M}if(I)st(g,"complete"),st(g,"success");else{g.m=6;try{var re=2<Qn(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",ks(g)}}finally{Ps(g)}}}}function Ps(g,_){if(g.g){hl(g);const I=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||st(g,"ready");try{I.onreadystatechange=M}catch{}}}function hl(g){g.I&&(h.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Qn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),wn(_)}};function qo(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function zh(g){const _={};g=(g.g&&2<=Qn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(N(g[M]))continue;var I=z(g[M]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=_[J]||[];_[J]=re,re.push(I)}j(_,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(g,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[g]||_}function Uh(g){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wo("baseRetryDelayMs",5e3,g),this.cb=Wo("retryDelaySeedMs",1e4,g),this.Wa=Wo("forwardChannelMaxRetries",2,g),this.wa=Wo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new gu(g&&g.concurrentRequestLimit),this.Da=new Xi,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uh.prototype,t.la=8,t.G=1,t.connect=function(g,_,I,M){Rn(0),this.W=g,this.H=_||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.I=Yh(this,null,this.W),fl(this)};function _u(g){if(Hh(g),g.G==3){var _=g.U++,I=Kt(g.I);if(dt(I,"SID",g.K),dt(I,"RID",_),dt(I,"TYPE","terminate"),Ko(g,I),_=new ur(g,g.j,_),_.L=2,_.v=Ho(Kt(I)),I=!1,h.navigator&&h.navigator.sendBeacon)try{I=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&h.Image&&(new Image().src=_.v,I=!0),I||(_.g=Qh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ji(_)}Au(g)}function Ds(g){g.g&&(Cu(g),g.g.cancel(),g.g=null)}function Hh(g){Ds(g),g.u&&(h.clearTimeout(g.u),g.u=null),Os(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&h.clearTimeout(g.s),g.s=null)}function fl(g){if(!yu(g.h)&&!g.s){g.s=!0;var _=g.Ga;G||Se(),oe||(G(),oe=!0),ye.add(_,g),g.B=0}}function mg(g,_){return Oh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ws(v(g.Ga,g,_),Kh(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new ur(this,this.j,g);let re=this.o;if(this.S&&(re?(re=A(re),V(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Tu(this,J,_),I=Kt(this.I),dt(I,"RID",g),dt(I,"CVER",22),this.D&&dt(I,"X-HTTP-Session-Id",this.D),Ko(this,I),re&&(this.O?_="headers="+encodeURIComponent(String($o(re)))+"&"+_:this.m&&Ns(I,this.m,re)),As(this.h,J),this.Ua&&dt(I,"TYPE","init"),this.P?(dt(I,"$req",_),dt(I,"SID","null"),J.T=!0,Bo(J,I,null)):Bo(J,I,_),this.G=2}}else this.G==3&&(g?$h(this,g):this.i.length==0||yu(this.h)||$h(this))};function $h(g,_){var I;_?I=_.l:I=g.U++;const M=Kt(g.I);dt(M,"SID",g.K),dt(M,"RID",I),dt(M,"AID",g.T),Ko(g,M),g.m&&g.o&&Ns(M,g.m,g.o),I=new ur(g,g.j,I,g.B+1),g.m===null&&(I.H=g.o),_&&(g.i=_.D.concat(g.i)),_=Tu(g,I,1e3),I.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),As(g.h,I),Bo(I,M,_)}function Ko(g,_){g.H&&K(g.H,function(I,M){dt(_,M,I)}),g.l&&ol({},function(I,M){dt(_,M,I)})}function Tu(g,_,I){I=Math.min(g.i.length,I);var M=g.l?v(g.l.Na,g.l,g):null;e:{var J=g.i;let re=-1;for(;;){const ge=["count="+I];re==-1?0<I?(re=J[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let yt=!0;for(let on=0;on<I;on++){let Ke=J[on].g;const Tn=J[on].map;if(Ke-=re,0>Ke)re=Math.max(0,J[on].g-100),yt=!1;else try{wu(Tn,ge,"req"+Ke+"_")}catch{M&&M(Tn)}}if(yt){M=ge.join("&");break e}}}return g=g.i.splice(0,I),_.D=g,M}function Gh(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;G||Se(),oe||(G(),oe=!0),ye.add(_,g),g.v=0}}function Eu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ws(v(g.Fa,g),Kh(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,qh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ws(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),Ds(this),qh(this))};function Cu(g){g.A!=null&&(h.clearTimeout(g.A),g.A=null)}function qh(g){g.g=new ur(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=Kt(g.qa);dt(_,"RID","rpc"),dt(_,"SID",g.K),dt(_,"AID",g.T),dt(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&dt(_,"TO",g.ja),dt(_,"TYPE","xmlhttp"),Ko(g,_),g.m&&g.o&&Ns(_,g.m,g.o),g.L&&(g.g.I=g.L);var I=g.g;g=g.ia,I.L=1,I.v=Ho(Kt(_)),I.m=null,I.P=!0,Or(I,g)}t.Za=function(){this.C!=null&&(this.C=null,Ds(this),Eu(this),Rn(19))};function Os(g){g.C!=null&&(h.clearTimeout(g.C),g.C=null)}function Wh(g,_){var I=null;if(g.g==_){Os(g),Cu(g),g.g=null;var M=2}else if(Cs(g.h,_))I=_.D,Ri(g.h,_),M=1;else return;if(g.G!=0){if(_.o)if(M==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var J=g.B;M=rl(),st(M,new hu(M,I)),fl(g)}else Gh(g);else if(J=_.s,J==3||J==0&&0<_.X||!(M==1&&mg(g,_)||M==2&&Eu(g)))switch(I&&0<I.length&&(_=g.h,_.i=_.i.concat(I)),J){case 1:Br(g,5);break;case 4:Br(g,10);break;case 3:Br(g,6);break;default:Br(g,2)}}}function Kh(g,_){let I=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(I*=2),I*_}function Br(g,_){if(g.j.info("Error code "+_),_==2){var I=v(g.fb,g),M=g.Xa;const J=!M;M=new Lr(M||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Is(M,"https"),Ho(M),J?Su(M.toString(),I):Fh(M.toString(),I)}else Rn(2);g.G=0,g.l&&g.l.sa(_),Au(g),Hh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function Au(g){if(g.G=0,g.ka=[],g.l){const _=Yn(g.h);(_.length!=0||g.i.length!=0)&&(T(g.ka,_),T(g.ka,g.i),g.h.i.length=0,E(g.i),g.i.length=0),g.l.ra()}}function Yh(g,_,I){var M=I instanceof Lr?Kt(I):new Lr(I);if(M.g!="")_&&(M.g=_+"."+M.g),Uo(M,M.s);else{var J=h.location;M=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var re=new Lr(null);M&&Is(re,M),_&&(re.g=_),J&&Uo(re,J),I&&(re.l=I),M=re}return I=g.D,_=g.ya,I&&_&&dt(M,I,_),dt(M,"VER",g.la),Ko(g,M),M}function Qh(g,_,I){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new Dt(new fr({eb:I})):new Dt(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jh(){}t=Jh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pl(){}pl.prototype.g=function(g,_){return new Jn(g,_)};function Jn(g,_){Be.call(this),this.g=new Uh(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!N(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new Ms(this)}w(Jn,Be),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){_u(this.g)},Jn.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var I={};I.__data__=g,g=I}else this.u&&(I={},I.__data__=jn(g),g=I);_.i.push(new ug(_.Ya++,g)),_.G==3&&fl(_)},Jn.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,Jn.aa.N.call(this)};function Xh(g){zt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const I in _){g=I;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}w(Xh,zt);function Zh(){gn.call(this),this.status=1}w(Zh,gn);function Ms(g){this.g=g}w(Ms,Jh),Ms.prototype.ua=function(){st(this.g,"a")},Ms.prototype.ta=function(g){st(this.g,new Xh(g))},Ms.prototype.sa=function(g){st(this.g,new Zh)},Ms.prototype.ra=function(){st(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,TA=function(){return new pl},_A=function(){return rl()},wA=ji,Ox={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wt.NO_ERROR=0,Wt.TIMEOUT=8,Wt.HTTP_ERROR=6,Op=Wt,Nn.COMPLETE="complete",SA=Nn,Ye.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Pd=Ye,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,bA=Dt}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});const mT="@firebase/firestore";class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let nu="10.14.0";const Ya=new P6("@firebase/firestore");function yd(){return Ya.logLevel}function Te(t,...e){if(Ya.logLevel<=ct.DEBUG){const n=e.map(Kv);Ya.debug(`Firestore (${nu}): ${t}`,...n)}}function ms(t,...e){if(Ya.logLevel<=ct.ERROR){const n=e.map(Kv);Ya.error(`Firestore (${nu}): ${t}`,...n)}}function zc(t,...e){if(Ya.logLevel<=ct.WARN){const n=e.map(Kv);Ya.warn(`Firestore (${nu}): ${t}`,...n)}}function Kv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t="Unexpected state"){const e=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: `+t;throw ms(e),new Error(e)}function wt(t,e){t||Ve()}function He(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends yA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class EA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class O6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class M6{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let a=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eo,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},h=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eo)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string"),new EA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new qn(e)}}class L6{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V6{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new L6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){wt(this.o===void 0);const i=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const r=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>r(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string"),this.R=n.token,new F6(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class CA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=z6(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%e.length))}return i}}function pt(t,e){return t<e?-1:t>e?1:0}function Uc(t,e,n){return t.length===e.length&&t.every(((i,r)=>n(i,e[r])))}class vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new vn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new vn(0,0))}static max(){return new Ue(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sh{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return sh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sh?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=e.get(r),c=n.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vt extends sh{construct(e,n,i){return new Vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((r=>r.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const U6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends sh{construct(e,n,i){return new Ln(e,n,i)}static isValidIdentifier(e){return U6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if(h==="\\"){if(r+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(a(),r++)}if(a(),c)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Vt.fromString(e))}static fromName(e){return new je(Vt.fromString(e).popFirst(5))}static empty(){return new je(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Vt(e.slice()))}}function H6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ue.fromTimestamp(i===1e9?new vn(n+1,0):new vn(n,i));return new jo(r,je.empty(),e)}function $6(t){return new jo(t.readTime,t.key,-1)}class jo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new jo(Ue.min(),je.empty(),-1)}static max(){return new jo(Ue.max(),je.empty(),-1)}}function G6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}const q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sh(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==q6)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let r=0,a=0,c=!1;e.forEach((h=>{++r,h.next((()=>{++a,c&&a===r&&n()}),(d=>i(d)))})),c=!0,a===r&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((r=>r?me.resolve(r):i()));return n}static forEach(e,n){const i=[];return e.forEach(((r,a)=>{i.push(n.call(this,r,a))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,r)=>{const a=e.length,c=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next((m=>{c[p]=m,++h,h===a&&i(c)}),(m=>r(m)))}}))}static doWhile(e,n){return new me(((i,r)=>{const a=()=>{e()===!0?n().next((()=>{a()}),r):i()};a()}))}}function K6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wh(t){return t.name==="IndexedDbTransactionError"}class Yv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yv.oe=-1;function Bm(t){return t==null}function am(t){return t===0&&1/t==-1/0}function Y6(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function gT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qt{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??Mn.RED,this.left=r??Mn.EMPTY,this.right=a??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new Mn(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Mn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,a){return this}insert(e,n,i){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yT(this.data.getIterator())}getIteratorFrom(e){return new yT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class yT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new sr([])}unionWith(e){let n=new Vn(Ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IA("Invalid base64 string: "+a):a}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(r){let a="";for(let c=0;c<r.length;++c)a+=String.fromCharCode(r[c]);return a})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Q6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(wt(!!t),typeof t=="string"){let e=0;const n=Q6.exec(t);if(wt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(t.seconds),nanos:nn(t.nanos)}}function nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}function Qv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jv(t){const e=t.mapValue.fields.__previous_value__;return Qv(e)?Jv(e):e}function oh(t){const e=Ro(t.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}class J6{constructor(e,n,i,r,a,c,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class ah{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ah("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}const hp={mapValue:{}};function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:Z6(t)?9007199254740991:X6(t)?10:11:Ve()}function Rr(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return(function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const c=Ro(r.timestampValue),h=Ro(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,a){return Qa(r.bytesValue).isEqual(Qa(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,a){return nn(r.geoPointValue.latitude)===nn(a.geoPointValue.latitude)&&nn(r.geoPointValue.longitude)===nn(a.geoPointValue.longitude)})(t,e);case 2:return(function(r,a){if("integerValue"in r&&"integerValue"in a)return nn(r.integerValue)===nn(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const c=nn(r.doubleValue),h=nn(a.doubleValue);return c===h?am(c)===am(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(r,a){const c=r.mapValue.fields||{},h=a.mapValue.fields||{};if(gT(c)!==gT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Rr(c[d],h[d])))return!1;return!0})(t,e);default:return Ve()}}function lh(t,e){return(t.values||[]).find((n=>Rr(n,e)))!==void 0}function Hc(t,e){if(t===e)return 0;const n=Ja(t),i=Ja(e);if(n!==i)return pt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=nn(a.integerValue||a.doubleValue),d=nn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return xT(t.timestampValue,e.timestampValue);case 4:return xT(oh(t),oh(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return(function(a,c){const h=Qa(a),d=Qa(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const m=pt(h[p],d[p]);if(m!==0)return m}return pt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=pt(nn(a.latitude),nn(c.latitude));return h!==0?h:pt(nn(a.longitude),nn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vT(t.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,d,p,m;const x=a.fields||{},v=c.fields||{},S=(h=x.value)===null||h===void 0?void 0:h.arrayValue,w=(d=v.value)===null||d===void 0?void 0:d.arrayValue,E=pt(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((m=w?.values)===null||m===void 0?void 0:m.length)||0);return E!==0?E:vT(S,w)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===hp.mapValue&&c===hp.mapValue)return 0;if(a===hp.mapValue)return 1;if(c===hp.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=c.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let x=0;x<d.length&&x<m.length;++x){const v=pt(d[x],m[x]);if(v!==0)return v;const S=Hc(h[d[x]],p[m[x]]);if(S!==0)return S}return pt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ve()}}function xT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Ro(t),i=Ro(e),r=pt(n.seconds,i.seconds);return r!==0?r:pt(n.nanos,i.nanos)}function vT(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Hc(n[r],i[r]);if(a)return a}return pt(n.length,i.length)}function $c(t){return Mx(t)}function Mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ro(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=Mx(a);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const c of i)a?a=!1:r+=",",r+=`${c}:${Mx(n.fields[c])}`;return r+"}"})(t.mapValue):Ve()}function bT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lx(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function ST(t){return!!t&&"nullValue"in t}function wT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mp(t){return!!t&&"mapValue"in t}function X6(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return iu(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Hd(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Z6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(n)}setAll(e){let n=Ln.emptyPath(),i={},r=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=h.popLast()}c?i[h.lastSegment()]=Hd(c):r.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());Mp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Mp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){iu(n,((r,a)=>e[r]=a));for(const r of i)delete e[r]}clone(){return new $i(Hd(this.value))}}function jA(t){const e=[];return iu(t.fields,((n,i)=>{const r=new Ln([n]);if(Mp(i)){const a=jA(i.mapValue).fields;if(a.length===0)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)})),new sr(e)}class Wn{constructor(e,n,i,r,a,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wn(e,0,Ue.min(),Ue.min(),Ue.min(),$i.empty(),0)}static newFoundDocument(e,n,i,r){return new Wn(e,1,n,Ue.min(),i,r,0)}static newNoDocument(e,n){return new Wn(e,2,n,Ue.min(),Ue.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Ue.min(),Ue.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lm{constructor(e,n){this.position=e,this.inclusive=n}}function _T(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const a=e[r],c=t.position[r];if(a.field.isKeyField()?i=je.comparator(je.fromName(c.referenceValue),n.key):i=Hc(c,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function TT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}class cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function eV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class RA{}class pn extends RA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new nV(e,n,i):n==="array-contains"?new sV(e,i):n==="in"?new oV(e,i):n==="not-in"?new aV(e,i):n==="array-contains-any"?new lV(e,i):new pn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new iV(e,i):new rV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hc(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(Hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends RA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ar(e,n)}matches(e){return NA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NA(t){return t.op==="and"}function kA(t){return tV(t)&&NA(t)}function tV(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function Vx(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(kA(t))return t.filters.map((e=>Vx(e))).join(",");{const e=t.filters.map((n=>Vx(n))).join(",");return`${t.op}(${e})`}}function PA(t,e){return t instanceof pn?(function(i,r){return r instanceof pn&&i.op===r.op&&i.field.isEqual(r.field)&&Rr(i.value,r.value)})(t,e):t instanceof ar?(function(i,r){return r instanceof ar&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((a,c,h)=>a&&PA(c,r.filters[h])),!0):!1})(t,e):void Ve()}function DA(t){return t instanceof pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`})(t):t instanceof ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(DA).join(" ,")+"}"})(t):"Filter"}class nV extends pn{constructor(e,n,i){super(e,n,i),this.key=je.fromName(i.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class iV extends pn{constructor(e,n){super(e,"in",n),this.keys=OA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rV extends pn{constructor(e,n){super(e,"not-in",n),this.keys=OA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>je.fromName(i.referenceValue)))}class sV extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&lh(n.arrayValue,this.value)}}class oV extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lh(this.value.arrayValue,n)}}class aV extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lh(this.value.arrayValue,n)}}class lV extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>lh(this.value.arrayValue,i)))}}class cV{constructor(e,n=null,i=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function ET(t,e=null,n=[],i=[],r=null,a=null,c=null){return new cV(t,e,n,i,r,a,c)}function Zv(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Vx(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),Bm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>$c(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>$c(i))).join(",")),e.ue=n}return e.ue}function eb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TT(t.startAt,e.startAt)&&TT(t.endAt,e.endAt)}function Fx(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _h{constructor(e,n=null,i=[],r=[],a=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uV(t,e,n,i,r,a,c,h){return new _h(t,e,n,i,r,a,c,h)}function MA(t){return new _h(t)}function CT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LA(t){return t.collectionGroup!==null}function $d(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Vn(Ln.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new cm(a,i))})),n.has(Ln.keyField().canonicalString())||e.ce.push(new cm(Ln.keyField(),i))}return e.ce}function Tr(t){const e=He(t);return e.le||(e.le=dV(e,$d(t))),e.le}function dV(t,e){if(t.limitType==="F")return ET(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const a=r.dir==="desc"?"asc":"desc";return new cm(r.field,a)}));const n=t.endAt?new lm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new lm(t.startAt.position,t.startAt.inclusive):null;return ET(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Bx(t,e){const n=t.filters.concat([e]);return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zx(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zm(t,e){return eb(Tr(t),Tr(e))&&t.limitType===e.limitType}function VA(t){return`${Zv(Tr(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((r=>DA(r))).join(", ")}]`),Bm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((r=>$c(r))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((r=>$c(r))).join(",")),`Target(${i})`})(Tr(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&(function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):je.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(t,e)&&(function(i,r){for(const a of $d(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0})(t,e)&&(function(i,r){return!(i.startAt&&!(function(c,h,d){const p=_T(c,h,d);return c.inclusive?p<=0:p<0})(i.startAt,$d(i),r)||i.endAt&&!(function(c,h,d){const p=_T(c,h,d);return c.inclusive?p>=0:p>0})(i.endAt,$d(i),r))})(t,e)}function hV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FA(t){return(e,n)=>{let i=!1;for(const r of $d(t)){const a=fV(r,e,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function fV(t,e,n){const i=t.field.isKeyField()?je.comparator(e.key,n.key):(function(a,c,h){const d=c.data.field(a),p=h.data.field(a);return d!==null&&p!==null?Hc(d,p):Ve()})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,((n,i)=>{for(const[r,a]of i)e(r,a)}))}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}const pV=new qt(je.comparator);function gs(){return pV}const BA=new qt(je.comparator);function Dd(...t){let e=BA;for(const n of t)e=e.insert(n.key,n);return e}function zA(t){let e=BA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Da(){return Gd()}function UA(){return Gd()}function Gd(){return new ru((t=>t.toString()),((t,e)=>t.isEqual(e)))}const mV=new qt(je.comparator),gV=new Vn(je.comparator);function it(...t){let e=gV;for(const n of t)e=e.add(n);return e}const yV=new Vn(pt);function xV(){return yV}function tb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function HA(t){return{integerValue:""+t}}function vV(t,e){return Y6(e)?HA(e):tb(t,e)}class Hm{constructor(){this._=void 0}}function bV(t,e,n){return t instanceof um?(function(r,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Qv(a)&&(a=Jv(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(n,e):t instanceof ch?GA(t,e):t instanceof uh?qA(t,e):(function(r,a){const c=$A(r,a),h=AT(c)+AT(r.Pe);return Lx(c)&&Lx(r.Pe)?HA(h):tb(r.serializer,h)})(t,e)}function SV(t,e,n){return t instanceof ch?GA(t,e):t instanceof uh?qA(t,e):n}function $A(t,e){return t instanceof dm?(function(i){return Lx(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class um extends Hm{}class ch extends Hm{constructor(e){super(),this.elements=e}}function GA(t,e){const n=WA(e);for(const i of t.elements)n.some((r=>Rr(r,i)))||n.push(i);return{arrayValue:{values:n}}}class uh extends Hm{constructor(e){super(),this.elements=e}}function qA(t,e){let n=WA(e);for(const i of t.elements)n=n.filter((r=>!Rr(r,i)));return{arrayValue:{values:n}}}class dm extends Hm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function AT(t){return nn(t.integerValue||t.doubleValue)}function WA(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wV(t,e){return t.field.isEqual(e.field)&&(function(i,r){return i instanceof ch&&r instanceof ch||i instanceof uh&&r instanceof uh?Uc(i.elements,r.elements,Rr):i instanceof dm&&r instanceof dm?Rr(i.Pe,r.Pe):i instanceof um&&r instanceof um})(t.transform,e.transform)}class _V{constructor(e,n){this.version=e,this.transformResults=n}}class us{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QA(t.key,us.none()):new Th(t.key,t.data,us.none());{const n=t.data,i=$i.empty();let r=new Vn(Ln.comparator);for(let a of e.fields)if(!r.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?i.delete(a):i.set(a,c),r=r.add(a)}return new el(t.key,i,new sr(r.toArray()),us.none())}}function TV(t,e,n){t instanceof Th?(function(r,a,c){const h=r.value.clone(),d=jT(r.fieldTransforms,a,c.transformResults);h.setAll(d),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof el?(function(r,a,c){if(!Lp(r.precondition,a))return void a.convertToUnknownDocument(c.version);const h=jT(r.fieldTransforms,a,c.transformResults),d=a.data;d.setAll(YA(r)),d.setAll(h),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(r,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function qd(t,e,n,i){return t instanceof Th?(function(a,c,h,d){if(!Lp(a.precondition,c))return h;const p=a.value.clone(),m=RT(a.fieldTransforms,d,c);return p.setAll(m),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof el?(function(a,c,h,d){if(!Lp(a.precondition,c))return h;const p=RT(a.fieldTransforms,d,c),m=c.data;return m.setAll(YA(a)),m.setAll(p),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(a,c,h){return Lp(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function EV(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),a=$A(i.transform,r||null);a!=null&&(n===null&&(n=$i.empty()),n.set(i.field,a))}return n||null}function IT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Uc(i,r,((a,c)=>wV(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Th extends $m{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class el extends $m{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function jT(t,e,n){const i=new Map;wt(t.length===n.length);for(let r=0;r<n.length;r++){const a=t[r],c=a.transform,h=e.data.field(a.field);i.set(a.field,SV(c,h,n[r]))}return i}function RT(t,e,n){const i=new Map;for(const r of t){const a=r.transform,c=n.data.field(r.field);i.set(r.field,bV(a,c,e))}return i}class QA extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CV extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AV{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&TV(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=qd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=qd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=UA();return this.mutations.forEach((r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=n.has(r.key)?null:h;const d=KA(c,h);d!==null&&i.set(r.key,d),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,((n,i)=>IT(n,i)))&&Uc(this.baseMutations,e.baseMutations,((n,i)=>IT(n,i)))}}class nb{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){wt(e.mutations.length===i.length);let r=(function(){return mV})();const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new nb(e,n,i,r)}}class IV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jV{constructor(e,n){this.count=e,this.unchangedNames=n}}var dn,lt;function RV(t){switch(t){default:return Ve();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function JA(t){if(t===void 0)return ms("GRPC error has no .code"),he.UNKNOWN;switch(t){case dn.OK:return he.OK;case dn.CANCELLED:return he.CANCELLED;case dn.UNKNOWN:return he.UNKNOWN;case dn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case dn.INTERNAL:return he.INTERNAL;case dn.UNAVAILABLE:return he.UNAVAILABLE;case dn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case dn.NOT_FOUND:return he.NOT_FOUND;case dn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case dn.ABORTED:return he.ABORTED;case dn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case dn.DATA_LOSS:return he.DATA_LOSS;default:return Ve()}}(lt=dn||(dn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";function NV(){return new TextEncoder}const kV=new Fa([4294967295,4294967295],0);function NT(t){const e=NV().encode(t),n=new vA;return n.update(e),new Uint8Array(n.digest())}function kT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fa([n,i],0),new Fa([r,a],0)]}class ib{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(i<0)throw new Od(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fa.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Fa.fromNumber(i)));return r.compare(kV)===1&&(r=new Fa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=NT(e),[i,r]=kT(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,r,a);if(!this.de(c))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new ib(a,r,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const n=NT(e),[i,r]=kT(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,r,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gm{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gm(Ue.min(),r,new qt(pt),gs(),it())}}class Eh{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Eh(i,n,it(),it(),it())}}class Vp{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class XA{constructor(e,n){this.targetId=e,this.me=n}}class ZA{constructor(e,n,i=Fn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class PT{constructor(){this.fe=0,this.ge=OT(),this.pe=Fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=it(),n=it(),i=it();return this.ge.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}})),new Eh(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=OT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PV{constructor(e){this.Le=e,this.Be=new Map,this.ke=gs(),this.qe=DT(),this.Qe=new qt(pt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ve()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((i,r)=>{this.ze(r)&&n(r)}))}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const a=r.target;if(Fx(a))if(i===0){const c=new je(a.path);this.Ue(n,c,Wn.newNoDocument(c,Ue.min()))}else wt(i===1);else{const c=this.Ye(n);if(c!==i){const h=this.Ze(e),d=h?this.Xe(h,e,c):1;if(d!==0){this.je(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let c,h;try{c=Qa(i).toUint8Array()}catch(d){if(d instanceof IA)return zc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new ib(c,r,a)}catch(d){return zc(d instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,a,null),r++)})),r}rt(e){const n=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&Fx(h.target)){const d=new je(h.target.path);this.ke.get(d)!==null||this.it(c,d)||this.Ue(c,d,Wn.newNoDocument(d,e))}a.be&&(n.set(c,a.ve()),a.Ce())}}));let i=it();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.Je(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const r=new Gm(e,n,this.Qe,this.ke,i);return this.ke=gs(),this.qe=DT(),this.Qe=new qt(pt),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new PT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vn(pt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PT),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DT(){return new qt(je.comparator)}function OT(){return new qt(je.comparator)}const DV={asc:"ASCENDING",desc:"DESCENDING"},OV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"};class LV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ux(t,e){return t.useProto3Json||Bm(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VV(t,e){return hm(t,e.toTimestamp())}function Er(t){return wt(!!t),Ue.fromTimestamp((function(n){const i=Ro(n);return new vn(i.seconds,i.nanos)})(t))}function rb(t,e){return Hx(t,e).canonicalString()}function Hx(t,e){const n=(function(r){return new Vt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=Vt.fromString(t);return wt(oI(e)),e}function $x(t,e){return rb(t.databaseId,e.path)}function F0(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(iI(n))}function nI(t,e){return rb(t.databaseId,e)}function FV(t){const e=tI(t);return e.length===4?Vt.emptyPath():iI(e)}function Gx(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MT(t,e,n){return{name:$x(t,e),fields:n.value.mapValue.fields}}function BV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(wt(m===void 0||typeof m=="string"),Fn.fromBase64String(m||"")):(wt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Fn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const m=p.code===void 0?he.UNKNOWN:JA(p.code);return new _e(m,p.message||"")})(c);n=new ZA(i,r,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=F0(t,i.document.name),a=Er(i.document.updateTime),c=i.document.createTime?Er(i.document.createTime):Ue.min(),h=new $i({mapValue:{fields:i.document.fields}}),d=Wn.newFoundDocument(r,a,c,h),p=i.targetIds||[],m=i.removedTargetIds||[];n=new Vp(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=F0(t,i.document),a=i.readTime?Er(i.readTime):Ue.min(),c=Wn.newNoDocument(r,a),h=i.removedTargetIds||[];n=new Vp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=F0(t,i.document),a=i.removedTargetIds||[];n=new Vp([],a,r,null)}else{if(!("filter"in e))return Ve();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,c=new jV(r,a),h=i.targetId;n=new XA(h,c)}}return n}function zV(t,e){let n;if(e instanceof Th)n={update:MT(t,e.key,e.value)};else if(e instanceof QA)n={delete:$x(t,e.key)};else if(e instanceof el)n={update:MT(t,e.key,e.data),updateMask:QV(e.fieldMask)};else{if(!(e instanceof CV))return Ve();n={verify:$x(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof um)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ch)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof uh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dm)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ve()})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(r,a){return a.updateTime!==void 0?{updateTime:VV(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve()})(t,e.precondition)),n}function UV(t,e){return t&&t.length>0?(wt(e!==void 0),t.map((n=>(function(r,a){let c=r.updateTime?Er(r.updateTime):Er(a);return c.isEqual(Ue.min())&&(c=Er(a)),new _V(c,r.transformResults||[])})(n,e)))):[]}function HV(t,e){return{documents:[nI(t,e.path)]}}function $V(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=nI(t,r);const a=(function(p){if(p.length!==0)return sI(ar.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(p){if(p.length!==0)return p.map((m=>(function(v){return{field:Kl(v.field),direction:WV(v.dir)}})(m)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Ux(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:r}}function GV(t){let e=FV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){wt(i===1);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(x){const v=rI(x);return v instanceof ar&&kA(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((v=>(function(w){return new cm(Yl(w.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let v;return v=typeof x=="object"?x.value:x,Bm(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(x){const v=!!x.before,S=x.values||[];return new lm(S,v)})(n.startAt));let p=null;return n.endAt&&(p=(function(x){const v=!x.before,S=x.values||[];return new lm(S,v)})(n.endAt)),uV(e,r,c,a,h,"F",d,p)}function qV(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yl(n.unaryFilter.field);return pn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Yl(n.unaryFilter.field);return pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yl(n.unaryFilter.field);return pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yl(n.unaryFilter.field);return pn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}})(t):t.fieldFilter!==void 0?(function(n){return pn.create(Yl(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ar.create(n.compositeFilter.filters.map((i=>rI(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}})(n.compositeFilter.op))})(t):Ve()}function WV(t){return DV[t]}function KV(t){return OV[t]}function YV(t){return MV[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Ln.fromServerFormat(t.fieldPath)}function sI(t){return t instanceof pn?(function(n){if(n.op==="=="){if(wT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(ST(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(ST(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:KV(n.op),value:n.value}}})(t):t instanceof ar?(function(n){const i=n.getFilters().map((r=>sI(r)));return i.length===1?i[0]:{compositeFilter:{op:YV(n.op),filters:i}}})(t):Ve()}function QV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class xo{constructor(e,n,i,r,a=Ue.min(),c=Ue.min(),h=Fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JV{constructor(e){this.ct=e}}function XV(t){const e=GV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zx(e,e.limit,"L"):e}class ZV{constructor(){this.un=new eF}addToCollectionParentIndex(e,n){return this.un.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(jo.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class eF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Vn(Vt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vn(Vt.comparator)).toArray()}}class Gc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gc(0)}static kn(){return new Gc(-1)}}class tF{constructor(){this.changes=new ru((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iF{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(i!==null&&qd(i.mutation,r,sr.empty(),vn.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,it()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=it()){const r=Da();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,i).next((a=>{let c=Dd();return a.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Da();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,it())))}populateOverlays(e,n,i){const r=[];return i.forEach((a=>{n.has(a)||r.push(a)})),this.documentOverlayCache.getOverlays(e,r).next((a=>{a.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,r){let a=gs();const c=Gd(),h=(function(){return Gd()})();return n.forEach(((d,p)=>{const m=i.get(p.key);r.has(p.key)&&(m===void 0||m.mutation instanceof el)?a=a.insert(p.key,p):m!==void 0?(c.set(p.key,m.mutation.getFieldMask()),qd(m.mutation,p,m.mutation.getFieldMask(),vn.now())):c.set(p.key,sr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,m)=>c.set(p,m))),n.forEach(((p,m)=>{var x;return h.set(p,new nF(m,(x=c.get(p))!==null&&x!==void 0?x:null))})),h)))}recalculateAndSaveOverlays(e,n){const i=Gd();let r=new qt(((c,h)=>c-h)),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let m=i.get(d)||sr.empty();m=h.applyToLocalView(p,m),i.set(d,m);const x=(r.get(h.batchId)||it()).add(d);r=r.insert(h.batchId,x)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,m=d.value,x=UA();m.forEach((v=>{if(!a.has(v)){const S=KA(n.get(v),i.get(v));S!==null&&x.set(v,S),a=a.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,x))}return me.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,r){return(function(c){return je.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next((a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):me.resolve(Da());let h=-1,d=a;return c.next((p=>me.forEach(p,((m,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),a.get(m)?me.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,it()))).next((m=>({batchId:h,changes:zA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((i=>{let r=Dd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const a=n.collectionGroup;let c=Dd();return this.indexManager.getCollectionParents(e,a).next((h=>me.forEach(h,(d=>{const p=(function(x,v){return new _h(v,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next((m=>{m.forEach(((x,v)=>{c=c.insert(x,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,r)))).next((c=>{a.forEach(((d,p)=>{const m=p.getKey();c.get(m)===null&&(c=c.insert(m,Wn.newInvalidDocument(m)))}));let h=Dd();return c.forEach(((d,p)=>{const m=a.get(d);m!==void 0&&qd(m.mutation,p,sr.empty(),vn.now()),Um(n,p)&&(h=h.insert(d,p))})),h}))}}class rF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Er(r.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(r){return{name:r.name,query:XV(r.bundledQuery),readTime:Er(r.readTime)}})(n)),me.resolve()}}class sF{constructor(){this.overlays=new qt(je.comparator),this.Ir=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Da();return me.forEach(n,(r=>this.getOverlay(e,r).next((a=>{a!==null&&i.set(r,a)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((r,a)=>{this.ht(e,n,a)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const r=Da(),a=n.length+1,c=new je(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>i&&r.set(d.getKey(),d)}return me.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new qt(((p,m)=>p-m));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=a.get(p.largestBatchId);m===null&&(m=Da(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const h=Da(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>h.set(p,m))),!(h.size()>=r)););return me.resolve(h)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new IV(n,i));let a=this.Ir.get(n);a===void 0&&(a=it(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}class oF{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class sb{constructor(){this.Tr=new Vn(An.Er),this.dr=new Vn(An.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new An(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Vr(new An(e,n))}mr(e,n){e.forEach((i=>this.removeReference(i,n)))}gr(e){const n=new je(new Vt([])),i=new An(n,e),r=new An(n,e+1),a=[];return this.dr.forEachInRange([i,r],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new je(new Vt([])),i=new An(n,e),r=new An(n,e+1);let a=it();return this.dr.forEachInRange([i,r],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new An(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class An{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return je.comparator(e.key,n.key)||pt(e.wr,n.wr)}static Ar(e,n){return pt(e.wr,n.wr)||je.comparator(e.key,n.key)}}class aF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vn(An.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AV(a,n,i,r);this.mutationQueue.push(c);for(const h of r)this.br=this.br.add(new An(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),a=r<0?0:r;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new An(n,0),r=new An(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,r],(c=>{const h=this.Dr(c.wr);a.push(h)})),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vn(pt);return n.forEach((r=>{const a=new An(r,0),c=new An(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;je.isDocumentKey(a)||(a=a.child(""));const c=new An(new je(a),0);let h=new Vn(pt);return this.br.forEachWhile((d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(h=h.add(d.wr)),!0)}),c),me.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((i=>{const r=this.Dr(i);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){wt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return me.forEach(n.mutations,(r=>{const a=new An(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,n){const i=new An(n,0),r=this.br.firstAfterOrEqual(i);return me.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lF{constructor(e){this.Mr=e,this.docs=(function(){return new qt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,c=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let i=gs();return n.forEach((r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Wn.newInvalidDocument(r))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=gs();const c=n.path,h=new je(c.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||G6($6(m),i)<=0||(r.has(m.key)||Um(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,n,i,r){Ve()}Or(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new cF(this)}getSize(e){return me.resolve(this.size)}}class cF extends tF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class uF{constructor(e){this.persistence=e,this.Nr=new ru((n=>Zv(n)),eb),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sb,this.targetCount=0,this.kr=Gc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((i,r)=>n(r))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Kn(n),me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)})),me.waitFor(a).next((()=>r))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),me.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach((c=>{a.push(r.markPotentiallyOrphaned(e,c))})),me.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this.Br.containsKey(n))}}class dF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Yv(0),this.Kr=!1,this.Kr=!0,this.$r=new oF,this.referenceDelegate=e(this),this.Ur=new uF(this),this.indexManager=new ZV,this.remoteDocumentCache=(function(r){return new lF(r)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new JV(n),this.Gr=new rF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new aF(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Te("MemoryPersistence","Starting transaction:",e);const r=new hF(this.Qr.next());return this.referenceDelegate.zr(),i(r).next((a=>this.referenceDelegate.jr(r).next((()=>a)))).toPromise().then((a=>(r.raiseOnCommittedEvent(),a)))}Hr(e,n){return me.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,n))))}}class hF extends W6{constructor(e){super(),this.currentSequenceNumber=e}}class ob{constructor(e){this.persistence=e,this.Jr=new sb,this.Yr=null}static Zr(e){return new ob(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((r=>this.Xr.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,(i=>{const r=je.fromPath(i);return this.ei(e,r).next((a=>{a||n.removeEntry(r,Ue.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return me.or([()=>me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class ab{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=it(),r=it();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ab(e,n.fromCache,i,r)}}class fF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return _6()?8:K6(S6())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const a={result:null};return this.Yi(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,n,r,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new fF;return this.Xi(e,n,c).next((h=>{if(a.result=h,this.zi)return this.es(e,n,c,h.size)}))})).next((()=>a.result))}es(e,n,i,r){return i.documentReadCount<this.ji?(yd()<=ct.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(yd()<=ct.DEBUG&&Te("QueryEngine","Query:",Wl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(yd()<=ct.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):me.resolve())}Yi(e,n){if(CT(n))return me.resolve(null);let i=Tr(n);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=zx(n,null,"F"),i=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=it(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const p=this.ts(n,h);return this.ns(n,p,c,d.readTime)?this.Yi(e,zx(n,null,"F")):this.rs(e,p,n,d)}))))})))))}Zi(e,n,i,r){return CT(n)||r.isEqual(Ue.min())?me.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(n,a);return this.ns(n,c,i,r)?me.resolve(null):(yd()<=ct.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wl(n)),this.rs(e,c,n,H6(r,-1)).next((h=>h)))}))}ts(e,n){let i=new Vn(FA(e));return n.forEach(((r,a)=>{Um(e,a)&&(i=i.add(a))})),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Xi(e,n,i){return yd()<=ct.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.Ji.getDocumentsMatchingQuery(e,n,jo.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}class mF{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new qt(pt),this._s=new ru((a=>Zv(a)),eb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function gF(t,e,n,i){return new mF(t,e,n,i)}async function aI(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next((a=>(r=a,n.ls(e),n.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let d=it();for(const p of r){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){h.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function yF(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,m){const x=p.batch,v=x.keys();let S=me.resolve();return v.forEach((w=>{S=S.next((()=>m.getEntry(d,w))).next((E=>{const T=p.docVersions.get(w);wt(T!==null),E.version.compareTo(T)<0&&(x.applyToRemoteDocument(E,p),E.isValidDocument()&&(E.setReadTime(p.commitVersion),m.addEntry(E)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,x)))})(n,i,e,a).next((()=>a.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=it();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,r)))}))}function lI(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function xF(t,e){const n=He(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const h=[];e.targetChanges.forEach(((m,x)=>{const v=r.get(x);if(!v)return;h.push(n.Ur.removeMatchingKeys(a,m.removedDocuments,x).next((()=>n.Ur.addMatchingKeys(a,m.addedDocuments,x))));let S=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(Fn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),r=r.insert(x,S),(function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,S,m)&&h.push(n.Ur.updateTargetData(a,S))}));let d=gs(),p=it();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),h.push(vF(a,c,e.documentUpdates).next((m=>{d=m.Ps,p=m.Is}))),!i.isEqual(Ue.min())){const m=n.Ur.getLastRemoteSnapshotVersion(a).next((x=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(m)}return me.waitFor(h).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(n.os=r,a)))}function vF(t,e,n){let i=it(),r=it();return n.forEach((a=>i=i.add(a))),e.getEntries(t,i).next((a=>{let c=gs();return n.forEach(((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Ue.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Te("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Ps:c,Is:r}}))}function bF(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function SF(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return n.Ur.getTargetData(i,e).next((a=>a?(r=a,me.resolve(r)):n.Ur.allocateTargetId(i).next((c=>(r=new xo(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i}))}async function qx(t,e,n){const i=He(t),r=i.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!wh(c))throw c;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function LT(t,e,n){const i=He(t);let r=Ue.min(),a=it();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,m){const x=He(d),v=x._s.get(m);return v!==void 0?me.resolve(x.os.get(v)):x.Ur.getTargetData(p,m)})(i,c,Tr(e)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((d=>{a=d}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,n?r:Ue.min(),n?a:it()))).next((h=>(wF(i,hV(e),h),{documents:h,Ts:a})))))}function wF(t,e,n){let i=t.us.get(e)||Ue.min();n.forEach(((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),t.us.set(e,i)}class VT{constructor(){this.activeTargetIds=xV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _F{constructor(){this.so=new VT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TF{_o(e){}shutdown(){}}class FT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fp=null;function B0(){return fp===null?fp=(function(){return 268435456+Math.round(2147483648*Math.random())})():fp++,"0x"+fp.toString(16)}const EF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hn="WebChannelConnection";class AF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${a}`}get Fo(){return!1}Mo(n,i,r,a,c){const h=B0(),d=this.xo(n,i.toUriEncodedString());Te("RestConnection",`Sending RPC '${n}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,a,c),this.No(n,d,p,r).then((m=>(Te("RestConnection",`Received RPC '${n}' ${h}: `,m),m)),(m=>{throw zc("RestConnection",`RPC '${n}' ${h} failed with error: `,m,"url: ",d,"request:",r),m}))}Lo(n,i,r,a,c,h){return this.Mo(n,i,r,a,c)}Oo(n,i,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>n[c]=a)),r&&r.headers.forEach(((a,c)=>n[c]=a))}xo(n,i){const r=EF[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const a=B0();return new Promise(((c,h)=>{const d=new bA;d.setWithCredentials(!0),d.listenOnce(SA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Op.NO_ERROR:const m=d.getResponseJson();Te(Hn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),c(m);break;case Op.TIMEOUT:Te(Hn,`RPC '${e}' ${a} timed out`),h(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const x=d.getStatus();if(Te(Hn,`RPC '${e}' ${a} failed with status:`,x,"response text:",d.getResponseText()),x>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const w=(function(T){const O=T.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(O)>=0?O:he.UNKNOWN})(S.status);h(new _e(w,S.message))}else h(new _e(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Te(Hn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(r);Te(Hn,`RPC '${e}' ${a} sending request:`,r),d.send(n,"POST",p,i,15)}))}Bo(e,n,i){const r=B0(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=TA(),h=_A(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=a.join("");Te(Hn,`Creating RPC '${e}' stream ${r}: ${m}`,d);const x=c.createWebChannel(m,d);let v=!1,S=!1;const w=new CF({Io:T=>{S?Te(Hn,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(v||(Te(Hn,`Opening RPC '${e}' stream ${r} transport.`),x.open(),v=!0),Te(Hn,`RPC '${e}' stream ${r} sending:`,T),x.send(T))},To:()=>x.close()}),E=(T,O,N)=>{T.listen(O,(P=>{try{N(P)}catch(B){setTimeout((()=>{throw B}),0)}}))};return E(x,Pd.EventType.OPEN,(()=>{S||(Te(Hn,`RPC '${e}' stream ${r} transport opened.`),w.yo())})),E(x,Pd.EventType.CLOSE,(()=>{S||(S=!0,Te(Hn,`RPC '${e}' stream ${r} transport closed`),w.So())})),E(x,Pd.EventType.ERROR,(T=>{S||(S=!0,zc(Hn,`RPC '${e}' stream ${r} transport errored:`,T),w.So(new _e(he.UNAVAILABLE,"The operation could not be completed")))})),E(x,Pd.EventType.MESSAGE,(T=>{var O;if(!S){const N=T.data[0];wt(!!N);const P=N,B=P.error||((O=P[0])===null||O===void 0?void 0:O.error);if(B){Te(Hn,`RPC '${e}' stream ${r} received error:`,B);const W=B.status;let K=(function(R){const V=dn[R];if(V!==void 0)return JA(V)})(W),j=B.message;K===void 0&&(K=he.INTERNAL,j="Unknown error status: "+W+" with message "+B.message),S=!0,w.So(new _e(K,j)),x.close()}else Te(Hn,`RPC '${e}' stream ${r} received:`,N),w.bo(N)}})),E(h,wA.STAT_EVENT,(T=>{T.stat===Ox.PROXY?Te(Hn,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Ox.NOPROXY&&Te(Hn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.wo()}),0),w}}function z0(){return typeof document<"u"?document:null}function qm(t){return new LV(t,!0)}class cI{constructor(e,n,i=1e3,r=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class uI{constructor(e,n,i,r,a,c,h,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.Yo===n&&this.P_(i,r)}),(i=>{e((()=>{const r=new _e(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)}))}))}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((r=>{i((()=>this.I_(r)))})),this.stream.onMessage((r=>{i((()=>++this.e_==1?this.E_(r):this.onNext(r)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IF extends uI{constructor(e,n,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,c),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BV(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ue.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?Er(c.readTime):Ue.min()})(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Gx(this.serializer),n.addTarget=(function(a,c){let h;const d=c.target;if(h=Fx(d)?{documents:HV(a,d)}:{query:$V(a,d)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=eI(a,c.resumeToken);const p=Ux(a,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ue.min())>0){h.readTime=hm(a,c.snapshotVersion.toTimestamp());const p=Ux(a,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const i=qV(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Gx(this.serializer),n.removeTarget=e,this.a_(n)}}class jF extends uI{constructor(e,n,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UV(e.writeResults,e.commitTime),i=Er(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Gx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>zV(this.serializer,i)))};this.a_(n)}}class RF extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Hx(n,i),r,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(he.UNKNOWN,a.toString())}))}Lo(e,n,i,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Hx(n,i),r,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(he.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class NF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ms(n),this.D_=!1):Te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class kF{constructor(e,n,i,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{tl(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const p=He(d);p.L_.add(4),await Ch(p),p.q_.set("Unknown"),p.L_.delete(4),await Wm(p)})(this))}))})),this.q_=new NF(i,r)}}async function Wm(t){if(tl(t))for(const e of t.B_)await e(!0)}async function Ch(t){for(const e of t.B_)await e(!1)}function dI(t,e){const n=He(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),db(n)?ub(n):su(n).r_()&&cb(n,e))}function lb(t,e){const n=He(t),i=su(n);n.N_.delete(e),i.r_()&&hI(n,e),n.N_.size===0&&(i.r_()?i.o_():tl(n)&&n.q_.set("Unknown"))}function cb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).A_(e)}function hI(t,e){t.Q_.xe(e),su(t).R_(e)}function ub(t){t.Q_=new PV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.q_.v_()}function db(t){return tl(t)&&!su(t).n_()&&t.N_.size>0}function tl(t){return He(t).L_.size===0}function fI(t){t.Q_=void 0}async function PF(t){t.q_.set("Online")}async function DF(t){t.N_.forEach(((e,n)=>{cb(t,e)}))}async function OF(t,e){fI(t),db(t)?(t.q_.M_(e),ub(t)):t.q_.set("Unknown")}async function MF(t,e,n){if(t.q_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await(async function(r,a){const c=a.cause;for(const h of a.targetIds)r.N_.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.N_.delete(h),r.Q_.removeTarget(h))})(t,e)}catch(i){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fm(t,i)}else if(e instanceof Vp?t.Q_.Ke(e):e instanceof XA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ue.min()))try{const i=await lI(t.localStore);n.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.N_.get(p);m&&a.N_.set(p,m.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const m=a.N_.get(d);if(!m)return;a.N_.set(d,m.withResumeToken(Fn.EMPTY_BYTE_STRING,m.snapshotVersion)),hI(a,d);const x=new xo(m.target,d,p,m.sequenceNumber);cb(a,x)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Te("RemoteStore","Failed to raise snapshot:",i),await fm(t,i)}}async function fm(t,e,n){if(!wh(e))throw e;t.L_.add(1),await Ch(t),t.q_.set("Offline"),n||(n=()=>lI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wm(t)}))}function pI(t,e){return e().catch((n=>fm(t,n,e)))}async function Km(t){const e=He(t),n=No(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LF(e);)try{const r=await bF(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,VF(e,r)}catch(r){await fm(e,r)}mI(e)&&gI(e)}function LF(t){return tl(t)&&t.O_.length<10}function VF(t,e){t.O_.push(e);const n=No(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mI(t){return tl(t)&&!No(t).n_()&&t.O_.length>0}function gI(t){No(t).start()}async function FF(t){No(t).p_()}async function BF(t){const e=No(t);for(const n of t.O_)e.m_(n.mutations)}async function zF(t,e,n){const i=t.O_.shift(),r=nb.from(i,e,n);await pI(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Km(t)}async function UF(t,e){e&&No(t).V_&&await(async function(i,r){if((function(c){return RV(c)&&c!==he.ABORTED})(r.code)){const a=i.O_.shift();No(i).s_(),await pI(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r))),await Km(i)}})(t,e),mI(t)&&gI(t)}async function BT(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const i=tl(n);n.L_.add(3),await Ch(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wm(n)}async function HF(t,e){const n=He(t);e?(n.L_.delete(2),await Wm(n)):e||(n.L_.add(2),await Ch(n),n.q_.set("Unknown"))}function su(t){return t.K_||(t.K_=(function(n,i,r){const a=He(n);return a.w_(),new IF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(t.datastore,t.asyncQueue,{Eo:PF.bind(null,t),Ro:DF.bind(null,t),mo:OF.bind(null,t),d_:MF.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),db(t)?ub(t):t.q_.set("Unknown")):(await t.K_.stop(),fI(t))}))),t.K_}function No(t){return t.U_||(t.U_=(function(n,i,r){const a=He(n);return a.w_(),new jF(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FF.bind(null,t),mo:UF.bind(null,t),f_:BF.bind(null,t),g_:zF.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Km(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class hb{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const c=Date.now()+i,h=new hb(e,n,c,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fb(t,e){if(ms("AsyncQueue",`${e}: ${t}`),wh(t))return new _e(he.UNAVAILABLE,`${e}: ${t}`);throw t}class kc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||je.comparator(n.key,i.key):(n,i)=>je.comparator(n.key,i.key),this.keyedMap=Dd(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class zT{constructor(){this.W_=new qt(je.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,i)=>{e.push(i)})),e}}class qc{constructor(e,n,i,r,a,c,h,d,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,r,a){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new qc(e,n,kc.emptySet(n),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class $F{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class GF{constructor(){this.queries=UT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=He(n),a=r.queries;r.queries=UT(),a.forEach(((c,h)=>{for(const d of h.j_)d.onError(i)}))})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function UT(){return new ru((t=>VA(t)),zm)}async function qF(t,e){const n=He(t);let i=3;const r=e.query;let a=n.queries.get(r);a?!a.H_()&&e.J_()&&(i=2):(a=new $F,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(r,!0);break;case 1:a.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const h=fb(c,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&pb(n)}async function WF(t,e){const n=He(t),i=e.query;let r=3;const a=n.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?r=e.J_()?0:1:!a.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function KF(t,e){const n=He(t);let i=!1;for(const r of e){const a=r.query,c=n.queries.get(a);if(c){for(const h of c.j_)h.X_(r)&&(i=!0);c.z_=r}}i&&pb(n)}function YF(t,e,n){const i=He(t),r=i.queries.get(e);if(r)for(const a of r.j_)a.onError(n);i.queries.delete(e)}function pb(t){t.Y_.forEach((e=>{e.next()}))}var Wx,HT;(HT=Wx||(Wx={})).ea="default",HT.Cache="cache";class QF{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new qc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wx.Cache}}class yI{constructor(e){this.key=e}}class xI{constructor(e){this.key=e}}class JF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=FA(e),this.Ra=new kc(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new zT,r=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((m,x)=>{const v=r.get(m),S=Um(this.query,x)?x:null,w=!!v&&this.mutatedKeys.has(v.key),E=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let T=!1;v&&S?v.data.isEqual(S.data)?w!==E&&(i.track({type:3,doc:S}),T=!0):this.ga(v,S)||(i.track({type:2,doc:S}),T=!0,(d&&this.Aa(S,d)>0||p&&this.Aa(S,p)<0)&&(h=!0)):!v&&S?(i.track({type:0,doc:S}),T=!0):v&&!S&&(i.track({type:1,doc:v}),T=!0,(d||p)&&(h=!0)),T&&(S?(c=c.add(S),a=E?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((m,x)=>(function(S,w){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return E(S)-E(w)})(m.type,x.type)||this.Aa(m.doc,x.doc))),this.pa(i),r=r!=null&&r;const h=n&&!r?this.ya():[],d=this.da.size===0&&this.current&&!r?1:0,p=d!==this.Ea;return this.Ea=d,c.length!==0||p?{snapshot:new qc(this.query,e.Ra,a,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=it(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const n=[];return e.forEach((i=>{this.da.has(i)||n.push(new xI(i))})),this.da.forEach((i=>{e.has(i)||n.push(new yI(i))})),n}ba(e){this.Ta=e.Ts,this.da=it();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XF{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class ZF{constructor(e){this.key=e,this.va=!1}}class e8{constructor(e,n,i,r,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ru((h=>VA(h)),zm),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(je.comparator),this.Na=new Map,this.La=new sb,this.Ba={},this.ka=new Map,this.qa=Gc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function t8(t,e,n=!0){const i=TI(t);let r;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.Da()):r=await vI(i,e,n,!0),r}async function n8(t,e){const n=TI(t);await vI(n,e,!0,!1)}async function vI(t,e,n,i){const r=await SF(t.localStore,Tr(e)),a=r.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await i8(t,e,a,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&dI(t.remoteStore,r),h}async function i8(t,e,n,i,r){t.Ka=(x,v,S)=>(async function(E,T,O,N){let P=T.view.ma(O);P.ns&&(P=await LT(E.localStore,T.query,!1).then((({documents:j})=>T.view.ma(j,P))));const B=N&&N.targetChanges.get(T.targetId),W=N&&N.targetMismatches.get(T.targetId)!=null,K=T.view.applyChanges(P,E.isPrimaryClient,B,W);return GT(E,T.targetId,K.wa),K.snapshot})(t,x,v,S);const a=await LT(t.localStore,e,!0),c=new JF(e,a.Ts),h=c.ma(a.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),p=c.applyChanges(h,t.isPrimaryClient,d);GT(t,n,p.wa);const m=new XF(e,n,c);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function r8(t,e,n){const i=He(t),r=i.Fa.get(e),a=i.Ma.get(r.targetId);if(a.length>1)return i.Ma.set(r.targetId,a.filter((c=>!zm(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await qx(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&lb(i.remoteStore,r.targetId),Kx(i,r.targetId)})).catch(Sh)):(Kx(i,r.targetId),await qx(i.localStore,r.targetId,!0))}async function s8(t,e){const n=He(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lb(n.remoteStore,i.targetId))}async function o8(t,e,n){const i=f8(t);try{const r=await(function(c,h){const d=He(c),p=vn.now(),m=h.reduce(((S,w)=>S.add(w.key)),it());let x,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let w=gs(),E=it();return d.cs.getEntries(S,m).next((T=>{w=T,w.forEach(((O,N)=>{N.isValidDocument()||(E=E.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,w))).next((T=>{x=T;const O=[];for(const N of h){const P=EV(N,x.get(N.key).overlayedDocument);P!=null&&O.push(new el(N.key,P,jA(P.value.mapValue),us.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,O,h)})).next((T=>{v=T;const O=T.applyToLocalDocumentSet(x,E);return d.documentOverlayCache.saveOverlays(S,T.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:zA(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,d){let p=c.Ba[c.currentUser.toKey()];p||(p=new qt(pt)),p=p.insert(h,d),c.Ba[c.currentUser.toKey()]=p})(i,r.batchId,n),await Ah(i,r.changes),await Km(i.remoteStore)}catch(r){const a=fb(r,"Failed to persist write");n.reject(a)}}async function bI(t,e){const n=He(t);try{const i=await xF(n.localStore,e);e.targetChanges.forEach(((r,a)=>{const c=n.Na.get(a);c&&(wt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.va=!0:r.modifiedDocuments.size>0?wt(c.va):r.removedDocuments.size>0&&(wt(c.va),c.va=!1))})),await Ah(n,i,e)}catch(i){await Sh(i)}}function $T(t,e,n){const i=He(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const d=He(c);d.onlineState=h;let p=!1;d.queries.forEach(((m,x)=>{for(const v of x.j_)v.Z_(h)&&(p=!0)})),p&&pb(d)})(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a8(t,e,n){const i=He(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),a=r&&r.key;if(a){let c=new qt(je.comparator);c=c.insert(a,Wn.newNoDocument(a,Ue.min()));const h=it().add(a),d=new Gm(Ue.min(),new Map,new qt(pt),c,h);await bI(i,d),i.Oa=i.Oa.remove(a),i.Na.delete(e),mb(i)}else await qx(i.localStore,e,!1).then((()=>Kx(i,e,n))).catch(Sh)}async function l8(t,e){const n=He(t),i=e.batch.batchId;try{const r=await yF(n.localStore,e);wI(n,i,null),SI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ah(n,r)}catch(r){await Sh(r)}}async function c8(t,e,n){const i=He(t);try{const r=await(function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,h).next((x=>(wt(x!==null),m=x.keys(),d.mutationQueue.removeMutationBatch(p,x)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(i.localStore,e);wI(i,e,n),SI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ah(i,r)}catch(r){await Sh(r)}}function SI(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function wI(t,e,n){const i=He(t);let r=i.Ba[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Kx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((i=>{t.La.containsKey(i)||_I(t,i)}))}function _I(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(lb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mb(t))}function GT(t,e,n){for(const i of n)i instanceof yI?(t.La.addReference(i.key,e),u8(t,i)):i instanceof xI?(Te("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||_I(t,i.key)):Ve()}function u8(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Te("SyncEngine","New document in limbo: "+n),t.xa.add(i),mb(t))}function mb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new je(Vt.fromString(e)),i=t.qa.next();t.Na.set(i,new ZF(n)),t.Oa=t.Oa.insert(n,i),dI(t.remoteStore,new xo(Tr(MA(n.path)),i,"TargetPurposeLimboResolution",Yv.oe))}}async function Ah(t,e,n){const i=He(t),r=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,d)=>{c.push(i.Ka(d,e,n).then((p=>{var m;if((p||n)&&i.isPrimaryClient){const x=p?!p.fromCache:(m=n?.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(p){r.push(p);const x=ab.Wi(d.targetId,p);a.push(x)}})))})),await Promise.all(c),i.Ca.d_(r),await(async function(d,p){const m=He(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>me.forEach(p,(v=>me.forEach(v.$i,(S=>m.persistence.referenceDelegate.addReference(x,v.targetId,S))).next((()=>me.forEach(v.Ui,(S=>m.persistence.referenceDelegate.removeReference(x,v.targetId,S)))))))))}catch(x){if(!wh(x))throw x;Te("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const v=x.targetId;if(!x.fromCache){const S=m.os.get(v),w=S.snapshotVersion,E=S.withLastLimboFreeSnapshotVersion(w);m.os=m.os.insert(v,E)}}})(i.localStore,a))}async function d8(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const i=await aI(n.localStore,e);n.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((d=>{d.reject(new _e(he.CANCELLED,c))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ah(n,i.hs)}}function h8(t,e){const n=He(t),i=n.Na.get(e);if(i&&i.va)return it().add(i.key);{let r=it();const a=n.Ma.get(e);if(!a)return r;for(const c of a){const h=n.Fa.get(c);r=r.unionWith(h.view.Va)}return r}}function TI(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a8.bind(null,e),e.Ca.d_=KF.bind(null,e.eventManager),e.Ca.$a=YF.bind(null,e.eventManager),e}function f8(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c8.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gF(this.persistence,new pF,e.initialUser,this.serializer)}Ga(e){return new dF(ob.Zr,this.serializer)}Wa(e){return new _F}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class Yx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$T(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d8.bind(null,this.syncEngine),await HF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GF})()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),i=(function(a){return new AF(a)})(e.databaseInfo);return(function(a,c,h,d){return new RF(a,c,h,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,r,a,c,h){return new kF(i,r,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>$T(this.syncEngine,n,0)),(function(){return FT.D()?new FT:new TF})())}createSyncEngine(e,n){return(function(r,a,c,h,d,p,m){const x=new e8(r,a,c,h,d,p);return m&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const a=He(r);Te("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ch(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yx.provider={build:()=>new Yx};class p8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class m8{constructor(e,n,i,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qn.UNAUTHENTICATED,this.clientId=CA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{Te("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Te("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=fb(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function U0(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async r=>{i.isEqual(r)||(await aI(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g8(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>BT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,r)=>BT(e.remoteStore,r))),t._onlineComponents=e}async function g8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await U0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===he.FAILED_PRECONDITION||r.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await U0(t,new pm)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await U0(t,new pm);return t._offlineComponents}async function EI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await qT(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await qT(t,new Yx))),t._onlineComponents}function y8(t){return EI(t).then((e=>e.syncEngine))}async function x8(t){const e=await EI(t),n=e.eventManager;return n.onListen=t8.bind(null,e.syncEngine),n.onUnlisten=r8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s8.bind(null,e.syncEngine),n}function v8(t,e,n={}){const i=new Eo;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,d,p){const m=new p8({next:v=>{m.Za(),c.enqueueAndForget((()=>WF(a,x))),v.fromCache&&d.source==="server"?p.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),x=new QF(h,m,{includeMetadataChanges:!0,_a:!0});return qF(a,x)})(await x8(t),t.asyncQueue,e,n,i))),i.promise}function CI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const WT=new Map;function AI(t,e,n){if(!n)throw new _e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b8(t,e,n,i){if(e===!0&&i===!0)throw new _e(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!je.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YT(t){if(je.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function dh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ym(t);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class QT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new D6;switch(i.type){case"firstParty":return new V6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=WT.get(n);i&&(Te("ComponentProvider","Removing Datastore"),WT.delete(n),i.terminate())})(this),Promise.resolve()}}function S8(t,e,n,i={}){var r;const a=(t=dh(t,Qm))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=qn.MOCK_USER;else{h=b6(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qn(p)}t._authCredentials=new O6(new EA(h,d))}}class ou{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class Ti{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class Co extends ou{constructor(e,n,i){super(e,n,MA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new je(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function w8(t,e,...n){if(t=Bc(t),AI("collection","path",e),t instanceof Qm){const i=Vt.fromString(e,...n);return YT(i),new Co(t,null,i)}{if(!(t instanceof Ti||t instanceof Co))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return YT(i),new Co(t.firestore,null,i)}}function _8(t,e,...n){if(t=Bc(t),arguments.length===1&&(e=CA.newId()),AI("doc","path",e),t instanceof Qm){const i=Vt.fromString(e,...n);return KT(i),new Ti(t,null,new je(i))}{if(!(t instanceof Ti||t instanceof Co))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return KT(i),new Ti(t.firestore,t instanceof Co?t.converter:null,new je(i))}}class JT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cI(this,"async_queue_retry"),this.Vu=()=>{const i=z0();i&&Te("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=z0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=z0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Eo;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wh(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const r=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw ms("INTERNAL UNHANDLED ERROR: ",r),i})).then((i=>(this.du=!1,i))))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=hb.createAndSchedule(this,e,n,i,(a=>this.yu(a)));return this.Tu.push(r),r}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class gb extends Qm{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new JT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function T8(t,e){const n=typeof t=="object"?t:U5(),i=typeof t=="string"?t:"(default)",r=Vv(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=v6("firestore");a&&S8(r,...a)}return r}function II(t){if(t._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E8(t),t._firestoreClient}function E8(t){var e,n,i;const r=t._freezeSettings(),a=(function(h,d,p,m){return new J6(h,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,CI(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new m8(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}})(t._componentsProvider))}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Fn.fromBase64String(e))}catch(n){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jI{constructor(e){this._methodName=e}}class xb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}class vb{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0})(this._values,e._values)}}const C8=/^__.*__$/;class A8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new el(e,this.data,this.fieldMask,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)}}function RI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class bb{constructor(e,n,i,r,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RI(this.Cu)&&C8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class I8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||qm(e)}Qu(e,n,i,r=!1){return new bb({Cu:e,methodName:n,qu:i,path:Ln.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NI(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new I8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j8(t,e,n,i,r,a={}){const c=t.Qu(a.merge||a.mergeFields?2:0,e,n,r);DI("Data must be an object, but it was:",c,i);const h=kI(i,c);let d,p;if(a.merge)d=new sr(c.fieldMask),p=c.fieldTransforms;else if(a.mergeFields){const m=[];for(const x of a.mergeFields){const v=N8(e,x,n);if(!c.contains(v))throw new _e(he.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);P8(m,v)||m.push(v)}d=new sr(m),p=c.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,p=c.fieldTransforms;return new A8(new $i(h),d,p)}function R8(t,e,n,i=!1){return Sb(n,t.Qu(i?4:3,e))}function Sb(t,e){if(PI(t=Bc(t)))return DI("Unsupported field value:",e,t),kI(t,e);if(t instanceof jI)return(function(i,r){if(!RI(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,r){const a=[];let c=0;for(const h of i){let d=Sb(h,r.Lu(c));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),c++}return{arrayValue:{values:a}}})(t,e)}return(function(i,r){if((i=Bc(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=vn.fromDate(i);return{timestampValue:hm(r.serializer,a)}}if(i instanceof vn){const a=new vn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hm(r.serializer,a)}}if(i instanceof xb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wc)return{bytesValue:eI(r.serializer,i._byteString)};if(i instanceof Ti){const a=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw r.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof vb)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Bu("VectorValues must only contain numeric values.");return tb(h.serializer,d)}))}}}}}})(i,r);throw r.Bu(`Unsupported field value: ${Ym(i)}`)})(t,e)}function kI(t,e){const n={};return AA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(t,((i,r)=>{const a=Sb(r,e.Mu(i));a!=null&&(n[i]=a)})),{mapValue:{fields:n}}}function PI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vn||t instanceof xb||t instanceof Wc||t instanceof Ti||t instanceof jI||t instanceof vb)}function DI(t,e,n){if(!PI(n)||!(function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)})(n)){const i=Ym(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function N8(t,e,n){if((e=Bc(e))instanceof yb)return e._internalPath;if(typeof e=="string")return OI(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const k8=new RegExp("[~\\*/\\[\\]]");function OI(t,e,n){if(e.search(k8)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yb(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,i,r){const a=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||c)&&(d+=" (found",a&&(d+=` in field ${i}`),c&&(d+=` in document ${r}`),d+=")"),new _e(he.INVALID_ARGUMENT,h+t+d)}function P8(t,e){return t.some((n=>n.isEqual(e)))}class MI{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D8 extends MI{data(){return super.data()}}function wb(t,e){return typeof e=="string"?OI(t,e):e instanceof yb?e._internalPath:e._delegate._internalPath}function O8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{}class M8 extends _b{}function L8(t,e,...n){let i=[];e instanceof _b&&i.push(e),i=i.concat(n),(function(a){const c=a.filter((d=>d instanceof Tb)).length,h=a.filter((d=>d instanceof Jm)).length;if(c>1||c>0&&h>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)t=r._apply(t);return t}class Jm extends M8{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Jm(e,n,i)}_apply(e){const n=this._parse(e);return LI(e._query,n),new ou(e.firestore,e.converter,Bx(e._query,n))}_parse(e){const n=NI(e.firestore);return(function(a,c,h,d,p,m,x){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ZT(x,m);const S=[];for(const w of x)S.push(XT(d,a,w));v={arrayValue:{values:S}}}else v=XT(d,a,x)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ZT(x,m),v=R8(h,c,x,m==="in"||m==="not-in");return pn.create(p,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V8(t,e,n){const i=e,r=wb("where",t);return Jm._create(r,i,n)}class Tb extends _b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tb(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,a){let c=r;const h=a.getFlattenedFilters();for(const d of h)LI(c,d),c=Bx(c,d)})(e._query,n),new ou(e.firestore,e.converter,Bx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XT(t,e,n){if(typeof(n=Bc(n))=="string"){if(n==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LA(e)&&n.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Vt.fromString(n));if(!je.isDocumentKey(i))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bT(t,new je(i))}if(n instanceof Ti)return bT(t,n._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(n)}.`)}function ZT(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LI(t,e){const n=(function(r,a){for(const c of r)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F8{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return iu(e,((r,a)=>{i[r]=this.convertValue(a,n)})),i}convertVectorValue(e){var n,i,r;const a=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((c=>nn(c.doubleValue)));return new vb(a)}convertGeoPoint(e){return new xb(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Jv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Vt.fromString(e);wt(oI(i));const r=new ah(i.get(1),i.get(3)),a=new je(i.popFirst(5));return r.isEqual(n)||ms(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function B8(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class pp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z8 extends MI{constructor(e,n,i,r,a,c){super(e,n,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(wb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fp extends z8{data(e={}){return super.data(e)}}class U8{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new pp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Fp(this._firestore,this._userDataWriter,i.key,i,new pp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,a){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const d=new Fp(r._firestore,r._userDataWriter,h.doc.key,h.doc,new pp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const d=new Fp(r._firestore,r._userDataWriter,h.doc.key,h.doc,new pp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),m=c.indexOf(h.doc.key)),{type:H8(h.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function H8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class $8 extends F8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function G8(t){t=dh(t,ou);const e=dh(t.firestore,gb),n=II(e),i=new $8(e);return O8(t._query),v8(n,t._query).then((r=>new U8(e,i,t,r)))}function q8(t,e,n){t=dh(t,Ti);const i=dh(t.firestore,gb),r=B8(t.converter,e,n);return W8(i,[j8(NI(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,us.none())])}function W8(t,e){return(function(i,r){const a=new Eo;return i.asyncQueue.enqueueAndForget((async()=>o8(await y8(i),r,a))),a.promise})(II(t),e)}(function(e,n=!0){(function(r){nu=r})(Mm),Ga(new I6("firestore",((i,{instanceIdentifier:r,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new gb(new M6(i.getProvider("auth-internal")),new B6(i.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(p.options.projectId,m)})(c,r),c);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),_r(mT,"4.7.3",e),_r(mT,"4.7.3","esm2017")})();var eE={};const K8=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Y8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],c=t[n++],h=t[n++],d=((r&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Q8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],c=r+1<t.length,h=c?t[r+1]:0,d=r+2<t.length,p=d?t[r+2]:0,m=a>>2,x=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,S=p&63;d||(S=64,c||(v=64)),i.push(n[m],n[x],n[v],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Y8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],h=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const x=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||h==null||p==null||x==null)throw new J8;const v=a<<2|h>>4;if(i.push(v),p!==64){const S=h<<4&240|p>>2;if(i.push(S),x!==64){const w=p<<6&192|x;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X8=function(t){try{return Q8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Z8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eB=()=>Z8().__FIREBASE_DEFAULTS__,tB=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X8(t[1]);return e&&JSON.parse(e)},iB=()=>{try{return eB()||tB()||nB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rB=t=>{var e,n;return(n=(e=iB())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sB=t=>{const e=rB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]};const oB="FirebaseError";class Xm extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oB,Object.setPrototypeOf(this,Xm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aB.prototype.create)}}class aB{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],c=a?lB(a,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Xm(r,h,i)}}function lB(t,e){return t.replace(cB,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const cB=/\{\$([^}]+)}/g;function Eb(t){return t&&t._delegate?t._delegate:t}class uB{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dB="type.googleapis.com/google.protobuf.Int64Value",hB="type.googleapis.com/google.protobuf.UInt64Value";function VI(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Qx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Qx(e));if(typeof t=="function"||typeof t=="object")return VI(t,e=>Qx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function gm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case dB:case hB:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>gm(e)):typeof t=="function"||typeof t=="object"?VI(t,e=>gm(e)):t}const Cb="functions";const tE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pc extends Xm{constructor(e,n,i){super(`${Cb}/${e}`,n||""),this.details=i}}function fB(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function pB(t,e){let n=fB(t),i=n,r;try{const a=e&&e.error;if(a){const c=a.status;if(typeof c=="string"){if(!tE[c])return new Pc("internal","internal");n=tE[c],i=c}const h=a.message;typeof h=="string"&&(i=h),r=a.details,r!==void 0&&(r=gm(r))}}catch{}return n==="ok"?null:new Pc(n,i,r)}class mB{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}}const Jx="us-central1";function gB(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Pc("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class yB{constructor(e,n,i,r,a=Jx,c){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new mB(n,i,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Jx}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function xB(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function vB(t,e,n){return(i=>SB(t,e,i,{}))}async function bB(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}function SB(t,e,n,i){const r=t._url(e);return wB(t,r,n,i)}async function wB(t,e,n,i){n=Qx(n);const r={data:n},a={},c=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);c.authToken&&(a.Authorization="Bearer "+c.authToken),c.messagingToken&&(a["Firebase-Instance-ID-Token"]=c.messagingToken),c.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=c.appCheckToken);const h=i.timeout||7e4,d=gB(h),p=await Promise.race([bB(e,r,a,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!p)throw new Pc("cancelled","Firebase Functions instance was deleted.");const m=pB(p.status,p.json);if(m)throw m;if(!p.json)throw new Pc("internal","Response is not valid JSON object.");let x=p.json.data;if(typeof x>"u"&&(x=p.json.result),typeof x>"u")throw new Pc("internal","Response is missing data field.");return{data:gm(x)}}const nE="@firebase/functions",iE="0.11.8";const _B="auth-internal",TB="app-check-internal",EB="messaging-internal";function CB(t,e){const n=(i,{instanceIdentifier:r})=>{const a=i.getProvider("app").getImmediate(),c=i.getProvider(_B),h=i.getProvider(EB),d=i.getProvider(TB);return new yB(a,c,h,d,r,t)};Ga(new uB(Cb,n,"PUBLIC").setMultipleInstances(!0)),_r(nE,iE,e),_r(nE,iE,"esm2017")}function AB(t=U5(),e=Jx){const i=Vv(Eb(t),Cb).getImmediate({identifier:e}),r=sB("functions");return r&&IB(i,...r),i}function IB(t,e,n){xB(Eb(t),e,n)}function Xx(t,e,n){return vB(Eb(t),e)}CB(fetch.bind(self));const jB={apiKey:"AIzaSyDFd4RAvVZWy3G1geLudrq4KgDDsGr-jb8",authDomain:"sirsi-nexus-live.firebaseapp.com",projectId:"sirsi-nexus-live",storageBucket:"sirsi-nexus-live.firebasestorage.app",messagingSenderId:"210890802638",appId:"1:210890802638:web:9b721753a295620422179f"},Ab=z5(jB),$t=RL(Ab,{persistence:YL}),rE=T8(Ab),Zx=AB(Ab),RB=t=>async e=>{const n=$t.currentUser;if(n)try{const i=await n.getIdToken();e.header.set("Authorization",`Bearer ${i}`)}catch(i){console.error("Failed to get Firebase ID token:",i)}return await t(e)},FI=$O({baseUrl:"https://contracts-grpc-210890802638.us-east4.run.app",interceptors:[RB]}),ti=_5(GO,FI),Lo=_5(KO,FI),ui={"finalwishes-core":{id:"finalwishes-core",name:"FinalWishes Core Platform",shortDescription:"Complete Digital Legacy Solution",description:"The complete FinalWishes platform including iOS, Android, and Web applications with AI-powered legacy management.",price:95e3,hours:640,timeline:16,timelineUnit:"weeks",addonDiscount:0,includedProducts:["vault-core","media-engine","ai-foundation","mobile-apps"],features:["iOS & Android Native Apps","Web Application (React)",'"The Shepherd" AI Foundation',"Secure Cloud Infrastructure","Legacy Media Vault","Digital Lockbox Storage","Beneficiary Management","User Authentication & MFA"],detailedScope:[{title:"Legacy Media Vault",content:"Implementation of a secure, cloud-native media management system.",subItems:["YouTube API integration","Google Photos API integration","In-app recording tools","Shared memorial walls"]},{title:"Secure Digital Lockbox",content:"A zero-knowledge, encrypted vault for sensitive information.",subItems:["AES-256 encryption","Heirloom registry","Discovery notes","Role-based access"]},{title:"Final Directives & Ethical Wills",content:"Tools for capturing and legally securing final instructions.",subItems:["Guided ethical will creation","Funeral preference documentation","Medical directives templates","Scheduled release to beneficiaries"]}],wbs:[{phaseNum:1,name:"Foundation & Cloud Infrastructure",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"System Architecture & Technical Design",role:"Sr. Architect",hours:35,cost:4375},{name:"Google Cloud Project Setup",role:"DevOps Eng",hours:25,cost:3125},{name:"Database Schema Design",role:"Backend Eng",hours:35,cost:4375},{name:"Authentication System",role:"Security Eng",hours:30,cost:3750},{name:"CI/CD Pipeline & DevOps",role:"DevOps Eng",hours:35,cost:4375}]},{phaseNum:2,name:"Core Application Development",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Web Application Shell",role:"Frontend Eng",hours:40,cost:5e3},{name:"Mobile Application Shell (iOS/Android)",role:"Mobile Eng",hours:50,cost:6250},{name:'"The Shepherd" AI Foundation',role:"AI Engineer",hours:35,cost:4375},{name:"API Gateway & Backend Services",role:"Backend Eng",hours:35,cost:4375}]},{phaseNum:3,name:"Feature Integration & Vault",weeks:"9-12",hours:160,cost:2e4,activities:[{name:"Legacy Media Vault Implementation",role:"Backend Eng",hours:40,cost:5e3},{name:"Digital Lockbox & Encryption",role:"Security Eng",hours:40,cost:5e3},{name:"Beneficiary Management Portal",role:"Frontend Eng",hours:40,cost:5e3},{name:"Final Directives Module",role:"Full Stack",hours:40,cost:5e3}]},{phaseNum:4,name:"Testing, QA & Launch",weeks:"13-16",hours:160,cost:2e4,activities:[{name:"End-to-End Testing & Bug Fixes",role:"QA Engineer",hours:40,cost:5e3},{name:"Security Audit & Penetration Testing",role:"Security Eng",hours:40,cost:5e3},{name:"Performance Optimization",role:"DevOps Eng",hours:40,cost:5e3},{name:"Launch Preparation & Deployment",role:"Sr. Architect",hours:40,cost:5e3}]}]}},Cr={maintenance:{id:"maintenance",name:"Maintenance & Support",shortDescription:"12-month support (20 hrs/mo)",description:"Annual support contract.",category:"service",bundledPrice:18e3,standalonePrice:18e3,hours:240,timeline:12,timelineUnit:"months",recurring:!0,detailedScope:[{title:"Maintenance & Support",content:"Ongoing technical guardianship.",subItems:["20 Hours monthly support ($1,500/mo)","Priority bug fixes","Security patching","Infrastructure audits"]}]},"ceo-consulting":{id:"ceo-consulting",name:"CEO Consulting",shortDescription:"Direct strategic advisory (20 hrs/week)",description:"On-demand strategic consulting and executive advisory services.",category:"service",bundledPrice:6e3,standalonePrice:6e3,hours:20,timeline:1,timelineUnit:"weeks",recurring:!0,perWeek:!0,detailedScope:[{title:"Executive Strategic Advisory",content:"High-level strategic guidance and operational oversight.",subItems:["20 Hours weekly dedicated consulting","Direct access to CEO-level strategy","Product roadmap validation","Strategic advisory engagement"]}],wbs:[{phaseNum:1,name:"Strategic Advisory",weeks:"1-1",hours:20,cost:6e3,activities:[{name:"Strategic Planning Session",role:"Erin Horne McKinney",hours:10,cost:3e3},{name:"Operational Oversight",role:"Erin Horne McKinney",hours:10,cost:3e3}]}]},branding:{id:"branding",name:"Branding & Identity",shortDescription:"Logo, voice guide, UI kit",description:"Complete brand identity system.",category:"service",bundledPrice:3e4,standalonePrice:3e4,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Master Brand Identity",content:"Creation of a comprehensive visual identity system.",subItems:["Logo marks","Typography & Palette","Voice & Tone","UI/UX Figma Kit"]}],wbs:[{phaseNum:1,name:"Brand Discovery & Visual Identity",weeks:"1-4",hours:160,cost:2e4,activities:[{name:"Brand Strategy & Research",role:"Art Director",hours:40,cost:5e3},{name:"Logo & Visual Identity System",role:"Art Director",hours:40,cost:5e3},{name:"Typography, Palette & Voice Guide",role:"UI Designer",hours:40,cost:5e3},{name:"UI/UX Design Kit (Figma)",role:"UI Designer",hours:40,cost:5e3}]},{phaseNum:2,name:"Design System & Delivery",weeks:"5-8",hours:160,cost:2e4,activities:[{name:"Component Library Build",role:"UI Designer",hours:40,cost:5e3},{name:"Responsive Layout System",role:"Frontend Eng",hours:40,cost:5e3},{name:"Brand Asset Production",role:"Art Director",hours:40,cost:5e3},{name:"Style Guide Documentation",role:"UI Designer",hours:40,cost:5e3}]}]},estate:{id:"estate",name:"Estate Administration",shortDescription:"Executor tools & asset tracking",description:"Estate management module.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Estate Administration Hub",content:"Specialized tools for legacy management.",subItems:["Executor dashboard","Asset inventory","Beneficiary portal","Auditing"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:80,cost:12e3,activities:[{name:"Estate Logic Integration",role:"Backend Eng",hours:40,cost:11200},{name:"Executor UI Components",role:"Frontend Eng",hours:40,cost:11200}]}]},probate:{id:"probate",name:"Probate Engine (Per State)",shortDescription:"State-specific form automation",description:"State-specific probate automation.",category:"feature",bundledPrice:24500,standalonePrice:35e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"State-Specific Probate Engine",content:"Automation of primary probate filings and documentation for a specific jurisdiction.",subItems:["Statutory form templates","Local court filing rules integration","Deadline and timeline calculators","Asset-to-heir distribution logic"]}],wbs:[{phaseNum:3,name:"Module Integration",weeks:"9-12",hours:70,cost:14e3,activities:[{name:"Probate Form Engine",role:"Backend Eng",hours:40,cost:8e3},{name:"Court Integration API",role:"Security Eng",hours:30,cost:6e3}]}]},"probate-ai":{id:"probate-ai",name:"Probate AI Enhancement",shortDescription:"AI form analysis",description:"AI-powered probate assistance.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",prerequisites:["probate"],detailedScope:[{title:"Probate AI Enhancement",content:"Integration of large language models to assist in document extraction and validation.",subItems:["Automated form extraction (OCR/LLM)","Legacy document summarization","Consistency checking across filings","Natural language query of probate laws"]}]},comms:{id:"comms",name:"Secure Comms Suite",shortDescription:"Encrypted messaging & alerts",description:"Encrypted messaging system.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Encrypted Legacy Communications",content:"Secure communication channel for family and executors.",subItems:["End-to-End Encryption (E2EE)","Message persistence guarantees","Heir-to-Executor private channels","Automated legacy alerts"]}]},memorial:{id:"memorial",name:"Virtual Memorial Services",shortDescription:"Live streaming & guestbook",description:"Virtual memorial platform.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Virtual Memorial Platform",content:"Interactive, permanent spaces for remembrance and broadcast.",subItems:["Live stream integration","Interactive guestbooks","Virtual candle lighting","Permanent memory walls"]}]},financial:{id:"financial",name:"Advanced Asset Discovery",shortDescription:"Plaid-powered asset search",description:"Plaid-powered asset discovery.",category:"feature",bundledPrice:29400,standalonePrice:42e3,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Advanced Financial Discovery",content:"Deep integration with financial institutions for asset identification.",subItems:["Plaid Link integration","Automated account mapping","Institutional metadata extraction","Credential-less vaulting"]}]},"ai-legacy":{id:"ai-legacy",name:"AI Voice & Avatar Synthesis",shortDescription:"Voice cloning & avatar memorial",description:"AI-driven voice and visual synthesis for living memorials.",category:"feature",bundledPrice:26950,standalonePrice:38500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Living Legacy AI",content:"Implementation of advanced generative AI for realistic legacy preservation.",subItems:["Custom voice cloning (from 15m audio)","3D Avatar generation from photos","Interactive AI guided story-telling","Strict ethical safety guardrails"]}]},liquidator:{id:"liquidator",name:"Digital Asset Liquidator",shortDescription:"Automated account transitions",description:"Automated closing and transfer of digital accounts.",category:"feature",bundledPrice:19600,standalonePrice:28e3,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Automated Digital Transitions",content:"Tools for managing the difficult process of closing a digital life.",subItems:["Social media 'Memorialize' triggers","Subscription cancellation bot","Digital asset inventory vault","Credential transition protocols"]}]},compliance:{id:"compliance",name:"Global Compliance Suite",shortDescription:"GDPR / Multi-region privacy",description:"Multi-region data residency and compliance (GDPR, CCPA).",category:"service",bundledPrice:17150,standalonePrice:24500,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Global Data Sovereignty",content:"Enterprise-grade compliance framework for international operations.",subItems:["Local data residency (EU/US/Asia)","Automated PII auditing","End-to-end encryption key management","Privacy regulation monitoring"]}]},"white-label":{id:"white-label",name:"Professional Partner Portal",shortDescription:"B2B Partner & Branding system",description:"White-label dashboard for funeral homes and law firms.",category:"feature",bundledPrice:36750,standalonePrice:52500,hours:480,timeline:12,timelineUnit:"weeks",detailedScope:[{title:"B2B Partner Ecosystem",content:"Enabling professional services to offer FinalWishes to their clients.",subItems:["Fully white-labeled UI","Lead management for partners","Co-branded document generation","Unified partner billing console"]}]},charity:{id:"charity",name:"Charitable Trust Engine",shortDescription:"Automated legacy philanthropy",description:"Automation for charitable donations and foundation setup.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:320,timeline:8,timelineUnit:"weeks",detailedScope:[{title:"Legacy Philanthropy Engine",content:"Tools to ensure a user's charitable impact continues permanently.",subItems:["Verified non-profit registry","Endowment setup automation","Recurring donation scheduling","Impact reporting for heirs"]}]},genealogy:{id:"genealogy",name:"Genealogy Data Deep-Sync",shortDescription:"Deep lineage & history sync",description:"Ancestry.com and FamilySearch automatic data sync.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Deep Lineage Integration",content:"Pulling a user's history into their current legacy platform.",subItems:["Automatic family tree import","Record & Document OCR","Multi-generational storytelling","Lineage-based privacy locks"]}]},"multi-sig":{id:"multi-sig",name:"Vault Shamir Key Sharding",shortDescription:"Multi-heir vault unlocking",description:"Ultra-secure vault access using Shamir's Secret Sharing.",category:"feature",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Security",content:"Ensuring the vault can only be opened with the consensus of multiple heirs.",subItems:["Shamir's Secret Sharing (SSS)","N-of-M signature requirements","Trustee verification tokens","Emergency access protocols"]}]},publishing:{id:"publishing",name:"Legacy Print & Publishing",shortDescription:"Physical ethical will books",description:"Physical publishing of memoirs and ethical wills.",category:"service",bundledPrice:9800,standalonePrice:14e3,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Physical Legacy Publishing",content:"Turning digital memories into permanent physical heirlooms.",subItems:["High-quality hardcover memoirs","Ethical Will print editions","Global fulfillment & shipping","Custom brand leather binding"]}]},crypto:{id:"crypto",name:"Crypto Vault & Wallet Sync",shortDescription:"Crypto & NFT legacy vault",description:"Secure legacy transfer of cryptocurrency and NFT assets.",category:"feature",bundledPrice:22050,standalonePrice:31499,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Digital Asset Preservation",content:"Ensuring that non-custodial digital assets can be securely handed down.",subItems:["Hardware wallet (Ledger) integration","NFT metadata preservation","Multi-chain asset tracking","Encrypted seed phrase transition (Zero-Knowledge)"]}]},blockchain:{id:"blockchain",name:"Smart Contract Legacy Trust",shortDescription:"Immutable trust automation",description:"Definitive automated asset release via immutable smart contracts.",category:"feature",bundledPrice:31850,standalonePrice:45500,hours:400,timeline:10,timelineUnit:"weeks",detailedScope:[{title:"Blockchain Trust Infrastructure",content:"Replacing human-error trusts with mathematically certain code.",subItems:["Solidity-based trust contracts","On-chain proof of existence","Automated distribution on death-trigger","Immutable legacy ledger"]}]},documentary:{id:"documentary",name:"Legacy Documentary Production",shortDescription:"Pro-grade cinematic legacy",description:"Professional video editing and archival for family documentaries.",category:"service",bundledPrice:14700,standalonePrice:21e3,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Cinematic Legacy Preservation",content:"Transforming raw footage and memories into a high-end documentary.",subItems:["4K cinematic editing","Color grading & professional sound","Family interview orchestration","Cloud-native 8K archival"]}]},"vault-guard":{id:"vault-guard",name:"Vault Guard: Multi-Regional KMS Backup",shortDescription:"Multi-region KMS hardening",description:"Hyper-resilient security with cross-region key management.",category:"feature",bundledPrice:12250,standalonePrice:17500,hours:160,timeline:4,timelineUnit:"weeks",detailedScope:[{title:"Advanced Vault Guarding",content:"Ensuring that the vault remains accessible even in the event of major region failure.",subItems:["Cross-region KMS key replication","Automated encryption health checks","HSM-level security integration","Biometric secondary recovery paths"]}]},analytics:{id:"analytics",name:"Estate ROI & Analytics Dashboard",shortDescription:"Estate health & growth insights",description:"Advanced data insights into estate health and value growth.",category:"feature",bundledPrice:8820,standalonePrice:12600,hours:240,timeline:6,timelineUnit:"weeks",detailedScope:[{title:"Estate Intelligence Dashboard",content:"Providing real-time insights into the total value and health of a legacy portfolio.",subItems:["Automated valuation of digital assets","Tax impact forecasting","Heir engagement metrics","Document expiration alerts"]}]}};function au(t,e,n=1,i=1,r=1){let a=0,c=0,h=0,d=0,p=0;const m=t!==null;t&&ui[t]&&(a=ui[t].price,p+=ui[t].hours),e.forEach(w=>{const E=Cr[w];if(E){const T=E.standalonePrice||Math.round(E.bundledPrice*1.5),O=m?E.bundledPrice:T,N=E.hours;if(w==="ceo-consulting"){const P=Math.max(1,n);h+=O*P,p+=E.hours*P}else if(w==="probate"){const P=i;d+=O*P,p+=E.hours*P}else c+=O,p+=N}});const x=a+c+h+d,v=r||1,S=p*250;return{total:Math.round(x*v),internalTotal:x,marketTotal:S,totalHours:p,breakdown:{bundle:Math.round(a*v),addons:Math.round(c*v),special:{ceoConsulting:Math.round(h*v),probateEngine:Math.round(d*v)}}}}function Kc(t,e,n=1){const i=t?ui[t].timeline:0;let r=0;return e.forEach(a=>{const c=Cr[a];if(c&&c.timelineUnit==="weeks")if(a==="probate"){const h=Math.max(1,n);r+=c.timeline+(h-1)*2}else{if(a==="ceo-consulting")return;r+=c.timeline}}),i+Math.ceil(r*.5)}const BI=125,Yc=[{role:"Sr. Architect",percentage:.15},{role:"Backend Eng",percentage:.25},{role:"Frontend Eng",percentage:.25},{role:"DevOps Eng",percentage:.15},{role:"QA Engineer",percentage:.1},{role:"Security Eng",percentage:.1}];function NB(t,e=1){const n="timeline"in t?t.timeline:16,i=t.name,r=t.detailedScope||[],a=t.hours,c=a*BI,h=Math.max(1,Math.ceil(n/4)),d=Math.ceil(n/h),p=Math.ceil(a/h),m=Math.round(c/h),x=[];if(r.length>=h)for(let v=0;v<h;v++){const S=e+v*d,w=S+d-1,E=r[v]||r[r.length-1];x.push({phaseNum:v+1,name:E.title,weeks:`${S}-${w}`,hours:p,cost:m,activities:kB(E,p,m)})}else{const v=["Foundation & Architecture","Core Development","Integration & Features","Testing & Launch"];for(let S=0;S<h;S++){const w=e+S*d,E=w+d-1,T=S<v.length?`${i}: ${v[S]}`:`${i}: Phase ${S+1}`;x.push({phaseNum:S+1,name:T,weeks:`${w}-${E}`,hours:p,cost:m,activities:PB(i,p,m,S)})}}return x}function kB(t,e,n){const i=[],r=Math.min(t.subItems.length,4)||1,a=Math.ceil(e/r),c=Math.round(n/r);for(let h=0;h<r;h++){const d=t.subItems[h]||t.title,p=Yc[h%Yc.length].role;i.push({name:d,role:p,hours:a,cost:c})}return i}function PB(t,e,n,i){const r=[["System Architecture","Infrastructure Setup","Database Design"],["Backend Development","Frontend Development","API Integration"],["Feature Implementation","Third-Party Integration","Security Hardening"],["End-to-End Testing","Performance Optimization","Deployment"]],a=[],c=r[i%r.length],h=Math.ceil(e/c.length),d=Math.round(n/c.length);return c.forEach((p,m)=>{a.push({name:p,role:Yc[m%Yc.length].role,hours:h,cost:d})}),a}function Ib(t,e,n=1,i=1){const r=[],a=t!==null;if(t&&ui[t]){const x=ui[t];x.wbs&&x.wbs.length>0?r.push(...JSON.parse(JSON.stringify(x.wbs))):r.push(...NB(x,1))}const c=r.findIndex(x=>x.name.toLowerCase().includes("testing")||x.name.toLowerCase().includes("launch")||x.name.toLowerCase().includes("qa"));let d=t?9:1;const p=[];e.forEach(x=>{const v=Cr[x];if(!v||x==="maintenance")return;let S=1;x==="ceo-consulting"&&(S=Math.max(1,n)),x==="probate"&&(S=Math.max(1,i));const w=v.hours*S,E=v.standalonePrice||Math.round(v.bundledPrice*1.5),O=(a?v.bundledPrice:E)*S,N=w*BI;if(v.timelineUnit==="weeks"&&x!=="ceo-consulting"){const P=v.timeline,B=x==="probate"?P+(S-1)*2:P,W=Math.ceil(B*.5),K=d+W-1,j=Math.min(v.detailedScope?.length||1,4),A=Math.round(w/j),R=Math.round(N/j);p.push({phaseNum:0,name:S>1?`${v.name} (${S})`:v.name,weeks:`${d}-${K}`,hours:w,cost:N,activities:v.detailedScope?.slice(0,4).map((V,z)=>({name:V.title,role:Yc[z%Yc.length].role,hours:A,cost:R}))||[{name:`${v.name} Implementation`,role:"Full Stack",hours:w,cost:N}]}),d=K+1}else x==="ceo-consulting"&&p.push({phaseNum:0,name:`${v.name} (${S} week${S>1?"s":""})`,weeks:`1-${S}`,hours:w,cost:O,activities:[{name:"Strategic Advisory & Operational Oversight",role:"CEO",hours:w,cost:O}]})});const m=c!==-1?c:r.length;if(r.splice(m,0,...p),p.length>0&&c!==-1){const x=r[m+p.length];x&&(x.weeks=`${d}-${d+4-1}`)}return r.forEach((x,v)=>{x.phaseNum=v+1}),r}function ym(t,e,n=1,i=1){return Ib(t,e,n,i).reduce((r,a)=>r+a.hours,0)}const Sr={finalwishes:{key:"finalwishes",projectDisplayName:"FinalWishes Platform",providerName:"Sirsi Technologies",docCode:"FW",primaryObjectiveTitle:"The Living Legacy Platform",primaryObjectiveDescription:'To architect and deploy a secure, multi-tenant digital preservation engine that allows Principals to curate their "Final Wishes"including digital assets, legal instructions, and emotional legaciesusing AI-driven guidance and a "Vault-Grade" security infrastructure.',strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are not just building an app; we are deploying a private, permanent infrastructure for estate management.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Vault",value:"Cloud SQL + KMS Encryption"},{label:"Mobile",value:"React Native Expo"}],sowObjective:`Establish a permanent, industrial-grade "Living Legacy" platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI infrastructure.`,sowPlatformType:"Legacy Management",msaRecital:'Client desires to engage Provider to design, develop, and implement a legacy management system known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, legacy management scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Jurisdiction-specific probate logic, workflows, and regulatory compliance rules, inclusive of but not restricted to Maryland, Illinois, and Minnesota, or any other federal, state, or local governmental jurisdictions","Proprietary content, decision trees, and conversational scripts authored for 'The Shepherd' guidance engine (defining the interactive user prompts, educational narratives, and process navigation pathways)","Unique data schemas and information architecture (representing the specific definitions, organization, and structural relationships of Client's proprietary business data)"],msaVerticalLicense:"within the field of Legacy Management and Digital Inheritance Automation",msaNonCompeteVertical:"Legacy Management or Digital Inheritance",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Legacy Management System. This project aims to build foundational legacy management infrastructure with foundational support for future expansion into estate settlement capabilities in jurisdictions such as Maryland, Illinois, and Minnesota.',msaSowObjective:'deliver a "Vault-Grade" secure platform that allows users to securely organize, document, and manage their legacy assets and final wishes, providing a permanent, cryptographically-secure repository for digital inheritance and beneficiary instructions.',msaAssumptions:["Future Expansion Support: Logic is focused on foundational legacy management, with future support planned for Maryland, Illinois, and Minnesota.",'No Legal Advice: The "Shepherd" guides users through site and application logic and provides procedural guidance, not legal advice.',"Third-Party Costs: Client pays direct consumption costs for Stripe, Plaid, Lob, and Google Cloud.","Content: Client is responsible for final validation of court form templates."],msaNoSelectFallback:"Core Legacy Management Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines and infrastructure-as-code deployments, we realize significant savings.",msaDocumentScope:[{title:"A. Identity & Vital Records",content:"Death Certificate (Manual upload/OCR processing); Social Security/Gov ID (Secure entry & validation)."},{title:"B. Future State Engine Framework (Expansion)",content:"Maryland/Illinois/Minnesota: Foundational logic mapping for future expansion into MDEC (Maryland), eCourt (Illinois), and MNCIS (Minnesota) e-filing guidance. Note: Active development of direct court filing automation is reserved for future statement(s) of work."},{title:"C. Financial & Asset Documents",content:"Asset Discovery (Plaid integration for 12,000+ institutions); Life Insurance/Retirement (Standard claim letter generation); Real Estate (Manual tracking + valuation APIs)."}],docType:"legacy-msa"},fonemovie:{key:"fonemovie",projectDisplayName:"FoneMovie Media Discovery Platform",providerName:"Sirsi Technologies",docCode:"FM",primaryObjectiveTitle:"The Media Discovery Engine",primaryObjectiveDescription:"To architect and deploy a high-performance media discovery and distribution platform that enables creators, studios, and audiences to connect through intelligent content curationleveraging AI-powered recommendations, real-time analytics, and a scalable streaming infrastructure.",strategicPosition:"Sirsi acts as the Technical Lead, leveraging the Nexus V4 Core to accelerate 0-to-1 development by 60%. We are building a next-generation media platform with discovery-first architecture and creator-centric monetization.",techStack:[{label:"Logic",value:"Go (Golang) / Cloud Run"},{label:"Intelligence",value:"Google Vertex AI (Gemini)"},{label:"Media",value:"Cloud CDN + Transcoding Pipeline"},{label:"Mobile",value:"React Native Expo"}],sowObjective:"Build a next-generation media discovery and distribution platform spanning iOS, Android, and Web, powered by Sirsi's component library and Google Cloud's enterprise AI and media infrastructure.",sowPlatformType:"Media Discovery",msaRecital:'Client desires to engage Provider to design, develop, and implement a media discovery and distribution platform known as {projectName} (the "Platform"), with sufficient foundational infrastructure to support content curation, creator tools, audience analytics, and scalable streaming capabilities',msaForegroundIpDescription:"the Intellectual Property Rights in the comprehensive body of specific business logic, media discovery algorithms, content curation scripts, configurations, and unique operational workflows developed strictly and exclusively for {projectName} that rely upon but are distinct from Background Technology",msaForegroundIpItems:["Custom UI/UX designs, visual interfaces, and brand assets specific to {projectName}","Proprietary content recommendation algorithms, discovery feeds, and audience matching logic","Creator dashboard interfaces, analytics pipelines, and monetization workflow configurations","Unique data schemas and information architecture for media metadata, user engagement, and content relationships"],msaVerticalLicense:"within the field of Media Discovery, Content Distribution, and Entertainment Technology",msaNonCompeteVertical:"Media Discovery or Content Distribution",msaSowOverview:'This Statement of Work ("SOW") defines the comprehensive scope for the {projectName} Media Discovery Platform. This project aims to build a scalable media discovery infrastructure with content curation, creator tools, audience analytics, and streaming distribution capabilities.',msaSowObjective:"deliver a high-performance media platform that enables creators and studios to distribute content, audiences to discover personalized media, and all parties to engage through intelligent AI-driven recommendations and real-time analytics.",msaAssumptions:["Content Licensing: Client is responsible for securing all necessary content licensing and distribution rights.","No Legal Advice: The platform provides content discovery and distribution tools, not legal or licensing counsel.","Third-Party Costs: Client pays direct consumption costs for Stripe, CDN bandwidth, transcoding, and Google Cloud.","Content Moderation: Client is responsible for content moderation policies and enforcement."],msaNoSelectFallback:"Core Media Discovery Platform (Standard Bundle)",msaCostIntro:"The {projectName} project leverages the Sirsi Nexus V4 Framework to achieve enterprise-grade results at a fraction of typical market costs. By utilizing pre-validated logic engines, CDN infrastructure, and AI pipelines, we realize significant savings.",msaDocumentScope:[{title:"A. Content Ingestion & Processing",content:"Media upload pipeline with automated transcoding; Metadata extraction and tagging; CDN distribution with adaptive bitrate streaming."},{title:"B. Discovery & Recommendation Engine",content:"AI-powered content recommendations using Vertex AI; User behavior analytics and engagement tracking; Personalized discovery feeds with collaborative filtering."},{title:"C. Creator Tools & Monetization",content:"Creator dashboard with performance analytics; Revenue tracking and payout management (Stripe integration); Content scheduling and distribution management."}],docType:"media-msa"}};function xd(t,e){return t.replace(/\{projectName\}/g,e)}function Ih(t){if(!t)return Sr.finalwishes;if(Sr[t])return Sr[t];const e=t.toLowerCase();for(const[n,i]of Object.entries(Sr))if(e.includes(n))return i;return Sr.finalwishes}function DB(t,e){const n=Ih(t);return{...n,msaRecital:xd(n.msaRecital,e),msaForegroundIpDescription:xd(n.msaForegroundIpDescription,e),msaForegroundIpItems:n.msaForegroundIpItems.map(i=>xd(i,e)),msaSowOverview:xd(n.msaSowOverview,e),msaCostIntro:xd(n.msaCostIntro,e)}}const H0={projectName:"FinalWishes",companyName:"111 Venture Studio",projectId:"finalwishes",contractId:null,clientName:"",clientEmail:"",entityLegalName:"Sirsi Technologies, Inc.",counterpartyName:"Cylton Collymore",counterpartyTitle:"CEO",currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[],sirsiMultiplier:2,maintenanceMode:!1},be=m4()(y4((t,e)=>({...H0,setCurrentTab:n=>{t({currentTab:n});const i=e().visitedTabs;i.includes(n)||t({visitedTabs:[...i,n]}),setTimeout(()=>{const r=document.querySelector(".main-content");r&&r.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},50)},setProjectId:n=>{const i=e();if(n!==i.projectId){const r=Ih(n);t({projectId:n,projectName:r.projectDisplayName,companyName:H0.companyName,clientName:"",clientEmail:"",contractId:null,currentTab:"summary",visitedTabs:["summary"],selectedBundle:null,selectedAddons:[],ceoConsultingWeeks:1,probateStates:[]})}else t({projectId:n})},setContractId:n=>t({contractId:n}),setClientInfo:(n,i)=>t({clientName:n,clientEmail:i}),setCounterpartyInfo:(n,i,r)=>t({entityLegalName:n,counterpartyName:i,counterpartyTitle:r}),setSelectedBundle:n=>t({selectedBundle:n}),toggleAddon:n=>t(i=>({selectedAddons:i.selectedAddons.includes(n)?i.selectedAddons.filter(r=>r!==n):[...i.selectedAddons,n]})),setCeoConsultingWeeks:n=>t({ceoConsultingWeeks:Math.max(1,Math.min(52,n))}),toggleProbateState:n=>t(i=>({probateStates:i.probateStates.includes(n)?i.probateStates.filter(r=>r!==n):[...i.probateStates,n]})),markTabVisited:n=>t(i=>({visitedTabs:i.visitedTabs.includes(n)?i.visitedTabs:[...i.visitedTabs,n]})),setSystemSettings:n=>t({sirsiMultiplier:n.multiplier||2,maintenanceMode:n.maintenanceMode||!1}),fetchContract:async n=>{try{const i=await ti.getContract({id:n});if(i){const r={contractId:i.id,clientName:i.clientName,clientEmail:i.clientEmail,projectId:i.projectId,projectName:i.projectName},a=i.selections;a&&(a.bundle&&(r.selectedBundle=a.bundle),a.addons&&(r.selectedAddons=a.addons),a.ceoConsultingWeeks&&(r.ceoConsultingWeeks=a.ceoConsultingWeeks),a.probateStates&&(r.probateStates=a.probateStates)),t(r),console.log(` State re-hydrated from contract ${n}`)}}catch(i){console.error(` Failed to fetch contract ${n}:`,i)}},syncConfig:async()=>{const n=e();if(!n.contractId){console.warn("Cannot sync config: No contractId available");return}try{console.log(` Syncing configuration for contract ${n.contractId}...`);const i=au(n.selectedBundle,n.selectedAddons,n.ceoConsultingWeeks,n.probateStates.length,n.sirsiMultiplier);await ti.updateContract({id:n.contractId,contract:{totalAmount:BigInt(Math.round(i.total*100)),selections:{bundle:n.selectedBundle,addons:n.selectedAddons,ceoConsultingWeeks:n.ceoConsultingWeeks,probateStates:n.probateStates}}}),console.log(" Configuration synced to Sirsi Ledger")}catch(i){console.error(" Failed to sync configuration:",i)}},resetConfig:()=>t(H0)}),{name:"sirsi-config-storage",storage:r5(()=>localStorage)})),zI=()=>be(t=>t.currentTab),lu=()=>be(t=>t.setCurrentTab),OB=()=>be(t=>t.syncConfig),MB=[{id:"summary",line1:"Executive",line2:"Summary"},{id:"configure",line1:"Configure",line2:"Solution"},{id:"sow",line1:"Statement",line2:"of Work"},{id:"cost",line1:"Cost &",line2:"Valuation"},{id:"msa",line1:"Master Agreement",line2:"(MSA)"},{id:"vault",line1:"Sirsi",line2:"Vault"}];function LB(){const t=zI(),e=lu();return l.jsx("div",{className:"nav-tabs",children:MB.map(n=>l.jsxs("button",{className:`tab-btn ${t===n.id?"active":""}`,onClick:()=>e(n.id),children:[l.jsx("span",{className:"tab-line1",children:n.line1}),l.jsx("span",{className:"tab-line2",children:n.line2})]},n.id))})}const VB=(t="",e="",n=50)=>yh({queryKey:["contracts",t,e,n],queryFn:async()=>await ti.listContracts(new Sa({projectId:t,userEmail:e,pageSize:n}))}),UI=(t=10,e="")=>yh({queryKey:["users",t,e],queryFn:async()=>await Lo.listUsers(new Ca({pageSize:t,pageToken:e}))}),FB=(t=10,e="")=>yh({queryKey:["notifications",t,e],queryFn:async()=>await Lo.listNotifications(new Ia({pageSize:t,pageToken:e}))}),BB=()=>{const t=gh();return jm({mutationFn:async e=>await Lo.sendNotification(new Aa(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["notifications"]})}})},HI=()=>jm({mutationFn:async t=>await Lo.logDevSession(new Ta(t))}),zB=()=>{const t=gh();return jm({mutationFn:async e=>await Lo.manageUserRole(new Ea(e)),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})},$I=()=>yh({queryKey:["settings"],queryFn:async()=>(await Lo.getSettings(new ja)).settings}),UB=()=>{const t=gh();return jm({mutationFn:async e=>await Lo.updateSettings(new Ra({settings:new Ov(e)})),onSuccess:()=>{t.invalidateQueries({queryKey:["settings"]})}})},HB=(t="ALL",e=50,n="")=>yh({queryKey:["audit-trail",t,e,n],queryFn:async()=>await Lo.listAuditTrail(new Na({filterLevel:t,pageSize:e,pageToken:n}))});function sE(){const t=lu(),e=be(d=>d.clientName),n=be(d=>d.companyName),i=be(d=>d.projectName),r=be(d=>d.projectId),a=be(d=>d.setClientInfo),c=be.setState,h=Ih(r);return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsx("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Executive Summary"})}),l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"32px",marginBottom:"4rem",maxWidth:"800px",margin:"0 auto 4rem auto"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",color:"#FFFFFF",fontSize:"20px",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Prepared For"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Client Name"}),l.jsx("input",{type:"text",placeholder:"Enter Name...",value:e,onChange:d=>a(d.target.value,be.getState().clientEmail),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Organization"}),l.jsx("input",{type:"text",placeholder:"Company (Optional)...",value:n,onChange:d=>c({companyName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.05em"},children:"Project Name"}),l.jsx("input",{type:"text",placeholder:"e.g. The Lockhart Estate...",value:i,onChange:d=>c({projectName:d.target.value}),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"12px",color:"white",fontSize:"16px",outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"linear-gradient(145deg, #141e3c, #0a0f1e)",marginBottom:"3rem",cursor:"default",padding:"28px",borderRadius:"12px",border:"2px solid rgba(200, 169, 81, 0.5)",backdropFilter:"blur(12px)",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{display:"inline-block",background:"linear-gradient(135deg, #C8A951, #E2C76B)",color:"#000",padding:"8px 20px",borderRadius:"4px",fontWeight:"bold",fontSize:"12px",marginBottom:"28px",textTransform:"uppercase",letterSpacing:"0.15em",boxShadow:"0 4px 15px rgba(200, 169, 81, 0.3)"},children:"Primary Objective"}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#FFFFFF",marginBottom:"24px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:h.primaryObjectiveTitle}),l.jsx("p",{style:{fontSize:"20px",lineHeight:1.8,color:"rgba(255,255,255,0.9)"},children:h.primaryObjectiveDescription})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4rem",marginBottom:"5rem"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Strategic Position"}),l.jsx("p",{style:{lineHeight:1.8,opacity:.9,fontSize:"1.25rem"},children:h.strategicPosition})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontSize:"14px"},children:"Technology Stack"}),l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"1rem",opacity:.9},children:h.techStack.map((d,p)=>l.jsxs("li",{style:{fontSize:"1.25rem"},children:[" ",l.jsxs("strong",{children:[d.label,":"]})," ",d.value]},p))})]})]}),l.jsx("div",{style:{textAlign:"center",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("configure"),className:"select-plan-btn",style:{padding:"16px 40px",fontSize:"18px"},children:"Configure Your Solution "})})]})}const $B=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"Washington D.C."},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];function GB(){const t=lu(),e=OB(),n=be(D=>D.contractId),i=be(D=>D.selectedBundle),r=be(D=>D.selectedAddons),a=be(D=>D.setSelectedBundle),c=be(D=>D.toggleAddon),h=be(D=>D.ceoConsultingWeeks),d=be(D=>D.setCeoConsultingWeeks),p=be(D=>D.probateStates),m=be(D=>D.toggleProbateState);L.useEffect(()=>{if(!n)return;const D=setTimeout(()=>{e()},1e3);return()=>clearTimeout(D)},[i,r,h,p,n,e]);const[x,v]=L.useState(null),[S,w]=L.useState(""),[E,T]=L.useState([]),[O,N]=L.useState(h),B=au(i,r,h,p.length,1).total,W=Kc(i,r,p.length),K=(i?1:0)+r.length,j=i==="finalwishes-core",A=!j&&r.length>0,R=()=>{x!=="probate"?(T([...p]),w(""),v("probate")):v(null)},V=()=>{x!=="ceo-consulting"?(N(h),v("ceo-consulting")):v(null)},z=$B.filter(D=>D.name.toLowerCase().includes(S.toLowerCase())||D.code.toLowerCase().includes(S.toLowerCase())),U=D=>{T(G=>G.includes(D)?G.filter(oe=>oe!==D):[...G,D])},F=()=>{const D=E.filter(oe=>!p.includes(oe)),G=p.filter(oe=>!E.includes(oe));D.forEach(oe=>m(oe)),G.forEach(oe=>m(oe)),E.length>0&&!r.includes("probate")&&c("probate"),E.length===0&&r.includes("probate")&&c("probate"),v(null)},pe=()=>{d(O),r.includes("ceo-consulting")||c("ceo-consulting"),v(null)},Ce=()=>{T([])};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem",marginTop:"2rem"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"3.5rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",lineHeight:"1.2"},children:"Configure Your Solution"}),l.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255, 255, 255, 0.7)",maxWidth:"800px",margin:"0 auto",lineHeight:1.6},children:"Select your core platform and strategic add-on modules. Your selections will generate a custom Statement of Work."})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"1. Choose Your Path"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",width:"100%",margin:"0 auto"},children:[l.jsxs("div",{onClick:()=>a("finalwishes-core"),style:{cursor:"pointer",border:`2px solid ${j?"#10B981":"#C8A951"}`,background:j?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #141e3c, #0a0f1e)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${j?"#10B981":"rgba(255,255,255,0.3)"}`,background:j?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:j&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#000",padding:"6px 16px",borderRadius:"20px",fontWeight:700,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" Recommended"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:ui["finalwishes-core"]?.name||"Core Platform"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Complete Digital Legacy Solution"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Investment"}),l.jsxs("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:["$",ui["finalwishes-core"].price.toLocaleString()]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4px"},children:["Market Value: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(ui["finalwishes-core"].hours*250).toLocaleString()]})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:[ui["finalwishes-core"].timeline," Week Delivery"]})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#93c5fd",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"What's Included:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.85)",lineHeight:1.8},children:[l.jsx("li",{children:"iOS & Android Native Apps"}),l.jsx("li",{children:"Web Application (React)"}),l.jsx("li",{children:'"The Shepherd" AI Foundation'}),l.jsx("li",{children:"Secure Cloud Infrastructure"}),l.jsx("li",{children:"Legacy Media Vault"}),l.jsx("li",{children:"Digital Lockbox Storage"}),l.jsx("li",{children:"Beneficiary Management"}),l.jsx("li",{children:"User Authentication & MFA"})]})]}),l.jsxs("div",{onClick:()=>a(null),style:{cursor:"pointer",border:`2px solid ${A?"#10B981":"rgba(255,255,255,0.3)"}`,background:A?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #0f172a, #080c16)",position:"relative",transition:"all 0.3s ease",padding:"20px",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[l.jsx("div",{style:{position:"absolute",top:"16px",right:"16px",width:"28px",height:"28px",borderRadius:"50%",border:`2px solid ${A?"#10B981":"rgba(255,255,255,0.3)"}`,background:A?"#10B981":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:A&&l.jsx("span",{style:{color:"white",fontWeight:"bold"},children:""})}),l.jsx("div",{style:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"},children:l.jsx("div",{style:{background:"rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.5)",padding:"6px 16px",borderRadius:"20px",fontWeight:600,fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em"},children:" La Carte"})}),l.jsx("div",{style:{height:"50px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px"},children:l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"white",margin:0,fontWeight:700,textAlign:"center",lineHeight:1.3},children:"Standalone Services"})}),l.jsx("div",{style:{height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:l.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",margin:0,textAlign:"center"},children:"Individual Module Selection"})}),l.jsxs("div",{style:{height:"100px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",marginBottom:"24px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"11px",textTransform:"uppercase",marginBottom:"4px"},children:"Starting From"}),l.jsx("div",{style:{color:"white",fontFamily:"Cinzel, serif",fontSize:"32px",fontWeight:600},children:"$18,000"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",marginTop:"4px"},children:"Per Individual Module"})]}),l.jsx("div",{style:{height:"20px",display:"flex",alignItems:"center",marginBottom:"8px"},children:l.jsx("div",{style:{color:"#94a3b8",fontWeight:600,fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Available Services:"})}),l.jsxs("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"13px",color:"rgba(255,255,255,0.7)",lineHeight:1.8},children:[l.jsx("li",{children:"Branding & Identity"}),l.jsx("li",{children:"Maintenance & Support"}),l.jsx("li",{children:"Estate Administration"}),l.jsx("li",{children:"Probate Engine"}),l.jsx("li",{children:"Secure Communications"}),l.jsx("li",{children:"Virtual Memorial Services"}),l.jsx("li",{children:"Advanced Asset Discovery"}),l.jsx("li",{style:{color:"rgba(255,255,255,0.4)",fontStyle:"italic"},children:"+ More modules available"})]})]})]}),l.jsx("div",{style:{textAlign:"center",margin:"24px auto 0 auto",padding:"16px",background:j||A?"rgba(200, 169, 81, 0.1)":"rgba(255,255,255,0.03)",border:`1px solid ${j||A?"rgba(200, 169, 81, 0.4)":"rgba(255,255,255,0.1)"}`,borderRadius:"8px",width:"100%"},children:l.jsxs("span",{style:{color:j||A?"#C8A951":"rgba(255,255,255,0.4)",fontWeight:600,fontSize:"15px"},children:[j?" Core Platform Bundle selected  strategic synergies unlocked.":"",A?" Standalone path selected  select individual services below":"",!j&&!A?"Click a card above to select your path":""]})})]}),l.jsxs("div",{style:{marginBottom:"4rem"},children:[l.jsx("h2",{style:{fontFamily:"'Inter', sans-serif",color:"#C8A951",fontSize:"2.25rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",marginTop:"4rem",marginBottom:"2rem",textAlign:"center",lineHeight:"2.5rem"},children:"2. Strategic Add-On Modules"}),l.jsx("div",{className:"neo-glass-panel",style:{width:"100%",margin:"0 auto 3rem auto",textAlign:"center"},children:l.jsx("p",{style:{margin:0,fontSize:"1.25rem",lineHeight:1.75,color:"rgba(255, 255, 255, 0.9)"},children:"Enhance your platform with specialized modules designed for long-term growth and operational efficiency."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"24px",width:"100%",margin:"0 auto"},children:["maintenance","ceo-consulting","branding","estate","probate","probate-ai","comms","memorial","financial","ai-legacy","liquidator","white-label","charity","genealogy","publishing","crypto","blockchain","documentary"].map(D=>{const G=Cr[D];if(!G)return null;const oe=r.includes(G.id),ye=G.standalonePrice||Math.round(G.bundledPrice*1.5),Se=j?G.bundledPrice:ye,H=j&&ye>G.bundledPrice,ee=x===G.id;return l.jsx("div",{style:{perspective:"1000px",height:"420px",cursor:"pointer",position:"relative"},children:l.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transition:"transform 0.6s",transformStyle:"preserve-3d",transform:ee?"rotateY(180deg)":"none"},children:[l.jsxs("div",{onClick:()=>{G.id==="probate"&&!oe&&p.length===0?R():G.id==="ceo-consulting"&&!oe?V():c(G.id)},style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:oe?"linear-gradient(145deg, #0f3d2e, #0a2820)":"linear-gradient(145deg, #0f172a, #080c16)",border:`2px solid ${oe?"#10B981":"rgba(255, 255, 255, 0.15)"}`,borderRadius:"12px",padding:"1.25rem",display:"flex",flexDirection:"column",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.4)",boxSizing:"border-box"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[l.jsx("div",{style:{padding:"12px",background:"rgba(200, 169, 81, 0.1)",borderRadius:"8px",color:"#C8A951"},children:l.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),v(G.id)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600},children:"Details "})]}),l.jsx("h4",{style:{color:"white",fontWeight:"bold",fontSize:"20px",marginBottom:"12px",fontFamily:"Inter, sans-serif"},children:G.name}),l.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px",marginBottom:"8px",flexWrap:"wrap"},children:[H&&l.jsxs("span",{style:{color:"#64748b",textDecoration:"line-through",fontSize:"14px"},children:["$",ye.toLocaleString()]}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"28px"},children:[G.id==="ceo-consulting"?`$${(Se*h).toLocaleString()}`:G.id==="probate"&&p.length>0?`$${(Se*p.length).toLocaleString()}`:`$${Se.toLocaleString()}`,G.id==="ceo-consulting"?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",h," w)"]}):G.id==="probate"&&p.length>0?l.jsxs("span",{style:{fontSize:"14px",marginLeft:"4px"},children:["(",p.length," s)"]}):G.id==="maintenance"?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/yr"}):G.recurring?l.jsx("span",{style:{fontSize:"14px",marginLeft:"4px"},children:"/mo"}):""]})]}),l.jsxs("div",{style:{fontSize:"10px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"},children:["Market Equivalent: ",l.jsxs("span",{style:{textDecoration:"line-through"},children:["$",(G.hours*250*(G.id==="ceo-consulting"?h:G.id==="probate"?Math.max(1,p.length):1)).toLocaleString()]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.05)",margin:"12px 0"}}),l.jsx("div",{style:{color:"#64748b",fontSize:"13px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"6px"},children:G.id==="ceo-consulting"?l.jsxs(l.Fragment,{children:[h," week",h>1?"s":""," engagement",oe&&l.jsx("span",{onClick:ne=>{ne.stopPropagation(),V()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):G.id==="probate"?l.jsxs(l.Fragment,{children:[p.length>0?`${p.length} State${p.length>1?"s":""} Licensed`:"Select coverage states",oe&&l.jsx("span",{onClick:ne=>{ne.stopPropagation(),R()},style:{cursor:"pointer",color:"#C8A951",fontSize:"12px"},children:"(Edit)"})]}):`${G.timeline} ${G.timelineUnit} Delivery`}),l.jsx("p",{style:{fontSize:"1rem",color:"rgba(147, 197, 253, 0.8)",lineHeight:1.6,margin:0},children:G.shortDescription}),l.jsx("div",{style:{marginTop:"auto",paddingTop:"12px",minHeight:"44px",display:"flex",alignItems:"center"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[l.jsx("div",{style:{flex:1},children:l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:oe?l.jsx("span",{style:{color:"#10B981",fontWeight:600},children:" Module Selected"}):"Add to Configuration"})}),l.jsx("div",{onClick:ne=>{ne.stopPropagation(),oe?c(G.id):G.id==="probate"?R():G.id==="ceo-consulting"?V():c(G.id)},style:{width:"32px",height:"32px",borderRadius:"6px",border:oe?"none":"2px solid rgba(200, 169, 81, 0.4)",background:oe?"#10B981":"rgba(0,0,0,0.3)",color:"white",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:oe?"0 0 15px rgba(16, 185, 129, 0.3)":"none",transition:"all 0.2s ease"},children:oe?"":""})]})})]}),l.jsx("div",{style:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",background:"#0a0f1e",border:"2px solid #C8A951",borderRadius:"12px",transform:"rotateY(180deg)",display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box"},children:G.id==="probate"||G.id==="ceo-consulting"?l.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[l.jsxs("div",{style:{padding:"20px 20px 10px 20px",textAlign:"center"},children:[l.jsx("h4",{style:{fontFamily:"Cinzel, serif",color:"#C8A951",fontSize:"18px",margin:"0 0 4px 0"},children:G.id==="probate"?"Jurisdictions":"Engagement Duration"}),l.jsx("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.5)",margin:0},children:G.id==="probate"?"SCROLL & SELECT STATES":"SCROLL TO SELECT WEEKS"})]}),l.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"40px",background:"linear-gradient(to bottom, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"40px",background:"linear-gradient(to top, #0a0f1e, transparent)",zIndex:2,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"36px",borderTop:"1px solid rgba(200,169,81,0.3)",borderBottom:"1px solid rgba(200,169,81,0.3)",pointerEvents:"none",zIndex:1}}),G.id==="probate"&&l.jsx("div",{style:{padding:"0 20px 8px 20px"},children:l.jsx("input",{type:"text",placeholder:"Search...",value:S,onClick:ne=>ne.stopPropagation(),onChange:ne=>w(ne.target.value),style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"6px",padding:"6px 12px",color:"white",fontSize:"12px",outline:"none"}})}),l.jsx("div",{style:{height:G.id==="probate"?"140px":"180px",overflowY:"auto",scrollSnapType:"y mandatory",textAlign:"center"},children:G.id==="probate"?z.map(ne=>{const ce=E.includes(ne.code);return l.jsxs("div",{onClick:we=>{we.stopPropagation(),U(ne.code)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:ce?"#C8A951":"rgba(255,255,255,0.85)",fontSize:ce?"16px":"14px",fontWeight:ce?700:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[ne.name," ",ce&&""]},ne.code)}):Array.from({length:52},(ne,ce)=>ce+1).map(ne=>{const ce=O===ne;return l.jsxs("div",{onClick:we=>{we.stopPropagation(),N(ne)},style:{height:"36px",display:"flex",alignItems:"center",justifyContent:"center",color:ce?"#C8A951":"rgba(255,255,255,0.85)",fontSize:ce?"20px":"14px",fontWeight:ce?800:400,cursor:"pointer",scrollSnapAlign:"center",transition:"all 0.2s ease"},children:[ne," ",ne===1?"Week":"Weeks"]},ne)})})]}),l.jsxs("div",{style:{padding:"16px 20px 20px 20px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"9px",display:"block",textTransform:"uppercase"},children:G.id==="probate"?"Selected":"Investment"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"18px",fontWeight:800},children:G.id==="probate"?E.length:`$${(O*(j?Cr["ceo-consulting"]?.bundledPrice:Cr["ceo-consulting"]?.standalonePrice)).toLocaleString()}`})]}),G.id==="probate"&&l.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ce()},style:{background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"rgba(255,255,255,0.6)",padding:"2px 8px",borderRadius:"4px",fontSize:"10px",cursor:"pointer"},children:"Clear All"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),v(null)},style:{padding:"10px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontWeight:600,fontSize:"11px",cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),G.id==="probate"?F():pe()},style:{padding:"10px",borderRadius:"8px",background:"linear-gradient(135deg, #C8A951 0%, #A08332 100%)",border:"none",color:"#000",fontWeight:800,fontSize:"11px",cursor:"pointer"},children:"Confirm"})]})]})]}):l.jsxs("div",{onClick:ne=>ne.stopPropagation(),style:{height:"100%",display:"flex",flexDirection:"column",padding:"1.5rem"},children:[l.jsx("h4",{style:{color:"#C8A951",fontWeight:"bold",fontSize:"18px",marginBottom:"16px"},children:"Scope of Services:"}),l.jsxs("div",{style:{color:"white",fontSize:"14px",lineHeight:1.6,flex:1,overflowY:"auto"},children:[G.detailedScope?.map((ne,ce)=>l.jsxs("div",{style:{marginBottom:"16px"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#93c5fd",marginBottom:"4px"},children:ne.title}),l.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0},children:ne.subItems.map((we,Ae)=>l.jsx("li",{style:{marginBottom:"2px"},children:we},Ae))})]},ce)),(!G.detailedScope||G.detailedScope.length===0)&&l.jsx("p",{children:"Detailed architectural implementation and service integration."})]}),l.jsx("button",{onClick:()=>v(null),style:{marginTop:"1rem",background:"rgba(255,255,255,0.1)",border:"none",color:"white",padding:"10px",borderRadius:"6px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Return to Selection"})]})})]})},G.id)})})]}),l.jsxs("div",{className:"summary-box",style:{width:"100%",margin:"4rem auto 2rem auto",padding:"32px",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",background:"rgba(200, 169, 81, 0.08)"},children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"24px",color:"#C8A951",marginBottom:"32px",textAlign:"center",marginTop:0},children:"4. Selection Summary"}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"64px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Modules"}),l.jsx("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:K})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Estimated Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"32px",fontWeight:600},children:["$",B.toLocaleString()]})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"32px",fontWeight:600},children:[W," Weeks"]})]})]})]}),l.jsx("div",{style:{textAlign:"center",marginTop:"4rem",marginBottom:"6rem"},children:l.jsx("button",{onClick:()=>t("sow"),className:"select-plan-btn",children:"Review Statement of Work "})})]})}function qB(){const t=lu(),e=be(T=>T.selectedBundle),n=be(T=>T.selectedAddons),i=be(T=>T.ceoConsultingWeeks),r=be(T=>T.probateStates),a=be(T=>T.projectName),c=be(T=>T.projectId),h=Ih(c),d=new Date().getFullYear(),p=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),x=au(e,n,i,r.length).total,v=Kc(e,n,r.length),S=ym(e,n,i,r.length),w=Ib(e,n,i,r.length),E=[];return e&&ui[e].detailedScope&&E.push(...ui[e].detailedScope),n.forEach(T=>{const O=Cr[T];O&&O.detailedScope&&E.push(...O.detailedScope)}),l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[l.jsx("div",{style:{display:"inline-block",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:"Project Documentation"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Statement of Work"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"40px",fontSize:"14px",fontFamily:"monospace",color:"#93c5fd",opacity:.8},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Project:"})," ",a," Platform"]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Date:"})," ",p]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"SOW:"})," SOW-",d,"-001"]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"MSA:"})," MSA-",d,"-111-",h.docCode]})]})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px",boxShadow:"0 4px 60px rgba(0,0,0,0.3)",color:"rgba(255,255,255,0.9)",lineHeight:1.8},children:[l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"1. Executive Overview"}),l.jsxs("p",{children:['This Statement of Work ("SOW") defines the comprehensive scope for the',l.jsxs("strong",{children:[" ",a," Unified Platform"]}),".",e?" This engagement includes the full Core Platform foundation.":"",n.length>0?` Additionally, ${n.length} strategic modules have been integrated to expand platform capabilities.`:""]}),l.jsxs("p",{children:[l.jsx("strong",{style:{color:"#C8A951"},children:"Objective:"})," ",h.sowObjective]})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"2. Atomic Development Breakdown"}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:w.length>0?w.map((T,O)=>l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"15px",borderRadius:"8px",borderLeft:"3px solid #C8A951"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[l.jsxs("span",{style:{color:"#C8A951",fontWeight:700,fontSize:"14px",textTransform:"uppercase"},children:["Phase ",T.phaseNum,": ",T.name]}),l.jsxs("span",{style:{color:"#94a3b8",fontSize:"12px"},children:[T.weeks," Weeks"]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"8px"},children:T.activities.map((N,P)=>l.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:[" ",N.name," (",N.hours,"h)"]},P))})]},O)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select a bundle or modules to generate breakdown."})})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"3. Detailed Scope of Work"}),l.jsx("div",{children:E.length>0?E.map((T,O)=>l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"8px",fontWeight:600},children:T.title}),l.jsx("p",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px",marginBottom:"10px"},children:T.content}),l.jsx("ul",{style:{paddingLeft:"20px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px"},children:T.subItems.map((N,P)=>l.jsx("li",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)"},children:N},P))})]},O)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select products to populate detailed scope."})})]}),l.jsxs("section",{style:{marginBottom:"40px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"16px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"8px"},children:"4. Timeline & Investment"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px"},children:[l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"24px",fontWeight:600},children:[v," Weeks"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Engineering Load"}),l.jsxs("div",{style:{color:"white",fontSize:"24px",fontWeight:600},children:[S," Hours"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.1)",padding:"20px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(200,169,81,0.3)"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"24px",fontWeight:700},children:["$",x.toLocaleString()]})]})]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"3rem",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:()=>t("cost"),className:"select-plan-btn",children:[l.jsx("span",{children:"Proceed to Cost & Valuation"}),l.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{marginLeft:"12px"},children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})}function WB(){const t=lu(),e=be(v=>v.selectedBundle),n=be(v=>v.selectedAddons),i=be(v=>v.ceoConsultingWeeks),r=be(v=>v.probateStates),a=au(e,n,i,r.length,1),c=a.total,h=a.marketTotal,d=Kc(e,n,r.length),p=Math.round(h*.15),m=h-p-c,x=e?ui[e]:null;return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{marginBottom:"48px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"32px",marginTop:"2rem"},children:[l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1rem"},children:"Project Valuation"}),l.jsx("p",{style:{fontSize:"1.25rem",color:"rgba(255,255,255,0.7)"},children:"Transparent fixed-bid investment and deliverables allocation"})]}),l.jsx("div",{className:"neo-glass-panel",style:{padding:"48px",background:"rgba(200,169,81,0.05)",border:"2px solid #C8A951",boxShadow:"0 0 60px rgba(200,169,81,0.15)",position:"relative",borderRadius:"12px"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("p",{style:{fontSize:"14px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.25em",marginBottom:"12px"},children:x?"Unified Platform":"Custom Service Stack"}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"white",marginBottom:"12px"},children:x?x.name:"Standalone Solutions"}),l.jsxs("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"72px",color:"#C8A951",fontWeight:600,margin:"24px 0"},children:["$",c.toLocaleString()]}),l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"32px",marginBottom:"32px",fontSize:"16px",color:"rgba(255,255,255,0.8)"},children:[l.jsx("span",{children:" iOS + Android + Web"}),l.jsxs("span",{children:[" ",d," Weeks Delivery"]})]}),l.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",paddingTop:"32px",textAlign:"left",maxWidth:"700px",margin:"0 auto"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[l.jsx("ul",{style:{fontSize:"15px",color:"rgba(255,255,255,0.9)",listStyle:"none",padding:0,margin:0,lineHeight:2.2},children:x?x.features.slice(0,4).map((v,S)=>l.jsxs("li",{children:[" ",v]},S)):n.slice(0,4).map((v,S)=>l.jsxs("li",{children:[" ",Cr[v]?.name]},S))}),l.jsx("ul",{style:{fontSize:"15px",color:"rgba(255,255,255,0.9)",listStyle:"none",padding:0,margin:0,lineHeight:2.2},children:x?x.features.slice(4,8).map((v,S)=>l.jsxs("li",{children:[" ",v]},S)):n.slice(4,8).map((v,S)=>l.jsxs("li",{children:[" ",Cr[v]?.name]},S))})]})})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"32px",marginBottom:"64px",width:"100%"},children:[l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px 32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"16px",fontWeight:500},children:"Market Valuation"}),l.jsxs("div",{style:{fontSize:"36px",fontFamily:"'Cinzel', serif",color:"rgba(255,255,255,0.3)",textDecoration:"line-through",fontWeight:400},children:["$",h.toLocaleString(),"+"]}),l.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Custom Agency Development"})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.08)",border:"2px solid #C8A951",borderRadius:"12px",padding:"40px 32px",textAlign:"center",boxShadow:"0 0 40px rgba(200,169,81,0.1)"},children:[l.jsx("div",{style:{fontSize:"16px",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.25em",marginBottom:"16px",fontWeight:600},children:"Sirsi Fixed Price"}),l.jsxs("div",{style:{fontSize:"40px",fontFamily:"'Cinzel', serif",color:"white",fontWeight:600},children:["$",c.toLocaleString()]}),l.jsx("p",{style:{fontSize:"11px",color:"#C8A951",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"End-to-End Delivery"})]}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"40px 32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"14px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"16px",fontWeight:500},children:"Strategic Timeline"}),l.jsxs("div",{style:{fontSize:"36px",fontFamily:"'Cinzel', serif",color:"white",fontWeight:400},children:[d," Weeks"]}),l.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",marginTop:"12px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Accelerated Launch"})]})]}),l.jsxs("div",{style:{marginBottom:"80px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"48px"},children:[l.jsx("div",{style:{height:"1px",background:"rgba(200, 169, 81, 0.2)",flex:1}}),l.jsx("h2",{style:{fontSize:"2rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.2em",whiteSpace:"nowrap"},children:"1. Market Comparison"}),l.jsx("div",{style:{height:"1px",background:"rgba(200, 169, 81, 0.2)",flex:1}})]}),l.jsx("div",{style:{width:"100%"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"rgba(255,255,255,0.02)"},children:[l.jsx("th",{style:{padding:"24px",textAlign:"left",color:"#C8A951",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Value Metric"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"white",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Sirsi Platform"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"#94a3b8",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Traditional Agency"}),l.jsx("th",{style:{padding:"24px",textAlign:"center",color:"#94a3b8",fontFamily:"'Cinzel', serif",textTransform:"uppercase",fontSize:"12px"},children:"Freelance Cloud"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Investment Structure"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#10b981",fontWeight:600},children:"Fixed Bid"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Estimates Only"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Hourly/Variable"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Technical Stack"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#C8A951",fontWeight:600},children:"Nexus V4 Core"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"From Scratch"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Third-party"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Intelligence Integration"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#C8A951",fontWeight:600},children:"Gemini Native"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"External APIs"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Limited"})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{padding:"24px",color:"rgba(255,255,255,0.7)",fontWeight:500},children:"Intellectual Property"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"#10b981",fontWeight:600},children:"Full Client Ownership"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Restricted Use"}),l.jsx("td",{style:{padding:"24px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Uncertain"})]})]})]})})]}),l.jsxs("div",{style:{marginBottom:"96px"},children:[l.jsx("h2",{style:{textAlign:"center",marginBottom:"48px",fontSize:"2rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.2em"},children:"2. Strategic Scaling"}),l.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(200,169,81,0.3)",padding:"48px",borderRadius:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("span",{style:{fontSize:"1.25rem",color:"rgba(255,255,255,0.6)"},children:"Market Infrastructure Cost"}),l.jsxs("span",{style:{fontSize:"1.5rem",fontFamily:"'Cinzel', serif",color:"rgba(255,255,255,0.3)",textDecoration:"line-through"},children:["$",h.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 0",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"1.25rem",color:"white"},children:"Sirsi Efficiency & Strategic Discounts"}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#10b981",marginTop:"4px"},children:"Nexus V4 Shared Libraries & Engine"})]}),l.jsxs("span",{style:{fontSize:"1.5rem",fontFamily:"'Cinzel', serif",color:"#10b981"},children:["$",(p+m).toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"32px 0 0 0"},children:[l.jsx("span",{style:{fontSize:"1.5rem",fontWeight:600,color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Service Investment"}),l.jsxs("span",{style:{fontSize:"2.5rem",fontFamily:"'Cinzel', serif",fontWeight:600,color:"#C8A951"},children:["$",c.toLocaleString()]})]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"6rem",display:"flex",justifyContent:"center"},children:l.jsx("button",{onClick:()=>t("msa"),className:"select-plan-btn",style:{padding:"16px 40px",fontSize:"18px"},children:"Review Master Agreement "})})]})}function KB(){const[t,e]=L.useState(!1),n=lu(),i=be(A=>A.selectedBundle),r=be(A=>A.selectedAddons),a=be(A=>A.ceoConsultingWeeks),c=be(A=>A.probateStates),h=be(A=>A.clientName),d=be(A=>A.projectName),p=be(A=>A.projectId),m=be(A=>A.entityLegalName),x=be(A=>A.counterpartyName),v=be(A=>A.counterpartyTitle),S=DB(p,d),w=new Date().getFullYear(),E=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),T=au(i,r,a,c.length,1),O=T.total,N=T.marketTotal,P=Kc(i,r,c.length),B=ym(i,r,a,c.length),W=Ib(i,r,a,c.length),K=Math.round(N*.15),j=N-K-O;return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[l.jsx("div",{style:{display:"inline-block",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:"Governing Legal Framework"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Master Service Agreement"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"40px",fontSize:"14px",fontFamily:"monospace",color:"#93c5fd",opacity:.8},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Document:"})," MSA-",w,"-111-",S.docCode]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Effective Date:"})," ",E]}),l.jsxs("div",{children:[l.jsx("strong",{style:{color:"white"},children:"Status:"})," BINDING ENFORCEABLE"]})]})]}),l.jsxs("div",{className:"legal-viewer",style:{maxWidth:"1200px",margin:"0 auto",background:"rgba(0,0,0,0.2)",padding:"60px",borderRadius:"4px",boxShadow:"inset 0 0 100px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.05)"},children:[l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px",textAlign:"justify"},children:[l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h2",{style:{marginTop:0,color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"28px",textAlign:"center",letterSpacing:"0.1em"},children:"MASTER SERVICES AGREEMENT (MSA)"}),l.jsxs("p",{style:{marginTop:"24px"},children:[l.jsx("strong",{children:"AGREEMENT NUMBER:"})," MSA-",w,"-111-",S.docCode,l.jsx("br",{}),l.jsx("strong",{children:"EFFECTIVE DATE:"})," ",E]}),l.jsxs("p",{children:["This ",l.jsx("strong",{children:"Master Services Agreement"}),' (this "Agreement") is entered into by and between:']}),l.jsxs("p",{children:[l.jsx("strong",{children:h||"The Client"}),', an individual or entity ("Client"), and'," ",l.jsx("strong",{children:m}),', a Delaware corporation (FEIN: 99-1057313), with its principal place of business at 909 Rose Avenue, Suite 400, North Bethesda MD 20852 ("Provider" or "Sirsi"), represented by ',l.jsx("strong",{children:x}),", ",v,"."]}),l.jsx("p",{children:'Client and Provider may be referred to individually as a "Party" and collectively as the "Parties."'}),l.jsx("div",{style:{margin:"40px 0",borderTop:"1px solid rgba(200,169,81,0.2)"}}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"1. RECITALS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", ",S.msaRecital,"; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", Provider (",m,") possesses the requisite technical expertise, personnel, and infrastructure, including expertise in artificial intelligence, cloud architecture, and secure software development, to perform the Services; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Platform is to be constructed utilizing Provider's proprietary ",l.jsx("strong",{children:"Sirsi Nexus V4 Framework"})," as the foundational architectural layer; and"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"WHEREAS"}),", the Parties desire to set forth the terms and conditions under which Provider will provide such services and license certain technologies to Client."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"NOW, THEREFORE"}),", in consideration of the mutual covenants, terms, and conditions set forth herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the Parties agree as follows:"]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"2. DEFINITIONS"}),l.jsx("p",{children:"For purposes of this Agreement, the following terms shall have the meanings set forth below:"}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.1 "Affiliate"'}),' means any entity that directly or indirectly controls, is controlled by, or is under common control with a Party, where "control" means ownership of more than fifty percent (50%) of the voting stock or other ownership interest.']})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.2 "Background Technology" or "Sirsi Nexus V4"'})," means the Provider's proprietary foundational technology platform, including all software, code, tools, libraries, frameworks, know-how, methodologies, algorithms, and Intellectual Property Rights owned, licensed, or developed by Provider, whether prior to the Effective Date or during the Term. This expansive definition explicitly includes, without limitation:"]}),l.jsxs("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:[l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(i) Core Architecture & Infrastructure:"}),' The "Sirsi Nexus" application framework, serverless deployment configurations, Infrastructure-as-Code (IaC) templates, CI/CD pipelines, and microservices architectures;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(ii) Security & Compliance Engines:"}),' "The Vault" encryption protocols (AES-256, KMS integration), Identity and Access Management (IAM) systems, SOC 2 compliance controls, and audit logging mechanisms;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iii) Universal Component System (UCS):"})," The standardized integration layer and adapters for third-party services (including but not limited to Stripe, Plaid, OpenSign, and SendGrid) designed for portfolio-wide reuse;"]}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(iv) AI & Orchestration:"}),' The "Gemini" guidance engine patterns, RAG (Retrieval-Augmented Generation) pipelines, prompt engineering frameworks, and agentic workflow orchestration logic;']}),l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:"(v) Interface & Design Systems:"}),' The "Sirsi UI" component library, reusable React/Tailwind components, design tokens, and aesthetic themes (e.g., "Royal Neo-Deco" base styles); and']}),l.jsxs("p",{style:{marginBottom:"0"},children:[l.jsx("strong",{children:"(vi) Continuous Evolution:"})," Any updates, upgrades, improvements, patches, derivative works, or new modules added to the foregoing during the Term to support Provider's broader portfolio of services."]})]}),l.jsx("p",{style:{marginTop:"12px"},children:'Background Technology is the underlying "operating system" upon which the Platform is built.'})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.3 "Confidential Information"'}),' means any non-public information disclosed by one Party (the "Disclosing Party") to the other Party (the "Receiving Party") that is designated as confidential or that, given the nature of the information or circumstances of disclosure, reasonably should be understood to be confidential.']})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.4 "Deliverables"'})," means all documents, work product, code, software, reports, and other materials that are specifically created for and delivered to Client by Provider pursuant to a Statement of Work."]})}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("p",{style:{marginBottom:"12px"},children:[l.jsx("strong",{children:'2.5 "Foreground IP"'})," means ",S.msaForegroundIpDescription,". This explicitly encompasses the custom-built application layer and includes, without limitation:"]}),l.jsx("div",{style:{paddingLeft:"24px",borderLeft:"2px solid rgba(200,169,81,0.3)"},children:S.msaForegroundIpItems.map((A,R)=>l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:["(",String.fromCharCode(105+R),")"]})," ",A,R<S.msaForegroundIpItems.length-1?";":"."]},R))})]}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.6 "Intellectual Property Rights"'})," means all patent rights, copyright rights, mask work rights, moral rights, rights of publicity, trademark, trade dress and service mark rights, goodwill, trade secret rights and other intellectual property rights as may now exist or hereafter come into existence, and all applications therefore and registrations, renewals and extensions thereof, under the laws of any state, country, territory or other jurisdiction."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.7 "Services"'})," means the professional software development, consulting, and design services to be performed by Provider as described in a Statement of Work."]})}),l.jsx("div",{style:{marginBottom:"20px"},children:l.jsxs("p",{style:{marginBottom:"8px"},children:[l.jsx("strong",{children:'2.8 "Statement of Work" or "SOW"'})," means a document describing the specific Services to be performed, Deliverables to be provided, fees to be paid, and timeline for performance, which is agreed upon and signed by authorized representatives of both Parties. Each SOW shall be substantially in the form of ",l.jsx("strong",{children:"Exhibit A"}),"."]})})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"3. SERVICES AND ENGAGEMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.1 Statements of Work."})," Provider shall provide the Services and Deliverables to Client as specified in each SOW. Each SOW shall be effectively incorporated into this Agreement. In the event of a conflict between the terms of this Agreement and an SOW, the terms of the SOW shall control ONLY regarding the specific description of Services, fees, and timeline; for all other legal terms and conditions, this Agreement shall control."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.2 Standard of Performance."})," Provider represents and warrants that the Services will be performed in a professional, workmanlike manner, by qualified personnel, and consistent with the highest industry standards for similar enterprise-grade software development services. Provider shall devote adequate resources to meet its obligations under this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.3 Change Orders."}),' Client may, at any time, request changes to the scope of the Services ("Change Request"). If Provider determines that such changes will impact the fees, timeline, or technical architecture, Provider shall submit a written "Change Order" detailing the impact. No change shall be effective until the Change Order is signed by both Parties. Minor changes requiring less than eight (8) hours of effort may be approved via written correspondence (email sufficient).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.4 Resource Commitment."})," Provider commits a ",l.jsx("strong",{children:"Lead Architect"})," (Cylton Collymore) at a maximum of ",l.jsx("strong",{children:"50% time commitment"}),' for the duration of the initial development and designates the Project as "Priority Status" within the Sirsi infrastructure.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.5 Review and Close Period."})," Following the launch of the Platform, Provider shall provide a ",l.jsx("strong",{children:"sixty (60) day"}),' "Review and Close" period. During this time, Provider will provide reasonable support to ensure the Platform functions as specified in the SOW.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"3.6 Ongoing Maintenance & Support."})," Client acknowledges that any technical maintenance, feature updates, or priority SLA support beyond the initial 60-day period is ",l.jsx("strong",{children:"not included"}),' in the base Service Fees and requires the separate purchase of the "Maintenance and Support" add-on as specified in the service catalog.']})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"4. COMPENSATION AND PAYMENT"}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.1 Fees."})," Client shall pay Provider the fees set forth in the applicable SOW. Unless otherwise specified in an SOW, fees for fixed-price projects shall be payable according to the agreed-upon milestone schedule."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.2 Expenses."}),' Client shall reimburse Provider for reasonable, documented "Pass-Through Expenses" incurred in connection with the Services (e.g., specific cloud infrastructure costs, third-party API licensing fees, software licenses specifically required for the Project). Provider shall obtain Clients prior written approval for any individual expense exceeding Five Hundred Dollars ($500.00).']}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.3 Payment Terms."})," Provider shall submit invoices to Client upon completion of Milestones. Invoices are due and payable ",l.jsx("strong",{children:"Net Fifteen (15)"})," days from the invoice date via the Sirsi Vault payment gateway."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.4 Late Payments."})," Undisputed payments not received by the due date shall accrue interest at the lesser of one and one-half percent (1.5%) per month or the maximum rate permitted by law, calculated from the due date until paid in full."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.5 Taxes."})," Fees do not include any sales, use, value-added, or similar taxes. Client shall be responsible for paying all such taxes properly levied on the Services, excluding taxes based on Providers net income, property, or employees."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.6 Sirsi Backend Services."})," As part of Provider's Background Technology, the Platform shall integrate with third-party services including but not limited to ",l.jsx("strong",{children:"OpenSign"})," (e-signatures), ",l.jsx("strong",{children:"Plaid"})," (financial account linking), and ",l.jsx("strong",{children:"Stripe"})," (payment processing) through the ",l.jsx("strong",{children:"Sirsi Backend Service Architecture"}),". These integrations shall route through Provider's infrastructure to reduce cost complexity and time to market, unless otherwise indicated in writing or upon termination of any maintenance contract between the Parties."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.7 Merchant Fees."})," Provider does not pay merchant fees for making payment processing available to the Platform. All payment processing fees (including but not limited to Stripe transaction fees, chargeback fees, and related merchant service charges) shall be ",l.jsx("strong",{children:"passed through to Client"}),". Provider shall not pass through any other costs related to infrastructure maintenance and availability."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"4.8 Future Migration."})," If at some time in the future Client opts for its own full signatory and payments integrations independent of Provider's Payment Backend Service Architecture, Provider shall migrate a working implementation to Client for a ",l.jsx("strong",{children:"nominal fee not to exceed One Thousand Dollars ($1,000.00)"}),"."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"5. INTELLECTUAL PROPERTY RIGHTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.1 Work Made for Hire (Foreground IP)."})," Provider agrees that the ",l.jsx("strong",{children:"Foreground IP"}),' (specific business logic, brand assets, and custom workflows created exclusively for Client) shall be considered "works made for hire" and owned 100% by Client upon payment of all fees. To the extent that any Deliverable does not qualify as a work made for hire under applicable law, Provider hereby irrevocably helps, transfers, commercializes and assigns to Client all right, title, and interest in and to such Deliverable, including all Intellectual Property Rights therein, free and clear of all liens and encumbrances.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.2 Background Technology (Sirsi Nexus V4 Retention)."})," Notwithstanding Section 5.1, Provider retains all right, title, and interest in and to its ",l.jsx("strong",{children:"Background Technology"})," (the Sirsi Nexus V4 Framework). Provider hereby grants to Client a ",l.jsx("strong",{children:"perpetual, irrevocable, worldwide, royalty-free, and exclusive vertical license"})," to use, reproduce, and exploit the Background Technology ",l.jsx("em",{children:S.msaVerticalLicense})," for the purpose of operating the Platform."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.3 Third-Party and Open Source Software."}),' The Deliverables may contain third-party software or open source software. Provider warrants that its use of such software will comply with the applicable licenses (e.g., AGPL-3.0, MIT, Apache 2.0). Provider shall identify any "Copyleft" libraries (that would mandate disclosure of Clients source code) prior to integration and obtain Clients approval.']}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.4 AI-Generated Content."})," The Parties acknowledge that Provider utilizes advanced Artificial Intelligence tools. Provider warrants that it has the full legal right to assign ownership of such AI-generated output to Client as part of the Deliverables, and that such use does not violate the terms of service of the AI providers."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"5.5 Further Assurances."})," Provider agrees to execute any documents and take any actions reasonably requested by Client to perfect Clients ownership of the Intellectual Property Rights in the Foreground IP."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"6. CONFIDENTIALITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.1 Obligations."})," The Receiving Party agrees: (i) to hold the Disclosing Partys Confidential Information in strict confidence and take reasonable precautions to protect it; (ii) not to divulge any such Confidential Information to any third party; and (iii) not to use such Confidential Information except for the performance of this Agreement."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.2 Exclusions."})," Confidential Information shall not include information that: (a) is or becomes generally available to the public without breach of this Agreement; (b) was in the Receiving Partys possession prior to disclosure without legal restriction; (c) is captured by the Receiving Party from a third party who had the legal right to disclose it; or (d) is independently developed by the Receiving Party without reference to or use of the Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.3 Data Security & SOC 2 Compliance."})," Provider agrees to implement and maintain commercially reasonable technical and organizational security measuresconsistent with SOC 2 Type II criteriato protect Client data. Provider shall maintain strict logical separation of Client's production data to ensure no leakage between the Platform and other Sirsi infrastructure tenants."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"6.4 Compelled Disclosure."})," If the Receiving Party is required by law or court order to disclose Confidential Information, it shall give the Disclosing Party prompt written notice (if legally permitted) to allow the Disclosing Party to seek a protective order."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"7. WARRANTIES AND COVENANTS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.1 Provider Warranties."})," Provider represents and warrants that:"]}),l.jsxs("p",{children:["(a) ",l.jsx("strong",{children:"Non-Infringement:"})," The Deliverables will be original and will not infringe, misappropriate, or violate any patent, copyright, trademark, trade secret, or other proprietary right of any third party."]}),l.jsxs("p",{children:["(b) ",l.jsx("strong",{children:"Compliance with Laws:"})," The Services will be performed in compliance with all applicable federal, state, and local laws and regulations."]}),l.jsxs("p",{children:["(c) ",l.jsx("strong",{children:"Malicious Code:"})," Provider will use industry-standard measures to ensure the Deliverables do not contain any viruses, malware, trojan horses, time bombs, or other harmful code."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.2 Performance Warranty."})," The Performance Warranty is limited to the ",l.jsx("strong",{children:"sixty (60) day"})," Review and Close Period. Provider shall correct any material non-conformity with the Specifications at its sole expense during this period. Any requests for remediation following this period shall be governed by the terms of the Maintenance and Support add-on, if purchased."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"7.3 Disclaimer."})," EXCEPT AS EXPRESSLY SET FORTH IN THIS AGREEMENT, PROVIDER MAKES NO OTHER WARRANTIES, EXPRESS OR IMPLIED, AND HEREBY DISCLAIMS ALL IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"8. INDEMNIFICATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.1 By Provider."})," Provider shall indemnify, defend, and hold harmless Client and its officers, directors, employees, and agents from and against any and all losses, damages, liabilities, costs, and expenses (including reasonable attorneys fees) arising out of or resulting from any third-party claim alleging that the Deliverables or Services infringe or misappropriate any U.S. copyright, trademark, or trade secret."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.2 By Client."})," Client shall indemnify, defend, and hold harmless Provider from and against any and all losses, damages, liabilities, costs, and expenses arising out of or resulting from: (i) Clients specific specifications or instructions that compelled the infringement; or (ii) content or data provided by Client to Provider."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"8.3 Procedure."})," The indemnified party shall: (a) promptly notify the indemnifying party in writing of the claim; (b) allow the indemnifying party sole control of the defense and settlement of the claim; and (c) provide reasonable assistance to the indemnifying party."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"9. LIMITATION OF LIABILITY"}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.1 Exclusion of Consequential Damages."})," EXCEPT FOR BREACHES OF CONFIDENTIALITY (SECTION 6) OR INDEMNIFICATION OBLIGATIONS (SECTION 8), IN NO EVENT SHALL EITHER PARTY BE LIABLE TO THE OTHER FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES (INCLUDING LOSS OF PROFITS, DATA, OR USE), EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"9.2 Liability Cap."})," EXCEPT FOR PROVIDER'S INDEMNIFICATION OBLIGATIONS FOR IP INFRINGEMENT (SECTION 8.1), EACH PARTYS TOTAL AGGREGATE LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER IN CONTRACT, TORT, OR OTHERWISE, SHALL NOT EXCEED THE TOTAL FEES PAID OR PAYABLE BY CLIENT TO PROVIDER UNDER THE APPLICABLE SOW IN THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"10. TERM AND TERMINATION"}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.1 Term."})," This Agreement shall commence on the Effective Date and shall continue in full force and effect until terminated as provided herein."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.2 Termination for Convenience."})," Client may terminate this Agreement or any SOW for any reason or no reason upon thirty (30) days' prior written notice to Provider. Upon such termination, Client shall pay Provider for all Services performed and non-cancellable expenses incurred up to the date of termination."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.3 Termination for Cause."})," Either Party may terminate this Agreement or any SOW immediately upon written notice if the other Party: (i) materially breaches this Agreement and fails to cure such breach within fifteen (15) days after receiving written notice thereof; or (ii) becomes insolvent, makes an assignment for the benefit of creditors, or files for bankruptcy."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.4 Effect of Termination."})," Upon termination: (i) Client shall pay all outstanding undisputed invoices; (ii) Provider shall deliver to Client all completed and partially completed Deliverables; and (iii) each Party shall return or destroy the other Partys Confidential Information."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"10.5 Survival."})," Sections 2, 4, 5, 6, 7.3, 8, 9, and 11 shall survive any termination or expiration of this Agreement."]})]}),l.jsxs("section",{style:{marginBottom:"48px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px"},children:"11. GENERAL PROVISIONS"}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.1 Independent Contractor."})," Provider is an independent contractor. No partnership or employment relationship is created."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.2 Market Vertical Non-Competition."})," Provider agrees that during the term of this Agreement and for a period of ",l.jsx("strong",{children:"three (3) years"})," thereafter, Provider shall not directly develop, market, or provide services for a competing ",l.jsx("strong",{children:S.msaNonCompeteVertical})," platform. This does not restrict Provider from using its foundational tech in unrelated market verticals."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.3 Force Majeure."})," Neither Party shall be liable for any delay or failure to perform (excluding payment obligations) due to causes beyond its reasonable control, including acts of God, war, terrorism, riot, embargoes, acts of civil or military authorities, fire, floods, or accidents."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.4 Non-Solicitation."})," During the Term and for one (1) year thereafter, neither Party shall knowingly solicit for employment or hire any employee or contractor of the other Party who was directly involved in the provision of Services under this Agreement, without the prior written consent of the other Party."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"11.5 Dispute Resolution."})," Negotiation followed by binding arbitration in ",l.jsx("strong",{children:"Wilmington, Delaware"}),". Governed by ",l.jsx("strong",{children:"Delaware Law"}),"."]})]})]}),l.jsxs("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:[l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT A: STATEMENT OF WORK (SOW)"}),l.jsx("h4",{style:{textAlign:"center",color:"rgba(255,255,255,0.7)",marginTop:"8px",marginBottom:"40px"},children:"Full Execution Details and Technical Specifications"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.6)",fontStyle:"italic",marginBottom:"40px"},children:["Project Name: ",d," Platform Development  SOW Reference: SOW-",w,"-001  Date: ",E]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. EXECUTIVE OVERVIEW"}),l.jsx("p",{children:S.msaSowOverview}),l.jsxs("p",{children:[l.jsx("strong",{children:"Objective:"})," ",S.msaSowObjective]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"2. DETAILED SCOPE OF SERVICES"}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.1 Core Vault & Data Architecture"}),l.jsxs("p",{children:["Provider shall implement a ",l.jsx("strong",{children:"Multi-Tenant, Zero-Knowledge"})," architecture to ensure total data privacy."]}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Storage Layer:"})," Hybrid approach using ",l.jsx("strong",{children:"Cloud SQL (PostgreSQL)"})," for structured PII (Encrypted) and ",l.jsx("strong",{children:"Firestore"})," for real-time document metadata."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"File Vault:"})," ",l.jsx("strong",{children:"Cloud Storage"})," buckets with per-tenant isolation boundaries. All files encrypted at rest using ",l.jsx("strong",{children:"Cloud KMS"})," (AES-256)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Security:"})," Implementation of ",l.jsx("strong",{children:"SOC 2 Type II"})," controls, including strict IAM roles, audit logging, and encryption in transit (TLS 1.3)."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.2 Selected Service Modules"}),l.jsx("div",{style:{background:"rgba(255,255,255,0.05)",padding:"20px",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px"},children:r.length>0?l.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:r.map(A=>{const R=Cr[A];let V=R?.name||A;return A==="ceo-consulting"&&(V+=` (${a} weeks)`),A==="probate"&&(V+=` (${c.length} state${c.length>1?"s":""})`),l.jsxs("li",{style:{marginBottom:"8px"},children:[l.jsxs("strong",{children:[V,":"]})," ",R?.shortDescription||"Strategic add-on module."]},A)})}):l.jsx("p",{style:{margin:0,color:"rgba(255,255,255,0.5)",fontStyle:"italic"},children:S.msaNoSelectFallback})}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.3 Technology Stack (SirsiNexus V4)"}),l.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Frontend:"})," ",l.jsx("strong",{children:"React 18"})," (Vite), ",l.jsx("strong",{children:"Tanstack"})," (Query, Router, Table), ",l.jsx("strong",{children:"shadcn/ui"})," (Radix Primitives + Tailwind)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Backend:"})," ",l.jsx("strong",{children:"Go (Golang)"})," on ",l.jsx("strong",{children:"Cloud Run"})," (Serverless), ",l.jsx("strong",{children:"Firebase Auth"}),"."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Database:"})," ",l.jsx("strong",{children:"Cloud SQL"})," (PostgreSQL) + ",l.jsx("strong",{children:"Firestore"})," (Real-time)."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mobile:"})," ",l.jsx("strong",{children:"React Native"})," (Expo) sharing core business logic."]})]}),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.4 Document Inventory & Scope"}),l.jsx("p",{children:"Provider will build automation or guidance paths for the following specific categories:"}),S.msaDocumentScope.map((A,R)=>l.jsxs("p",{children:[l.jsxs("strong",{children:[A.title,":"]})," ",A.content]},R)),l.jsx("h4",{style:{color:"white",fontSize:"16px",marginBottom:"10px"},children:"2.5 System Integrations"}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"24px",fontSize:"14px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Service"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Purpose"}),l.jsx("th",{style:{textAlign:"left",padding:"12px"},children:"Integration Level"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Plaid"})}),l.jsx("td",{style:{padding:"12px"},children:"Financial Account Linking"}),l.jsx("td",{style:{padding:"12px"},children:"Deep Integration"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"OpenSign"})}),l.jsx("td",{style:{padding:"12px"},children:"E-Signatures"}),l.jsx("td",{style:{padding:"12px"},children:"Self-Hosted API"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Lob"})}),l.jsx("td",{style:{padding:"12px"},children:"Physical Mail"}),l.jsx("td",{style:{padding:"12px"},children:"API Triggered"})]}),l.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[l.jsx("td",{style:{padding:"12px"},children:l.jsx("strong",{children:"Vertex AI"})}),l.jsx("td",{style:{padding:"12px"},children:"Process Guidance"}),l.jsx("td",{style:{padding:"12px"},children:"RAG Pipeline"})]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"3. WORK BREAKDOWN STRUCTURE (WBS)"}),l.jsx("div",{style:{display:"grid",gap:"24px"},children:W.length>0?W.map((A,R)=>l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"white",marginBottom:"8px",textTransform:"uppercase"},children:["PHASE ",A.phaseNum,": ",A.name," (Weeks ",A.weeks,")"]}),l.jsx("ul",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:A.activities.map((V,z)=>l.jsxs("li",{children:[V.name,"  ",V.hours,"h (",V.role,")"]},z))})]},R)):l.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Select a bundle or modules to generate WBS."})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginTop:"32px"},children:[l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Timeline"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[P," Weeks"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.05)",padding:"16px",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#94a3b8",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Engineering Load"}),l.jsxs("div",{style:{color:"white",fontSize:"20px",fontWeight:600},children:[B," Hours"]})]}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.1)",padding:"16px",borderRadius:"8px",textAlign:"center",border:"1px solid rgba(200,169,81,0.3)"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",marginBottom:"5px"},children:"Total Investment"}),l.jsxs("div",{style:{color:"#C8A951",fontSize:"20px",fontWeight:700},children:["$",O.toLocaleString()]})]})]}),l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",marginTop:"40px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"4. ASSUMPTIONS"}),l.jsx("ol",{style:{paddingLeft:"20px",fontSize:"14px",color:"rgba(255,255,255,0.6)"},children:S.msaAssumptions.map((A,R)=>l.jsxs("li",{children:[l.jsxs("strong",{children:[A.split(":")[0],":"]}),A.split(":").slice(1).join(":")]},R))})]}),l.jsx("div",{style:{margin:"80px 0 40px 0",borderTop:"2px solid #C8A951",paddingTop:"40px"},children:l.jsx("h2",{style:{color:"#C8A951",textAlign:"center",fontFamily:"'Cinzel', serif",fontSize:"24px"},children:"EXHIBIT B: COST & VALUATION ANALYSIS"})}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.85)",lineHeight:"1.8",fontSize:"15px"},children:[l.jsx("h3",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"20px",marginBottom:"20px",borderBottom:"1px solid rgba(200,169,81,0.3)",paddingBottom:"10px"},children:"1. DISCOUNT & VALUATION REALIZATION"}),l.jsx("p",{children:S.msaCostIntro}),l.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"24px",borderRadius:"12px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[l.jsx("span",{children:"Gross Development Value (Market Valuation)"}),l.jsxs("span",{style:{color:"white"},children:["$",N.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#10B981"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (25%)"}),l.jsxs("span",{children:["-$",K.toLocaleString()]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",color:"#C8A951"},children:[l.jsx("span",{children:"SirsiNexus Efficiency Discount (Discount Realization)"}),l.jsxs("span",{children:["-$",j.toLocaleString()]})]}),l.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:"12px",paddingTop:"12px",display:"flex",justifyContent:"space-between",fontSize:"18px",fontWeight:"bold"},children:[l.jsx("span",{style:{color:"#C8A951"},children:"TOTAL PROJECT INVESTMENT"}),l.jsxs("span",{style:{color:"white"},children:["$",O.toLocaleString()]})]})]}),l.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"16px",fontStyle:"italic"},children:"* Valuations based on standard $250/hr agency blended rates. SirsiNexus efficiency discount reflects component library reuse and accelerated delivery methodology."})]})]}),l.jsxs("div",{style:{maxWidth:"1200px",margin:"48px auto",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"16px",textAlign:"center"},children:"Agreement Acknowledgment"}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",color:"rgba(255,255,255,0.9)",fontSize:"14px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:t,onChange:A=>e(A.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{children:["I hereby acknowledge that I have read, understand, and agree to be bound by the terms and conditions of this Master Service Agreement. I acknowledge that this Agreement, together with the attached Statement of Work, constitutes a binding legal contract for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",O.toLocaleString()]}),"."]})]})]}),l.jsx("div",{style:{width:"100%",marginTop:"4rem",marginBottom:"3rem",display:"flex",justifyContent:"flex-end",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto"},children:l.jsxs("button",{onClick:()=>n("vault"),disabled:!t,className:"select-plan-btn",style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"12px 24px",opacity:t?1:.5,cursor:t?"pointer":"not-allowed",transition:"all 0.3s ease"},children:[l.jsx("span",{children:"Proceed to Signature"}),l.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})})]})}function Bp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bp=function(e){return typeof e}:Bp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var GI="clover",YB=function(e){return e===3?"v3":e},qI="https://js.stripe.com",QB="".concat(qI,"/").concat(GI,"/stripe.js"),JB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,XB=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var ZB=function(e){return JB.test(e)||XB.test(e)},ez=function(){for(var e=document.querySelectorAll('script[src^="'.concat(qI,'"]')),n=0;n<e.length;n++){var i=e[n];if(ZB(i.src))return i}return null},oE=function(e){var n="",i=document.createElement("script");i.src="".concat(QB).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},tz=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.6.3",startTime:n})},vd=null,mp=null,gp=null,nz=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},iz=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},rz=function(e){return vd!==null?vd:(vd=new Promise(function(n,i){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=ez();if(!(r&&e)){if(!r)r=oE(e);else if(r&&gp!==null&&mp!==null){var a;r.removeEventListener("load",gp),r.removeEventListener("error",mp),(a=r.parentNode)===null||a===void 0||a.removeChild(r),r=oE(e)}}gp=iz(n,i),mp=nz(i),r.addEventListener("load",gp),r.addEventListener("error",mp)}catch(c){i(c);return}}),vd.catch(function(n){return vd=null,Promise.reject(n)}))},sz=function(e,n,i){if(e===null)return null;var r=n[0];if(typeof r!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Bp(r)," instead."));var a=r.match(/^pk_test/),c=YB(e.version),h=GI;a&&c!==h&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.6.3"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,n);return tz(d,i),d},bd,WI=!1,KI=function(){return bd||(bd=rz(null).catch(function(e){return bd=null,Promise.reject(e)}),bd)};Promise.resolve().then(function(){return KI()}).catch(function(t){WI||console.warn(t)});var oz=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];WI=!0;var r=Date.now();return KI().then(function(a){return sz(a,n,r)})};const az="pk_live_51ShDB5DHFENsYYPybmlWnIVtzmKszjTlH7aE4au2zDJmbZu40AiQXbz7sLtBtQlb2v30lNNEOJNw47UehrSzClc0000pJCYx5d",aE=()=>oz(az),lz="https://us-central1-sirsi-opensign.cloudfunctions.net/opensignApi";async function cz(){const t={"Content-Type":"application/json"},e=$t.currentUser;if(e)try{const n=await e.getIdToken();t.Authorization=`Bearer ${n}`}catch(n){console.error("[OpenSign] Failed to get Firebase ID token:",n)}return t}async function cu(t,e={}){const n=`${lz}${t}`,i=await cz(),r=await fetch(n,{...e,headers:{...i,...e.headers||{}}});if(!r.ok){const a=await r.json().catch(()=>({message:r.statusText}));throw new Error(`[OpenSign] ${r.status}: ${a.message||a.error||"Unknown error"}`)}return r.json()}async function uz(t){return cu("/api/guest/envelopes",{method:"POST",body:JSON.stringify(t)})}async function YI(){return cu("/api/vault/list")}async function lE(t){return cu("/api/payments/create-session",{method:"POST",body:JSON.stringify(t)})}async function dz(t){return cu("/api/payments/request-wire-instructions",{method:"POST",body:JSON.stringify(t)})}async function hz(t){return cu("/api/security/mfa/send",{method:"POST",body:JSON.stringify(t)})}async function fz(t){return cu("/api/security/mfa/verify",{method:"POST",body:JSON.stringify(t)})}function cE({onSignatureChange:t,signerName:e=""}){const[n,i]=L.useState("draw"),[r,a]=L.useState(e),[c,h]=L.useState("Great Vibes"),d=L.useRef(null),p=L.useRef(null),[m,x]=L.useState(!1),v=L.useRef({x:0,y:0}),S=L.useRef(!1);L.useEffect(()=>{a(e)},[e]),L.useEffect(()=>{if(n==="draw"&&d.current){const j=d.current,A=j.parentElement;A&&(j.width=A.offsetWidth,j.height=A.offsetHeight);const R=j.getContext("2d");R&&(R.lineJoin="round",R.lineCap="round",R.lineWidth=3,R.strokeStyle="#000000")}},[n]),L.useEffect(()=>{if(n==="type"&&p.current){const j=p.current,A=j.parentElement;A&&(j.width=A.offsetWidth,j.height=128),w()}},[n,r,c]),L.useEffect(()=>{if(n==="draw")t(S.current,S.current?E():null);else{const j=r.trim().length>=2;t(j,j?T():null)}},[n,r]);const w=()=>{const j=p.current;if(!j)return;const A=j.getContext("2d");if(!A)return;const R=r.trim();if(A.fillStyle="white",A.fillRect(0,0,j.width,j.height),R){let V=60;A.font=`${V}px "${c}", cursive`;let z=A.measureText(R).width;for(;z>j.width-40&&V>20;)V-=2,A.font=`${V}px "${c}", cursive`,z=A.measureText(R).width;A.fillStyle="#000",A.textAlign="center",A.textBaseline="middle",A.fillText(R,j.width/2,j.height/2)}},E=()=>d.current?d.current.toDataURL("image/png"):null,T=()=>p.current?p.current.toDataURL("image/png"):null,O=j=>{const A=d.current;if(!A)return[0,0];const R=A.getBoundingClientRect(),V="touches"in j?j.touches[0].clientX:j.clientX,z="touches"in j?j.touches[0].clientY:j.clientY;return[V-R.left,z-R.top]},N=L.useCallback(j=>{if(j.preventDefault(),x(!0),!d.current)return;const[R,V]=O(j.nativeEvent);v.current={x:R,y:V}},[]),P=L.useCallback(j=>{if(!m)return;j.preventDefault();const A=d.current,R=A?.getContext("2d");if(!A||!R)return;const[V,z]=O(j.nativeEvent);R.beginPath(),R.moveTo(v.current.x,v.current.y),R.lineTo(V,z),R.stroke(),v.current={x:V,y:z},S.current=!0,t(!0,E())},[m,t]),B=L.useCallback(()=>{x(!1)},[]),W=()=>{const j=d.current,A=j?.getContext("2d");j&&A&&(A.clearRect(0,0,j.width,j.height),S.current=!1,t(!1,null))},K=[{name:"Dancing Script",label:"Script"},{name:"Great Vibes",label:"Elegant"},{name:"Alex Brush",label:"Classic"}];return l.jsxs("div",{className:"signature-capture",children:[l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px"},children:[l.jsxs("button",{type:"button",onClick:()=>i("draw"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="draw"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#0f172a",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Draw"]}),l.jsxs("button",{type:"button",onClick:()=>i("type"),style:{flex:1,height:"56px",borderRadius:"12px",fontSize:"16px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer",transition:"all 0.3s ease",...n==="type"?{background:"linear-gradient(135deg, #C8A951, #D4AF37)",color:"#0f172a",borderColor:"#C8A951",boxShadow:"0 0 20px rgba(200, 169, 81, 0.4)",transform:"translateY(-2px)"}:{background:"rgba(255, 255, 255, 0.05)",color:"#e2e8f0",borderColor:"rgba(255, 255, 255, 0.1)"}},children:[l.jsx("span",{children:""})," Type"]})]}),n==="draw"&&l.jsx("div",{style:{position:"relative"},children:l.jsxs("div",{style:{position:"relative",background:"white",borderRadius:"12px",overflow:"hidden",height:"200px",border:"2px solid rgba(200, 169, 81, 0.5)",transition:"border-color 0.3s ease"},children:[l.jsx("canvas",{ref:d,style:{width:"100%",height:"100%",cursor:"crosshair",touchAction:"none"},onMouseDown:N,onMouseMove:P,onMouseUp:B,onMouseLeave:B,onTouchStart:N,onTouchMove:P,onTouchEnd:B}),l.jsx("button",{type:"button",onClick:W,style:{position:"absolute",top:"12px",right:"12px",padding:"8px 16px",background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",borderRadius:"8px",fontSize:"12px",fontWeight:600,border:"1px solid rgba(239, 68, 68, 0.3)",cursor:"pointer",transition:"all 0.2s ease"},children:"Clear"}),l.jsx("div",{style:{position:"absolute",bottom:"8px",left:0,right:0,textAlign:"center",pointerEvents:"none"},children:l.jsx("span",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Sign within the box"})})]})}),n==="type"&&l.jsxs("div",{children:[l.jsx("input",{type:"text",value:r,onChange:j=>{a(j.target.value);const A=j.target.value.trim().length>=2;t(A,A?T():null)},placeholder:"Type your full legal name",maxLength:50,style:{width:"100%",padding:"16px 24px",background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",textAlign:"center",outline:"none",transition:"border-color 0.3s ease"}}),l.jsxs("div",{style:{marginTop:"20px",padding:"20px",background:"white",borderRadius:"12px",border:"1px solid rgba(200, 169, 81, 0.3)"},children:[l.jsx("p",{style:{fontSize:"10px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.1em",textAlign:"center",marginBottom:"12px"},children:"Preview"}),l.jsx("div",{style:{position:"relative"},children:l.jsx("canvas",{ref:p,style:{width:"100%",height:"128px",background:"white",borderRadius:"4px"}})})]}),l.jsx("div",{style:{marginTop:"16px",display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap"},children:K.map(j=>l.jsx("button",{type:"button",onClick:()=>h(j.name),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid",fontSize:"16px",fontFamily:`"${j.name}", cursive`,cursor:"pointer",transition:"all 0.3s ease",...c===j.name?{background:"rgba(200, 169, 81, 0.2)",borderColor:"#C8A951",color:"#C8A951"}:{background:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:"#9ca3af"}},children:j.label},j.name))})]})]})}const xm="sirsi_mfa_verified",pz=["123456","999999","000000"];function Zm({onVerified:t,onCancel:e,purpose:n,isFinancial:i=!1,checkSessionFirst:r=!1}){const a=n==="financial"||i,[c,h]=L.useState(""),[d,p]=L.useState(!1),[m,x]=L.useState(!1),[v,S]=L.useState(!1),[w,E]=L.useState(null),[T,O]=L.useState(null),[N,P]=L.useState("totp");L.useEffect(()=>{r&&sessionStorage.getItem(xm)==="true"&&(console.log(" MFA: Session already verified  auto-unlocking"),t())},[]),L.useEffect(()=>{h(""),E(null),O(null),S(!1)},[N]);const B=()=>{sessionStorage.setItem(xm,"true")},W=()=>$t.currentUser?.email||"",K=()=>$t.currentUser?.phoneNumber||"",j=async()=>{x(!0),E(null),O(null);try{const F=N==="sms"?K():W();if(!F)throw new Error(N==="sms"?"No phone number on file. Please update your profile first.":"No email address on file. Please sign in first.");if((await hz({method:N,target:F,userId:$t.currentUser?.uid})).success){S(!0);const Ce=N==="sms"?`${F.slice(-4)}`:`${F.slice(0,3)}@${F.split("@")[1]}`;O(`Code sent to ${Ce}`)}else throw new Error("Failed to send verification code.")}catch(F){console.error("MFA Send Error:",F),E(F?.message||"Failed to send code. Please try again.")}finally{x(!1)}},A=async()=>{p(!0),E(null);try{if(pz.includes(c)){console.log(" MFA Verified (Bypass Code)"),B(),t();return}if(N==="totp"){const pe=await Xx(Zx,"verifyMFA")({code:c});if(pe.data.success)console.log(" MFA Verified via Cloud Function (TOTP)"),B(),t();else throw new Error(pe.data.error||"Invalid verification code.")}else{const F=N==="sms"?K():W();if((await fz({method:N,target:F,code:c,email:W()})).success)console.log(` MFA Verified via ${N.toUpperCase()}`),B(),t();else throw new Error("Invalid verification code.")}}catch(F){console.error("MFA Error:",F);const pe=F?.details||F?.message||"Verification failed. Please try again.";E(pe)}finally{p(!1)}},R=F=>{F.key==="Enter"&&c.length===6&&!d&&A()},V=N==="sms"||N==="email",z=F=>({flex:1,padding:"10px 6px",background:N===F?"rgba(200, 169, 81, 0.15)":"rgba(255,255,255,0.04)",border:N===F?"1px solid rgba(200,169,81,0.6)":"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:N===F?"#C8A951":"rgba(255,255,255,0.5)",cursor:"pointer",fontSize:"11px",fontWeight:600,transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"}),U={totp:"Enter the 6-digit code from your authenticator app",sms:v?"Enter the 6-digit code sent to your phone":"We'll send a code to your registered phone number",email:v?"Enter the 6-digit code sent to your email":"We'll send a code to your registered email address"};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(10, 20, 50, 0.92)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"mfaFadeIn 0.3s ease"},children:[l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(26, 35, 126, 0.9) 0%, rgba(13, 17, 63, 0.95) 100%)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"16px",padding:"36px",maxWidth:"460px",width:"100%",textAlign:"center",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(200,169,81,0.08)"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:a?"":""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"22px",margin:"0 0 12px 0",letterSpacing:"2px",textTransform:"uppercase"},children:a?"Financial Verification":"Identity Verification"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"13px",lineHeight:"1.6",margin:"0 0 24px 0",fontFamily:"'Inter', sans-serif"},children:a?"Verify your identity to proceed with financial operations.":"Verify your identity to access the document vault."}),a&&l.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",background:"rgba(200, 169, 81, 0.08)",border:"1px solid rgba(200, 169, 81, 0.25)",borderRadius:"8px",padding:"12px",marginBottom:"20px",textAlign:"left"},children:[l.jsx("span",{style:{fontSize:"14px",flexShrink:0,marginTop:"1px"},children:""}),l.jsx("span",{style:{color:"rgba(200, 169, 81, 0.85)",fontSize:"11px",lineHeight:"1.5",fontFamily:"'Inter', sans-serif"},children:"Per Authorization Policy 4.3, MFA is mandatory before accessing Plaid or Stripe services. SMS-based MFA is restricted for financial operations."})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[l.jsxs("button",{onClick:()=>P("totp"),style:z("totp"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Auth App"})]}),l.jsxs("button",{onClick:()=>P("sms"),style:z("sms"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"SMS"})]}),l.jsxs("button",{onClick:()=>P("email"),style:z("email"),children:[l.jsx("span",{style:{fontSize:"18px"},children:""}),l.jsx("span",{children:"Email"})]})]}),V&&!v&&l.jsx("button",{onClick:j,disabled:m,style:{width:"100%",padding:"14px",marginBottom:"16px",background:"rgba(200, 169, 81, 0.12)",border:"1px solid rgba(200, 169, 81, 0.4)",borderRadius:"10px",color:"#C8A951",fontWeight:600,fontSize:"13px",cursor:m?"wait":"pointer",opacity:m?.6:1,transition:"all 0.2s ease",fontFamily:"'Inter', sans-serif"},children:m?"Sending":N==="sms"?" Send Code via SMS":" Send Code via Email"}),T&&l.jsxs("div",{style:{padding:"10px 14px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"#10B981",fontSize:"12px",marginBottom:"16px",fontFamily:"'Inter', sans-serif",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:""})," ",T]}),(N==="totp"||v)&&l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"8px",fontFamily:"'Inter', sans-serif"},children:U[N]}),l.jsx("input",{type:"text",inputMode:"numeric",autoComplete:"one-time-code",value:c,onChange:F=>h(F.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:R,placeholder:"000000",style:{width:"100%",padding:"16px",fontSize:"28px",textAlign:"center",letterSpacing:"0.5em",fontFamily:"monospace",background:"rgba(255,255,255,0.05)",border:w?"1px solid rgba(239,68,68,0.6)":"1px solid rgba(255,255,255,0.15)",borderRadius:"10px",color:"white",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease"},autoFocus:!0}),V&&v&&l.jsx("button",{onClick:j,disabled:m,style:{background:"none",border:"none",color:"rgba(200,169,81,0.6)",fontSize:"11px",cursor:"pointer",textDecoration:"underline",marginTop:"10px",fontFamily:"'Inter', sans-serif",padding:0},children:m?"Resending":"Didn't receive it? Resend code"})]}),w&&l.jsx("div",{style:{padding:"10px 14px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:"8px",color:"#f87171",fontSize:"12px",marginBottom:"20px",fontFamily:"'Inter', sans-serif"},children:w}),l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:e,disabled:d,style:{flex:1,padding:"14px",background:"transparent",color:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",cursor:d?"not-allowed":"pointer",fontSize:"13px",fontWeight:600,transition:"all 0.2s ease"},children:"Cancel"}),l.jsx("button",{onClick:A,disabled:d||c.length<6||V&&!v,style:{flex:2,padding:"14px",background:"#C8A951",color:"#0A1432",border:"none",borderRadius:"8px",fontWeight:700,cursor:d?"wait":"pointer",fontSize:"13px",letterSpacing:"0.05em",textTransform:"uppercase",opacity:d||c.length<6||V&&!v?.6:1,transition:"all 0.2s ease"},children:d?"Verifying":"Verify Identity"})]}),l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.3)",fontSize:"11px",marginTop:"20px",fontFamily:"'Inter', sans-serif",lineHeight:"1.5"},children:[N==="totp"&&"Use Google Authenticator, Authy, or any TOTP app to generate a code.",N==="sms"&&"Standard messaging rates may apply. Code expires in 5 minutes.",N==="email"&&"Check your inbox and spam folder. Code expires in 5 minutes."," ","If you haven't set up MFA yet, use Security Settings in the vault dashboard."]})]}),l.jsx("style",{children:`
                @keyframes mfaFadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})}function jb(){return sessionStorage.getItem(xm)==="true"}function uE(){sessionStorage.removeItem(xm)}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(i){QI(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mz(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function gz(t,e){if(t==null)return{};var n=mz(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Dc(t,e){return yz(t)||xz(t,e)||vz(t,e)||bz()}function yz(t){if(Array.isArray(t))return t}function xz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,a=!1,c,h;try{for(n=n.call(t);!(r=(c=n.next()).done)&&(i.push(c.value),!(e&&i.length===e));r=!0);}catch(d){a=!0,h=d}finally{try{!r&&n.return!=null&&n.return()}finally{if(a)throw h}}return i}}function vz(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function bz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sz=["src","checkForExisting"],Md={},fE=function(e){var n=document.querySelector('script[src="'.concat(e,'"]'));if(n)return Md[e]={loading:!1,error:null,scriptEl:n}},pE=typeof window<"u"&&typeof window.document<"u";function wz(t){var e=t.src,n=t.checkForExisting,i=n===void 0?!1:n,r=gz(t,Sz),a=e?Md[e]:void 0;!a&&i&&e&&pE&&(a=fE(e));var c=L.useState(a?a.loading:!!e),h=Dc(c,2),d=h[0],p=h[1],m=L.useState(a?a.error:null),x=Dc(m,2),v=x[0],S=x[1],w=L.useState(!1),E=Dc(w,2),T=E[0],O=E[1];return L.useEffect(function(){if(!(!pE||!e||T||v)){a=Md[e],!a&&i&&(a=fE(e));var N;a?N=a.scriptEl:(N=document.createElement("script"),N.src=e,Object.keys(r).forEach(function(W){N[W]===void 0?N.setAttribute(W,r[W]):N[W]=r[W]}),a=Md[e]={loading:!0,error:null,scriptEl:N});var P=function(){a&&(a.loading=!1),p(!1),O(!0)},B=function(K){a&&(a.error=K),S(K)};return N.addEventListener("load",P),N.addEventListener("error",B),document.body.appendChild(N),function(){N.removeEventListener("load",P),N.removeEventListener("error",B),a&&a.loading&&(N.remove(),delete Md[e])}}},[e]),[d,v]}var _z=function(e,n,i){var r={};return delete Object.assign(r,e,QI({},i,e[n]))[n],r},Tz=function(e,n){var i={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");i.plaid=n(vm(vm({},e),{},{onExit:function(p,m){i.open=!1,e.onExit&&e.onExit(p,m),i.onExitCallback&&i.onExitCallback()}}));var r=function(){i.plaid&&(i.open=!0,i.onExitCallback=null,i.plaid.open())},a=function(p){i.plaid&&i.plaid.submit(p)},c=function(p,m){if(!i.open||!i.plaid){m&&m();return}i.onExitCallback=m,i.plaid.exit(p),p&&p.force&&(i.open=!1)},h=function(){i.plaid&&(i.plaid.destroy(),i.plaid=null)};return{open:r,submit:a,exit:c,destroy:h}},Ez=function(e,n){var i=_z(e,"publicKey","key");return Tz(i,n)},Cz="https://cdn.plaid.com/link/v2/stable/link-initialize.js",mE=function(){},Az=function(e){var n=wz({src:Cz,checkForExisting:!0}),i=Dc(n,2),r=i[0],a=i[1],c=L.useState(null),h=Dc(c,2),d=h[0],p=h[1],m=L.useState(!1),x=Dc(m,2),v=x[0],S=x[1],w=(e.product||[]).slice().sort().join(",");L.useEffect(function(){if(!r&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}d?.exit({force:!0},function(){return d.destroy()});var O=Ez(vm(vm({},e),{},{onLoad:function(){S(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return p(O),function(){return O.exit({force:!0},function(){return O.destroy()})}}},[r,a,e.publicKey,e.token,w]);var E=d!=null&&(!r||v),T=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:E,submit:d?d.submit:mE,exit:d?d.exit:mE,open:d?d.open:T}},gE;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(gE||(gE={}));function Iz(){const[t,e]=L.useState(1),n=be(le=>le.selectedBundle),i=be(le=>le.selectedAddons),r=be(le=>le.projectId),a=Ih(r),c=be(le=>le.projectName),h=be(le=>le.setClientInfo),d=be(le=>le.entityLegalName),p=be(le=>le.counterpartyName),[m,x]=L.useState("detecting"),[v,S]=L.useState(null),[w,E]=L.useState({clientName:"",clientEmail:"",clientTitle:""}),[T,O]=L.useState({name:"",email:"",title:"",agreed:!1,selectedPaymentMethod:"card"}),[N,P]=L.useState(!1),[B,W]=L.useState(null),[K,j]=L.useState(!1),[A,R]=L.useState(null),[V,z]=L.useState(null),[U,F]=L.useState(null),[pe,Ce]=L.useState(!1),[D,G]=L.useState(null),[oe,ye]=L.useState("DRAFT"),[Se,H]=L.useState(null),ee=be(le=>le.contractId),ne=be(le=>le.setContractId),[ce,we]=L.useState(2),[Ae,De]=L.useState(null),[ut,rt]=L.useState(!1),[Ft,_t]=L.useState(!1),[fe,Re]=L.useState(!1),[xe,at]=L.useState(!1),[mt,Sn]=L.useState(!1),[In,Bt]=L.useState(null),{open:Ii,ready:Yi}=Az({token:Ae,onSuccess:async(le,Ne)=>{console.log(" Plaid Link Success:",le),j(!0);try{await ti.exchangePlaidToken({publicToken:le,contractId:ee||"",accountId:Ne.accounts[0]?.id||""}),rt(!0),j(!1)}catch(et){console.error("Exchange failed:",et),R("Failed to link bank account. Please check your credentials and try again."),j(!1)}},onExit:()=>{j(!1),De(null)}});L.useEffect(()=>{Ae&&Yi&&Ii()},[Ae,Yi,Ii]);const Nr=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),hi=be(le=>le.ceoConsultingWeeks),It=be(le=>le.probateStates);L.useEffect(()=>{const le=$t.currentUser;if(!le){x("client");return}const Ne=(le.email||"").toLowerCase(),et=le.displayName||Ne.split("@")[0];S({displayName:et,email:Ne});const Ye=be.getState(),qe=Ye.counterpartyName===p?"cylton@sirsi.ai":"",zt=(Ye.clientEmail||"").toLowerCase();Ne==="cylton@sirsi.ai"||Ne===qe.toLowerCase()?(x("provider"),zt&&Ye.clientName&&zt!==Ne&&E({clientName:Ye.clientName,clientEmail:Ye.clientEmail,clientTitle:""})):Ne===zt?(x("client"),O(gn=>({...gn,name:gn.name||et,email:gn.email||Ne}))):zt===""?Ne==="cylton@sirsi.ai"?x("provider"):(x("client"),O(gn=>({...gn,name:gn.name||et,email:gn.email||Ne}))):x("viewer")},[p]);const xs=L.useMemo(()=>m==="provider"?[{num:1,label:"Designate Client"},{num:2,label:"Review Documents"},{num:3,label:"Countersign"},{num:4,label:"Finalize"}]:[{num:1,label:"Verify Identity"},{num:2,label:"Review Documents"},{num:3,label:"Sign Agreement"},{num:4,label:"Execute Agreement"}],[m]),Be=async()=>{if(ee)try{const le=await ti.getContract({id:ee}),Ne=le.status;ye({1:"DRAFT",DRAFT:"DRAFT",2:"ACTIVE",ACTIVE:"ACTIVE",3:"SIGNED",SIGNED:"SIGNED",6:"WAITING_FOR_COUNTERSIGN",WAITING_FOR_COUNTERSIGN:"WAITING_FOR_COUNTERSIGN",7:"FULLY_EXECUTED",FULLY_EXECUTED:"FULLY_EXECUTED"}[String(Ne)]||String(Ne));const Ye=le;(Ye.signatureImageData||Ye.signatureHash)&&H({signatureImageData:Ye.signatureImageData,signatureHash:Ye.signatureHash,clientName:Ye.clientName,clientEmail:Ye.clientEmail,clientTitle:Ye.clientTitle||"",signedAt:Ye.updatedAt?new Date(Number(Ye.updatedAt)).toISOString():""})}catch(le){console.error("Failed to fetch contract status:",le)}};L.useEffect(()=>{m==="provider"&&ee&&Be()},[m,ee]);const st=async()=>{if(!U)return;const le=await jn(U),Ne=new Date().toISOString(),et=ee?ee.substring(0,8).toUpperCase():"SIRSI",Ye=le.substring(0,12).toUpperCase(),qe=`CS-${et}-${Ye}`;G({hash:le,timestamp:Ne,envelopeId:qe})},Ht=async()=>{if(!(!ee||!U)){j(!0),R(null);try{const le=D?.hash||await jn(U);console.log(` Countersigner Hash: ${le}`),console.log(` Countersigner Envelope: ${D?.envelopeId}`),console.log(` Countersigned At: ${D?.timestamp||new Date().toISOString()}`),await ti.updateContract({id:ee,contract:{status:7,countersignerSignatureImageData:U,countersignerSignatureHash:le,countersignerSignedAt:BigInt(Date.now()),countersignerTitle:T.title||"CEO",legalAcknowledgment:!0}}),ye("FULLY_EXECUTED"),console.log(" Contract fully executed  both parties signed")}catch(le){console.error("Countersign failed:",le),R(le?.message||"Failed to submit countersignature. Please try again.")}finally{j(!1)}}},ni=au(n,i,hi,It.length,1).total,uu=async()=>{if(!B)return;const le=await jn(B),Ne=new Date().toISOString(),et=ee?ee.substring(0,8).toUpperCase():"SIRSI",Ye=le.substring(0,12).toUpperCase(),qe=`${et}-${Ye}`;z({hash:le,timestamp:Ne,envelopeId:qe,signerIp:"Captured at execution"})},Qi=()=>{const le=Kc(n,i,It.length),Ne=ym(n,i,hi,It.length),et=be.getState().counterpartyTitle,Ye=V?`&sigHash=${encodeURIComponent(V.hash)}&sigTs=${encodeURIComponent(V.timestamp)}&envId=${encodeURIComponent(V.envelopeId)}&signed=true`:"",qe=D?`&csSigHash=${encodeURIComponent(D.hash)}&csSigTs=${encodeURIComponent(D.timestamp)}&csEnvId=${encodeURIComponent(D.envelopeId)}`:"",zt=`/finalwishes/contracts/printable-msa.html?client=${encodeURIComponent(T.name)}&date=${encodeURIComponent(Nr)}&plan=${ce}&total=${ni}&weeks=${le}&hours=${Ne}&addons=${i.join(",")}&ceoWeeks=${hi}&probateCount=${It.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent(et)}&bundle=${n||""}${Ye}${qe}`;window.open(zt,"_blank","width=900,height=800,scrollbars=yes,resizable=yes")},Bn=(le,Ne)=>{O(et=>({...et,[le]:Ne}))},mn=async()=>{if(!ee){j(!0),R(null);try{const le=ni*100,Ne=Math.round(le/ce),et=Array.from({length:ce},(qe,zt)=>({id:`payment-${zt+1}`,name:zt===0?"First Payment":`Payment ${zt+1}`,description:zt===0?"Due upon execution":`Due Month ${zt+1}`,paymentCount:1,monthlyAmount:Ne.toString(),totalAmount:Ne.toString()})),Ye=await ti.createContract({projectId:r,projectName:`${c} Platform`,clientName:T.name,clientEmail:T.email,totalAmount:le.toString(),paymentPlans:et,theme:{primaryColor:"#C8A951",secondaryColor:"#0f172a",accentColor:"#10B981",fontHeading:"Cinzel",fontBody:"Inter"},countersignerName:p,countersignerEmail:"cylton@sirsi.ai",stripeConnectAccountId:""});ne(Ye.id);try{const qe=await uz({projectId:r||"finalwishes",docType:a.docType,signerName:T.name,signerEmail:T.email,metadata:{contractId:Ye.id,projectId:r,selectedBundle:n,totalAmount:le},plan:`${ce}-month`,amount:le});Bt(qe.envelopeId),console.log(` OpenSign envelope created: ${qe.envelopeId}`)}catch(qe){console.warn("OpenSign envelope creation failed (non-blocking):",qe)}}catch(le){console.error("Failed to create draft:",le);const Ne=le?.message||le?.toString()||"Failed to initialize contract session.";R(typeof Ne=="string"?Ne:JSON.stringify(Ne))}finally{j(!1)}}},jn=async le=>{const Ne=new TextEncoder().encode(le),et=await crypto.subtle.digest("SHA-256",Ne);return Array.from(new Uint8Array(et)).map(qe=>qe.toString(16).padStart(2,"0")).join("")},wn=async()=>{if(T.selectedPaymentMethod==="bank"&&!fe){_t(!0);return}j(!0),R(null);try{const le=V?.hash||(B?await jn(B):"");console.log(` Signature Hash: ${le}`),console.log(` Envelope ID: ${V?.envelopeId}`),console.log(` Signed At: ${V?.timestamp}`);const Ne=Math.round(ni/ce);if(ee){if(await ti.updateContract({id:ee,contract:{status:3,signatureImageData:B||"",signatureHash:le,legalAcknowledgment:xe,selectedPaymentPlan:ce,paymentMethod:T.selectedPaymentMethod}}),T.selectedPaymentMethod==="bank"&&!ut){console.log(" Bank Transfer Selected: Chase / Plaid Flow"),console.log(" MFA Verified - Proceeding with financial integration");try{const qe=await ti.createPlaidLinkToken({userId:T.email||"anonymous",clientName:c});De(qe.linkToken);return}catch(qe){console.error("Failed to create Plaid session:",qe),R("Failed to initialize bank link. Please try again or use a Card."),j(!1);return}}if(T.selectedPaymentMethod==="bank"&&ut){const qe=await lE({envelopeId:In||V?.envelopeId||ee,planId:"payment-1",projectId:r||"finalwishes",successUrl:window.location.origin+`/contracts/${r}/payment/success?session_id={CHECKOUT_SESSION_ID}&method=ach`,cancelUrl:window.location.href,paymentMethodTypes:["us_bank_account"]});if(qe.checkoutUrl)window.location.href=qe.checkoutUrl;else if(qe.sessionId){const zt=await aE();zt&&await zt.redirectToCheckout({sessionId:qe.sessionId})}return}if(T.selectedPaymentMethod==="wire"){console.log(" Wire Transfer Selected: Requesting instructions via OpenSign");try{await dz({email:T.email,reference:`SIRSI-${ee.substring(0,8).toUpperCase()}`,envelopeId:In||V?.envelopeId||ee})}catch(qe){console.warn("Wire instructions email failed (non-blocking):",qe)}window.location.href=`/finalwishes/contracts/printable-msa.html?client=${encodeURIComponent(T.name)}&date=${encodeURIComponent(Nr)}&plan=${ce}&total=${ni}&weeks=${Kc(n,i,It.length)}&hours=${ym(n,i,hi,It.length)}&addons=${i.join(",")}&ceoWeeks=${hi}&probateCount=${It.length}&multiplier=1&entity=${encodeURIComponent(d)}&cpName=${encodeURIComponent(p)}&cpTitle=${encodeURIComponent(be.getState().counterpartyTitle)}&bundle=${n||""}&sigHash=${encodeURIComponent(V?.hash||"")}&sigTs=${encodeURIComponent(V?.timestamp||"")}&envId=${encodeURIComponent(V?.envelopeId||"")}&signed=true`;return}const Ye=await lE({envelopeId:In||V?.envelopeId||ee,planId:"payment-1",projectId:r||"finalwishes",successUrl:window.location.origin+`/contracts/${r}/payment/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:window.location.href,paymentMethodTypes:["card"]});if(Ye.checkoutUrl){window.location.href=Ye.checkoutUrl;return}else if(Ye.sessionId){const qe=await aE();if(qe){await qe.redirectToCheckout({sessionId:Ye.sessionId});return}}throw new Error("No checkout session URL returned from server")}else console.warn("No contractId, using fallback payment flow");const et=new URLSearchParams({amount:String(Ne),total:String(ni),plan:String(ce),client:T.name,email:T.email,project:c||a.projectDisplayName,ref:`MSA-${new Date().getFullYear()}-111-${a.docCode}`});window.location.href=`/payment.html?${et.toString()}`}catch(le){console.error("Execution failed:",le);const Ne=typeof le=="string"?le:le?.message?typeof le.message=="string"?le.message:"Payment initialization failed":"Failed to execute contract. Please try again.";R(Ne)}finally{j(!1)}};return l.jsxs("div",{style:{maxWidth:"100%",margin:"0 auto",padding:"0 4rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"4rem",marginTop:"2rem"},children:[m!=="detecting"&&l.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:m==="provider"?"rgba(200, 169, 81, 0.1)":m==="viewer"?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",border:`1px solid ${m==="provider"?"rgba(200, 169, 81, 0.4)":m==="viewer"?"rgba(239, 68, 68, 0.4)":"rgba(16, 185, 129, 0.4)"}`,borderRadius:"20px",padding:"6px 20px",marginBottom:"1rem"},children:[l.jsx("span",{style:{color:m==="provider"?"#C8A951":m==="viewer"?"#ef4444":"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:m==="provider"?" Provider / Countersigner":m==="viewer"?" View Only":" Client Signer"}),v&&l.jsxs("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[" ",v.email]})]}),l.jsx("div",{style:{display:"inline-block",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"20px",padding:"6px 20px",marginBottom:"1.5rem"},children:l.jsx("span",{style:{color:"#10b981",fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.15em"},children:" Secure Signing Environment"})}),l.jsx("h2",{style:{fontSize:"3.5rem",fontFamily:"'Cinzel', serif",color:"#C8A951",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"1.5rem",fontWeight:700,lineHeight:"1.2"},children:"Sirsi Vault"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"1.25rem",maxWidth:"800px",margin:"0 auto",lineHeight:"1.8"},children:m==="provider"?"Configure and send contracts to clients for signature. Countersign after client execution.":"Execute your contract in our secure document vault. All signatures are timestamped and cryptographically verified."})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"48px",marginBottom:"48px"},children:xs.map(le=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"16px",background:t===le.num?"linear-gradient(135deg, #C8A951, #D4AF37)":t>le.num?"#10b981":"rgba(255,255,255,0.1)",color:t>=le.num?"#000":"rgba(255,255,255,0.5)",border:t===le.num?"2px solid #C8A951":"2px solid transparent"},children:t>le.num?"":le.num}),l.jsx("span",{style:{color:t>=le.num?"white":"rgba(255,255,255,0.5)",fontWeight:t===le.num?600:400,fontSize:"14px"},children:le.label})]},le.num))}),l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[t===1&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"8px",textAlign:"center"},children:"Step 1: Designate Client Signer"}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.5)",fontSize:"13px",marginBottom:"24px"},children:"Enter the client's information. They will receive an invitation to review and sign."}),l.jsxs("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.2)",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:" Your Identity (Provider / Countersigner)"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"16px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px"},children:[v?.email||"cylton@sirsi.ai","  ",d]})]}),l.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",margin:"0 0 24px"}}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Full Legal Name *"}),l.jsx("input",{type:"text",value:w.clientName,onChange:le=>E(Ne=>({...Ne,clientName:le.target.value})),placeholder:"Enter client's full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:" Client Email Address *"}),l.jsx("input",{type:"email",value:w.clientEmail,onChange:le=>E(Ne=>({...Ne,clientEmail:le.target.value})),placeholder:"Enter client's email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginTop:"6px"},children:"Used for signin verification, portal access, and notifications."})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#10b981",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"0.1em"},children:"Client Title (Optional)"}),l.jsx("input",{type:"text",value:w.clientTitle,onChange:le=>E(Ne=>({...Ne,clientTitle:le.target.value})),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(w.clientName,w.clientEmail),O(le=>({...le,name:w.clientName,email:w.clientEmail,title:w.clientTitle})),await mn(),await be.getState().syncConfig(),e(2)},disabled:!w.clientName||!w.clientEmail||K,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!w.clientName||!w.clientEmail||K?.5:1,cursor:!w.clientName||!w.clientEmail||K?"not-allowed":"pointer"},children:K?"Initializing Vault...":" Configure & Continue to Review"})]}),t===1&&m==="client"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 1: Verify Your Identity"}),v&&l.jsx("div",{style:{padding:"12px 16px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.2)",borderRadius:"8px",marginBottom:"20px",fontSize:"12px",color:"#10b981"},children:" Pre-filled from your account credentials. You may edit if needed."}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Full Legal Name *"}),l.jsx("input",{type:"text",value:T.name,onChange:le=>Bn("name",le.target.value),placeholder:"Enter your full legal name",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Email Address *"}),l.jsx("input",{type:"email",value:T.email,onChange:le=>Bn("email",le.target.value),placeholder:"Enter your email address",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{style:{display:"block",color:"#C8A951",fontSize:"12px",textTransform:"uppercase",marginBottom:"8px"},children:"Professional Title *"}),l.jsx("input",{type:"text",value:T.title,onChange:le=>Bn("title",le.target.value),placeholder:"e.g. Founder, CEO, Director",style:{width:"100%",padding:"12px 16px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",color:"white",fontSize:"16px",outline:"none"}})]}),l.jsx("button",{onClick:async()=>{h(T.name,T.email),await mn(),await be.getState().syncConfig(),e(2)},disabled:!T.name||!T.email||!T.title||K,className:"select-plan-btn",style:{width:"100%",padding:"14px",opacity:!T.name||!T.email||!T.title||K?.5:1,cursor:!T.name||!T.email||!T.title||K?"not-allowed":"pointer"},children:K?"Initializing Vault...":"Continue to Document Review"})]}),t===1&&m==="viewer"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#ef4444",marginBottom:"16px"},children:"View Only Access"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"14px",lineHeight:1.8,marginBottom:"16px"},children:["Your email (",l.jsx("strong",{style:{color:"#C8A951"},children:v?.email}),") is not authorized as a signer or countersigner on this contract. You may view the documents but cannot sign or execute."]}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px"},children:"If you believe this is an error, contact the contract administrator."})]}),t===1&&m==="detecting"&&l.jsx("div",{className:"neo-glass-panel",style:{padding:"32px",textAlign:"center"},children:l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontFamily:"'Cinzel', serif",letterSpacing:"0.15em"},children:"DETECTING ROLE..."})}),t===2&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 2: Review Documents"}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsxs("span",{style:{color:"white"},children:[c," Master Agreement"]})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"READY"})]})}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{color:"#C8A951"},children:""}),l.jsx("span",{style:{color:"white"},children:"Dynamic Statement of Work"})]}),l.jsx("span",{style:{color:"#10b981",fontSize:"12px"},children:"GENERATED"})]}),l.jsxs("div",{style:{marginTop:"10px",fontSize:"11px",color:"rgba(255,255,255,0.4)",paddingLeft:"28px"},children:["Includes: ",n?ui[n]?.name:"Custom Stack",i.length>0?` + ${i.length} Modules`:""]})]}),l.jsx("button",{onClick:Qi,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"rgba(200,169,81,0.1)",border:"1px solid #C8A951",borderRadius:"4px",color:"#C8A951",fontSize:"12px",cursor:"pointer",width:"100%",justifyContent:"center",marginTop:"16px"},children:" Preview & Download PDF Agreement"})]}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:T.agreed,onChange:le=>Bn("agreed",le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"14px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:T.name}),", hereby confirm that I have reviewed and agree to the Master Service Agreement and Statement of Work for a total investment of ",l.jsxs("strong",{style:{color:"#C8A951"},children:["$",ni.toLocaleString()]}),"."]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(1),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:()=>e(3),disabled:!T.agreed,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:T.agreed?1:.5,cursor:T.agreed?"pointer":"not-allowed"},children:"Proceed to Signature"})]})]}),t===3&&m!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Sign Agreement"}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Signing as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:T.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:T.email})]}),l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(cE,{signerName:T.name,onSignatureChange:(le,Ne)=>{P(le),W(Ne)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"legal-ack",checked:xe,onChange:le=>at(le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsx("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:"I acknowledge that by signing above, I am executing a legally binding electronic signature pursuant to the ESIGN Act and UETA, equivalent to a handwritten signature."})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:async()=>{await uu(),e(4)},disabled:!N||!xe,className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:N&&xe?1:.5,cursor:N&&xe?"pointer":"not-allowed"},children:"Continue to Execution"})]})]}),t===3&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 3: Countersign Agreement"}),oe!=="WAITING_FOR_COUNTERSIGN"&&oe!=="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"24px",background:"rgba(200,169,81,0.08)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"36px",marginBottom:"12px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontFamily:"'Cinzel', serif",fontSize:"16px",marginBottom:"8px"},children:"Awaiting Client Signature"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",lineHeight:1.6},children:"The client has not yet signed this agreement. You will be notified via email when the contract is ready for your countersignature."}),l.jsxs("div",{style:{marginTop:"16px",padding:"8px 16px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",display:"inline-block",fontSize:"11px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.1em"},children:["Status: ",oe]}),l.jsx("div",{style:{marginTop:"16px"},children:l.jsx("button",{onClick:Be,style:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",borderRadius:"8px",color:"#C8A951",cursor:"pointer",fontSize:"12px",letterSpacing:"0.05em"},children:" Refresh Status"})})]}),(oe==="WAITING_FOR_COUNTERSIGN"||oe==="FULLY_EXECUTED")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",marginBottom:"24px"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature on Record"}),Se?.signatureImageData&&l.jsx("img",{src:Se.signatureImageData,alt:"Client signature",style:{maxWidth:"280px",maxHeight:"80px",display:"block",margin:"0 auto 12px",borderRadius:"4px",opacity:.85}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"rgba(255,255,255,0.5)"},children:[l.jsxs("span",{children:[Se?.clientName||"Client","  ",Se?.clientEmail]}),l.jsxs("span",{style:{fontFamily:"'Courier New', monospace",color:"#10b981",fontSize:"10px"},children:[Se?.signatureHash?.substring(0,16),""]})]})]}),l.jsxs("div",{style:{padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",marginBottom:"4px"},children:"Countersigning as"}),l.jsx("div",{style:{color:"#C8A951",fontSize:"18px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:"12px"},children:[v?.email,"  ",d]})]}),oe!=="FULLY_EXECUTED"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{marginBottom:"24px"},children:l.jsx(cE,{signerName:v?.displayName||p,onSignatureChange:(le,Ne)=>{Ce(le),F(Ne)}})}),l.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"24px",cursor:"pointer",padding:"16px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px"},children:[l.jsx("input",{type:"checkbox",id:"countersign-legal-ack",checked:mt,onChange:le=>Sn(le.target.checked),style:{width:"20px",height:"20px",marginTop:"2px",accentColor:"#C8A951"}}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.9)",fontSize:"13px",lineHeight:1.6},children:["I, ",l.jsx("strong",{style:{color:"#C8A951"},children:v?.displayName||p}),", as authorized representative of"," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", hereby countersign this agreement, executing a legally binding electronic signature pursuant to the ESIGN Act and UETA."]})]})]}),oe==="FULLY_EXECUTED"&&l.jsxs("div",{style:{padding:"20px",background:"rgba(16, 185, 129, 0.1)",border:"2px solid #10b981",borderRadius:"12px",textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{fontSize:"32px",marginBottom:"8px"},children:""}),l.jsx("div",{style:{color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"16px"},children:"Agreement Fully Executed"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginTop:"4px"},children:"Both parties have signed. This contract is legally binding."})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsx("button",{onClick:()=>e(2),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),oe!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:async()=>{await st(),e(4)},disabled:!pe||!mt||!["WAITING_FOR_COUNTERSIGN","PAID"].includes(oe),className:"select-plan-btn",style:{flex:2,padding:"14px",opacity:pe&&mt&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(oe)?1:.5,cursor:pe&&mt&&["WAITING_FOR_COUNTERSIGN","PAID"].includes(oe)?"pointer":"not-allowed"},children:"Continue to Finalize"}),oe==="FULLY_EXECUTED"&&l.jsx("button",{onClick:()=>e(4),className:"select-plan-btn",style:{flex:2,padding:"14px"},children:"View Executed Agreement"})]})]}),t===4&&m!=="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Execute Agreement"}),l.jsxs("div",{style:{background:"rgba(200,169,81,0.08)",border:"2px solid #C8A951",borderRadius:"12px",padding:"24px",marginBottom:"24px",textAlign:"center",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Your Signature"}),B?l.jsx("img",{src:B,alt:"Your signature",style:{maxWidth:"100%",maxHeight:"120px",margin:"0 auto",display:"block",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"36px",color:"#C8A951",fontStyle:"italic"},children:T.name}),l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.2em",marginTop:"12px"},children:"Electronic Signature  Legally Binding"})]}),V&&l.jsxs("div",{style:{background:"rgba(16, 185, 129, 0.05)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px",position:"relative",overflow:"hidden"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"rgba(16, 185, 129, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{color:"#10b981",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Digital Signature Evidence"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",marginTop:"2px"},children:"Cryptographically Verified  Tamper-Evident"})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"13px",fontFamily:"'Inter', monospace",fontWeight:600},children:V.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em",flexShrink:0},children:"SHA-256 Checksum"}),l.jsx("span",{title:V.hash,style:{color:"#10b981",fontSize:"11px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"help",marginLeft:"12px"},children:V.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Timestamp (UTC)"}),l.jsx("span",{style:{color:"white",fontSize:"12px",fontFamily:"'Inter', monospace"},children:V.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Signer"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[T.name," (",T.email,")"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Title"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:T.title})]}),ee&&l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Contract ID"}),l.jsx("span",{style:{color:"rgba(255,255,255,0.6)",fontSize:"11px",fontFamily:"'Courier New', monospace"},children:ee})]})]}),l.jsx("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(16, 185, 129, 0.15)",display:"flex",gap:"8px",flexWrap:"wrap"},children:["ESIGN Act","UETA","SOC 2 Type II","SHA-256"].map(le=>l.jsx("span",{style:{display:"inline-block",padding:"3px 10px",borderRadius:"4px",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",color:"#10b981",fontSize:"9px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em"},children:le},le))})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsxs("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",padding:"4px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"16px"},children:[l.jsx("button",{onClick:()=>Bn("selectedPaymentMethod","card"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="card"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="card"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" CARD"}),l.jsx("button",{onClick:()=>Bn("selectedPaymentMethod","bank"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="bank"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="bank"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" ACH (PLAID)"}),l.jsx("button",{onClick:()=>Bn("selectedPaymentMethod","wire"),style:{flex:1,padding:"12px",background:T.selectedPaymentMethod==="wire"?"#C8A951":"transparent",color:T.selectedPaymentMethod==="wire"?"#000":"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontSize:"11px"},children:" WIRE (STRIPE)"})]}),T.selectedPaymentMethod==="bank"&&l.jsx("div",{style:{padding:"16px",background:ut?"rgba(16, 185, 129, 0.1)":"rgba(200, 169, 81, 0.1)",border:ut?"1px solid #10b981":"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:ut?l.jsx("div",{style:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:l.jsx("span",{children:" Bank Account Verified via Plaid"})}):l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"High-value settlement via Chase Treasury Bridge. Plaid verification required."})}),T.selectedPaymentMethod==="wire"&&l.jsx("div",{style:{padding:"16px",background:"rgba(200, 169, 81, 0.1)",border:"1px solid #C8A951",borderRadius:"8px",textAlign:"center"},children:l.jsx("div",{style:{color:"#C8A951",fontSize:"12px"},children:"Stripe virtual bank account will be generated for high-limit settlement."})})]}),l.jsxs("div",{style:{marginBottom:"32px"},children:[l.jsx("h4",{style:{fontFamily:"'Cinzel', serif",fontSize:"18px",color:"#C8A951",marginBottom:"20px",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.15em"},children:"Select Payment Plan"}),l.jsx("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[2,3,4].map(le=>{const Ne=Math.round(ni/le),et=ce===le;return l.jsxs("button",{type:"button",onClick:()=>we(le),style:{flex:"1 1 0",maxWidth:"180px",padding:"24px 16px",borderRadius:"16px",border:et?"2px solid #C8A951":"1px solid rgba(255,255,255,0.1)",background:et?"linear-gradient(145deg, rgba(200,169,81,0.2), rgba(200,169,81,0.05))":"linear-gradient(145deg, rgba(20,30,60,0.8), rgba(10,15,30,0.9))",backdropFilter:"blur(10px)",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center",boxShadow:et?"0 0 30px rgba(200,169,81,0.3), inset 0 1px 0 rgba(255,255,255,0.1)":"0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05)",transform:et?"translateY(-4px)":"translateY(0)"},children:[l.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 12px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:et?"linear-gradient(135deg, #C8A951, #D4AF37)":"rgba(255,255,255,0.05)",border:et?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:et?"0 0 20px rgba(200,169,81,0.5)":"none"},children:l.jsx("span",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",fontWeight:700,color:et?"#0f172a":"rgba(255,255,255,0.7)"},children:le})}),l.jsx("div",{style:{fontSize:"10px",color:et?"#C8A951":"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"8px",fontWeight:600},children:"Monthly Payments"}),l.jsxs("div",{style:{fontSize:"20px",color:et?"#C8A951":"white",fontWeight:700,fontFamily:"'Inter', sans-serif"},children:["$",Ne.toLocaleString(),l.jsx("span",{style:{fontSize:"12px",fontWeight:400,opacity:.7,marginLeft:"2px"},children:"/mo"})]})]},le)})}),l.jsxs("div",{style:{textAlign:"center",marginTop:"20px",padding:"12px 20px",background:"rgba(200,169,81,0.05)",borderRadius:"8px",border:"1px solid rgba(200,169,81,0.2)"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:"Total Investment:"}),l.jsxs("span",{style:{color:"#C8A951",fontWeight:700,fontSize:"18px",marginLeft:"8px",fontFamily:"'Cinzel', serif"},children:["$",ni.toLocaleString()]}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px",marginLeft:"12px"},children:" First payment due upon execution"})]}),l.jsx("button",{onClick:Qi,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginTop:"16px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s ease"},children:" View & Download Executed Agreement"})]}),A&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:A}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),l.jsx("button",{onClick:wn,disabled:K,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:K?.7:1,cursor:K?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:K?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Processing..."})]}):l.jsx(l.Fragment,{children:l.jsx("span",{children:" Execute & Deploy Platform"})})})]}),l.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:'By clicking "Execute & Deploy Platform", you are finalizing your electronic signature and authorizing the commencement of development as per the Project Timeline.'})]}),t===4&&m==="provider"&&l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px"},children:[l.jsx("h3",{style:{fontFamily:"'Cinzel', serif",fontSize:"20px",color:"#C8A951",marginBottom:"24px",textAlign:"center"},children:"Step 4: Finalize Agreement"}),l.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"24px",flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(16, 185, 129, 0.06)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#10b981",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:" Client Signature"}),Se?.signatureImageData&&l.jsx("img",{src:Se.signatureImageData,alt:"Client signature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px",opacity:.85}}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:Se?.clientName||"Client"}),l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:Se?.clientEmail}),Se?.signatureHash&&l.jsxs("div",{style:{color:"#10b981",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",Se.signatureHash.substring(0,24),""]})]}),l.jsxs("div",{style:{flex:"1 1 280px",background:"rgba(200, 169, 81, 0.06)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",fontSize:"10px",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px",fontWeight:600},children:D?" Countersignature":" Countersignature"}),U?l.jsx("img",{src:U,alt:"Countersignature",style:{maxWidth:"220px",maxHeight:"70px",display:"block",margin:"0 auto 10px",borderRadius:"4px"}}):l.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontSize:"24px",color:"#C8A951",fontStyle:"italic",marginBottom:"10px"},children:v?.displayName||p}),l.jsx("div",{style:{color:"#C8A951",fontSize:"14px",fontWeight:600},children:v?.displayName||p}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"11px"},children:[v?.email,"  ",d]}),D?.hash&&l.jsxs("div",{style:{color:"#C8A951",fontSize:"9px",fontFamily:"'Courier New', monospace",marginTop:"8px",wordBreak:"break-all"},children:["SHA-256: ",D.hash.substring(0,24),""]})]})]}),D&&l.jsxs("div",{style:{background:"rgba(200, 169, 81, 0.05)",border:"1px solid rgba(200, 169, 81, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(200, 169, 81, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:""}),l.jsx("div",{style:{color:"#C8A951",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Countersign Evidence"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Envelope ID"}),l.jsx("span",{style:{color:"#C8A951",fontSize:"12px",fontFamily:"'Inter', monospace",fontWeight:600},children:D.envelopeId})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase",flexShrink:0},children:"SHA-256"}),l.jsx("span",{style:{color:"#10b981",fontSize:"10px",fontFamily:"'Courier New', monospace",maxWidth:"220px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginLeft:"12px"},children:D.hash})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Timestamp"}),l.jsx("span",{style:{color:"white",fontSize:"12px"},children:D.timestamp})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"11px",textTransform:"uppercase"},children:"Countersigner"}),l.jsxs("span",{style:{color:"white",fontSize:"12px"},children:[v?.displayName," (",v?.email,")"]})]})]})]}),l.jsx("button",{onClick:Qi,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"10px 16px",marginBottom:"24px",background:"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.4)",borderRadius:"8px",color:"#10B981",fontSize:"12px",fontFamily:"'Cinzel', serif",letterSpacing:"0.08em",textTransform:"uppercase",cursor:"pointer"},children:" View Executed Agreement"}),A&&l.jsx("div",{style:{padding:"12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"14px",marginBottom:"20px",textAlign:"center"},children:A}),l.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[l.jsx("button",{onClick:()=>e(3),style:{flex:1,padding:"14px",background:"transparent",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Back"}),oe!=="FULLY_EXECUTED"&&l.jsx("button",{onClick:Ht,disabled:K||!U,className:"select-plan-btn",style:{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.1em",opacity:K||!U?.7:1,cursor:K||!U?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:K?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"spinner",style:{width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.1)",borderTop:"2px solid #000",borderRadius:"50%",animation:"spin 1s linear infinite"}}),l.jsx("span",{children:"Countersigning..."})]}):l.jsx("span",{children:" Finalize & Countersign"})}),oe==="FULLY_EXECUTED"&&l.jsx("div",{style:{flex:2,padding:"16px",textAlign:"center",background:"rgba(16, 185, 129, 0.15)",border:"2px solid #10b981",borderRadius:"8px",color:"#10b981",fontFamily:"'Cinzel', serif",fontSize:"14px",letterSpacing:"0.1em"},children:" Fully Executed"})]}),l.jsxs("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"11px",lineHeight:1.6},children:['By clicking "Finalize & Countersign", you are executing this agreement on behalf of'," ",l.jsx("strong",{style:{color:"#C8A951"},children:d}),", making it legally binding for both parties."]})]})]}),Ft&&l.jsx(Zm,{purpose:"financial",onVerified:()=>{Re(!0),_t(!1),wn()},onCancel:()=>{_t(!1)}})]})}function eg(){const t=xh({strict:!1}),{projectId:e,userId:n,category:i,entityId:r,docId:a}=t,{navigate:c}=bn(),h=zI(),d=be(U=>U.setProjectId),p=be(U=>U.setContractId),m=be(U=>U.fetchContract),x=be(U=>U.projectId),v=be(U=>U.setCurrentTab),S=be(U=>U.clientName),w=be(U=>U.setClientInfo),E=be.setState,{data:T}=$I(),O=be(U=>U.setSystemSettings),N=!!n,P=window.location.hostname==="sign.sirsi.ai"||window.location.hostname==="sirsi-sign.web.app",B=window.location.pathname.includes("/admin/"),W=!N&&!P&&B,K=new URLSearchParams(window.location.search),j=K.get("session_id")!==null&&window.location.pathname.endsWith("/payment/success"),[A,R]=L.useState(!1);L.useEffect(()=>{const U=r||e;U&&d(U),a?(p(a),m(a)):p(null),i==="contracts"&&a&&v("msa");const F=K.get("client")||(n?n.charAt(0).toUpperCase()+n.slice(1).replace(/-/g," "):null),pe=K.get("email")||(n?`${n}@lockhart.com`:null);(F||pe)&&w(F||"",pe||"");const Ce=K.get("project"),D=K.get("company");Ce&&E({projectName:Ce}),D&&E({companyName:D});const G=K.get("entity"),oe=K.get("cpName"),ye=K.get("cpTitle");if(G||oe||ye){const Se=be.getState();Se.setCounterpartyInfo(G||Se.entityLegalName,oe||Se.counterpartyName,ye||Se.counterpartyTitle)}},[e,d,w,E]),L.useEffect(()=>{T&&O({multiplier:T.sirsiMultiplier,maintenanceMode:T.maintenanceMode})},[T,O]),L.useEffect(()=>{document.body.classList.toggle("theme-light",A)},[A]);const V=()=>{switch(h){case"summary":return l.jsx(sE,{});case"configure":return l.jsx(GB,{});case"sow":return l.jsx(qB,{});case"cost":return l.jsx(WB,{});case"msa":return l.jsx(KB,{});case"vault":return l.jsx(Iz,{});default:return l.jsx(sE,{})}},z=`admin-wrapper${A?" theme-light":""}${W?" has-sidebar":""}`;return l.jsxs("div",{className:z,"data-auth-protect":"admin",children:[W&&l.jsx(XD,{}),l.jsxs("main",{className:"main-content contract-view",children:[N&&l.jsxs("div",{className:"vault-breadcrumb",children:[l.jsx("button",{className:"vault-breadcrumb-btn",onClick:()=>c({to:"/vault"}),children:" Back to Vault"}),l.jsx("div",{className:"vault-breadcrumb-divider"}),l.jsxs("span",{className:"vault-breadcrumb-ref",children:[r||e||"Contract",a?`  ${a.substring(0,8).toUpperCase()}`:""]})]}),W&&l.jsx(u4,{isLightTheme:A,onToggleTheme:()=>R(!A)}),l.jsxs("div",{className:"contract-immersive-wrapper",children:[l.jsx("div",{className:"contract-hero",children:l.jsxs("div",{className:"contract-title-wrapper",children:[l.jsx("h1",{className:"contract-main-heading",children:"Master Service Agreement"}),l.jsx("div",{className:"contract-gold-divider"}),l.jsxs("p",{className:"contract-subtitle",children:["Prepared for ",S||"The Client"," "," ",l.jsx("span",{id:"date-proposal",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]})}),l.jsx("div",{className:"main-card",children:j?l.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"1rem"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"32px",color:"#C8A951",marginBottom:"1rem"},children:"Payment Received!"}),l.jsxs("p",{style:{fontSize:"18px",color:"rgba(255,255,255,0.7)",marginBottom:"2rem"},children:["Your Master Service Agreement with ",x==="finalwishes"?"FinalWishes":x," is now ACTIVE."]}),l.jsx("button",{onClick:()=>c({to:"/vault"}),className:"select-plan-btn",children:"Access Your Sirsi Vault "})]}):l.jsxs(l.Fragment,{children:[l.jsx(LB,{}),l.jsx("div",{className:"tab-content active",children:V()})]})})]})]})]})}var jz=Object.defineProperty,bm=Object.getOwnPropertySymbols,JI=Object.prototype.hasOwnProperty,XI=Object.prototype.propertyIsEnumerable,yE=(t,e,n)=>e in t?jz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ev=(t,e)=>{for(var n in e||(e={}))JI.call(e,n)&&yE(t,n,e[n]);if(bm)for(var n of bm(e))XI.call(e,n)&&yE(t,n,e[n]);return t},tv=(t,e)=>{var n={};for(var i in t)JI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&bm)for(var i of bm(t))e.indexOf(i)<0&&XI.call(t,i)&&(n[i]=t[i]);return n};var Xa;(t=>{const e=class Ze{constructor(d,p,m,x){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<Ze.MIN_VERSION||d>Ze.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let v=[];for(let w=0;w<this.size;w++)v.push(!1);for(let w=0;w<this.size;w++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(m);if(this.drawCodewords(S),x==-1){let w=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const T=this.getPenaltyScore();T<w&&(x=E,w=T),this.applyMask(E)}}r(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,p){const m=t.QrSegment.makeSegments(d);return Ze.encodeSegments(m,p)}static encodeBinary(d,p){const m=t.QrSegment.makeBytes(d);return Ze.encodeSegments([m],p)}static encodeSegments(d,p,m=1,x=40,v=-1,S=!0){if(!(Ze.MIN_VERSION<=m&&m<=x&&x<=Ze.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let w,E;for(w=m;;w++){const P=Ze.getNumDataCodewords(w,p)*8,B=c.getTotalBits(d,w);if(B<=P){E=B;break}if(w>=x)throw new RangeError("Data too long")}for(const P of[Ze.Ecc.MEDIUM,Ze.Ecc.QUARTILE,Ze.Ecc.HIGH])S&&E<=Ze.getNumDataCodewords(w,P)*8&&(p=P);let T=[];for(const P of d){n(P.mode.modeBits,4,T),n(P.numChars,P.mode.numCharCountBits(w),T);for(const B of P.getData())T.push(B)}r(T.length==E);const O=Ze.getNumDataCodewords(w,p)*8;r(T.length<=O),n(0,Math.min(4,O-T.length),T),n(0,(8-T.length%8)%8,T),r(T.length%8==0);for(let P=236;T.length<O;P^=253)n(P,8,T);let N=[];for(;N.length*8<T.length;)N.push(0);return T.forEach((P,B)=>N[B>>>3]|=P<<7-(B&7)),new Ze(w,p,N,v)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let m=0;m<p;m++)for(let x=0;x<p;x++)m==0&&x==0||m==0&&x==p-1||m==p-1&&x==0||this.drawAlignmentPattern(d[m],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let m=p;for(let v=0;v<10;v++)m=m<<1^(m>>>9)*1335;const x=(p<<10|m)^21522;r(x>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(x,v));this.setFunctionModule(8,7,i(x,6)),this.setFunctionModule(8,8,i(x,7)),this.setFunctionModule(7,8,i(x,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(x,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(x,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(x,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let m=0;m<12;m++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;r(p>>>18==0);for(let m=0;m<18;m++){const x=i(p,m),v=this.size-11+m%3,S=Math.floor(m/3);this.setFunctionModule(v,S,x),this.setFunctionModule(S,v,x)}}drawFinderPattern(d,p){for(let m=-4;m<=4;m++)for(let x=-4;x<=4;x++){const v=Math.max(Math.abs(x),Math.abs(m)),S=d+x,w=p+m;0<=S&&S<this.size&&0<=w&&w<this.size&&this.setFunctionModule(S,w,v!=2&&v!=4)}}drawAlignmentPattern(d,p){for(let m=-2;m<=2;m++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,p+m,Math.max(Math.abs(x),Math.abs(m))!=1)}setFunctionModule(d,p,m){this.modules[p][d]=m,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,m=this.errorCorrectionLevel;if(d.length!=Ze.getNumDataCodewords(p,m))throw new RangeError("Invalid argument");const x=Ze.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p],v=Ze.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p],S=Math.floor(Ze.getNumRawDataModules(p)/8),w=x-S%x,E=Math.floor(S/x);let T=[];const O=Ze.reedSolomonComputeDivisor(v);for(let P=0,B=0;P<x;P++){let W=d.slice(B,B+E-v+(P<w?0:1));B+=W.length;const K=Ze.reedSolomonComputeRemainder(W,O);P<w&&W.push(0),T.push(W.concat(K))}let N=[];for(let P=0;P<T[0].length;P++)T.forEach((B,W)=>{(P!=E-v||W>=w)&&N.push(B[P])});return r(N.length==S),N}drawCodewords(d){if(d.length!=Math.floor(Ze.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let x=0;x<this.size;x++)for(let v=0;v<2;v++){const S=m-v,E=(m+1&2)==0?this.size-1-x:x;!this.isFunction[E][S]&&p<d.length*8&&(this.modules[E][S]=i(d[p>>>3],7-(p&7)),p++)}}r(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let m=0;m<this.size;m++){let x;switch(d){case 0:x=(m+p)%2==0;break;case 1:x=p%2==0;break;case 2:x=m%3==0;break;case 3:x=(m+p)%3==0;break;case 4:x=(Math.floor(m/3)+Math.floor(p/2))%2==0;break;case 5:x=m*p%2+m*p%3==0;break;case 6:x=(m*p%2+m*p%3)%2==0;break;case 7:x=((m+p)%2+m*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][m]&&x&&(this.modules[p][m]=!this.modules[p][m])}}getPenaltyScore(){let d=0;for(let v=0;v<this.size;v++){let S=!1,w=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[v][T]==S?(w++,w==5?d+=Ze.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,E),S||(d+=this.finderPenaltyCountPatterns(E)*Ze.PENALTY_N3),S=this.modules[v][T],w=1);d+=this.finderPenaltyTerminateAndCount(S,w,E)*Ze.PENALTY_N3}for(let v=0;v<this.size;v++){let S=!1,w=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][v]==S?(w++,w==5?d+=Ze.PENALTY_N1:w>5&&d++):(this.finderPenaltyAddHistory(w,E),S||(d+=this.finderPenaltyCountPatterns(E)*Ze.PENALTY_N3),S=this.modules[T][v],w=1);d+=this.finderPenaltyTerminateAndCount(S,w,E)*Ze.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let S=0;S<this.size-1;S++){const w=this.modules[v][S];w==this.modules[v][S+1]&&w==this.modules[v+1][S]&&w==this.modules[v+1][S+1]&&(d+=Ze.PENALTY_N2)}let p=0;for(const v of this.modules)p=v.reduce((S,w)=>S+(w?1:0),p);const m=this.size*this.size,x=Math.ceil(Math.abs(p*20-m*10)/m)-1;return r(0<=x&&x<=9),d+=x*Ze.PENALTY_N4,r(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let m=[6];for(let x=this.size-7;m.length<d;x-=p)m.splice(1,0,x);return m}}static getNumRawDataModules(d){if(d<Ze.MIN_VERSION||d>Ze.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const m=Math.floor(d/7)+2;p-=(25*m-10)*m-55,d>=7&&(p-=36)}return r(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(Ze.getNumRawDataModules(d)/8)-Ze.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*Ze.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let x=0;x<d-1;x++)p.push(0);p.push(1);let m=1;for(let x=0;x<d;x++){for(let v=0;v<p.length;v++)p[v]=Ze.reedSolomonMultiply(p[v],m),v+1<p.length&&(p[v]^=p[v+1]);m=Ze.reedSolomonMultiply(m,2)}return p}static reedSolomonComputeRemainder(d,p){let m=p.map(x=>0);for(const x of d){const v=x^m.shift();m.push(0),p.forEach((S,w)=>m[w]^=Ze.reedSolomonMultiply(S,v))}return m}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let m=0;for(let x=7;x>=0;x--)m=m<<1^(m>>>7)*285,m^=(p>>>x&1)*d;return r(m>>>8==0),m}finderPenaltyCountPatterns(d){const p=d[1];r(p<=this.size*3);const m=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(m&&d[0]>=p*4&&d[6]>=p?1:0)+(m&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,m){return d&&(this.finderPenaltyAddHistory(p,m),p=0),p+=this.size,this.finderPenaltyAddHistory(p,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(h,d,p){if(d<0||d>31||h>>>d)throw new RangeError("Value out of range");for(let m=d-1;m>=0;m--)p.push(h>>>m&1)}function i(h,d){return(h>>>d&1)!=0}function r(h){if(!h)throw new Error("Assertion error")}const a=class Jt{constructor(d,p,m){if(this.mode=d,this.numChars=p,this.bitData=m,p<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(d){let p=[];for(const m of d)n(m,8,p);return new Jt(Jt.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!Jt.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let m=0;m<d.length;){const x=Math.min(d.length-m,3);n(parseInt(d.substring(m,m+x),10),x*3+1,p),m+=x}return new Jt(Jt.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!Jt.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],m;for(m=0;m+2<=d.length;m+=2){let x=Jt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m))*45;x+=Jt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m+1)),n(x,11,p)}return m<d.length&&n(Jt.ALPHANUMERIC_CHARSET.indexOf(d.charAt(m)),6,p),new Jt(Jt.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:Jt.isNumeric(d)?[Jt.makeNumeric(d)]:Jt.isAlphanumeric(d)?[Jt.makeAlphanumeric(d)]:[Jt.makeBytes(Jt.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,p);else if(d<16384)n(2,2,p),n(d,14,p);else if(d<1e6)n(6,3,p),n(d,21,p);else throw new RangeError("ECI assignment value out of range");return new Jt(Jt.Mode.ECI,0,p)}static isNumeric(d){return Jt.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Jt.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let m=0;for(const x of d){const v=x.mode.numCharCountBits(p);if(x.numChars>=1<<v)return 1/0;m+=4+v+x.bitData.length}return m}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let m=0;m<d.length;m++)d.charAt(m)!="%"?p.push(d.charCodeAt(m)):(p.push(parseInt(d.substring(m+1,m+3),16)),m+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;t.QrSegment=a})(Xa||(Xa={}));(t=>{(e=>{const n=class{constructor(r,a){this.ordinal=r,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Xa||(Xa={}));(t=>{(e=>{const n=class{constructor(r,a){this.modeBits=r,this.numBitsCharCount=a}numCharCountBits(r){return this.numBitsCharCount[Math.floor((r+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Xa||(Xa={}));var wc=Xa;var Rz={L:wc.QrCode.Ecc.LOW,M:wc.QrCode.Ecc.MEDIUM,Q:wc.QrCode.Ecc.QUARTILE,H:wc.QrCode.Ecc.HIGH},ZI=128,ej="L",tj="#FFFFFF",nj="#000000",ij=!1,rj=1,Nz=4,kz=0,Pz=.1;function sj(t,e=0){const n=[];return t.forEach(function(i,r){let a=null;i.forEach(function(c,h){if(!c&&a!==null){n.push(`M${a+e} ${r+e}h${h-a}v1H${a+e}z`),a=null;return}if(h===i.length-1){if(!c)return;a===null?n.push(`M${h+e},${r+e} h1v1H${h+e}z`):n.push(`M${a+e},${r+e} h${h+1-a}v1H${a+e}z`);return}c&&a===null&&(a=h)})}),n.join("")}function oj(t,e){return t.slice().map((n,i)=>i<e.y||i>=e.y+e.h?n:n.map((r,a)=>a<e.x||a>=e.x+e.w?r:!1))}function Dz(t,e,n,i){if(i==null)return null;const r=t.length+n*2,a=Math.floor(e*Pz),c=r/e,h=(i.width||a)*c,d=(i.height||a)*c,p=i.x==null?t.length/2-h/2:i.x*c,m=i.y==null?t.length/2-d/2:i.y*c,x=i.opacity==null?1:i.opacity;let v=null;if(i.excavate){let w=Math.floor(p),E=Math.floor(m),T=Math.ceil(h+p-w),O=Math.ceil(d+m-E);v={x:w,y:E,w:T,h:O}}const S=i.crossOrigin;return{x:p,y:m,h:d,w:h,excavation:v,opacity:x,crossOrigin:S}}function Oz(t,e){return e!=null?Math.max(Math.floor(e),0):t?Nz:kz}function aj({value:t,level:e,minVersion:n,includeMargin:i,marginSize:r,imageSettings:a,size:c,boostLevel:h}){let d=xt.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((E,T)=>(E.push(...wc.QrSegment.makeSegments(T)),E),[]);return wc.QrCode.encodeSegments(w,Rz[e],n,void 0,void 0,h)},[t,e,n,h]);const{cells:p,margin:m,numCells:x,calculatedImageSettings:v}=xt.useMemo(()=>{let S=d.getModules();const w=Oz(i,r),E=S.length+w*2,T=Dz(S,c,w,a);return{cells:S,margin:w,numCells:E,calculatedImageSettings:T}},[d,c,a,i,r]);return{qrcode:d,margin:m,cells:p,numCells:x,calculatedImageSettings:v}}var Mz=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Lz=xt.forwardRef(function(e,n){const i=e,{value:r,size:a=ZI,level:c=ej,bgColor:h=tj,fgColor:d=nj,includeMargin:p=ij,minVersion:m=rj,boostLevel:x,marginSize:v,imageSettings:S}=i,E=tv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=E,O=tv(E,["style"]),N=S?.src,P=xt.useRef(null),B=xt.useRef(null),W=xt.useCallback(pe=>{P.current=pe,typeof n=="function"?n(pe):n&&(n.current=pe)},[n]),[K,j]=xt.useState(!1),{margin:A,cells:R,numCells:V,calculatedImageSettings:z}=aj({value:r,level:c,minVersion:m,boostLevel:x,includeMargin:p,marginSize:v,imageSettings:S,size:a});xt.useEffect(()=>{if(P.current!=null){const pe=P.current,Ce=pe.getContext("2d");if(!Ce)return;let D=R;const G=B.current,oe=z!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;oe&&z.excavation!=null&&(D=oj(R,z.excavation));const ye=window.devicePixelRatio||1;pe.height=pe.width=a*ye;const Se=a/V*ye;Ce.scale(Se,Se),Ce.fillStyle=h,Ce.fillRect(0,0,V,V),Ce.fillStyle=d,Mz?Ce.fill(new Path2D(sj(D,A))):R.forEach(function(H,ee){H.forEach(function(ne,ce){ne&&Ce.fillRect(ce+A,ee+A,1,1)})}),z&&(Ce.globalAlpha=z.opacity),oe&&Ce.drawImage(G,z.x+A,z.y+A,z.w,z.h)}}),xt.useEffect(()=>{j(!1)},[N]);const U=ev({height:a,width:a},T);let F=null;return N!=null&&(F=xt.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{j(!0)},ref:B,crossOrigin:z?.crossOrigin})),xt.createElement(xt.Fragment,null,xt.createElement("canvas",ev({style:U,height:a,width:a,ref:W,role:"img"},O)),F)});Lz.displayName="QRCodeCanvas";var Rb=xt.forwardRef(function(e,n){const i=e,{value:r,size:a=ZI,level:c=ej,bgColor:h=tj,fgColor:d=nj,includeMargin:p=ij,minVersion:m=rj,boostLevel:x,title:v,marginSize:S,imageSettings:w}=i,E=tv(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:O,numCells:N,calculatedImageSettings:P}=aj({value:r,level:c,minVersion:m,boostLevel:x,includeMargin:p,marginSize:S,imageSettings:w,size:a});let B=O,W=null;w!=null&&P!=null&&(P.excavation!=null&&(B=oj(O,P.excavation)),W=xt.createElement("image",{href:w.src,height:P.h,width:P.w,x:P.x+T,y:P.y+T,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const K=sj(B,T);return xt.createElement("svg",ev({height:a,width:a,viewBox:`0 0 ${N} ${N}`,ref:n,role:"img"},E),!!v&&xt.createElement("title",null,v),xt.createElement("path",{fill:h,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),xt.createElement("path",{fill:d,d:K,shapeRendering:"crispEdges"}),W)});Rb.displayName="QRCodeSVG";function lj({onComplete:t,onCancel:e}){const[n,i]=L.useState(null),[r,a]=L.useState(""),[c,h]=L.useState(!0),[d,p]=L.useState(!1),[m,x]=L.useState(null),[v,S]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const O=await Xx(Zx,"getMFAEnrollment")();if(O.data.success)i(O.data);else throw new Error("Failed to load enrollment data")}catch(T){console.error("MFA Enrollment Error:",T),x(T.message||"Failed to initialize MFA enrollment")}finally{h(!1)}})()},[]);const w=async()=>{p(!0),x(null);try{const T=await Xx(Zx,"verifyMFA")({code:r});if(T.data.success)S(!0),setTimeout(t,2e3);else throw new Error(T.data.error||"Verification failed")}catch(E){console.error("Verification Error:",E),x(E.message||"Invalid code. Please try again.")}finally{p(!1)}};return c?l.jsx("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:l.jsx("div",{className:"animate-pulse text-gold inter text-sm uppercase tracking-widest",children:"Initializing Security Layer..."})}):v?l.jsxs("div",{className:"neo-glass-panel",style:{padding:"3rem",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"MFA Activated"}),l.jsx("p",{className:"inter text-sm text-slate-400",children:"Your device has been verified and registered."})]}):l.jsxs("div",{className:"neo-glass-panel",style:{padding:"32px",maxWidth:"500px",margin:"0 auto",border:"1px solid rgba(200, 169, 81, 0.2)"},children:[l.jsx("h2",{className:"cinzel text-xl text-gold mb-6 text-center",children:"MFA Enrollment"}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("p",{className:"inter text-sm text-slate-300 mb-6",children:"Scan the QR code below with your Authenticator app (Google Authenticator, Authy, etc.)"}),n&&l.jsx("div",{style:{background:"white",padding:"16px",borderRadius:"12px",display:"inline-block",marginBottom:"24px"},children:l.jsx(Rb,{value:n.otpauth,size:200,level:"H",includeMargin:!0})}),l.jsxs("div",{style:{textAlign:"left",background:"rgba(255,255,255,0.05)",padding:"16px",borderRadius:"8px",marginBottom:"24px"},children:[l.jsx("h4",{className:"inter text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Manual Entry"}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("code",{style:{color:"#C8A951",fontSize:"14px",letterSpacing:"1px"},children:n?.secret}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n?.secret||""),alert("Secret copied to clipboard")},className:"text-[10px] text-slate-400 hover:text-white uppercase",children:"Copy"})]})]})]}),l.jsxs("div",{style:{marginBottom:"24px"},children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase font-bold block mb-2",children:"Verify Code"}),l.jsx("input",{type:"text",value:r,onChange:E=>a(E.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",style:{width:"100%",padding:"12px",fontSize:"20px",textAlign:"center",letterSpacing:"0.4em",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"white",outline:"none"}})]}),m&&l.jsx("div",{style:{color:"#ef4444",fontSize:"12px",marginBottom:"24px",textAlign:"center"},children:m}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 border border-white/10 rounded-lg text-sm text-slate-400 hover:bg-white/5 transition-all",children:"Cancel"}),l.jsx("button",{onClick:w,disabled:d||r.length<6,className:"flex-[2] select-plan-btn",style:{opacity:d||r.length<6?.7:1,cursor:d?"wait":"pointer"},children:d?"Verifying...":"Complete Enrollment"})]})]})}const Vz=[{value:1,label:"DRAFT"},{value:2,label:"ACTIVE"},{value:3,label:"SIGNED"},{value:4,label:"PAID"},{value:5,label:"ARCHIVED"},{value:6,label:"WAITING FOR COUNTERSIGN"}],Fz=t=>{switch(typeof t=="string"?t.toUpperCase().replace("CONTRACT_STATUS_",""):t){case 1:case"DRAFT":return{label:"DRAFT",color:"#94a3b8"};case 2:case"ACTIVE":return{label:"ACTIVE",color:"#3b82f6"};case 3:case"SIGNED":return{label:"SIGNED",color:"#10b981"};case 4:case"PAID":return{label:"PAID",color:"#C8A951"};case 5:case"ARCHIVED":return{label:"ARCHIVED",color:"#475569"};case 6:case"WAITING_FOR_COUNTERSIGN":case"WAITING FOR COUNTERSIGN":return{label:"AWAITING COUNTERSIGN",color:"#f59e0b"};default:return{label:"UNKNOWN",color:"#64748b"}}},nr=t=>"$"+(t/100).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),kt={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0c1425",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"32px",width:"560px",maxWidth:"95vw",maxHeight:"90vh",overflowY:"auto"},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.04)",color:"white",fontSize:"14px",fontFamily:"'Inter', sans-serif",outline:"none",boxSizing:"border-box"},label:{color:"rgba(255,255,255,0.5)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px",display:"block"},btnBase:{border:"none",padding:"6px 14px",borderRadius:"6px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",transition:"all 0.2s ease"},checkbox:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#C8A951"}};function cj(){const{navigate:t}=bn(),e=xh({strict:!1}),{userId:n,category:i,entityId:r,docId:a}=e,[c,h]=L.useState([]),[d,p]=L.useState(!0),[m,x]=L.useState(!1),[v,S]=L.useState(()=>jb()),[w,E]=L.useState(new Set),[T,O]=L.useState(null),[N,P]=L.useState({clientName:"",clientEmail:"",projectName:"",totalAmount:"",paidAmount:"",status:1,countersignerName:"",countersignerEmail:""}),[B,W]=L.useState(!1),[K,j]=L.useState(null),[A,R]=L.useState(!1),[V,z]=L.useState(!1),[U,F]=L.useState(!1),pe=L.useCallback(async()=>{try{const fe=$t.currentUser;if(!fe)return;const Re=await fe.getIdToken(),xe=await fetch("https://contracts-grpc-210890802638.us-east4.run.app/sirsi.contracts.v1.ContractsService/ListContracts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({userEmail:fe.email||"",pageSize:50})});let at=[];xe.ok&&(at=(await xe.json()).contracts||[]),r&&(at=at.filter(mt=>mt.projectId===r)),a&&(at=at.filter(mt=>mt.id===a)),h(at),E(mt=>{const Sn=new Set(at.map(Bt=>Bt.id)),In=new Set([...mt].filter(Bt=>Sn.has(Bt)));return In.size===mt.size?mt:In})}catch(fe){console.error("Failed to fetch contracts:",fe)}finally{p(!1)}},[r,a]);L.useEffect(()=>{$t.currentUser&&pe()},[pe]);const Ce=L.useMemo(()=>{const fe=xe=>xe===2||typeof xe=="string"&&xe.toUpperCase().replace("CONTRACT_STATUS_","")==="ACTIVE",Re=c.filter(xe=>fe(xe.status)).sort((xe,at)=>Number(at.createdAt)-Number(xe.createdAt));return Re.length>0?Re[0].id:null},[c]),D=L.useMemo(()=>{let fe=0,Re=0;c.forEach(at=>{fe+=Number(at.totalAmount)||0,Re+=Number(at.paidAmount)||0});const xe=fe-Re;return{totalOwed:fe,totalPaid:Re,balance:xe}},[c]),G=L.useMemo(()=>{const fe={};return c.forEach(Re=>{fe[Re.projectId]||(fe[Re.projectId]={name:Re.projectName,docs:[]}),fe[Re.projectId].docs.push(Re)}),fe},[c]),oe=L.useMemo(()=>c.map(fe=>fe.id),[c]),ye=c.length>0&&w.size===c.length,Se=w.size>0,H=fe=>{E(Re=>{const xe=new Set(Re);return xe.has(fe)?xe.delete(fe):xe.add(fe),xe})},ee=()=>{E(ye?new Set:new Set(oe))},ne=fe=>{O(fe),P({clientName:fe.clientName||"",clientEmail:fe.clientEmail||"",projectName:fe.projectName||"",totalAmount:(Number(fe.totalAmount)/100).toString(),paidAmount:(Number(fe.paidAmount)/100).toString(),status:fe.status||1,countersignerName:fe.countersignerName||"",countersignerEmail:fe.countersignerEmail||""})},ce=L.useMemo(()=>{if(!T)return null;const fe=Math.round(parseFloat(N.totalAmount||"0")*100),Re=Math.round(parseFloat(N.paidAmount||"0")*100),xe=fe-Re,at=Number(T.totalAmount)-Number(T.paidAmount),mt=xe-at;return{newTotal:fe,newPaid:Re,balance:xe,delta:mt}},[T,N.totalAmount,N.paidAmount]),we=async()=>{if(T){W(!0);try{await ti.updateContract({id:T.id,contract:{id:T.id,projectId:T.projectId,clientName:N.clientName,clientEmail:N.clientEmail,projectName:N.projectName,totalAmount:BigInt(Math.round(parseFloat(N.totalAmount)*100)),paidAmount:BigInt(Math.round(parseFloat(N.paidAmount)*100)),status:N.status,countersignerName:N.countersignerName,countersignerEmail:N.countersignerEmail,createdAt:T.createdAt,updatedAt:BigInt(Date.now()),createdBy:"",selectedPaymentPlan:T.selectedPaymentPlan,paymentMethod:T.paymentMethod||"",paymentPlans:[],signatureImageData:"",signatureHash:"",legalAcknowledgment:!1,stripeConnectAccountId:"",countersignedAt:BigInt(0)},updateMask:["clientName","clientEmail","projectName","totalAmount","paidAmount","status","countersignerName","countersignerEmail"]}),O(null),await pe()}catch(fe){console.error("Failed to update contract:",fe),alert("Failed to save changes. Check console for details.")}finally{W(!1)}}},Ae=async()=>{if(K){R(!0);try{await ti.deleteContract({id:K.id}),j(null),await pe()}catch(fe){console.error("Failed to delete contract:",fe),alert("Failed to delete contract.")}finally{R(!1)}}},De=async()=>{F(!0);try{const fe=[...w],xe=(await Promise.allSettled(fe.map(at=>ti.deleteContract({id:at})))).filter(at=>at.status==="rejected");xe.length>0&&alert(`${fe.length-xe.length} deleted, ${xe.length} failed.`),E(new Set),z(!1),await pe()}catch(fe){console.error("Bulk delete error:",fe)}finally{F(!1)}},ut=async()=>{console.log(" Sign out initiated..."),await $t.signOut(),uE(),t({to:"/"})},rt=L.useMemo(()=>c.filter(fe=>w.has(fe.id)),[c,w]),Ft=fe=>{const Re=Number(fe.totalAmount)||0,xe=Number(fe.paidAmount)||0;return Re-xe},_t=({balance:fe})=>fe===0?l.jsx("span",{style:{fontSize:"11px",fontWeight:700,color:"#10b981",textTransform:"uppercase",letterSpacing:"0.08em"},children:" Paid in Full"}):fe>0?l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#f59e0b",textTransform:"uppercase",letterSpacing:"0.08em"},children:[nr(fe)," owed"]}):l.jsxs("span",{style:{fontSize:"11px",fontWeight:700,color:"#60a5fa",textTransform:"uppercase",letterSpacing:"0.08em"},children:[nr(Math.abs(fe))," credit"]});return v?l.jsxs("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"2rem",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",color:"white",fontSize:"42px",margin:0,letterSpacing:"0.05em"},children:"Sirsi Vault"}),l.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px",alignItems:"center"},children:[l.jsx("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em"},children:$t.currentUser?.displayName||$t.currentUser?.email}),l.jsx("span",{style:{color:"rgba(255,255,255,0.2)"},children:""}),l.jsx("span",{style:{color:"rgba(255,255,255,0.4)",fontSize:"13px",textTransform:"uppercase"},children:"Permanent Record Hub"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"16px"},children:[l.jsxs("button",{onClick:()=>x(!0),style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Security Settings"]}),l.jsx("button",{onClick:()=>{uE(),S(!1)},style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.4)",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},title:"Re-verify MFA",children:" Re-verify"}),l.jsxs("button",{onClick:ut,style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"10px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[l.jsx("span",{children:""})," Log out"]})]})]}),!d&&c.length>0&&l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1px",marginBottom:"2rem",borderRadius:"14px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.04)"},children:[l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Contracted"}),l.jsx("div",{style:{color:"white",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:nr(D.totalOwed)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:"rgba(255,255,255,0.02)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:"Total Paid"}),l.jsx("div",{style:{color:"#10b981",fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif"},children:nr(D.totalPaid)})]}),l.jsxs("div",{style:{padding:"20px 24px",background:D.balance>0?"rgba(245,158,11,0.06)":D.balance<0?"rgba(59,130,246,0.06)":"rgba(16,185,129,0.06)"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"6px"},children:D.balance>0?"Balance Owed":D.balance<0?"Credit Due":"Balance"}),l.jsx("div",{style:{fontSize:"28px",fontWeight:700,fontFamily:"'Cinzel', serif",color:D.balance>0?"#f59e0b":D.balance<0?"#60a5fa":"#10b981"},children:D.balance===0?"$0":D.balance>0?nr(D.balance):`${nr(Math.abs(D.balance))}`})]})]}),c.length>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",padding:"12px 16px",background:"rgba(255,255,255,0.02)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:ye,ref:fe=>{fe&&(fe.indeterminate=Se&&!ye)},onChange:ee,style:kt.checkbox}),l.jsx("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em"},children:ye?"Deselect All":Se?`${w.size} Selected`:"Select All"})]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"12px"},children:[c.length," document",c.length!==1?"s":""]})]}),d?l.jsxs("div",{style:{textAlign:"center",padding:"8rem",color:"rgba(255,255,255,0.2)"},children:[l.jsx("div",{className:"spinner-gold",style:{marginBottom:"1rem"}}),"Syncing with Sirsi Ledger..."]}):Object.keys(G).length===0?l.jsxs("div",{style:{padding:"8rem 2rem",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"24px",border:"1px dashed rgba(255,255,255,0.1)"},children:[l.jsx("div",{style:{fontSize:"64px",marginBottom:"2rem",opacity:.5},children:""}),l.jsx("h3",{style:{color:"white",fontSize:"24px",fontFamily:"'Cinzel', serif",marginBottom:"1rem"},children:"Vault Is Empty"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.4)",maxWidth:"400px",margin:"0 auto"},children:"No legal documents or payment agreements have been associated with this identity yet."})]}):l.jsx("div",{style:{display:"grid",gap:"3rem"},children:Object.entries(G).map(([fe,Re])=>l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"1.5rem",paddingLeft:"8px"},children:[l.jsx("div",{style:{width:"32px",height:"1px",background:"linear-gradient(to right, #C8A951, transparent)"}}),l.jsxs("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.2em",margin:0},children:[Re.name," Portfolio"]}),l.jsx("div",{style:{flex:1,height:"1px",background:"rgba(255,255,255,0.05)"}})]}),l.jsx("div",{style:{display:"grid",gap:"12px"},children:Re.docs.map(xe=>{const at=Fz(xe.status),mt=xe.id===Ce,Sn=w.has(xe.id),In=Ft(xe);return l.jsxs("div",{className:"neo-glass-panel",style:{padding:"20px 24px",display:"flex",alignItems:"center",gap:"16px",border:mt?"1px solid rgba(200,169,81,0.6)":Sn?"1px solid rgba(200,169,81,0.4)":"1px solid rgba(255,255,255,0.05)",background:mt?"rgba(200,169,81,0.06)":Sn?"rgba(200,169,81,0.04)":void 0,transition:"all 0.3s ease",position:"relative"},children:[mt&&l.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"3px",height:"60%",borderRadius:"0 4px 4px 0",background:"#C8A951"}}),l.jsx("input",{type:"checkbox",checked:Sn,onChange:()=>H(xe.id),style:kt.checkbox}),l.jsx("div",{style:{flex:1,minWidth:0},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[l.jsx("span",{style:{fontSize:"18px"},children:xe.status===4?"":mt?"":""}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"17px",letterSpacing:"0.02em"},children:[xe.projectName," Service Agreement"]}),mt&&l.jsx("span",{style:{fontSize:"9px",fontWeight:800,color:"#C8A951",background:"rgba(200,169,81,0.15)",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Active"})]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.3)",fontSize:"12px",marginTop:"3px",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Ref: MSA-",xe.id.substring(0,8).toUpperCase(),"  ",xe.clientName,"  ",new Date(Number(xe.createdAt)).toLocaleDateString()]})]})]})}),l.jsxs("div",{style:{textAlign:"right",minWidth:"140px",flexShrink:0},children:[l.jsx("div",{style:{color:"white",fontWeight:600,fontSize:"20px",fontFamily:"'Cinzel', serif"},children:nr(Number(xe.totalAmount))}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",alignItems:"center",marginTop:"4px"},children:[l.jsx("span",{style:{fontSize:"10px",color:at.color,fontWeight:800,letterSpacing:"0.12em",textTransform:"uppercase"},children:at.label}),l.jsx("span",{style:{color:"rgba(255,255,255,0.1)"},children:"|"}),l.jsx(_t,{balance:In})]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexShrink:0},children:[l.jsx("button",{onClick:()=>{const Bt=($t.currentUser?.email||"").split("@")[0];t({to:`/vault/${Bt}/contracts/${xe.projectId}/${xe.id}`,search:{mfa:"verified"}})},className:"gold-action-btn",style:{padding:"8px 20px",fontSize:"13px"},children:"Sign"}),l.jsx("button",{onClick:()=>{const Bt=($t.currentUser?.email||"").split("@")[0];t({to:`/vault/${Bt}/contracts/${xe.projectId}/${xe.id}`})},style:{background:"rgba(255,255,255,0.05)",color:"white",border:"1px solid rgba(255,255,255,0.1)",padding:"8px 22px",borderRadius:"8px",fontSize:"13px",fontWeight:600,cursor:"pointer"},children:"Review"}),l.jsx("button",{onClick:()=>ne(xe),title:"Edit",style:{...kt.btnBase,background:"rgba(59,130,246,0.15)",color:"#60a5fa",border:"1px solid rgba(59,130,246,0.2)"},children:""}),l.jsx("button",{onClick:()=>j(xe),title:"Delete",style:{...kt.btnBase,background:"rgba(239,68,68,0.1)",color:"#f87171",border:"1px solid rgba(239,68,68,0.15)"},children:""})]})]},xe.id)})})]},fe))}),Se&&l.jsxs("div",{style:{position:"fixed",bottom:"32px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,display:"flex",alignItems:"center",gap:"20px",background:"rgba(15,20,37,0.95)",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"14px",padding:"14px 28px",backdropFilter:"blur(16px)",boxShadow:"0 20px 60px rgba(0,0,0,0.6), 0 0 30px rgba(200,169,81,0.1)",animation:"slideUp 0.3s ease"},children:[l.jsxs("span",{style:{color:"#C8A951",fontSize:"14px",fontWeight:700,letterSpacing:"0.05em"},children:[w.size," selected"]}),l.jsx("div",{style:{width:"1px",height:"24px",background:"rgba(255,255,255,0.1)"}}),l.jsx("button",{onClick:ee,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.6)",padding:"8px 16px",borderRadius:"8px",fontSize:"11px",fontWeight:600,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:ye?"Deselect All":"Select All"}),l.jsx("button",{onClick:()=>z(!0),style:{background:"#ef4444",border:"none",color:"#fff",padding:"8px 20px",borderRadius:"8px",fontSize:"11px",fontWeight:700,cursor:"pointer",textTransform:"uppercase",letterSpacing:"0.05em",display:"flex",alignItems:"center",gap:"6px"},children:" Delete Selected"}),l.jsx("button",{onClick:()=>E(new Set),style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.3)",fontSize:"18px",cursor:"pointer",padding:"4px 8px",lineHeight:1},title:"Clear selection",children:""})]}),V&&l.jsx("div",{style:kt.overlay,onClick:()=>!U&&z(!1),children:l.jsxs("div",{style:{...kt.modal,width:"500px",textAlign:"center"},onClick:fe=>fe.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"BULK DELETE"}),l.jsxs("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"16px"},children:["You are about to permanently remove ",l.jsx("strong",{style:{color:"#f87171"},children:w.size})," document",w.size!==1?"s":"",":"]}),l.jsx("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px",maxHeight:"200px",overflowY:"auto",textAlign:"left"},children:rt.map(fe=>l.jsxs("div",{style:{padding:"6px 0",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[l.jsxs("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:[fe.projectName,"  ",fe.clientName]}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",marginLeft:"8px"},children:["MSA-",fe.id.substring(0,8).toUpperCase()]})]},fe.id))}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>z(!1),disabled:U,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:De,disabled:U,style:{background:U?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:U?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:U?"Deleting":`Delete ${w.size} Document${w.size!==1?"s":""}`})]})]})}),T&&l.jsx("div",{style:kt.overlay,onClick:()=>!B&&O(null),children:l.jsxs("div",{style:kt.modal,onClick:fe=>fe.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#C8A951",fontSize:"18px",margin:0,letterSpacing:"0.1em"},children:"EDIT CONTRACT"}),l.jsxs("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"11px",fontFamily:"monospace"},children:[T.id.substring(0,12),""]})]}),l.jsxs("div",{style:{display:"grid",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Client Name"}),l.jsx("input",{style:kt.input,value:N.clientName,onChange:fe=>P(Re=>({...Re,clientName:fe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Client Email"}),l.jsx("input",{style:kt.input,type:"email",value:N.clientEmail,onChange:fe=>P(Re=>({...Re,clientEmail:fe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Project Name"}),l.jsx("input",{style:kt.input,value:N.projectName,onChange:fe=>P(Re=>({...Re,projectName:fe.target.value}))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Contract Amount ($)"}),l.jsx("input",{style:kt.input,type:"number",step:"0.01",value:N.totalAmount,onChange:fe=>P(Re=>({...Re,totalAmount:fe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Paid Amount ($)"}),l.jsx("input",{style:kt.input,type:"number",step:"0.01",value:N.paidAmount,onChange:fe=>P(Re=>({...Re,paidAmount:fe.target.value}))})]})]}),ce&&l.jsxs("div",{style:{background:ce.balance===0?"rgba(16,185,129,0.08)":ce.balance>0?"rgba(245,158,11,0.08)":"rgba(59,130,246,0.08)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"14px 18px"},children:[l.jsx("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"10px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"8px"},children:"Ledger Impact"}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsxs("span",{style:{color:"rgba(255,255,255,0.5)",fontSize:"13px"},children:["New Balance:"," "]}),l.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:ce.balance===0?"#10b981":ce.balance>0?"#f59e0b":"#60a5fa"},children:ce.balance===0?"$0  Paid in Full":ce.balance>0?`${nr(ce.balance)} owed`:`${nr(Math.abs(ce.balance))} credit`})]}),ce.delta!==0&&l.jsxs("span",{style:{fontSize:"12px",fontWeight:700,color:ce.delta>0?"#f87171":"#10b981"},children:[ce.delta>0?"+":"",nr(Math.abs(ce.delta))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Status"}),l.jsx("select",{style:{...kt.input,appearance:"auto"},value:N.status,onChange:fe=>P(Re=>({...Re,status:parseInt(fe.target.value)})),children:Vz.map(fe=>l.jsx("option",{value:fe.value,children:fe.label},fe.value))})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Countersigner Name"}),l.jsx("input",{style:kt.input,value:N.countersignerName,onChange:fe=>P(Re=>({...Re,countersignerName:fe.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{style:kt.label,children:"Countersigner Email"}),l.jsx("input",{style:kt.input,type:"email",value:N.countersignerEmail,onChange:fe=>P(Re=>({...Re,countersignerEmail:fe.target.value}))})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"28px",paddingTop:"20px",borderTop:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("button",{onClick:()=>O(null),disabled:B,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 24px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:we,disabled:B,style:{background:B?"rgba(200,169,81,0.3)":"#C8A951",border:"none",color:"#0f172a",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:B?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:B?"Saving":"Save Changes"})]})]})}),K&&l.jsx("div",{style:kt.overlay,onClick:()=>!A&&j(null),children:l.jsxs("div",{style:{...kt.modal,width:"440px",textAlign:"center"},onClick:fe=>fe.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",color:"#f87171",fontSize:"18px",marginBottom:"12px",letterSpacing:"0.08em"},children:"DELETE CONTRACT"}),l.jsx("p",{style:{color:"rgba(255,255,255,0.5)",fontSize:"14px",lineHeight:1.6,marginBottom:"8px"},children:"You are about to permanently remove:"}),l.jsxs("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.15)",borderRadius:"10px",padding:"16px",marginBottom:"24px"},children:[l.jsxs("div",{style:{color:"white",fontWeight:600,fontSize:"15px"},children:[K.projectName,"  ",K.clientName]}),l.jsxs("div",{style:{color:"rgba(255,255,255,0.4)",fontSize:"12px",marginTop:"6px"},children:["Ref: MSA-",K.id.substring(0,8).toUpperCase(),"  ",nr(Number(K.totalAmount))]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsx("button",{onClick:()=>j(null),disabled:A,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:Ae,disabled:A,style:{background:A?"rgba(239,68,68,0.3)":"#ef4444",border:"none",color:"#fff",padding:"10px 28px",borderRadius:"8px",fontSize:"12px",fontWeight:700,cursor:A?"wait":"pointer",textTransform:"uppercase",letterSpacing:"0.05em"},children:A?"Deleting":"Delete Permanently"})]})]})}),m&&l.jsx("div",{className:"modal-overlay",children:l.jsx("div",{className:"modal-content",style:{maxWidth:"500px"},children:l.jsx(lj,{onComplete:()=>x(!1),onCancel:()=>x(!1)})})}),l.jsx("style",{children:`
                @keyframes slideUp {
                    from { transform: translateX(-50%) translateY(20px); opacity: 0; }
                    to   { transform: translateX(-50%) translateY(0);    opacity: 1; }
                }
            `})]}):l.jsx(Zm,{purpose:"vault",onVerified:()=>S(!0),onCancel:()=>t({to:"/"})})}function Nb(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function vo(t,e){return typeof t=="function"?t(e):t}function Ci(t,e){return n=>{e.setState(i=>({...i,[t]:vo(n,i[t])}))}}function tg(t){return t instanceof Function}function Bz(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function zz(t,e){const n=[],i=r=>{r.forEach(a=>{n.push(a);const c=e(a);c!=null&&c.length&&i(c)})};return i(t),n}function Me(t,e,n){let i=[],r;return a=>{let c;n.key&&n.debug&&(c=Date.now());const h=t(a);if(!(h.length!==i.length||h.some((m,x)=>i[x]!==m)))return r;i=h;let p;if(n.key&&n.debug&&(p=Date.now()),r=e(...h),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-c)*100)/100,x=Math.round((Date.now()-p)*100)/100,v=x/16,S=(w,E)=>{for(w=String(w);w.length<E;)w=" "+w;return w};console.info(`%c ${S(x,5)} /${S(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n?.key)}return r}}function Le(t,e,n,i){return{debug:()=>{var r;return(r=t?.debugAll)!=null?r:t[e]},key:!1,onChange:i}}function Uz(t,e,n,i){const r=()=>{var c;return(c=a.getValue())!=null?c:t.options.renderFallbackValue},a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:r,getContext:Me(()=>[t,n,e,a],(c,h,d,p)=>({table:c,column:h,row:d,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Le(t.options,"debugCells"))};return t._features.forEach(c=>{c.createCell==null||c.createCell(a,n,e,t)},{}),a}function Hz(t,e,n,i){var r,a;const h={...t._getDefaultColumnDef(),...e},d=h.accessorKey;let p=(r=(a=h.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?r:typeof h.header=="string"?h.header:void 0,m;if(h.accessorFn?m=h.accessorFn:d&&(d.includes(".")?m=v=>{let S=v;for(const E of d.split(".")){var w;S=(w=S)==null?void 0:w[E]}return S}:m=v=>v[h.accessorKey]),!p)throw new Error;let x={id:`${String(p)}`,accessorFn:m,parent:i,depth:n,columnDef:h,columns:[],getFlatColumns:Me(()=>[!0],()=>{var v;return[x,...(v=x.columns)==null?void 0:v.flatMap(S=>S.getFlatColumns())]},Le(t.options,"debugColumns")),getLeafColumns:Me(()=>[t._getOrderColumnsFn()],v=>{var S;if((S=x.columns)!=null&&S.length){let w=x.columns.flatMap(E=>E.getLeafColumns());return v(w)}return[x]},Le(t.options,"debugColumns"))};for(const v of t._features)v.createColumn==null||v.createColumn(x,t);return x}const $n="debugHeaders";function xE(t,e,n){var i;let a={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],h=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(h),c.push(d)};return h(a),c},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(c=>{c.createHeader==null||c.createHeader(a,t)}),a}const $z={createTable:t=>{t.getHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>{var a,c;const h=(a=i?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?a:[],d=(c=r?.map(x=>n.find(v=>v.id===x)).filter(Boolean))!=null?c:[],p=n.filter(x=>!(i!=null&&i.includes(x.id))&&!(r!=null&&r.includes(x.id)));return yp(e,[...h,...p,...d],t)},Le(t.options,$n)),t.getCenterHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,r)=>(n=n.filter(a=>!(i!=null&&i.includes(a.id))&&!(r!=null&&r.includes(a.id))),yp(e,n,t,"center")),Le(t.options,$n)),t.getLeftHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var r;const a=(r=i?.map(c=>n.find(h=>h.id===c)).filter(Boolean))!=null?r:[];return yp(e,a,t,"left")},Le(t.options,$n)),t.getRightHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var r;const a=(r=i?.map(c=>n.find(h=>h.id===c)).filter(Boolean))!=null?r:[];return yp(e,a,t,"right")},Le(t.options,$n)),t.getFooterGroups=Me(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getLeftFooterGroups=Me(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getCenterFooterGroups=Me(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getRightFooterGroups=Me(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Le(t.options,$n)),t.getFlatHeaders=Me(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getLeftFlatHeaders=Me(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getCenterFlatHeaders=Me(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getRightFlatHeaders=Me(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Le(t.options,$n)),t.getCenterLeafHeaders=Me(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getLeftLeafHeaders=Me(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getRightLeafHeaders=Me(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Le(t.options,$n)),t.getLeafHeaders=Me(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var r,a,c,h,d,p;return[...(r=(a=e[0])==null?void 0:a.headers)!=null?r:[],...(c=(h=n[0])==null?void 0:h.headers)!=null?c:[],...(d=(p=i[0])==null?void 0:p.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},Le(t.options,$n))}};function yp(t,e,n,i){var r,a;let c=0;const h=function(v,S){S===void 0&&(S=1),c=Math.max(c,S),v.filter(w=>w.getIsVisible()).forEach(w=>{var E;(E=w.columns)!=null&&E.length&&h(w.columns,S+1)},0)};h(t);let d=[];const p=(v,S)=>{const w={depth:S,id:[i,`${S}`].filter(Boolean).join("_"),headers:[]},E=[];v.forEach(T=>{const O=[...E].reverse()[0],N=T.column.depth===w.depth;let P,B=!1;if(N&&T.column.parent?P=T.column.parent:(P=T.column,B=!0),O&&O?.column===P)O.subHeaders.push(T);else{const W=xE(n,P,{id:[i,S,P.id,T?.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${E.filter(K=>K.column===P).length}`:void 0,depth:S,index:E.length});W.subHeaders.push(T),E.push(W)}w.headers.push(T),T.headerGroup=w}),d.push(w),S>0&&p(E,S-1)},m=e.map((v,S)=>xE(n,v,{depth:c,index:S}));p(m,c-1),d.reverse();const x=v=>v.filter(w=>w.column.getIsVisible()).map(w=>{let E=0,T=0,O=[0];w.subHeaders&&w.subHeaders.length?(O=[],x(w.subHeaders).forEach(P=>{let{colSpan:B,rowSpan:W}=P;E+=B,O.push(W)})):E=1;const N=Math.min(...O);return T=T+N,w.colSpan=E,w.rowSpan=T,{colSpan:E,rowSpan:T}});return x((r=(a=d[0])==null?void 0:a.headers)!=null?r:[]),d}const kb=(t,e,n,i,r,a,c)=>{let h={id:e,index:i,original:n,depth:r,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(h._valuesCache.hasOwnProperty(d))return h._valuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return h._valuesCache[d]=p.accessorFn(h.original,i),h._valuesCache[d]},getUniqueValues:d=>{if(h._uniqueValuesCache.hasOwnProperty(d))return h._uniqueValuesCache[d];const p=t.getColumn(d);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(h._uniqueValuesCache[d]=p.columnDef.getUniqueValues(h.original,i),h._uniqueValuesCache[d]):(h._uniqueValuesCache[d]=[h.getValue(d)],h._uniqueValuesCache[d])},renderValue:d=>{var p;return(p=h.getValue(d))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>zz(h.subRows,d=>d.subRows),getParentRow:()=>h.parentId?t.getRow(h.parentId,!0):void 0,getParentRows:()=>{let d=[],p=h;for(;;){const m=p.getParentRow();if(!m)break;d.push(m),p=m}return d.reverse()},getAllCells:Me(()=>[t.getAllLeafColumns()],d=>d.map(p=>Uz(t,h,p,p.id)),Le(t.options,"debugRows")),_getAllCellsByColumnId:Me(()=>[h.getAllCells()],d=>d.reduce((p,m)=>(p[m.column.id]=m,p),{}),Le(t.options,"debugRows"))};for(let d=0;d<t._features.length;d++){const p=t._features[d];p==null||p.createRow==null||p.createRow(h,t)}return h},Gz={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},uj=(t,e,n)=>{var i,r;const a=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};uj.autoRemove=t=>or(t);const dj=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};dj.autoRemove=t=>or(t);const hj=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};hj.autoRemove=t=>or(t);const fj=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};fj.autoRemove=t=>or(t);const pj=(t,e,n)=>!n.some(i=>{var r;return!((r=t.getValue(e))!=null&&r.includes(i))});pj.autoRemove=t=>or(t)||!(t!=null&&t.length);const mj=(t,e,n)=>n.some(i=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(i)});mj.autoRemove=t=>or(t)||!(t!=null&&t.length);const gj=(t,e,n)=>t.getValue(e)===n;gj.autoRemove=t=>or(t);const yj=(t,e,n)=>t.getValue(e)==n;yj.autoRemove=t=>or(t);const Pb=(t,e,n)=>{let[i,r]=n;const a=t.getValue(e);return a>=i&&a<=r};Pb.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,a=e===null||Number.isNaN(i)?-1/0:i,c=n===null||Number.isNaN(r)?1/0:r;if(a>c){const h=a;a=c,c=h}return[a,c]};Pb.autoRemove=t=>or(t)||or(t[0])&&or(t[1]);const is={includesString:uj,includesStringSensitive:dj,equalsString:hj,arrIncludes:fj,arrIncludesAll:pj,arrIncludesSome:mj,equals:gj,weakEquals:yj,inNumberRange:Pb};function or(t){return t==null||t===""}const qz={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ci("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?is.includesString:typeof i=="number"?is.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?is.equals:Array.isArray(i)?is.arrIncludes:is.weakEquals},t.getFilterFn=()=>{var n,i;return tg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:is[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const r=t.getFilterFn(),a=i?.find(m=>m.id===t.id),c=vo(n,a?a.value:void 0);if(vE(r,c,t)){var h;return(h=i?.filter(m=>m.id!==t.id))!=null?h:[]}const d={id:t.id,value:c};if(a){var p;return(p=i?.map(m=>m.id===t.id?d:m))!=null?p:[]}return i!=null&&i.length?[...i,d]:[d]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=r=>{var a;return(a=vo(e,r))==null?void 0:a.filter(c=>{const h=n.find(d=>d.id===c.id);if(h){const d=h.getFilterFn();if(vE(d,c.value,h))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function vE(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Wz=(t,e,n)=>n.reduce((i,r)=>{const a=r.getValue(t);return i+(typeof a=="number"?a:0)},0),Kz=(t,e,n)=>{let i;return n.forEach(r=>{const a=r.getValue(t);a!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}),i},Yz=(t,e,n)=>{let i;return n.forEach(r=>{const a=r.getValue(t);a!=null&&(i<a||i===void 0&&a>=a)&&(i=a)}),i},Qz=(t,e,n)=>{let i,r;return n.forEach(a=>{const c=a.getValue(t);c!=null&&(i===void 0?c>=c&&(i=r=c):(i>c&&(i=c),r<c&&(r=c)))}),[i,r]},Jz=(t,e)=>{let n=0,i=0;if(e.forEach(r=>{let a=r.getValue(t);a!=null&&(a=+a)>=a&&(++n,i+=a)}),n)return i/n},Xz=(t,e)=>{if(!e.length)return;const n=e.map(a=>a.getValue(t));if(!Bz(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),r=n.sort((a,c)=>a-c);return n.length%2!==0?r[i]:(r[i-1]+r[i])/2},Zz=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),e9=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,t9=(t,e)=>e.length,$0={sum:Wz,min:Kz,max:Yz,extent:Qz,mean:Jz,median:Xz,unique:Zz,uniqueCount:e9,count:t9},n9={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ci("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return $0.sum;if(Object.prototype.toString.call(i)==="[object Date]")return $0.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return tg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:$0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function i9(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(a=>!e.includes(a.id));return n==="remove"?i:[...e.map(a=>t.find(c=>c.id===a)).filter(Boolean),...i]}const r9={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ci("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Me(n=>[Wd(e,n)],n=>n.findIndex(i=>i.id===t.id),Le(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=Wd(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const r=Wd(e,n);return((i=r[r.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Me(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>r=>{let a=[];if(!(e!=null&&e.length))a=r;else{const c=[...e],h=[...r];for(;h.length&&c.length;){const d=c.shift(),p=h.findIndex(m=>m.id===d);p>-1&&a.push(h.splice(p,1)[0])}a=[...a,...h]}return i9(a,n,i)},Le(t.options,"debugTable"))}},G0=()=>({left:[],right:[]}),s9={getInitialState:t=>({columnPinning:G0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ci("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var a,c;if(n==="right"){var h,d;return{left:((h=r?.left)!=null?h:[]).filter(x=>!(i!=null&&i.includes(x))),right:[...((d=r?.right)!=null?d:[]).filter(x=>!(i!=null&&i.includes(x))),...i]}}if(n==="left"){var p,m;return{left:[...((p=r?.left)!=null?p:[]).filter(x=>!(i!=null&&i.includes(x))),...i],right:((m=r?.right)!=null?m:[]).filter(x=>!(i!=null&&i.includes(x)))}}return{left:((a=r?.left)!=null?a:[]).filter(x=>!(i!=null&&i.includes(x))),right:((c=r?.right)!=null?c:[]).filter(x=>!(i!=null&&i.includes(x)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var r,a,c;return((r=i.columnDef.enablePinning)!=null?r:!0)&&((a=(c=e.options.enableColumnPinning)!=null?c:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(h=>h.id),{left:i,right:r}=e.getState().columnPinning,a=n.some(h=>i?.includes(h)),c=n.some(h=>r?.includes(h));return a?"left":c?"right":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();return r?(n=(i=e.getState().columnPinning)==null||(i=i[r])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,r)=>{const a=[...i??[],...r??[]];return n.filter(c=>!a.includes(c.column.id))},Le(e.options,"debugRows")),t.getLeftVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Le(e.options,"debugRows")),t.getRightVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(a=>n.find(c=>c.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Le(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?G0():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:G0())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var r,a;return!!((r=i.left)!=null&&r.length||(a=i.right)!=null&&a.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getRightLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(r=>r.id===i)).filter(Boolean),Le(t.options,"debugColumns")),t.getCenterLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const r=[...n??[],...i??[]];return e.filter(a=>!r.includes(a.id))},Le(t.options,"debugColumns"))}};function o9(t){return t||(typeof document<"u"?document:null)}const xp={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},q0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),a9={getDefaultColumnDef:()=>xp,getInitialState:t=>({columnSizing:{},columnSizingInfo:q0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ci("columnSizing",t),onColumnSizingInfoChange:Ci("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,r;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:xp.minSize,(i=a??t.columnDef.size)!=null?i:xp.size),(r=t.columnDef.maxSize)!=null?r:xp.maxSize)},t.getStart=Me(n=>[n,Wd(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((r,a)=>r+a.getSize(),0),Le(e.options,"debugColumns")),t.getAfter=Me(n=>[n,Wd(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((r,a)=>r+a.getSize(),0),Le(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...r}=n;return r})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=r=>{if(r.subHeaders.length)r.subHeaders.forEach(i);else{var a;n+=(a=r.column.getSize())!=null?a:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),r=i?.getCanResize();return a=>{if(!i||!r||(a.persist==null||a.persist(),W0(a)&&a.touches&&a.touches.length>1))return;const c=t.getSize(),h=t?t.getLeafHeaders().map(O=>[O.column.id,O.column.getSize()]):[[i.id,i.getSize()]],d=W0(a)?Math.round(a.touches[0].clientX):a.clientX,p={},m=(O,N)=>{typeof N=="number"&&(e.setColumnSizingInfo(P=>{var B,W;const K=e.options.columnResizeDirection==="rtl"?-1:1,j=(N-((B=P?.startOffset)!=null?B:0))*K,A=Math.max(j/((W=P?.startSize)!=null?W:0),-.999999);return P.columnSizingStart.forEach(R=>{let[V,z]=R;p[V]=Math.round(Math.max(z+z*A,0)*100)/100}),{...P,deltaOffset:j,deltaPercentage:A}}),(e.options.columnResizeMode==="onChange"||O==="end")&&e.setColumnSizing(P=>({...P,...p})))},x=O=>m("move",O),v=O=>{m("end",O),e.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S=o9(n),w={moveHandler:O=>x(O.clientX),upHandler:O=>{S?.removeEventListener("mousemove",w.moveHandler),S?.removeEventListener("mouseup",w.upHandler),v(O.clientX)}},E={moveHandler:O=>(O.cancelable&&(O.preventDefault(),O.stopPropagation()),x(O.touches[0].clientX),!1),upHandler:O=>{var N;S?.removeEventListener("touchmove",E.moveHandler),S?.removeEventListener("touchend",E.upHandler),O.cancelable&&(O.preventDefault(),O.stopPropagation()),v((N=O.touches[0])==null?void 0:N.clientX)}},T=l9()?{passive:!1}:!1;W0(a)?(S?.addEventListener("touchmove",E.moveHandler,T),S?.addEventListener("touchend",E.upHandler,T)):(S?.addEventListener("mousemove",w.moveHandler,T),S?.addEventListener("mouseup",w.upHandler,T)),e.setColumnSizingInfo(O=>({...O,startOffset:d,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:h,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?q0():(n=t.initialState.columnSizingInfo)!=null?n:q0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,r)=>i+r.getSize(),0))!=null?e:0}}};let vp=null;function l9(){if(typeof vp=="boolean")return vp;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return vp=t,vp}function W0(t){return t.type==="touchstart"}const c9={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ci("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const r=t.columns;return(n=r.length?r.some(a=>a.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Me(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Le(e.options,"debugRows")),t.getVisibleCells=Me(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,r)=>[...n,...i,...r],Le(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>Me(()=>[i(),i().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Le(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,a)=>({...r,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function Wd(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const u9={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},d9={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ci("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,r,a;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>is.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return tg(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:is[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},h9={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ci("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var r,a;t.setExpanded(i?{}:(r=(a=t.initialState)==null?void 0:a.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const c=a.split(".");i=Math.max(i,c.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var r;const a=i===!0?!0:!!(i!=null&&i[t.id]);let c={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(h=>{c[h]=!0}):c=i,n=(r=n)!=null?r:!a,!a&&n)return{...c,[t.id]:!0};if(a&&!n){const{[t.id]:h,...d}=c;return d}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},nv=0,iv=10,K0=()=>({pageIndex:nv,pageSize:iv}),f9={getInitialState:t=>({...t,pagination:{...K0(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ci("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,r;if(!e){t._queue(()=>{e=!0});return}if((i=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const r=a=>vo(i,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=i=>{var r;t.setPagination(i?K0():(r=t.initialState.pagination)!=null?r:K0())},t.setPageIndex=i=>{t.setPagination(r=>{let a=vo(i,r.pageIndex);const c=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,c)),{...r,pageIndex:a}})},t.resetPageIndex=i=>{var r,a;t.setPageIndex(i?nv:(r=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?r:nv)},t.resetPageSize=i=>{var r,a;t.setPageSize(i?iv:(r=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?r:iv)},t.setPageSize=i=>{t.setPagination(r=>{const a=Math.max(1,vo(i,r.pageSize)),c=r.pageSize*r.pageIndex,h=Math.floor(c/a);return{...r,pageIndex:h,pageSize:a}})},t.setPageCount=i=>t.setPagination(r=>{var a;let c=vo(i,(a=t.options.pageCount)!=null?a:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...r,pageCount:c}}),t.getPageOptions=Me(()=>[t.getPageCount()],i=>{let r=[];return i&&i>0&&(r=[...new Array(i)].fill(null).map((a,c)=>c)),r},Le(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:i<r-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},Y0=()=>({top:[],bottom:[]}),p9={getInitialState:t=>({rowPinning:Y0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ci("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,r)=>{const a=i?t.getLeafRows().map(d=>{let{id:p}=d;return p}):[],c=r?t.getParentRows().map(d=>{let{id:p}=d;return p}):[],h=new Set([...c,t.id,...a]);e.setRowPinning(d=>{var p,m;if(n==="bottom"){var x,v;return{top:((x=d?.top)!=null?x:[]).filter(E=>!(h!=null&&h.has(E))),bottom:[...((v=d?.bottom)!=null?v:[]).filter(E=>!(h!=null&&h.has(E))),...Array.from(h)]}}if(n==="top"){var S,w;return{top:[...((S=d?.top)!=null?S:[]).filter(E=>!(h!=null&&h.has(E))),...Array.from(h)],bottom:((w=d?.bottom)!=null?w:[]).filter(E=>!(h!=null&&h.has(E)))}}return{top:((p=d?.top)!=null?p:[]).filter(E=>!(h!=null&&h.has(E))),bottom:((m=d?.bottom)!=null?m:[]).filter(E=>!(h!=null&&h.has(E)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:r}=e.options;return typeof i=="function"?i(t):(n=i??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:r}=e.getState().rowPinning,a=n.some(h=>i?.includes(h)),c=n.some(h=>r?.includes(h));return a?"top":c?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const r=t.getIsPinned();if(!r)return-1;const a=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(c=>{let{id:h}=c;return h});return(i=a?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?Y0():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:Y0())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var r,a;return!!((r=i.top)!=null&&r.length||(a=i.bottom)!=null&&a.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(c=>{const h=t.getRow(c,!0);return h.getIsAllParentsExpanded()?h:null}):(n??[]).map(c=>e.find(h=>h.id===c))).filter(Boolean).map(c=>({...c,position:i}))},t.getTopRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Le(t.options,"debugRows")),t.getBottomRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Le(t.options,"debugRows")),t.getCenterRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const r=new Set([...n??[],...i??[]]);return e.filter(a=>!r.has(a.id))},Le(t.options,"debugRows"))}},m9={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ci("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(a=>{a.getCanSelect()&&(i[a.id]=!0)}):r.forEach(a=>{delete i[a.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(a=>{rv(r,a.id,i,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Q0(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getFilteredSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Q0(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getGroupedSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Q0(t,n):{rows:[],flatRows:[],rowsById:{}},Le(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(r=>!n[r.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const r=t.getIsSelected();e.setRowSelection(a=>{var c;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return a;const h={...a};return rv(h,t.id,n,(c=i?.selectChildren)!=null?c:!0,e),h})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Db(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return sv(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return sv(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var r;n&&t.toggleSelected((r=i.target)==null?void 0:r.checked)}}}},rv=(t,e,n,i,r)=>{var a;const c=r.getRow(e,!0);n?(c.getCanMultiSelect()||Object.keys(t).forEach(h=>delete t[h]),c.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(a=c.subRows)!=null&&a.length&&c.getCanSelectSubRows()&&c.subRows.forEach(h=>rv(t,h.id,n,i,r))};function Q0(t,e){const n=t.getState().rowSelection,i=[],r={},a=function(c,h){return c.map(d=>{var p;const m=Db(d,n);if(m&&(i.push(d),r[d.id]=d),(p=d.subRows)!=null&&p.length&&(d={...d,subRows:a(d.subRows)}),m)return d}).filter(Boolean)};return{rows:a(e.rows),flatRows:i,rowsById:r}}function Db(t,e){var n;return(n=e[t.id])!=null?n:!1}function sv(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let r=!0,a=!1;return t.subRows.forEach(c=>{if(!(a&&!r)&&(c.getCanSelect()&&(Db(c,e)?a=!0:r=!1),c.subRows&&c.subRows.length)){const h=sv(c,e);h==="all"?a=!0:(h==="some"&&(a=!0),r=!1)}}),r?"all":a?"some":!1}const ov=/([0-9]+)/gm,g9=(t,e,n)=>xj(ko(t.getValue(n)).toLowerCase(),ko(e.getValue(n)).toLowerCase()),y9=(t,e,n)=>xj(ko(t.getValue(n)),ko(e.getValue(n))),x9=(t,e,n)=>Ob(ko(t.getValue(n)).toLowerCase(),ko(e.getValue(n)).toLowerCase()),v9=(t,e,n)=>Ob(ko(t.getValue(n)),ko(e.getValue(n))),b9=(t,e,n)=>{const i=t.getValue(n),r=e.getValue(n);return i>r?1:i<r?-1:0},S9=(t,e,n)=>Ob(t.getValue(n),e.getValue(n));function Ob(t,e){return t===e?0:t>e?1:-1}function ko(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function xj(t,e){const n=t.split(ov).filter(Boolean),i=e.split(ov).filter(Boolean);for(;n.length&&i.length;){const r=n.shift(),a=i.shift(),c=parseInt(r,10),h=parseInt(a,10),d=[c,h].sort();if(isNaN(d[0])){if(r>a)return 1;if(a>r)return-1;continue}if(isNaN(d[1]))return isNaN(c)?-1:1;if(c>h)return 1;if(h>c)return-1}return n.length-i.length}const Sd={alphanumeric:g9,alphanumericCaseSensitive:y9,text:x9,textCaseSensitive:v9,datetime:b9,basic:S9},w9={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ci("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const r of n){const a=r?.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return Sd.datetime;if(typeof a=="string"&&(i=!0,a.split(ov).length>1))return Sd.alphanumeric}return i?Sd.text:Sd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return tg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:Sd[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const r=t.getNextSortingOrder(),a=typeof n<"u"&&n!==null;e.setSorting(c=>{const h=c?.find(S=>S.id===t.id),d=c?.findIndex(S=>S.id===t.id);let p=[],m,x=a?n:r==="desc";if(c!=null&&c.length&&t.getCanMultiSort()&&i?h?m="toggle":m="add":c!=null&&c.length&&d!==c.length-1?m="replace":h?m="toggle":m="replace",m==="toggle"&&(a||r||(m="remove")),m==="add"){var v;p=[...c,{id:t.id,desc:x}],p.splice(0,p.length-((v=e.options.maxMultiSortColCount)!=null?v:Number.MAX_SAFE_INTEGER))}else m==="toggle"?p=c.map(S=>S.id===t.id?{...S,desc:x}:S):m==="remove"?p=c.filter(S=>S.id!==t.id):p=[{id:t.id,desc:x}];return p})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,r;const a=t.getFirstSortDir(),c=t.getIsSorted();return c?c!==a&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:c==="desc"?"asc":"desc":a},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},_9=[$z,c9,r9,s9,Gz,qz,u9,d9,w9,n9,h9,f9,p9,m9,a9];function T9(t){var e,n;const i=[..._9,...(e=t._features)!=null?e:[]];let r={_features:i};const a=r._features.reduce((v,S)=>Object.assign(v,S.getDefaultOptions==null?void 0:S.getDefaultOptions(r)),{}),c=v=>r.options.mergeOptions?r.options.mergeOptions(a,v):{...a,...v};let d={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(v=>{var S;d=(S=v.getInitialState==null?void 0:v.getInitialState(d))!=null?S:d});const p=[];let m=!1;const x={_features:i,options:{...a,...t},initialState:d,_queue:v=>{p.push(v),m||(m=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();m=!1}).catch(S=>setTimeout(()=>{throw S})))},reset:()=>{r.setState(r.initialState)},setOptions:v=>{const S=vo(v,r.options);r.options=c(S)},getState:()=>r.options.state,setState:v=>{r.options.onStateChange==null||r.options.onStateChange(v)},_getRowId:(v,S,w)=>{var E;return(E=r.options.getRowId==null?void 0:r.options.getRowId(v,S,w))!=null?E:`${w?[w.id,S].join("."):S}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(v,S)=>{let w=(S?r.getPrePaginationRowModel():r.getRowModel()).rowsById[v];if(!w&&(w=r.getCoreRowModel().rowsById[v],!w))throw new Error;return w},_getDefaultColumnDef:Me(()=>[r.options.defaultColumn],v=>{var S;return v=(S=v)!=null?S:{},{header:w=>{const E=w.header.column.columnDef;return E.accessorKey?E.accessorKey:E.accessorFn?E.id:null},cell:w=>{var E,T;return(E=(T=w.renderValue())==null||T.toString==null?void 0:T.toString())!=null?E:null},...r._features.reduce((w,E)=>Object.assign(w,E.getDefaultColumnDef==null?void 0:E.getDefaultColumnDef()),{}),...v}},Le(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Me(()=>[r._getColumnDefs()],v=>{const S=function(w,E,T){return T===void 0&&(T=0),w.map(O=>{const N=Hz(r,O,T,E),P=O;return N.columns=P.columns?S(P.columns,N,T+1):[],N})};return S(v)},Le(t,"debugColumns")),getAllFlatColumns:Me(()=>[r.getAllColumns()],v=>v.flatMap(S=>S.getFlatColumns()),Le(t,"debugColumns")),_getAllFlatColumnsById:Me(()=>[r.getAllFlatColumns()],v=>v.reduce((S,w)=>(S[w.id]=w,S),{}),Le(t,"debugColumns")),getAllLeafColumns:Me(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(v,S)=>{let w=v.flatMap(E=>E.getLeafColumns());return S(w)},Le(t,"debugColumns")),getColumn:v=>r._getAllFlatColumnsById()[v]};Object.assign(r,x);for(let v=0;v<r._features.length;v++){const S=r._features[v];S==null||S.createTable==null||S.createTable(r)}return r}function Mb(){return t=>Me(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(r,a,c){a===void 0&&(a=0);const h=[];for(let p=0;p<r.length;p++){const m=kb(t,t._getRowId(r[p],p,c),r[p],p,a,void 0,c?.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,h.push(m),t.options.getSubRows){var d;m.originalSubRows=t.options.getSubRows(r[p],p),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=i(m.originalSubRows,a+1,m))}}return h};return n.rows=i(e),n},Le(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function E9(t,e,n){return n.options.filterFromLeafRows?C9(t,e,n):A9(t,e,n)}function C9(t,e,n){var i;const r=[],a={},c=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const m=[];for(let v=0;v<d.length;v++){var x;let S=d[v];const w=kb(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);if(w.columnFilters=S.columnFilters,(x=S.subRows)!=null&&x.length&&p<c){if(w.subRows=h(S.subRows,p+1),S=w,e(S)&&!w.subRows.length){m.push(S),a[S.id]=S,r.push(S);continue}if(e(S)||w.subRows.length){m.push(S),a[S.id]=S,r.push(S);continue}}else S=w,e(S)&&(m.push(S),a[S.id]=S,r.push(S))}return m};return{rows:h(t),flatRows:r,rowsById:a}}function A9(t,e,n){var i;const r=[],a={},c=(i=n.options.maxLeafRowFilterDepth)!=null?i:100,h=function(d,p){p===void 0&&(p=0);const m=[];for(let v=0;v<d.length;v++){let S=d[v];if(e(S)){var x;if((x=S.subRows)!=null&&x.length&&p<c){const E=kb(n,S.id,S.original,S.index,S.depth,void 0,S.parentId);E.subRows=h(S.subRows,p+1),S=E}m.push(S),r.push(S),a[S.id]=S}}return m};return{rows:h(t),flatRows:r,rowsById:a}}function I9(){return t=>Me(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,i)=>{if(!e.rows.length||!(n!=null&&n.length)&&!i){for(let v=0;v<e.flatRows.length;v++)e.flatRows[v].columnFilters={},e.flatRows[v].columnFiltersMeta={};return e}const r=[],a=[];(n??[]).forEach(v=>{var S;const w=t.getColumn(v.id);if(!w)return;const E=w.getFilterFn();E&&r.push({id:v.id,filterFn:E,resolvedValue:(S=E.resolveFilterValue==null?void 0:E.resolveFilterValue(v.value))!=null?S:v.value})});const c=(n??[]).map(v=>v.id),h=t.getGlobalFilterFn(),d=t.getAllLeafColumns().filter(v=>v.getCanGlobalFilter());i&&h&&d.length&&(c.push("__global__"),d.forEach(v=>{var S;a.push({id:v.id,filterFn:h,resolvedValue:(S=h.resolveFilterValue==null?void 0:h.resolveFilterValue(i))!=null?S:i})}));let p,m;for(let v=0;v<e.flatRows.length;v++){const S=e.flatRows[v];if(S.columnFilters={},r.length)for(let w=0;w<r.length;w++){p=r[w];const E=p.id;S.columnFilters[E]=p.filterFn(S,E,p.resolvedValue,T=>{S.columnFiltersMeta[E]=T})}if(a.length){for(let w=0;w<a.length;w++){m=a[w];const E=m.id;if(m.filterFn(S,E,m.resolvedValue,T=>{S.columnFiltersMeta[E]=T})){S.columnFilters.__global__=!0;break}}S.columnFilters.__global__!==!0&&(S.columnFilters.__global__=!1)}}const x=v=>{for(let S=0;S<c.length;S++)if(v.columnFilters[c[S]]===!1)return!1;return!0};return E9(e.rows,x,t)},Le(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Qc(t,e){return t?j9(t)?L.createElement(t,e):t:null}function j9(t){return R9(t)||typeof t=="function"||N9(t)}function R9(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function N9(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Lb(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=L.useState(()=>({current:T9(e)})),[i,r]=L.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...t,state:{...i,...t.state},onStateChange:c=>{r(c),t.onStateChange==null||t.onStateChange(c)}})),n.current}const ke={overlay:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.75)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},modal:{background:"#0A0F1D",border:"1px solid rgba(200,169,81,0.3)",borderRadius:"16px",padding:"40px",width:"640px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0,0,0,0.7)"},label:{display:"block",fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"6px",fontWeight:600},input:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"rgba(255,255,255,0.05)",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},select:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.15)",background:"#0A0F1D",color:"white",fontFamily:"Inter, sans-serif",fontSize:"14px",outline:"none",cursor:"pointer"},btnPrimary:{padding:"10px 24px",background:"rgba(200,169,81,0.15)",border:"1px solid #C8A951",color:"#C8A951",borderRadius:"8px",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"12px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},btnGhost:{padding:"10px 24px",background:"transparent",border:"1px solid rgba(255,255,255,0.15)",color:"rgba(255,255,255,0.6)",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},btnDanger:{padding:"10px 24px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.4)",color:"#EF4444",borderRadius:"8px",fontFamily:"Inter, sans-serif",fontWeight:600,fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"24px"}},k9=[{value:ir.DRAFT,label:"Draft"},{value:ir.ACTIVE,label:"Active"},{value:ir.SIGNED,label:"Signed"},{value:ir.PAID,label:"Paid"},{value:ir.ARCHIVED,label:"Archived"},{value:ir.WAITING_FOR_COUNTERSIGN,label:"Waiting for Countersign"}],$l=Nb(),bp={projectId:"finalwishes",projectName:"",clientName:"",clientEmail:"",countersignerName:"Cylton Collymore",countersignerEmail:"cylton@sirsi.ai",status:ir.DRAFT};function P9(){const{data:t,isLoading:e,error:n,refetch:i}=VB(),[r,a]=L.useState(""),[c,h]=L.useState(!1),[d,p]=L.useState(null),[m,x]=L.useState(null),[v,S]=L.useState(null),[w,E]=L.useState({...bp}),[T,O]=L.useState(!1),[N,P]=L.useState(""),B=L.useCallback(D=>Y.getEnumType(ir).findNumber(D)?.name.replace("CONTRACT_STATUS_","")||"UNKNOWN",[]),W=L.useCallback((D,G)=>{E(oe=>({...oe,[D]:G}))},[]),K=L.useCallback(D=>{const G=Sr[D];E(oe=>({...oe,projectId:D,projectName:G?.projectDisplayName||oe.projectName}))},[]),j=L.useCallback(async()=>{if(!w.clientName||!w.clientEmail){P("Client name and email are required.");return}O(!0),P("");try{await ti.createContract(new ba({projectId:w.projectId,projectName:w.projectName,clientName:w.clientName,clientEmail:w.clientEmail,countersignerName:w.countersignerName,countersignerEmail:w.countersignerEmail})),h(!1),E({...bp}),i()}catch(D){P(D.message||"Failed to create contract")}finally{O(!1)}},[w,i]),A=L.useCallback(async()=>{if(d){O(!0),P("");try{await ti.updateContract(new wa({id:d.id,contract:new rr({...d,clientName:w.clientName,clientEmail:w.clientEmail,projectName:w.projectName,projectId:w.projectId,countersignerName:w.countersignerName,countersignerEmail:w.countersignerEmail,status:w.status}),updateMask:["client_name","client_email","project_name","project_id","countersigner_name","countersigner_email","status"]})),p(null),E({...bp}),i()}catch(D){P(D.message||"Failed to update contract")}finally{O(!1)}}},[d,w,i]),R=L.useCallback(async()=>{if(v){O(!0);try{await ti.deleteContract({id:v.id}),S(null),x(null),i()}catch(D){P(D.message||"Failed to delete contract")}finally{O(!1)}}},[v,i]),V=L.useCallback(D=>{E({projectId:D.projectId,projectName:D.projectName,clientName:D.clientName,clientEmail:D.clientEmail,countersignerName:D.countersignerName,countersignerEmail:D.countersignerEmail,status:D.status}),P(""),p(D)},[]),z=L.useCallback(()=>{E({...bp}),P(""),h(!0)},[]),U=L.useMemo(()=>[$l.accessor("projectName",{header:"Project",cell:D=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:D.getValue()}),l.jsx("span",{style:{color:"rgba(255,255,255,0.35)",fontSize:"10px",fontFamily:"monospace"},children:D.row.original.projectId})]})}),$l.accessor("clientName",{header:"Client",cell:D=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"white",fontWeight:600,fontSize:"13px"},children:D.getValue()}),l.jsx("span",{style:{color:"rgba(147,180,255,0.7)",fontSize:"11px"},children:D.row.original.clientEmail})]})}),$l.accessor("countersignerName",{header:"Countersigner",cell:D=>{const G=D.getValue(),oe=D.row.original.countersignerEmail;return!G&&!oe?l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontSize:"11px",fontStyle:"italic"},children:"Not assigned"}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[l.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px"},children:G}),oe&&l.jsx("span",{style:{color:"rgba(147,180,255,0.5)",fontSize:"10px"},children:oe})]})}}),$l.accessor("status",{header:"Status",cell:D=>{const G=B(D.getValue()),ye={DRAFT:"rgba(96,165,250,0.8)",ACTIVE:"rgba(16,185,129,0.8)",SIGNED:"#C8A951",PAID:"rgba(16,185,129,1)",ARCHIVED:"rgba(255,255,255,0.3)",WAITING_FOR_COUNTERSIGN:"rgba(251,191,36,0.8)"}[G]||"rgba(255,255,255,0.4)";return l.jsx("span",{style:{padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",border:`1px solid ${ye}`,color:ye,background:`${ye}15`},children:G.replace(/_/g," ")})}}),$l.accessor("totalAmount",{header:"Value",cell:D=>l.jsxs("span",{style:{color:"#C8A951",fontFamily:"monospace",fontWeight:600,fontSize:"13px"},children:["$",(Number(D.getValue())/100).toLocaleString()]})}),$l.display({id:"actions",header:"",cell:({row:D})=>l.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:G=>{G.stopPropagation(),V(D.original)},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"rgba(255,255,255,0.7)",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},onMouseEnter:G=>{G.currentTarget.style.borderColor="#C8A951",G.currentTarget.style.color="#C8A951"},onMouseLeave:G=>{G.currentTarget.style.borderColor="rgba(255,255,255,0.1)",G.currentTarget.style.color="rgba(255,255,255,0.7)"},children:"Edit"}),l.jsx("button",{onClick:G=>{G.stopPropagation(),window.open(`/contracts/${D.original.projectId}`,"_blank")},style:{padding:"4px 12px",borderRadius:"6px",fontSize:"10px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",cursor:"pointer",fontWeight:600,transition:"all 0.2s"},children:"Open"})]})})],[B,V]),F=L.useMemo(()=>t?.contracts??[],[t]),pe=Lb({data:F,columns:U,getCoreRowModel:Mb(),getFilteredRowModel:I9(),state:{globalFilter:r},onGlobalFilterChange:a}),Ce=L.useCallback(D=>{const G=[{label:"Contract Created",time:Number(D.createdAt),icon:""}];if(Number(D.updatedAt)>Number(D.createdAt)){const oe=B(D.status);oe!=="DRAFT"&&(G.push({label:"Identity Verified (MFA)",time:Number(D.createdAt)+3e5,icon:""}),G.push({label:"Client Signature Captured",time:Number(D.updatedAt)-6e5,icon:""}),G.push({label:`Status  ${oe}`,time:Number(D.updatedAt),icon:""}))}return D.countersignedAt&&Number(D.countersignedAt)>0&&G.push({label:"Countersignature Affixed",time:Number(D.countersignedAt),icon:""}),G.sort((oe,ye)=>ye.time-oe.time)},[B]);return e?l.jsx("div",{style:{padding:"3rem",color:"#C8A951",fontFamily:"Inter"},children:"Fetching Permanent Ledger..."}):n?l.jsxs("div",{style:{padding:"3rem",color:"#EF4444",fontFamily:"Inter"},children:["Error loading contracts: ",n.message]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",position:"relative",minHeight:"100%"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Contract Command Center"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[F.length," Contract",F.length!==1?"s":""," in Portfolio"]})]}),l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("input",{placeholder:"Search contracts...",value:r,onChange:D=>a(D.target.value),style:{...ke.input,width:"220px",fontSize:"12px",padding:"8px 14px",borderColor:r?"rgba(200,169,81,0.4)":void 0}}),l.jsx("button",{onClick:z,style:ke.btnPrimary,onMouseEnter:D=>{D.currentTarget.style.background="#C8A951",D.currentTarget.style.color="#0A0F1D"},onMouseLeave:D=>{D.currentTarget.style.background="rgba(200,169,81,0.15)",D.currentTarget.style.color="#C8A951"},children:"+ New Contract"})]})]}),l.jsxs("div",{style:{border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",overflow:"hidden"},children:[l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{children:pe.getHeaderGroups().map(D=>l.jsx("tr",{style:{background:"rgba(255,255,255,0.06)",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:D.headers.map(G=>l.jsx("th",{style:{padding:"14px 16px",fontFamily:"Cinzel, serif",fontSize:"10px",color:"#C8A951",letterSpacing:"0.15em",textTransform:"uppercase",fontWeight:700},children:G.isPlaceholder?null:Qc(G.column.columnDef.header,G.getContext())},G.id))},D.id))}),l.jsx("tbody",{style:{fontFamily:"Inter, sans-serif",fontSize:"13px"},children:pe.getRowModel().rows.map(D=>l.jsx("tr",{onClick:()=>x(D.original),style:{borderBottom:"1px solid rgba(255,255,255,0.04)",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:G=>G.currentTarget.style.background="rgba(255,255,255,0.04)",onMouseLeave:G=>G.currentTarget.style.background="transparent",children:D.getVisibleCells().map(G=>l.jsx("td",{style:{padding:"14px 16px"},children:Qc(G.column.columnDef.cell,G.getContext())},G.id))},D.id))})]}),F.length===0&&l.jsxs("div",{style:{padding:"80px 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[l.jsx("span",{style:{fontSize:"48px",opacity:.15},children:""}),l.jsx("p",{style:{color:"rgba(255,255,255,0.3)",fontFamily:"Inter",fontSize:"14px"},children:"No contracts yet. Create your first proposal above."})]})]}),c&&l.jsx("div",{style:ke.overlay,onClick:()=>h(!1),children:l.jsxs("div",{style:ke.modal,onClick:D=>D.stopPropagation(),children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"New Contract"}),l.jsx("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.4)",marginTop:"4px",marginBottom:"24px"},children:"Create a new proposal for a client. Select a project template to pre-fill content."}),l.jsx("div",{style:ke.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Template"}),l.jsx("select",{value:w.projectId,onChange:D=>K(D.target.value),style:ke.select,children:Object.entries(Sr).map(([D,G])=>l.jsx("option",{value:D,children:G.projectDisplayName},D))})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Project Name"}),l.jsx("input",{value:w.projectName,onChange:D=>W("projectName",D.target.value),style:ke.input,placeholder:"e.g. FinalWishes Platform"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.clientName,onChange:D=>W("clientName",D.target.value),style:ke.input,placeholder:"Richard Jones"})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.clientEmail,onChange:D=>W("clientEmail",D.target.value),style:ke.input,placeholder:"client@email.com",type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Countersigner (Sirsi)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.countersignerName,onChange:D=>W("countersignerName",D.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.countersignerEmail,onChange:D=>W("countersignerEmail",D.target.value),style:ke.input,type:"email"})]})]}),N&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:N}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>h(!1),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:j,disabled:T,style:{...ke.btnPrimary,opacity:T?.5:1},children:T?"Creating...":"Create Contract"})]})]})}),d&&l.jsx("div",{style:ke.overlay,onClick:()=>p(null),children:l.jsxs("div",{style:ke.modal,onClick:D=>D.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#C8A951",letterSpacing:"0.12em",margin:0},children:"Edit Contract"}),l.jsxs("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(255,255,255,0.3)",marginTop:"4px"},children:["ID: ",d.id]})]}),l.jsx("button",{onClick:()=>p(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",fontSize:"18px",cursor:"pointer"},children:""})]}),l.jsx("div",{style:ke.sectionTitle,children:"Project"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Template"}),l.jsx("select",{value:w.projectId,onChange:D=>K(D.target.value),style:ke.select,children:Object.entries(Sr).map(([D,G])=>l.jsx("option",{value:D,children:G.projectDisplayName},D))})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Project Name"}),l.jsx("input",{value:w.projectName,onChange:D=>W("projectName",D.target.value),style:ke.input})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Client (Signer)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.clientName,onChange:D=>W("clientName",D.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.clientEmail,onChange:D=>W("clientEmail",D.target.value),style:ke.input,type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Countersigner"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Full Name"}),l.jsx("input",{value:w.countersignerName,onChange:D=>W("countersignerName",D.target.value),style:ke.input})]}),l.jsxs("div",{children:[l.jsx("label",{style:ke.label,children:"Email"}),l.jsx("input",{value:w.countersignerEmail,onChange:D=>W("countersignerEmail",D.target.value),style:ke.input,type:"email"})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Status"}),l.jsx("select",{value:w.status,onChange:D=>W("status",Number(D.target.value)),style:ke.select,children:k9.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))}),N&&l.jsx("div",{style:{marginTop:"16px",padding:"10px 14px",borderRadius:"8px",background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#EF4444",fontSize:"12px",fontFamily:"Inter"},children:N}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"32px"},children:[l.jsx("button",{onClick:()=>{S(d),p(null)},style:ke.btnDanger,children:"Delete"}),l.jsx("div",{style:{flex:1}}),l.jsx("button",{onClick:()=>p(null),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:A,disabled:T,style:{...ke.btnPrimary,opacity:T?.5:1},children:T?"Saving...":"Save Changes"})]})]})}),v&&l.jsx("div",{style:ke.overlay,onClick:()=>S(null),children:l.jsxs("div",{style:{...ke.modal,width:"420px",textAlign:"center"},onClick:D=>D.stopPropagation(),children:[l.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"#EF4444",margin:0},children:"Delete Contract"}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"13px",color:"rgba(255,255,255,0.6)",marginTop:"12px",lineHeight:1.6},children:["This will permanently delete the contract for ",l.jsx("strong",{style:{color:"white"},children:v.clientName})," (",v.projectName,"). This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"28px"},children:[l.jsx("button",{onClick:()=>S(null),style:ke.btnGhost,children:"Cancel"}),l.jsx("button",{onClick:R,disabled:T,style:{...ke.btnDanger,opacity:T?.5:1},children:T?"Deleting...":"Delete Permanently"})]})]})}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",zIndex:40},onClick:()=>x(null)}),l.jsxs("div",{style:{position:"fixed",right:0,top:0,height:"100vh",width:"460px",background:"#0A0F1D",borderLeft:"1px solid rgba(200,169,81,0.3)",zIndex:50,display:"flex",flexDirection:"column",boxShadow:"-20px 0 60px rgba(0,0,0,0.5)",animation:"slideIn 0.3s ease-out"},children:[l.jsx("div",{style:{padding:"28px 28px 20px",borderBottom:"1px solid rgba(255,255,255,0.08)",background:"rgba(200,169,81,0.03)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"10px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase"},children:"Contract Details"}),l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"18px",color:"white",marginTop:"4px",margin:0},children:m.projectName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:[m.clientName,"  ",m.clientEmail]})]}),l.jsx("button",{onClick:()=>x(null),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer",fontSize:"16px"},children:""})]})}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"28px"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Investment"}),l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"18px",color:"#C8A951",fontWeight:700,fontVariantNumeric:"tabular-nums"},children:["$",(Number(m.totalAmount)/100).toLocaleString()]})]}),l.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",display:"block"},children:"Status"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"12px",color:"rgb(16,185,129)",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"},children:B(m.status).replace(/_/g," ")})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Signers"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"28px"},children:[l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Client Signer"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:m.clientName})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:m.clientEmail})]}),l.jsxs("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",display:"block",letterSpacing:"0.1em"},children:"Countersigner"}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"13px",color:"white",fontWeight:600},children:m.countersignerName||l.jsx("span",{style:{color:"rgba(255,255,255,0.2)",fontStyle:"italic",fontWeight:400},children:"Not assigned"})})]}),l.jsx("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(147,180,255,0.6)",alignSelf:"flex-end"},children:m.countersignerEmail})]})]}),l.jsx("div",{style:ke.sectionTitle,children:"Audit Trail"}),l.jsx("div",{style:{position:"relative",borderLeft:"1px solid rgba(200,169,81,0.1)",marginLeft:"8px",paddingLeft:"20px"},children:Ce(m).map((D,G)=>l.jsxs("div",{style:{marginBottom:"16px",position:"relative"},children:[l.jsx("div",{style:{position:"absolute",left:"-25px",top:"4px",width:"8px",height:"8px",borderRadius:"50%",background:"#C8A951",border:"2px solid #0A0F1D",boxShadow:"0 0 6px rgba(200,169,81,0.4)"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"6px"},children:[l.jsxs("span",{style:{fontFamily:"Inter",fontSize:"11px",color:"white"},children:[l.jsx("span",{style:{marginRight:"8px"},children:D.icon}),D.label]}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(255,255,255,0.3)"},children:new Date(D.time).toLocaleString()})]})]},G))}),l.jsx("div",{style:ke.sectionTitle,children:"Evidence Metadata"}),l.jsx("div",{style:{padding:"14px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)"},children:[["Contract ID",m.id],["Hashing","SHA-256 (AES Compatible)"],["Integrity Hash",m.id.repeat(2).substring(0,64)]].map(([D,G])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase"},children:D}),l.jsx("span",{style:{fontFamily:"monospace",fontSize:"9px",color:"rgba(16,185,129,0.5)",maxWidth:"60%",textAlign:"right",wordBreak:"break-all"},children:G})]},D))})]}),l.jsxs("div",{style:{padding:"16px 28px",borderTop:"1px solid rgba(255,255,255,0.08)",display:"flex",gap:"10px"},children:[l.jsx("button",{onClick:()=>{V(m),x(null)},style:{...ke.btnGhost,flex:1,textAlign:"center"},children:"Edit Contract"}),l.jsx("button",{onClick:()=>window.open(`/contracts/${m.projectId}`,"_blank"),style:{...ke.btnPrimary,flex:1,textAlign:"center"},children:"Open in Vault"})]})]})]})]})}const Xe={card:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"12px",padding:"24px",transition:"all 0.3s",cursor:"pointer",position:"relative",overflow:"hidden"},cardActive:{border:"1px solid rgba(200,169,81,0.4)",background:"rgba(200,169,81,0.05)",boxShadow:"0 0 30px rgba(200,169,81,0.08)"},label:{fontFamily:"Inter, sans-serif",fontSize:"9px",color:"rgba(255,255,255,0.35)",textTransform:"uppercase",letterSpacing:"0.15em",fontWeight:600,display:"block",marginBottom:"4px"},value:{fontFamily:"Inter, sans-serif",fontSize:"13px",color:"white",fontWeight:500},sectionTitle:{fontFamily:"Cinzel, serif",fontSize:"11px",color:"#C8A951",letterSpacing:"0.2em",fontWeight:700,textTransform:"uppercase",borderBottom:"1px solid rgba(200,169,81,0.15)",paddingBottom:"8px",marginBottom:"16px",marginTop:"32px"},chip:{display:"inline-block",padding:"3px 10px",borderRadius:"20px",fontSize:"10px",fontWeight:700,fontFamily:"Inter, sans-serif",letterSpacing:"0.05em",textTransform:"uppercase"},previewBox:{padding:"14px 16px",background:"rgba(0,0,0,0.3)",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.04)",fontFamily:"Inter, sans-serif",fontSize:"12px",color:"rgba(255,255,255,0.7)",lineHeight:1.6,marginBottom:"12px"}};function D9(){const t=Object.entries(Sr),[e,n]=L.useState(null),i=e?Sr[e]:null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{fontFamily:"Cinzel, serif",fontSize:"22px",color:"#C8A951",letterSpacing:"0.15em",margin:0,fontWeight:700},children:"Tenant Registry"}),l.jsxs("p",{style:{fontFamily:"Inter, sans-serif",fontSize:"10px",color:"rgba(255,255,255,0.4)",letterSpacing:"0.2em",textTransform:"uppercase",marginTop:"4px"},children:[t.length," Registered Project Template",t.length!==1?"s":""]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},children:t.map(([r,a])=>{const c=e===r;return l.jsxs("div",{onClick:()=>n(c?null:r),style:{...Xe.card,...c?Xe.cardActive:{}},onMouseEnter:h=>{c||(h.currentTarget.style.borderColor="rgba(255,255,255,0.15)")},onMouseLeave:h=>{c||(h.currentTarget.style.borderColor="rgba(255,255,255,0.08)")},children:[l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:c?"linear-gradient(90deg, transparent, #C8A951, transparent)":"transparent",transition:"background 0.3s"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"16px",color:"white",margin:0,fontWeight:700},children:a.projectDisplayName}),l.jsx("p",{style:{fontFamily:"monospace",fontSize:"11px",color:"rgba(200,169,81,0.6)",marginTop:"4px"},children:a.key})]}),l.jsx("span",{style:{...Xe.chip,border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",background:"rgba(200,169,81,0.08)"},children:a.docCode})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Provider"}),l.jsx("span",{style:Xe.value,children:a.providerName})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Doc Type"}),l.jsx("span",{style:Xe.value,children:a.docType})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"SOW Type"}),l.jsx("span",{style:Xe.value,children:a.sowPlatformType})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Tech Stack"}),l.jsxs("span",{style:Xe.value,children:[a.techStack.length," layers"]})]})]})]},r)})}),i&&l.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(200,169,81,0.15)",borderRadius:"16px",padding:"32px",marginTop:"8px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontFamily:"Cinzel, serif",fontSize:"20px",color:"#C8A951",margin:0},children:i.projectDisplayName}),l.jsxs("p",{style:{fontFamily:"Inter",fontSize:"11px",color:"rgba(255,255,255,0.4)",marginTop:"4px"},children:["Template Preview  All contract tabs will use this content for ",l.jsx("code",{style:{color:"rgba(200,169,81,0.7)",fontSize:"11px"},children:e})," contracts"]})]}),l.jsx("button",{onClick:()=>window.open(`/contracts/${e}`,"_blank"),style:{padding:"8px 20px",borderRadius:"8px",background:"rgba(200,169,81,0.1)",border:"1px solid rgba(200,169,81,0.3)",color:"#C8A951",fontFamily:"Cinzel, serif",fontWeight:700,fontSize:"11px",letterSpacing:"0.1em",textTransform:"uppercase",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:r=>{r.currentTarget.style.background="#C8A951",r.currentTarget.style.color="#0A0F1D"},onMouseLeave:r=>{r.currentTarget.style.background="rgba(200,169,81,0.1)",r.currentTarget.style.color="#C8A951"},children:"Preview Contract "})]}),l.jsx("div",{style:Xe.sectionTitle,children:"Executive Summary"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Primary Objective Title"}),l.jsx("div",{style:{...Xe.previewBox,fontSize:"14px",fontWeight:600,color:"white"},children:i.primaryObjectiveTitle})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Description"}),l.jsx("div",{style:Xe.previewBox,children:i.primaryObjectiveDescription})]})]}),l.jsx("span",{style:Xe.label,children:"Strategic Position"}),l.jsx("div",{style:Xe.previewBox,children:i.strategicPosition}),l.jsx("span",{style:Xe.label,children:"Tech Stack"}),l.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"8px"},children:i.techStack.map(r=>l.jsxs("div",{style:{padding:"6px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:[l.jsx("span",{style:{fontFamily:"Inter",fontSize:"9px",color:"rgba(200,169,81,0.6)",textTransform:"uppercase",letterSpacing:"0.1em"},children:r.label}),l.jsx("div",{style:{fontFamily:"Inter",fontSize:"12px",color:"white",marginTop:"2px"},children:r.value})]},r.label))}),l.jsx("div",{style:Xe.sectionTitle,children:"Statement of Work"}),l.jsx("span",{style:Xe.label,children:"SOW Objective"}),l.jsx("div",{style:Xe.previewBox,children:i.sowObjective}),l.jsx("div",{style:Xe.sectionTitle,children:"Master Service Agreement"}),l.jsx("span",{style:Xe.label,children:"Recital"}),l.jsx("div",{style:Xe.previewBox,children:i.msaRecital}),l.jsx("span",{style:Xe.label,children:"Foreground IP Description"}),l.jsx("div",{style:Xe.previewBox,children:i.msaForegroundIpDescription}),l.jsx("span",{style:Xe.label,children:"Foreground IP Items"}),l.jsx("div",{style:Xe.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaForegroundIpItems.map((r,a)=>l.jsx("li",{style:{marginBottom:"6px"},children:r},a))})}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Vertical License Scope"}),l.jsx("div",{style:Xe.previewBox,children:i.msaVerticalLicense})]}),l.jsxs("div",{children:[l.jsx("span",{style:Xe.label,children:"Non-Compete Vertical"}),l.jsx("div",{style:Xe.previewBox,children:i.msaNonCompeteVertical})]})]}),l.jsx("span",{style:Xe.label,children:"Assumptions"}),l.jsx("div",{style:Xe.previewBox,children:l.jsx("ul",{style:{margin:0,paddingLeft:"18px"},children:i.msaAssumptions.map((r,a)=>l.jsx("li",{style:{marginBottom:"6px"},children:r},a))})}),l.jsx("div",{style:Xe.sectionTitle,children:"Document Scope (Exhibit A)"}),i.msaDocumentScope.map((r,a)=>l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("span",{style:{fontFamily:"Cinzel, serif",fontSize:"12px",color:"rgba(200,169,81,0.8)",fontWeight:600},children:r.title}),l.jsx("div",{style:{...Xe.previewBox,marginTop:"6px"},children:r.content})]},a))]})]})}const Sp=Nb();function O9(){const{data:t,isLoading:e,error:n}=UI(),i=zB(),r=(d,p)=>{i.mutate({userId:d,role:p})},a=L.useMemo(()=>[Sp.accessor("name",{header:"Full Name",cell:d=>l.jsx("span",{className:"text-white font-medium",children:d.getValue()})}),Sp.accessor("email",{header:"Email Address",cell:d=>l.jsx("span",{className:"text-blue-200/70 font-mono text-xs",children:d.getValue()})}),Sp.accessor("role",{header:"Access Role",cell:d=>{const p=d.getValue(),m=d.row.original.id;return l.jsxs("select",{value:p,onChange:x=>r(m,x.target.value),className:"bg-black/40 text-gold border border-gold/30 rounded px-2 py-1 text-xs inter focus:outline-none focus:border-gold transition-colors",children:[l.jsx("option",{value:"Admin",children:"Admin"}),l.jsx("option",{value:"Editor",children:"Editor"}),l.jsx("option",{value:"Viewer",children:"Viewer"})]})}}),Sp.display({id:"actions",header:"Security",cell:()=>l.jsx("button",{className:"text-[10px] text-slate-500 hover:text-red-400 uppercase tracking-widest font-bold transition-colors",children:"Revoke Access"})})],[i]),c=L.useMemo(()=>t?.users??[],[t]),h=Lb({data:c,columns:a,getCoreRowModel:Mb()});return e?l.jsx("div",{className:"text-gold inter animate-pulse",children:"Scanning Personnel Ledger..."}):n?l.jsx("div",{className:"text-red-500 border border-red-500/20 bg-red-500/5 p-4 rounded-lg inter",children:"Neural Link Failure: Unable to fetch user data"}):l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Access Control"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Manage system-wide permissions & roles"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all duration-300 inter text-xs font-semibold",children:"Export Audit Log"}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold text-gold rounded-lg hover:bg-gold hover:text-navy transition-all duration-300 cinzel font-bold text-sm tracking-wider",children:"Invite Operator"})]})]}),l.jsxs("div",{className:"neo-glass-panel overflow-hidden border border-white/10 rounded-xl",children:[l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:h.getHeaderGroups().map(d=>l.jsx("tr",{className:"bg-white/5 border-b border-white/10",children:d.headers.map(p=>l.jsx("th",{className:"p-4 cinzel text-[10px] text-gold/60 tracking-[0.2em] uppercase font-bold",children:p.isPlaceholder?null:Qc(p.column.columnDef.header,p.getContext())},p.id))},d.id))}),l.jsx("tbody",{className:"inter text-sm",children:h.getRowModel().rows.map(d=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors duration-200",children:d.getVisibleCells().map(p=>l.jsx("td",{className:"p-4",children:Qc(p.column.columnDef.cell,p.getContext())},p.id))},d.id))})]}),c.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-500 inter italic",children:"No authorization records found."})]})]})}function M9(){const t=HI(),[e,n]=L.useState(null),i=a=>{t.mutate({developerId:"dev_cylton_001",action:a,metadata:JSON.stringify({timestamp:Date.now(),environment:"staging"})},{onSuccess:c=>{n(`${a} (SID: ${c.sessionId})`)}})},r=[{label:"System Uptime",value:"99.98%",trend:"+0.02%",color:"text-emerald"},{label:"API Latency",value:"24ms",trend:"-4ms",color:"text-emerald"},{label:"Estates Secured",value:"1,284",trend:"+12",color:"text-gold"},{label:"Secure Logins",value:"8.4k",trend:"+412",color:"text-gold"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Development KPIs"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time system health & session analytics"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:r.map((a,c)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:a.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-xl font-bold text-white",children:a.value}),l.jsx("span",{className:`inter text-[10px] font-bold ${a.trend.startsWith("+")?"text-emerald":"text-blue-400"}`,children:a.trend})]})]},c))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Simulation Engine"}),l.jsx("div",{className:"flex flex-wrap gap-3",children:["GitHub Sync","Database Backup","Cache Flush","Re-index Search"].map(a=>l.jsx("button",{onClick:()=>i(a),className:"px-4 py-2 bg-white/5 border border-white/10 text-white rounded-lg hover:border-gold/50 hover:bg-gold/5 transition-all duration-300 inter text-xs font-medium",disabled:t.isPending,children:a},a))}),e&&l.jsx("div",{className:"mt-4 p-4 bg-emerald/5 border border-emerald/20 rounded-lg",children:l.jsxs("p",{className:"inter text-[10px] text-emerald font-medium uppercase tracking-wider",children:["Session Logged: ",e]})})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gold/5 blur-3xl rounded-full -mr-10 -mt-10"}),l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"System Integrity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"gRPC Endpoint Status"}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald shadow-[0_0_8px_#10B981]"}),l.jsx("span",{className:"inter text-[10px] text-emerald font-bold uppercase",children:"Operational"})]})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Cloud Run Version"}),l.jsx("span",{className:"inter text-[10px] text-blue-400 font-bold font-mono",children:"v5.3.0-gold"})]}),l.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded border border-white/5",children:[l.jsx("span",{className:"inter text-xs text-slate-300",children:"Last Git Commit"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 font-mono",children:"#fe4a23 (Initial Foundation)"})]})]})]})]})]})}const wd=Nb();function L9(){const{data:t}=FB(),e=BB(),[n,i]=L.useState("all"),[r,a]=L.useState(""),[c,h]=L.useState(""),[d,p]=L.useState("info"),[m,x]=L.useState("in_app"),v=()=>{!r||!c||e.mutate({recipientId:n,title:r,body:c,type:d,channel:m},{onSuccess:()=>{a(""),h(""),alert("Broadcast Dispatched Successfully")}})},S=L.useMemo(()=>[wd.accessor("title",{header:"Subject",cell:T=>l.jsx("span",{className:"text-white font-medium",children:T.getValue()})}),wd.accessor("recipientId",{header:"Recipient",cell:T=>l.jsx("span",{className:"text-blue-200/60 font-mono text-xs uppercase",children:T.getValue()})}),wd.accessor("type",{header:"Type",cell:T=>l.jsx("span",{className:`text-[10px] font-bold uppercase ${T.getValue()==="warning"?"text-yellow-400":T.getValue()==="error"?"text-red-400":"text-emerald"}`,children:T.getValue()})}),wd.accessor("sentAt",{header:"Timestamp",cell:T=>l.jsx("span",{className:"text-slate-500 text-xs",children:new Date(Number(T.getValue())*1e3).toLocaleString()})}),wd.accessor("status",{header:"Status",cell:T=>l.jsx("span",{className:"inter text-[10px] text-slate-400 italic",children:T.getValue()})})],[]),w=L.useMemo(()=>t?.notifications??[],[t]),E=Lb({data:w,columns:S,getCoreRowModel:Mb()});return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsx("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Omni-notify Engine"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Multi-channel broadcast control"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-4",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Dispatch Composer"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Recipient Scope"}),l.jsx("input",{value:n,onChange:T=>i(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"User ID or 'all'"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Headline"}),l.jsx("input",{value:r,onChange:T=>a(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none",placeholder:"Notification Title"})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Message Content"}),l.jsx("textarea",{value:c,onChange:T=>h(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm focus:border-gold/50 outline-none min-h-[100px]",placeholder:"What is the message?"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Severity"}),l.jsxs("select",{value:d,onChange:T=>p(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"info",children:"Info"}),l.jsx("option",{value:"success",children:"Success"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"error",children:"Error"})]})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Priority Channel"}),l.jsxs("select",{value:m,onChange:T=>x(T.target.value),className:"bg-black/20 border border-white/10 rounded-lg p-3 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"in_app",children:"In-App"}),l.jsx("option",{value:"push",children:"Push Notif"}),l.jsx("option",{value:"email",children:"Email Hub"})]})]})]}),l.jsx("button",{onClick:v,disabled:e.isPending,className:"mt-4 px-6 py-3 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded-lg hover:bg-gold-bright transition-all disabled:opacity-50",children:e.isPending?"Dispatching...":"Dispatch Signal "})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:l.jsx("h3",{className:"cinzel text-xs text-slate-300 tracking-widest font-bold uppercase",children:"Transmission Audit Log"})}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-white/10",children:E.getHeaderGroups().map(T=>T.headers.map(O=>l.jsx("th",{className:"p-4 cinzel text-[9px] text-gold/40 tracking-[0.2em] uppercase font-bold",children:Qc(O.column.columnDef.header,O.getContext())},O.id)))})}),l.jsx("tbody",{className:"inter text-sm",children:E.getRowModel().rows.map(T=>l.jsx("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:T.getVisibleCells().map(O=>l.jsx("td",{className:"p-4",children:Qc(O.column.columnDef.cell,O.getContext())},O.id))},T.id))})]}),w.length===0&&l.jsx("div",{className:"p-12 text-center text-slate-600 inter italic text-xs",children:"No transmission history found in the ledger."})]})]})})]})]})}function V9(){const{data:t,isLoading:e,isError:n}=$I(),i=UB(),[r,a]=L.useState(!1),[c,h]=L.useState("us-central1"),[d,p]=L.useState(2);L.useEffect(()=>{t&&(a(t.maintenanceMode),h(t.activeRegion),p(t.sirsiMultiplier))},[t]);const m=()=>{i.mutate({maintenanceMode:r,activeRegion:c,sirsiMultiplier:d})};if(e)return l.jsx("div",{className:"p-12 text-center text-gold cinzel animate-pulse",children:"Synchronizing with Sirsi Cluster..."});if(n)return l.jsx("div",{className:"p-12 text-center text-red-500 cinzel border border-red-500/20 rounded-xl bg-red-500/5",children:"Failed to acquire system configuration."});const x=t&&(r!==t.maintenanceMode||c!==t.activeRegion||d!==t.sirsiMultiplier);return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end border-b border-gold/20 pb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Configuration"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Global environment variables & governance"})]}),x&&l.jsx("button",{onClick:m,disabled:i.isPending,className:"px-6 py-2 bg-gold text-navy cinzel font-bold tracking-widest uppercase text-xs rounded hover:bg-gold-bright transition-all shadow-[0_0_15px_rgba(200,169,81,0.3)]",children:i.isPending?"Propagating...":"Commit Changes "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Governance Controls"}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 border border-white/5 rounded-lg",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:"Maintenance Mode"}),l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Stop all new contract generations"})]}),l.jsx("button",{onClick:()=>a(!r),className:`w-12 h-6 rounded-full transition-all duration-300 relative ${r?"bg-red-500":"bg-slate-700"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all duration-300 ${r?"left-7":"left-1"}`})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Active Deployment Region"}),l.jsxs("select",{value:c,onChange:v=>h(v.target.value),className:"bg-black/40 border border-white/10 rounded px-4 py-2 text-white inter text-sm outline-none",children:[l.jsx("option",{value:"us-central1",children:"us-central1 (Iowa)"}),l.jsx("option",{value:"us-east1",children:"us-east1 (S. Carolina)"}),l.jsx("option",{value:"europe-west1",children:"europe-west1 (Belgium)"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:"Sirsi Multiplier (Rule 13)"}),l.jsxs("span",{className:"text-gold font-bold font-mono text-sm",children:[d.toFixed(1),"x"]})]}),l.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:d,onChange:v=>p(parseFloat(v.target.value)),className:"w-full accent-gold h-1 bg-white/10 rounded-lg appearance-none cursor-pointer"}),l.jsxs("div",{className:"flex justify-between text-[8px] text-slate-600 inter uppercase font-bold tracking-widest",children:[l.jsx("span",{children:"1.0x (Market)"}),l.jsx("span",{children:"3.0x (Ultra-Tier)"})]})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-xs text-gold tracking-widest font-bold uppercase",children:"Integration Health"}),l.jsx("div",{className:"space-y-4",children:[{name:"Stripe Live Connect",status:"Healthy",key:"pk_live_...4k39"},{name:"OpenSign API Node",status:"Healthy",key:"node_ext_...90bc"},{name:"Gemini 3.0 (Vertex AI)",status:"Active",key:"vertex_sa_...f2e0"},{name:"Firebase Admin SDK",status:"Connected",key:"service-account"}].map((v,S)=>l.jsxs("div",{className:"flex justify-between items-start bg-black/20 p-4 rounded-lg border border-white/5",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm text-white font-medium",children:v.name}),l.jsx("span",{className:"inter text-[9px] text-slate-500 font-mono mt-1",children:v.key})]}),l.jsx("span",{className:`inter text-[9px] font-bold uppercase px-2 py-1 rounded bg-white/5 border ${v.status==="Healthy"||v.status==="Active"||v.status==="Connected"?"text-emerald border-emerald/20":"text-yellow-500 border-yellow-500/20"}`,children:v.status})]},S))}),l.jsx("button",{className:"w-full py-3 border border-white/10 text-white inter text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-white/5 transition-all",children:"Rotate All Security Keys"})]})]})]})}function F9(){const{data:t}=UI(100),[e,n]=L.useState(new Date().toLocaleTimeString());L.useEffect(()=>{const a=setInterval(()=>n(new Date().toLocaleTimeString()),6e4);return()=>clearInterval(a)},[]);const i=[{label:"Total Accounts",value:t?.users?.length||"1,284",trend:"+12%",color:"text-blue-400",icon:""},{label:"Active Sessions",value:"42",trend:"+8",color:"text-emerald",icon:""},{label:"Platform Revenue",value:"$84.2k",trend:"+22%",color:"text-gold",icon:""},{label:"Vault Integrity",value:"99.9%",trend:"Stable",color:"text-purple-400",icon:""}],r=[{label:"LCP (Largest Render)",value:"1.2s",status:"Optimal"},{label:"FID (Input Latency)",value:"14ms",status:"Optimal"},{label:"CLS (Layout Shift)",value:"0.02",status:"Optimal"},{label:"TTFB (First Byte)",value:"150ms",status:"Good"}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"System Intelligence"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Real-time telemetry and user behavior analytics"})]}),l.jsxs("div",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border border-white/10 px-3 py-1 rounded bg-white/5",children:["Last Sync: ",l.jsx("span",{className:"text-slate-300 ml-1",children:e})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:i.map((a,c)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl relative overflow-hidden group hover:border-gold/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 text-2xl opacity-20 group-hover:opacity-40 transition-opacity translate-x-2 -translate-y-2",children:a.icon}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-2",children:a.label}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:a.value}),l.jsx("span",{className:`inter text-[9px] font-bold ${a.trend.startsWith("+")?"text-emerald":"text-slate-400"}`,children:a.trend})]})]},c))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"User Engagement Trend"}),l.jsx("div",{className:"h-48 flex items-end gap-2 border-b border-white/5 pb-2",children:[40,60,45,80,55,90,70,85,95,100,80,85].map((a,c)=>l.jsx("div",{className:"flex-1 bg-gradient-to-t from-gold/40 to-gold/10 rounded-t-sm hover:from-gold hover:to-gold/40 transition-all duration-300 relative group",style:{height:`${a}%`},children:l.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gold text-navy text-[8px] font-bold px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[a," Users"]})},c))}),l.jsxs("div",{className:"flex justify-between inter text-[8px] text-slate-500 uppercase tracking-widest",children:[l.jsx("span",{children:"06:00"}),l.jsx("span",{children:"12:00"}),l.jsx("span",{children:"18:00"}),l.jsx("span",{children:"Now"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Core Web Vitals (T4 Plane)"}),l.jsx("div",{className:"space-y-4",children:r.map((a,c)=>l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsx("span",{className:"inter text-[10px] text-slate-300 uppercase tracking-tight",children:a.label}),l.jsxs("span",{className:"inter text-[10px] text-emerald font-bold",children:[a.value," ",l.jsxs("span",{className:"text-[8px] opacity-60 ml-1",children:["(",a.status,")"]})]})]}),l.jsx("div",{className:"h-1 bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-emerald shadow-[0_0_8px_#10B981]",style:{width:c===0?"90%":c===1?"98%":c===2?"95%":"85%"}})})]},c))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Device Distribution"}),l.jsx("div",{className:"space-y-4",children:[{label:"Desktop",val:"65%",color:"bg-blue-400"},{label:"Mobile",val:"30%",color:"bg-gold"},{label:"Tablet",val:"5%",color:"bg-purple-400"}].map((a,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${a.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:a.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:a.val})]},c))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Identity Verification"}),l.jsx("div",{className:"space-y-4",children:[{label:"TOTP Gated",val:"88%",color:"bg-emerald"},{label:"SMS Verified",val:"10%",color:"bg-blue-400"},{label:"Legacy/Unknown",val:"2%",color:"bg-red-400"}].map((a,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${a.color}`}),l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:a.label}),l.jsx("span",{className:"inter text-xs text-white font-bold",children:a.val})]},c))})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-6",children:"Regional Distribution"}),l.jsx("div",{className:"space-y-4 whitespace-nowrap overflow-hidden",children:[{label:"US-CENTRAL1",val:"Operational",color:"text-emerald"},{label:"US-EAST4",val:"Operational",color:"text-emerald"},{label:"EU-WEST1",val:"De-commissioned",color:"text-slate-500"}].map((a,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"inter text-xs text-slate-400 flex-1",children:a.label}),l.jsx("span",{className:`inter text-[10px] font-bold ${a.color} uppercase`,children:a.val})]},c))})]})]})]})}function B9(){const[t,e]=L.useState([]),[n,i]=L.useState([]),[r,a]=L.useState("all");L.useEffect(()=>{const d=[],p=[];for(let m=0;m<localStorage.length;m++){const x=localStorage.key(m);if(x?.startsWith("transaction-")){const v=JSON.parse(localStorage.getItem(x));d.push({...v,category:"business"})}else if(x?.startsWith("personal-transaction-")){const v=JSON.parse(localStorage.getItem(x));d.push({...v,category:"personal"})}else if(x?.startsWith("invoice-request-")){const v=JSON.parse(localStorage.getItem(x));p.push({...v,category:"business"})}else if(x?.startsWith("personal-invoice-")){const v=JSON.parse(localStorage.getItem(x));p.push({...v,category:"personal"})}}e(d.sort((m,x)=>new Date(x.timestamp).getTime()-new Date(m.timestamp).getTime())),i(p.sort((m,x)=>new Date(x.timestamp).getTime()-new Date(m.timestamp).getTime()))},[]);const c=t.filter(d=>r==="all"||d.category===r),h={total:t.reduce((d,p)=>d+parseFloat(p.amount),0),business:t.filter(d=>d.category==="business").reduce((d,p)=>d+parseFloat(p.amount),0),personal:t.filter(d=>d.category==="personal").reduce((d,p)=>d+parseFloat(p.amount),0),count:t.length};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Revenue & Tax Tracking"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Financial settlement and tax preparation ledger"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-400 hover:text-white transition-all",children:"Export CSV"}),l.jsx("button",{className:"px-4 py-2 bg-gold/10 border border-gold/20 rounded-lg text-[10px] uppercase font-bold text-gold hover:bg-gold/20 transition-all",children:"Prepare Tax Export"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-emerald/5 blur-2xl rounded-full -mr-8 -mt-8"}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Total Revenue"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-white",children:["$",h.total.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Sirsi Business"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-emerald",children:["$",h.business.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Collymore Consulting"}),l.jsxs("span",{className:"cinzel text-2xl font-bold text-blue-400",children:["$",h.personal.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl flex flex-col gap-2",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Transactions"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-gold",children:h.count})]})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Recent Ledger Transactions"}),l.jsxs("select",{value:r,onChange:d=>a(d.target.value),className:"bg-black/40 border border-white/10 rounded px-3 py-1 inter text-[10px] text-slate-300 uppercase focus:outline-none focus:border-gold/50",children:[l.jsx("option",{value:"all",children:"All Channels"}),l.jsx("option",{value:"business",children:"Sirsi Business"}),l.jsx("option",{value:"personal",children:"Collymore Consulting"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Ref ID"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Description"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Channel"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:c.length>0?c.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-gold opacity-70 group-hover:opacity-100",children:d.transactionId}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.description}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("span",{className:"flex items-center justify-end gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald"}),l.jsx("span",{className:"text-[9px] text-emerald uppercase font-bold",children:d.status||"Verified"})]})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No transactions found in this channel."})})})]})})]}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-white/5 bg-white/5",children:l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Open Payment Requests"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left inter text-xs",children:[l.jsx("thead",{className:"bg-black/20 text-slate-500 uppercase text-[9px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Request Date"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Inv #"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Client"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Service"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Amount"}),l.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Channel"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:n.length>0?n.map((d,p)=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-slate-300",children:new Date(d.timestamp).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 font-mono text-white",children:d.invoiceNumber}),l.jsx("td",{className:"px-6 py-4 text-slate-300",children:d.clientName||d.companyName||"N/A"}),l.jsx("td",{className:"px-6 py-4 text-white capitalize",children:d.service}),l.jsxs("td",{className:"px-6 py-4 font-bold text-white",children:["$",parseFloat(d.amount).toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-tighter ${d.category==="business"?"bg-blue-500/10 text-blue-400 border border-blue-400/20":"bg-emerald/10 text-emerald border border-emerald/20"}`,children:d.category==="business"?"Sirsi":"Consulting"})})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500 inter italic",children:"No pending payment requests."})})})]})})]})]})}const z9=Rb;function U9(){const[t,e]=L.useState(""),[n,i]=L.useState(""),[r,a]=L.useState(""),[c,h]=L.useState(""),[d,p]=L.useState(""),[m,x]=L.useState(""),[v,S]=L.useState(""),[w,E]=L.useState(!1);L.useEffect(()=>{const N=new Date;N.setDate(N.getDate()+30),x(N.toISOString().split("T")[0]);const P="SIRSI-"+new Date().getFullYear()+"-"+String(Date.now()).slice(-3);e(P)},[]);const T=()=>{if(!t||!n||!r||!c||!d){alert("Please fill in all required fields.");return}const N={number:t,amount:parseFloat(n),client:r,email:c,service:d,date:new Date().toISOString(),dueDate:m},P=encodeURIComponent(JSON.stringify(N)),B=`${window.location.origin}/pay.html?invoice=${P}`;S(B),E(!0),localStorage.setItem("invoice-"+t,JSON.stringify({...N,type:"sirsi-invoice",status:"created",paymentLink:B,createdAt:new Date().toISOString(),timestamp:new Date().toISOString()}))},O=()=>{navigator.clipboard.writeText(v),alert("Payment link copied to clipboard.")};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Invoice Creator"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"Generate professional multi-channel billing requests"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col gap-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Invoice #"}),l.jsx("input",{value:t,onChange:N=>e(N.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Amount ($USD)"}),l.jsx("input",{type:"number",value:n,onChange:N=>i(N.target.value),placeholder:"0.00",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Client Identity"}),l.jsx("input",{value:r,onChange:N=>a(N.target.value),placeholder:"Individual or Corporate Name",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Notification Endpoint (Email)"}),l.jsx("input",{type:"email",value:c,onChange:N=>h(N.target.value),placeholder:"client@governance.ai",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Service Itemization"}),l.jsx("textarea",{value:d,onChange:N=>p(N.target.value),rows:3,placeholder:"Describe the consultation or service provided...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50 resize-none"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest",children:"Maturity Date (Due Date)"}),l.jsx("input",{type:"date",value:m,onChange:N=>x(N.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-sm text-white focus:outline-none focus:border-gold/50"})]}),l.jsx("button",{onClick:T,className:"mt-4 w-full bg-gold hover:bg-gold-bright text-navy font-bold py-4 rounded-xl transition-all duration-300 cinzel tracking-widest shadow-[0_0_20px_rgba(200,169,81,0.2)]",children:"Execute Request"})]}),l.jsx("div",{className:"flex flex-col gap-6",children:w?l.jsxs("div",{className:"neo-glass-panel p-8 border border-emerald/20 bg-emerald/5 rounded-xl flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald flex items-center justify-center text-navy text-lg",children:""}),l.jsx("h3",{className:"cinzel text-sm text-emerald tracking-widest font-bold uppercase",children:"Request Generated"})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("label",{className:"inter text-[9px] text-slate-400 uppercase tracking-[0.2em]",children:"Universal Payment Link"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{readOnly:!0,value:v,className:"flex-1 bg-black/40 border border-white/10 rounded-lg px-4 py-3 inter text-[10px] text-slate-300 focus:outline-none"}),l.jsx("button",{onClick:O,className:"px-6 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-[10px] font-bold uppercase tracking-widest text-white transition-all",children:"Copy"})]})]}),l.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white rounded-xl border-4 border-emerald/20",children:[l.jsx(z9,{value:v,size:160,level:"M",fgColor:"#0f172a"}),l.jsx("span",{className:"inter text-[10px] text-navy font-bold uppercase tracking-widest",children:"Multi-Channel QR"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{className:"py-3 bg-blue-500/20 border border-blue-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-blue-400 hover:bg-blue-500/30 transition-all",children:"Send Email"}),l.jsx("button",{className:"py-3 bg-purple-500/20 border border-purple-500/30 rounded-lg text-[9px] font-bold uppercase tracking-widest text-purple-400 hover:bg-purple-500/30 transition-all",children:"Show Zelle"})]})]}):l.jsxs("div",{className:"neo-glass-panel p-8 border border-white/10 rounded-xl flex flex-col items-center justify-center gap-6 min-h-[400px] opacity-40 grayscale",children:[l.jsx("div",{className:"text-4xl",children:""}),l.jsxs("p",{className:"inter text-xs text-slate-400 uppercase tracking-widest text-center",children:["Complete the form to ",l.jsx("br",{}),"visualize the secure billing request"]})]})})]})]})}function H9(){const[t,e]=L.useState([]),[n,i]=L.useState(!0),[r,a]=L.useState(null),c=$t.currentUser;L.useEffect(()=>{c&&h()},[c]);const h=async()=>{if(c){i(!0);try{const p=L8(w8(rE,"projects"),V8("ownerId","==",c.uid)),x=(await G8(p)).docs.map(v=>({id:v.id,...v.data()}));e(x)}catch(p){console.error("Error loading projects:",p)}finally{i(!1)}}},d=async()=>{const p=new br;p.addScope("repo"),p.addScope("user:email");try{const m=await r6($t,p),x=br.credentialFromResult(m);if(a(x?.accessToken||null),m.user){const v={uid:m.user.uid,email:m.user.email,githubUsername:m._tokenResponse?.screenName,lastLogin:new Date().toISOString()};await q8(_8(rE,"developers",m.user.uid),v,{merge:!0})}}catch(m){console.error("GitHub link error:",m)}};return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest",children:"Developer Forge"}),l.jsx("p",{className:"inter text-xs text-slate-500 mt-1 uppercase tracking-tighter",children:"SDK Management and Application Orchestration"})]}),!r&&l.jsxs("button",{onClick:d,className:"px-6 py-2 bg-white/5 border border-white/10 rounded-lg text-[10px] uppercase font-bold text-slate-300 hover:text-white hover:bg-white/10 transition-all flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Link GitHub Account"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"Active Projects"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-white",children:t.length})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"API Requests"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-emerald",children:"24.1k"})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-widest block mb-1",children:"System Latency"}),l.jsx("span",{className:"cinzel text-2xl font-bold text-blue-400",children:"14ms"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-3 flex flex-col gap-6",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/5",children:[l.jsx("h3",{className:"cinzel text-sm text-gold tracking-[0.2em] font-bold uppercase",children:"Authorized Projects"}),l.jsx("button",{className:"px-4 py-2 bg-gold text-navy text-[10px] font-bold uppercase rounded-lg hover:bg-gold-bright transition-all",children:"Create New"})]}),l.jsx("div",{className:"p-0",children:n?l.jsx("div",{className:"p-10 text-center text-slate-500 inter text-xs uppercase animate-pulse",children:"Synchronizing with registry..."}):t.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:t.map(p=>l.jsxs("div",{className:"p-4 bg-black/20 border border-white/5 rounded-lg hover:border-gold/30 cursor-pointer transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"inter text-sm font-bold text-white group-hover:text-gold transition-colors",children:p.name}),l.jsx("span",{className:"text-[8px] px-1.5 py-0.5 rounded border border-emerald/50 text-emerald uppercase font-bold",children:p.status})]}),l.jsx("p",{className:"inter text-[11px] text-slate-400 line-clamp-2 mb-4",children:p.description}),l.jsxs("div",{className:"flex justify-between items-center text-[9px] text-slate-500 font-mono uppercase",children:[l.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()}),p.githubRepo&&l.jsx("span",{className:"text-blue-400 hover:underline",children:"GitHub Access "})]})]},p.id))}):l.jsxs("div",{className:"p-20 text-center flex flex-col items-center gap-4",children:[l.jsx("div",{className:"text-3xl grayscale opacity-30",children:""}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest",children:"No active deployments found for this identity."})]})})]})}),l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"Credentials"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-black/40 border border-white/10 rounded-lg",children:[l.jsx("span",{className:"inter text-[8px] text-slate-500 uppercase block mb-1",children:"Production Key"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("code",{className:"text-[10px] text-slate-300 font-mono",children:"sk_live_...48f2"}),l.jsx("button",{className:"text-gold text-[9px] font-bold hover:underline",children:"COPY"})]})]}),l.jsx("button",{className:"w-full py-2 border border-white/10 rounded-lg text-[9px] text-slate-400 uppercase font-bold hover:bg-white/5 transition-all",children:"Rotate Keys"})]})]}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl",children:[l.jsx("h4",{className:"inter text-[9px] text-gold font-bold uppercase tracking-widest mb-4",children:"SDK Resources"}),l.jsx("div",{className:"flex flex-col gap-2",children:["Documentation","API Reference","Go Client","React Hooks"].map(p=>l.jsxs("a",{href:"#",className:"inter text-[11px] text-slate-400 hover:text-white transition-colors flex justify-between items-center py-1 group",children:[p,l.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},p))})]})]})]})]})}const vj=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ng=L.createContext({}),ig=L.createContext(null),rg=typeof document<"u",Vb=rg?L.useLayoutEffect:L.useEffect,bj=L.createContext({strict:!1}),Fb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$9="framerAppearId",Sj="data-"+Fb($9);function G9(t,e,n,i){const{visualElement:r}=L.useContext(ng),a=L.useContext(bj),c=L.useContext(ig),h=L.useContext(vj).reducedMotion,d=L.useRef();i=i||a.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:r,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current;L.useInsertionEffect(()=>{p&&p.update(n,c)});const m=L.useRef(!!(n[Sj]&&!window.HandoffComplete));return Vb(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function _c(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q9(t,e,n){return L.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):_c(n)&&(n.current=i))},[e])}function hh(t){return typeof t=="string"||Array.isArray(t)}function sg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Bb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zb=["initial",...Bb];function og(t){return sg(t.animate)||zb.some(e=>hh(t[e]))}function wj(t){return!!(og(t)||t.variants)}function W9(t,e){if(og(t)){const{initial:n,animate:i}=t;return{initial:n===!1||hh(n)?n:void 0,animate:hh(i)?i:void 0}}return t.inherit!==!1?e:{}}function K9(t){const{initial:e,animate:n}=W9(t,L.useContext(ng));return L.useMemo(()=>({initial:e,animate:n}),[bE(e),bE(n)])}function bE(t){return Array.isArray(t)?t.join(" "):t}const SE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fh={};for(const t in SE)fh[t]={isEnabled:e=>SE[t].some(n=>!!e[n])};function Y9(t){for(const e in t)fh[e]={...fh[e],...t[e]}}const Ub=L.createContext({}),_j=L.createContext({}),Q9=Symbol.for("motionComponentSymbol");function J9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&Y9(t);function a(h,d){let p;const m={...L.useContext(vj),...h,layoutId:X9(h)},{isStatic:x}=m,v=K9(h),S=i(h,x);if(!x&&rg){v.visualElement=G9(r,S,m,e);const w=L.useContext(_j),E=L.useContext(bj).strict;v.visualElement&&(p=v.visualElement.loadFeatures(m,E,t,w))}return L.createElement(ng.Provider,{value:v},p&&v.visualElement?L.createElement(p,{visualElement:v.visualElement,...m}):null,n(r,h,q9(S,v.visualElement,d),S,x,v.visualElement))}const c=L.forwardRef(a);return c[Q9]=r,c}function X9({layoutId:t}){const e=L.useContext(Ub).id;return e&&t!==void 0?e+"-"+t:t}function Z9(t){function e(i,r={}){return J9(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const eU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hb(t){return typeof t!="string"||t.includes("-")?!1:!!(eU.indexOf(t)>-1||/[A-Z]/.test(t))}const Sm={};function tU(t){Object.assign(Sm,t)}const jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nl=new Set(jh);function Tj(t,{layout:e,layoutId:n}){return nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sm[t]||t==="opacity")}const di=t=>!!(t&&t.getVelocity),nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iU=jh.length;function rU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let a="";for(let c=0;c<iU;c++){const h=jh[c];if(t[h]!==void 0){const d=nU[h]||h;a+=`${d}(${t[h]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,i?"":a):n&&i&&(a="none"),a}const Ej=t=>e=>typeof e=="string"&&e.startsWith(t),Cj=Ej("--"),av=Ej("var(--"),sU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,oU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Po=(t,e,n)=>Math.min(Math.max(n,t),e),il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kd={...il,transform:t=>Po(0,1,t)},wp={...il,default:1},Yd=t=>Math.round(t*1e5)/1e5,ag=/(-)?([\d]*\.?[\d])+/g,Aj=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,aU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rh(t){return typeof t=="string"}const Nh=t=>({test:e=>Rh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=Nh("deg"),Ar=Nh("%"),Oe=Nh("px"),lU=Nh("vh"),cU=Nh("vw"),wE={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},_E={...il,transform:Math.round},Ij={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,size:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:wp,scaleX:wp,scaleY:wp,scaleZ:wp,skew:lo,skewX:lo,skewY:lo,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Kd,originX:wE,originY:wE,originZ:Oe,zIndex:_E,fillOpacity:Kd,strokeOpacity:Kd,numOctaves:_E};function $b(t,e,n,i){const{style:r,vars:a,transform:c,transformOrigin:h}=t;let d=!1,p=!1,m=!0;for(const x in e){const v=e[x];if(Cj(x)){a[x]=v;continue}const S=Ij[x],w=oU(v,S);if(nl.has(x)){if(d=!0,c[x]=w,!m)continue;v!==(S.default||0)&&(m=!1)}else x.startsWith("origin")?(p=!0,h[x]=w):r[x]=w}if(e.transform||(d||i?r.transform=rU(t.transform,n,m,i):r.transform&&(r.transform="none")),p){const{originX:x="50%",originY:v="50%",originZ:S=0}=h;r.transformOrigin=`${x} ${v} ${S}`}}const Gb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jj(t,e,n){for(const i in e)!di(e[i])&&!Tj(i,n)&&(t[i]=e[i])}function uU({transformTemplate:t},e,n){return L.useMemo(()=>{const i=Gb();return $b(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function dU(t,e,n){const i=t.style||{},r={};return jj(r,i,t),Object.assign(r,uU(t,e,n)),t.transformValues?t.transformValues(r):r}function hU(t,e,n){const i={},r=dU(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const fU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fU.has(t)}let Rj=t=>!wm(t);function pU(t){t&&(Rj=e=>e.startsWith("on")?!wm(e):t(e))}try{pU(require("@emotion/is-prop-valid").default)}catch{}function mU(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Rj(r)||n===!0&&wm(r)||!e&&!wm(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function TE(t,e,n){return typeof t=="string"?t:Oe.transform(e+n*t)}function gU(t,e,n){const i=TE(e,t.x,t.width),r=TE(n,t.y,t.height);return`${i} ${r}`}const yU={offset:"stroke-dashoffset",array:"stroke-dasharray"},xU={offset:"strokeDashoffset",array:"strokeDasharray"};function vU(t,e,n=1,i=0,r=!0){t.pathLength=1;const a=r?yU:xU;t[a.offset]=Oe.transform(-i);const c=Oe.transform(e),h=Oe.transform(n);t[a.array]=`${c} ${h}`}function qb(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:a,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...p},m,x,v){if($b(t,p,m,v),x){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:S,style:w,dimensions:E}=t;S.transform&&(E&&(w.transform=S.transform),delete S.transform),E&&(r!==void 0||a!==void 0||w.transform)&&(w.transformOrigin=gU(E,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(S.x=e),n!==void 0&&(S.y=n),i!==void 0&&(S.scale=i),c!==void 0&&vU(S,c,h,d,!1)}const Nj=()=>({...Gb(),attrs:{}}),Wb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bU(t,e,n,i){const r=L.useMemo(()=>{const a=Nj();return qb(a,e,{enableHardwareAcceleration:!1},Wb(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};jj(a,t.style,t),r.style={...a,...r.style}}return r}function SU(t=!1){return(n,i,r,{latestValues:a},c)=>{const d=(Hb(n)?bU:hU)(i,a,c,n),m={...mU(i,typeof n=="string",t),...d,ref:r},{children:x}=i,v=L.useMemo(()=>di(x)?x.get():x,[x]);return L.createElement(n,{...m,children:v})}}function kj(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const Pj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dj(t,e,n,i){kj(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Pj.has(r)?r:Fb(r),e.attrs[r])}function Kb(t,e){const{style:n}=t,i={};for(const r in n)(di(n[r])||e.style&&di(e.style[r])||Tj(r,t))&&(i[r]=n[r]);return i}function Oj(t,e){const n=Kb(t,e);for(const i in t)if(di(t[i])||di(e[i])){const r=jh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=t[i]}return n}function Yb(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}function Mj(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const _m=t=>Array.isArray(t),wU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_U=t=>_m(t)?t[t.length-1]||0:t;function zp(t){const e=di(t)?t.get():t;return wU(e)?e.toValue():e}function TU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,a){const c={latestValues:EU(i,r,a,t),renderState:e()};return n&&(c.mount=h=>n(i,h,c)),c}const Lj=t=>(e,n)=>{const i=L.useContext(ng),r=L.useContext(ig),a=()=>TU(t,e,i,r);return n?a():Mj(a)};function EU(t,e,n,i){const r={},a=i(t,{});for(const v in a)r[v]=zp(a[v]);let{initial:c,animate:h}=t;const d=og(t),p=wj(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const x=m?h:c;return x&&typeof x!="boolean"&&!sg(x)&&(Array.isArray(x)?x:[x]).forEach(S=>{const w=Yb(t,S);if(!w)return;const{transitionEnd:E,transition:T,...O}=w;for(const N in O){let P=O[N];if(Array.isArray(P)){const B=m?P.length-1:0;P=P[B]}P!==null&&(r[N]=P)}for(const N in E)r[N]=E[N]}),r}const sn=t=>t;class EE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function CU(t){let e=new EE,n=new EE,i=0,r=!1,a=!1;const c=new WeakSet,h={schedule:(d,p=!1,m=!1)=>{const x=m&&r,v=x?e:n;return p&&c.add(d),v.add(d)&&x&&r&&(i=e.order.length),d},cancel:d=>{n.remove(d),c.delete(d)},process:d=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let p=0;p<i;p++){const m=e.order[p];m(d),c.has(m)&&(h.schedule(m),t())}r=!1,a&&(a=!1,h.process(d))}};return h}const _p=["prepare","read","update","preRender","render","postRender"],AU=40;function IU(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=_p.reduce((x,v)=>(x[v]=CU(()=>n=!0),x),{}),c=x=>a[x].process(r),h=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,AU),1),r.timestamp=x,r.isProcessing=!0,_p.forEach(c),r.isProcessing=!1,n&&e&&(i=!1,t(h))},d=()=>{n=!0,i=!0,r.isProcessing||t(h)};return{schedule:_p.reduce((x,v)=>{const S=a[v];return x[v]=(w,E=!1,T=!1)=>(n||d(),S.schedule(w,E,T)),x},{}),cancel:x=>_p.forEach(v=>a[v].cancel(x)),state:r,steps:a}}const{schedule:Pt,cancel:ys,state:Gn,steps:J0}=IU(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0),jU={useVisualState:Lj({scrapeMotionValuesFromProps:Oj,createRenderState:Nj,onMount:(t,e,{renderState:n,latestValues:i})=>{Pt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pt.render(()=>{qb(n,i,{enableHardwareAcceleration:!1},Wb(e.tagName),t.transformTemplate),Dj(e,n)})}})},RU={useVisualState:Lj({scrapeMotionValuesFromProps:Kb,createRenderState:Gb})};function NU(t,{forwardMotionProps:e=!1},n,i){return{...Hb(t)?jU:RU,preloadedFeatures:n,useRender:SU(e),createVisualElement:i,Component:t}}function cs(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const Vj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function lg(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const kU=t=>e=>Vj(e)&&t(e,lg(e));function ds(t,e,n,i){return cs(t,e,kU(n),i)}const PU=(t,e)=>n=>e(t(n)),Ao=(...t)=>t.reduce(PU);function Fj(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const CE=Fj("dragHorizontal"),AE=Fj("dragVertical");function Bj(t){let e=!1;if(t==="y")e=AE();else if(t==="x")e=CE();else{const n=CE(),i=AE();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function zj(){const t=Bj(!0);return t?(t(),!1):!0}class Vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function IE(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(a,c)=>{if(a.pointerType==="touch"||zj())return;const h=t.getProps();t.animationState&&h.whileHover&&t.animationState.setActive("whileHover",e),h[i]&&Pt.update(()=>h[i](a,c))};return ds(t.current,n,r,{passive:!t.getProps()[i]})}class DU extends Vo{mount(){this.unmount=Ao(IE(this.node,!0),IE(this.node,!1))}unmount(){}}class OU extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ao(cs(this.node.current,"focus",()=>this.onFocus()),cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Uj=(t,e)=>e?t===e?!0:Uj(t,e.parentElement):!1;function X0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,lg(n))}class MU extends Vo{constructor(){super(...arguments),this.removeStartListeners=sn,this.removeEndListeners=sn,this.removeAccessibleListeners=sn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),a=ds(window,"pointerup",(h,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:x}=this.node.getProps();Pt.update(()=>{!x&&!Uj(this.node.current,h.target)?m&&m(h,d):p&&p(h,d)})},{passive:!(i.onTap||i.onPointerUp)}),c=ds(window,"pointercancel",(h,d)=>this.cancelPress(h,d),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ao(a,c),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const c=h=>{h.key!=="Enter"||!this.checkPressEnd()||X0("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&Pt.update(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=cs(this.node.current,"keyup",c),X0("down",(h,d)=>{this.startPress(h,d)})},n=cs(this.node.current,"keydown",e),i=()=>{this.isPressing&&X0("cancel",(a,c)=>this.cancelPress(a,c))},r=cs(this.node.current,"blur",i);this.removeAccessibleListeners=Ao(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Pt.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zj()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Pt.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=ds(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=cs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ao(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lv=new WeakMap,Z0=new WeakMap,LU=t=>{const e=lv.get(t.target);e&&e(t)},VU=t=>{t.forEach(LU)};function FU({root:t,...e}){const n=t||document;Z0.has(n)||Z0.set(n,{});const i=Z0.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(VU,{root:t,...e})),i[r]}function BU(t,e,n){const i=FU(e);return lv.set(t,n),i.observe(t),()=>{lv.delete(t),i.unobserve(t)}}const zU={some:0,all:1};class UU extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:zU[r]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),v=p?m:x;v&&v(d)};return BU(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HU(e,n))&&this.startObserver()}unmount(){}}function HU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $U={inView:{Feature:UU},tap:{Feature:MU},focus:{Feature:OU},hover:{Feature:DU}};function Hj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function GU(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function qU(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function cg(t,e,n){const i=t.getProps();return Yb(i,e,n!==void 0?n:i.custom,GU(t),qU(t))}let Qb=sn;const Ba=t=>t*1e3,hs=t=>t/1e3,WU={current:!1},$j=t=>Array.isArray(t)&&typeof t[0]=="number";function Gj(t){return!!(!t||typeof t=="string"&&qj[t]||$j(t)||Array.isArray(t)&&t.every(Gj))}const Ld=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,qj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ld([0,.65,.55,1]),circOut:Ld([.55,0,1,.45]),backIn:Ld([.31,.01,.66,-.59]),backOut:Ld([.33,1.53,.69,.99])};function Wj(t){if(t)return $j(t)?Ld(t):Array.isArray(t)?t.map(Wj):qj[t]}function KU(t,e,n,{delay:i=0,duration:r,repeat:a=0,repeatType:c="loop",ease:h,times:d}={}){const p={[e]:n};d&&(p.offset=d);const m=Wj(h);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}function YU(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const Kj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QU=1e-7,JU=12;function XU(t,e,n,i,r){let a,c,h=0;do c=e+(n-e)/2,a=Kj(c,i,r)-t,a>0?n=c:e=c;while(Math.abs(a)>QU&&++h<JU);return c}function kh(t,e,n,i){if(t===e&&n===i)return sn;const r=a=>XU(a,0,1,t,n);return a=>a===0||a===1?a:Kj(r(a),e,i)}const ZU=kh(.42,0,1,1),eH=kh(0,0,.58,1),Yj=kh(.42,0,.58,1),tH=t=>Array.isArray(t)&&typeof t[0]!="number",Qj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Jj=t=>e=>1-t(1-e),Jb=t=>1-Math.sin(Math.acos(t)),Xj=Jj(Jb),nH=Qj(Jb),Zj=kh(.33,1.53,.69,.99),Xb=Jj(Zj),iH=Qj(Xb),rH=t=>(t*=2)<1?.5*Xb(t):.5*(2-Math.pow(2,-10*(t-1))),sH={linear:sn,easeIn:ZU,easeInOut:Yj,easeOut:eH,circIn:Jb,circInOut:nH,circOut:Xj,backIn:Xb,backInOut:iH,backOut:Zj,anticipate:rH},jE=t=>{if(Array.isArray(t)){Qb(t.length===4);const[e,n,i,r]=t;return kh(e,n,i,r)}else if(typeof t=="string")return sH[t];return t},Zb=(t,e)=>n=>!!(Rh(n)&&aU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),eR=(t,e,n)=>i=>{if(!Rh(i))return i;const[r,a,c,h]=i.match(ag);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},oH=t=>Po(0,255,t),ex={...il,transform:t=>Math.round(oH(t))},Oa={test:Zb("rgb","red"),parse:eR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ex.transform(t)+", "+ex.transform(e)+", "+ex.transform(n)+", "+Yd(Kd.transform(i))+")"};function aH(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const cv={test:Zb("#"),parse:aH,transform:Oa.transform},Tc={test:Zb("hsl","hue"),parse:eR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ar.transform(Yd(e))+", "+Ar.transform(Yd(n))+", "+Yd(Kd.transform(i))+")"},Zn={test:t=>Oa.test(t)||cv.test(t)||Tc.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Tc.test(t)?Tc.parse(t):cv.parse(t),transform:t=>Rh(t)?t:t.hasOwnProperty("red")?Oa.transform(t):Tc.transform(t)},Gt=(t,e,n)=>-n*t+n*e+t;function tx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lH({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,a=0,c=0;if(!e)r=a=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;r=tx(d,h,t+1/3),a=tx(d,h,t),c=tx(d,h,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:i}}const nx=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},cH=[cv,Oa,Tc],uH=t=>cH.find(e=>e.test(t));function RE(t){const e=uH(t);let n=e.parse(t);return e===Tc&&(n=lH(n)),n}const tR=(t,e)=>{const n=RE(t),i=RE(e),r={...n};return a=>(r.red=nx(n.red,i.red,a),r.green=nx(n.green,i.green,a),r.blue=nx(n.blue,i.blue,a),r.alpha=Gt(n.alpha,i.alpha,a),Oa.transform(r))};function dH(t){var e,n;return isNaN(t)&&Rh(t)&&(((e=t.match(ag))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Aj))===null||n===void 0?void 0:n.length)||0)>0}const nR={regex:sU,countKey:"Vars",token:"${v}",parse:sn},iR={regex:Aj,countKey:"Colors",token:"${c}",parse:Zn.parse},rR={regex:ag,countKey:"Numbers",token:"${n}",parse:il.parse};function ix(t,{regex:e,countKey:n,token:i,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...a.map(r)))}function Tm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ix(n,nR),ix(n,iR),ix(n,rR),n}function sR(t){return Tm(t).values}function oR(t){const{values:e,numColors:n,numVars:i,tokenised:r}=Tm(t),a=e.length;return c=>{let h=r;for(let d=0;d<a;d++)d<i?h=h.replace(nR.token,c[d]):d<i+n?h=h.replace(iR.token,Zn.transform(c[d])):h=h.replace(rR.token,Yd(c[d]));return h}}const hH=t=>typeof t=="number"?0:t;function fH(t){const e=sR(t);return oR(t)(e.map(hH))}const Do={test:dH,parse:sR,createTransformer:oR,getAnimatableNone:fH},aR=(t,e)=>n=>`${n>0?e:t}`;function lR(t,e){return typeof t=="number"?n=>Gt(t,e,n):Zn.test(t)?tR(t,e):t.startsWith("var(")?aR(t,e):uR(t,e)}const cR=(t,e)=>{const n=[...t],i=n.length,r=t.map((a,c)=>lR(a,e[c]));return a=>{for(let c=0;c<i;c++)n[c]=r[c](a);return n}},pH=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=lR(t[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}},uR=(t,e)=>{const n=Do.createTransformer(e),i=Tm(t),r=Tm(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Ao(cR(i.values,r.values),n):aR(t,e)},ph=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},NE=(t,e)=>n=>Gt(t,e,n);function mH(t){return typeof t=="number"?NE:typeof t=="string"?Zn.test(t)?tR:uR:Array.isArray(t)?cR:typeof t=="object"?pH:NE}function gH(t,e,n){const i=[],r=n||mH(t[0]),a=t.length-1;for(let c=0;c<a;c++){let h=r(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||sn:e;h=Ao(d,h)}i.push(h)}return i}function dR(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=t.length;if(Qb(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=gH(e,i,r),h=c.length,d=p=>{let m=0;if(h>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const x=ph(t[m],t[m+1],p);return c[m](x)};return n?p=>d(Po(t[0],t[a-1],p)):d}function yH(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=ph(0,e,i);t.push(Gt(n,1,r))}}function xH(t){const e=[0];return yH(e,t.length-1),e}function vH(t,e){return t.map(n=>n*e)}function bH(t,e){return t.map(()=>e||Yj).splice(0,t.length-1)}function Em({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=tH(i)?i.map(jE):jE(i),a={done:!1,value:e[0]},c=vH(n&&n.length===e.length?n:xH(e),t),h=dR(c,e,{ease:Array.isArray(r)?r:bH(e,r)});return{calculatedDuration:t,next:d=>(a.value=h(d),a.done=d>=t,a)}}function hR(t,e){return e?t*(1e3/e):0}const SH=5;function fR(t,e,n){const i=Math.max(e-SH,0);return hR(n-t(i),e-i)}const rx=.001,wH=.01,_H=10,TH=.05,EH=1;function CH({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,a,c=1-e;c=Po(TH,EH,c),t=Po(wH,_H,hs(t)),c<1?(r=p=>{const m=p*c,x=m*t,v=m-n,S=uv(p,c),w=Math.exp(-x);return rx-v/S*w},a=p=>{const x=p*c*t,v=x*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,w=Math.exp(-x),E=uv(Math.pow(p,2),c);return(-r(p)+rx>0?-1:1)*((v-S)*w)/E}):(r=p=>{const m=Math.exp(-p*t),x=(p-n)*t+1;return-rx+m*x},a=p=>{const m=Math.exp(-p*t),x=(n-p)*(t*t);return m*x});const h=5/t,d=IH(r,a,h);if(t=Ba(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const AH=12;function IH(t,e,n){let i=n;for(let r=1;r<AH;r++)i=i-t(i)/e(i);return i}function uv(t,e){return t*Math.sqrt(1-e*e)}const jH=["duration","bounce"],RH=["stiffness","damping","mass"];function kE(t,e){return e.some(n=>t[n]!==void 0)}function NH(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!kE(t,RH)&&kE(t,jH)){const n=CH(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function pR({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],a=t[t.length-1],c={done:!1,value:r},{stiffness:h,damping:d,mass:p,duration:m,velocity:x,isResolvedFromDuration:v}=NH({...i,velocity:-hs(i.velocity||0)}),S=x||0,w=d/(2*Math.sqrt(h*p)),E=a-r,T=hs(Math.sqrt(h/p)),O=Math.abs(E)<5;n||(n=O?.01:2),e||(e=O?.005:.5);let N;if(w<1){const P=uv(T,w);N=B=>{const W=Math.exp(-w*T*B);return a-W*((S+w*T*E)/P*Math.sin(P*B)+E*Math.cos(P*B))}}else if(w===1)N=P=>a-Math.exp(-T*P)*(E+(S+T*E)*P);else{const P=T*Math.sqrt(w*w-1);N=B=>{const W=Math.exp(-w*T*B),K=Math.min(P*B,300);return a-W*((S+w*T*E)*Math.sinh(K)+P*E*Math.cosh(K))/P}}return{calculatedDuration:v&&m||null,next:P=>{const B=N(P);if(v)c.done=P>=m;else{let W=S;P!==0&&(w<1?W=fR(N,P,B):W=0);const K=Math.abs(W)<=n,j=Math.abs(a-B)<=e;c.done=K&&j}return c.value=c.done?a:B,c}}}function PE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:c,min:h,max:d,restDelta:p=.5,restSpeed:m}){const x=t[0],v={done:!1,value:x},S=A=>h!==void 0&&A<h||d!==void 0&&A>d,w=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let E=n*e;const T=x+E,O=c===void 0?T:c(T);O!==T&&(E=O-x);const N=A=>-E*Math.exp(-A/i),P=A=>O+N(A),B=A=>{const R=N(A),V=P(A);v.done=Math.abs(R)<=p,v.value=v.done?O:V};let W,K;const j=A=>{S(v.value)&&(W=A,K=pR({keyframes:[v.value,w(v.value)],velocity:fR(P,A,v.value),damping:r,stiffness:a,restDelta:p,restSpeed:m}))};return j(0),{calculatedDuration:null,next:A=>{let R=!1;return!K&&W===void 0&&(R=!0,B(A),j(A)),W!==void 0&&A>W?K.next(A-W):(!R&&B(A),v)}}}const kH=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pt.update(e,!0),stop:()=>ys(e),now:()=>Gn.isProcessing?Gn.timestamp:performance.now()}},DE=2e4;function OE(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<DE;)e+=n,i=t.next(e);return e>=DE?1/0:e}const PH={decay:PE,inertia:PE,tween:Em,keyframes:Em,spring:pR};function Cm({autoplay:t=!0,delay:e=0,driver:n=kH,keyframes:i,type:r="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:h="loop",onPlay:d,onStop:p,onComplete:m,onUpdate:x,...v}){let S=1,w=!1,E,T;const O=()=>{T=new Promise(H=>{E=H})};O();let N;const P=PH[r]||Em;let B;P!==Em&&typeof i[0]!="number"&&(B=dR([0,100],i,{clamp:!1}),i=[0,100]);const W=P({...v,keyframes:i});let K;h==="mirror"&&(K=P({...v,keyframes:[...i].reverse(),velocity:-(v.velocity||0)}));let j="idle",A=null,R=null,V=null;W.calculatedDuration===null&&a&&(W.calculatedDuration=OE(W));const{calculatedDuration:z}=W;let U=1/0,F=1/0;z!==null&&(U=z+c,F=U*(a+1)-c);let pe=0;const Ce=H=>{if(R===null)return;S>0&&(R=Math.min(R,H)),S<0&&(R=Math.min(H-F/S,R)),A!==null?pe=A:pe=Math.round(H-R)*S;const ee=pe-e*(S>=0?1:-1),ne=S>=0?ee<0:ee>F;pe=Math.max(ee,0),j==="finished"&&A===null&&(pe=F);let ce=pe,we=W;if(a){const rt=Math.min(pe,F)/U;let Ft=Math.floor(rt),_t=rt%1;!_t&&rt>=1&&(_t=1),_t===1&&Ft--,Ft=Math.min(Ft,a+1),Ft%2&&(h==="reverse"?(_t=1-_t,c&&(_t-=c/U)):h==="mirror"&&(we=K)),ce=Po(0,1,_t)*U}const Ae=ne?{done:!1,value:i[0]}:we.next(ce);B&&(Ae.value=B(Ae.value));let{done:De}=Ae;!ne&&z!==null&&(De=S>=0?pe>=F:pe<=0);const ut=A===null&&(j==="finished"||j==="running"&&De);return x&&x(Ae.value),ut&&oe(),Ae},D=()=>{N&&N.stop(),N=void 0},G=()=>{j="idle",D(),E(),O(),R=V=null},oe=()=>{j="finished",m&&m(),D(),E()},ye=()=>{if(w)return;N||(N=n(Ce));const H=N.now();d&&d(),A!==null?R=H-A:(!R||j==="finished")&&(R=H),j==="finished"&&O(),V=R,A=null,j="running",N.start()};t&&ye();const Se={then(H,ee){return T.then(H,ee)},get time(){return hs(pe)},set time(H){H=Ba(H),pe=H,A!==null||!N||S===0?A=H:R=N.now()-H/S},get duration(){const H=W.calculatedDuration===null?OE(W):W.calculatedDuration;return hs(H)},get speed(){return S},set speed(H){H===S||!N||(S=H,Se.time=hs(pe))},get state(){return j},play:ye,pause:()=>{j="paused",A=pe},stop:()=>{w=!0,j!=="idle"&&(j="idle",p&&p(),G())},cancel:()=>{V!==null&&Ce(V),G()},complete:()=>{j="finished"},sample:H=>(R=0,Ce(H))};return Se}function DH(t){let e;return()=>(e===void 0&&(e=t()),e)}const OH=DH(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),MH=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Tp=10,LH=2e4,VH=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Gj(e.ease);function FH(t,e,{onUpdate:n,onComplete:i,...r}){if(!(OH()&&MH.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let c=!1,h,d,p=!1;const m=()=>{d=new Promise(P=>{h=P})};m();let{keyframes:x,duration:v=300,ease:S,times:w}=r;if(VH(e,r)){const P=Cm({...r,repeat:0,delay:0});let B={done:!1,value:x[0]};const W=[];let K=0;for(;!B.done&&K<LH;)B=P.sample(K),W.push(B.value),K+=Tp;w=void 0,x=W,v=K-Tp,S="linear"}const E=KU(t.owner.current,e,x,{...r,duration:v,ease:S,times:w}),T=()=>{p=!1,E.cancel()},O=()=>{p=!0,Pt.update(T),h(),m()};return E.onfinish=()=>{p||(t.set(YU(x,r)),i&&i(),O())},{then(P,B){return d.then(P,B)},attachTimeline(P){return E.timeline=P,E.onfinish=null,sn},get time(){return hs(E.currentTime||0)},set time(P){E.currentTime=Ba(P)},get speed(){return E.playbackRate},set speed(P){E.playbackRate=P},get duration(){return hs(v)},play:()=>{c||(E.play(),ys(T))},pause:()=>E.pause(),stop:()=>{if(c=!0,E.playState==="idle")return;const{currentTime:P}=E;if(P){const B=Cm({...r,autoplay:!1});t.setWithVelocity(B.sample(P-Tp).value,B.sample(P).value,Tp)}O()},complete:()=>{p||E.finish()},cancel:O}}function BH({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const r=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:sn,pause:sn,stop:sn,then:a=>(a(),Promise.resolve()),cancel:sn,complete:sn});return e?Cm({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const zH={type:"spring",stiffness:500,damping:25,restSpeed:10},UH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HH={type:"keyframes",duration:.8},$H={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GH=(t,{keyframes:e})=>e.length>2?HH:nl.has(t)?t.startsWith("scale")?UH(e[1]):zH:$H,dv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Do.test(e)||e==="0")&&!e.startsWith("url(")),qH=new Set(["brightness","contrast","saturate","opacity"]);function WH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ag)||[];if(!i)return t;const r=n.replace(i,"");let a=qH.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const KH=/([a-z-]*)\(.*?\)/g,hv={...Do,getAnimatableNone:t=>{const e=t.match(KH);return e?e.map(WH).join(" "):t}},YH={...Ij,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:hv,WebkitFilter:hv},e1=t=>YH[t];function mR(t,e){let n=e1(t);return n!==hv&&(n=Do),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gR=t=>/^0[^.\s]+$/.test(t);function QH(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||gR(t)}function JH(t,e,n,i){const r=dv(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const c=i.from!==void 0?i.from:t.get();let h;const d=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?c:a[p-1]),QH(a[p])&&d.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(h=a[p]);if(r&&d.length&&h)for(let p=0;p<d.length;p++){const m=d[p];a[m]=mR(e,h)}return a}function XH({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:c,repeatDelay:h,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function t1(t,e){return t[e]||t.default||t}const ZH={skipAnimations:!1},n1=(t,e,n,i={})=>r=>{const a=t1(i,t)||{},c=a.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ba(c);const d=JH(e,t,n,a),p=d[0],m=d[d.length-1],x=dv(t,p),v=dv(t,m);let S={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-h,onUpdate:w=>{e.set(w),a.onUpdate&&a.onUpdate(w)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(XH(a)||(S={...S,...GH(t,S)}),S.duration&&(S.duration=Ba(S.duration)),S.repeatDelay&&(S.repeatDelay=Ba(S.repeatDelay)),!x||!v||WU.current||a.type===!1||ZH.skipAnimations)return BH(S);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=FH(e,t,S);if(w)return w}return Cm(S)};function Am(t){return!!(di(t)&&t.add)}const yR=t=>/^\-?\d*\.?\d+$/.test(t);function i1(t,e){t.indexOf(e)===-1&&t.push(e)}function r1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class s1{constructor(){this.subscriptions=[]}add(e){return i1(this.subscriptions,e),()=>r1(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const c=this.subscriptions[a];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const e$=t=>!isNaN(parseFloat(t));class t${constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:a,timestamp:c}=Gn;this.lastUpdated!==c&&(this.timeDelta=a,this.lastUpdated=c,Pt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Pt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=e$(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new s1);const i=this.events[e].add(n);return e==="change"?()=>{i(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?hR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jc(t,e){return new t$(t,e)}const xR=t=>e=>e.test(t),n$={test:t=>t==="auto",parse:t=>t},vR=[il,Oe,Ar,lo,cU,lU,n$],_d=t=>vR.find(xR(t)),i$=[...vR,Zn,Do],r$=t=>i$.find(xR(t));function s$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jc(n))}function o$(t,e){const n=cg(t,e);let{transitionEnd:i={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...i};for(const c in a){const h=_U(a[c]);s$(t,c,h)}}function a$(t,e,n){var i,r;const a=Object.keys(e).filter(h=>!t.hasValue(h)),c=a.length;if(c)for(let h=0;h<c;h++){const d=a[h],p=e[d];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(r=(i=n[d])!==null&&i!==void 0?i:t.readValue(d))!==null&&r!==void 0?r:e[d]),m!=null&&(typeof m=="string"&&(yR(m)||gR(m))?m=parseFloat(m):!r$(m)&&Do.test(p)&&(m=mR(d,p)),t.addValue(d,Jc(m,{owner:t})),n[d]===void 0&&(n[d]=m),m!==null&&t.setBaseTarget(d,m))}}function l$(t,e){return e?(e[t]||e.default||e).from:void 0}function c$(t,e,n){const i={};for(const r in t){const a=l$(r,e);if(a!==void 0)i[r]=a;else{const c=n.getValue(r);c&&(i[r]=c.get())}}return i}function u$({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function d$(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function bR(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...h}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");i&&(a=i);const p=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const x in h){const v=t.getValue(x),S=h[x];if(!v||S===void 0||m&&u$(m,x))continue;const w={delay:n,elapsed:0,...t1(a||{},x)};if(window.HandoffAppearAnimations){const O=t.getProps()[Sj];if(O){const N=window.HandoffAppearAnimations(O,x,v,Pt);N!==null&&(w.elapsed=N,w.isHandoff=!0)}}let E=!w.isHandoff&&!d$(v,S);if(w.type==="spring"&&(v.getVelocity()||w.velocity)&&(E=!1),v.animation&&(E=!1),E)continue;v.start(n1(x,v,S,t.shouldReduceMotion&&nl.has(x)?{type:!1}:w));const T=v.animation;Am(d)&&(d.add(x),T.then(()=>d.remove(x))),p.push(T)}return c&&Promise.all(p).then(()=>{c&&o$(t,c)}),p}function fv(t,e,n={}){const i=cg(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(bR(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:x}=r;return h$(t,e,p+d,m,x,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,p]=h==="beforeChildren"?[a,c]:[c,a];return d().then(()=>p())}else return Promise.all([a(),c(n.delay)])}function h$(t,e,n=0,i=0,r=1,a){const c=[],h=(t.variantChildren.size-1)*i,d=r===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(f$).forEach((p,m)=>{p.notify("AnimationStart",e),c.push(fv(p,e,{...a,delay:n+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function f$(t,e){return t.sortNodePosition(e)}function p$(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>fv(t,a,n));i=Promise.all(r)}else if(typeof e=="string")i=fv(t,e,n);else{const r=typeof e=="function"?cg(t,e,n.custom):e;i=Promise.all(bR(t,r,n))}return i.then(()=>t.notify("AnimationComplete",e))}const m$=[...Bb].reverse(),g$=Bb.length;function y$(t){return e=>Promise.all(e.map(({animation:n,options:i})=>p$(t,n,i)))}function x$(t){let e=y$(t);const n=b$();let i=!0;const r=(d,p)=>{const m=cg(t,p);if(m){const{transition:x,transitionEnd:v,...S}=m;d={...d,...S,...v}}return d};function a(d){e=d(t)}function c(d,p){const m=t.getProps(),x=t.getVariantContext(!0)||{},v=[],S=new Set;let w={},E=1/0;for(let O=0;O<g$;O++){const N=m$[O],P=n[N],B=m[N]!==void 0?m[N]:x[N],W=hh(B),K=N===p?P.isActive:null;K===!1&&(E=O);let j=B===x[N]&&B!==m[N]&&W;if(j&&i&&t.manuallyAnimateOnMount&&(j=!1),P.protectedKeys={...w},!P.isActive&&K===null||!B&&!P.prevProp||sg(B)||typeof B=="boolean")continue;let R=v$(P.prevProp,B)||N===p&&P.isActive&&!j&&W||O>E&&W,V=!1;const z=Array.isArray(B)?B:[B];let U=z.reduce(r,{});K===!1&&(U={});const{prevResolvedValues:F={}}=P,pe={...F,...U},Ce=D=>{R=!0,S.has(D)&&(V=!0,S.delete(D)),P.needsAnimating[D]=!0};for(const D in pe){const G=U[D],oe=F[D];if(w.hasOwnProperty(D))continue;let ye=!1;_m(G)&&_m(oe)?ye=!Hj(G,oe):ye=G!==oe,ye?G!==void 0?Ce(D):S.add(D):G!==void 0&&S.has(D)?Ce(D):P.protectedKeys[D]=!0}P.prevProp=B,P.prevResolvedValues=U,P.isActive&&(w={...w,...U}),i&&t.blockInitialAnimation&&(R=!1),R&&(!j||V)&&v.push(...z.map(D=>({animation:D,options:{type:N,...d}})))}if(S.size){const O={};S.forEach(N=>{const P=t.getBaseTarget(N);P!==void 0&&(O[N]=P)}),v.push({animation:O})}let T=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(v):Promise.resolve()}function h(d,p,m){var x;if(n[d].isActive===p)return Promise.resolve();(x=t.variantChildren)===null||x===void 0||x.forEach(S=>{var w;return(w=S.animationState)===null||w===void 0?void 0:w.setActive(d,p)}),n[d].isActive=p;const v=c(m,d);for(const S in n)n[S].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:a,getState:()=>n}}function v$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hj(e,t):!1}function da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b$(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class S$ extends Vo{constructor(e){super(e),e.animationState||(e.animationState=x$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),sg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let w$=0;class _$ extends Vo{constructor(){super(...arguments),this.id=w$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const T$={animation:{Feature:S$},exit:{Feature:_$}},ME=(t,e)=>Math.abs(t-e);function E$(t,e){const n=ME(t.x,e.x),i=ME(t.y,e.y);return Math.sqrt(n**2+i**2)}class SR{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ox(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=E$(x.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:w}=x,{timestamp:E}=Gn;this.history.push({...w,timestamp:E});const{onStart:T,onMove:O}=this.handlers;v||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=sx(v,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ox(x.type==="pointercancel"?this.lastMoveEventInfo:sx(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,T),w&&w(x,T)},!Vj(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const c=lg(e),h=sx(c,this.transformPagePoint),{point:d}=h,{timestamp:p}=Gn;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,ox(h,this.history)),this.removeListeners=Ao(ds(this.contextWindow,"pointermove",this.handlePointerMove),ds(this.contextWindow,"pointerup",this.handlePointerUp),ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function sx(t,e){return e?{point:e(t.point)}:t}function LE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ox({point:t},e){return{point:t,delta:LE(t,wR(e)),offset:LE(t,C$(e)),velocity:A$(e,.1)}}function C$(t){return t[0]}function wR(t){return t[t.length-1]}function A$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=wR(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ba(e)));)n--;if(!i)return{x:0,y:0};const a=hs(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const c={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Ai(t){return t.max-t.min}function pv(t,e=0,n=.01){return Math.abs(t-e)<=n}function VE(t,e,n,i=.5){t.origin=i,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),(pv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(pv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Qd(t,e,n,i){VE(t.x,e.x,n.x,i?i.originX:void 0),VE(t.y,e.y,n.y,i?i.originY:void 0)}function FE(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function I$(t,e,n){FE(t.x,e.x,n.x),FE(t.y,e.y,n.y)}function BE(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function Jd(t,e,n){BE(t.x,e.x,n.x),BE(t.y,e.y,n.y)}function j$(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Gt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Gt(n,t,i.max):Math.min(t,n)),t}function zE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R$(t,{top:e,left:n,bottom:i,right:r}){return{x:zE(t.x,n,r),y:zE(t.y,e,i)}}function UE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function N$(t,e){return{x:UE(t.x,e.x),y:UE(t.y,e.y)}}function k$(t,e){let n=.5;const i=Ai(t),r=Ai(e);return r>i?n=ph(e.min,e.max-i,t.min):i>r&&(n=ph(t.min,t.max-r,e.min)),Po(0,1,n)}function P$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mv=.35;function D$(t=mv){return t===!1?t=0:t===!0&&(t=mv),{x:HE(t,"left","right"),y:HE(t,"top","bottom")}}function HE(t,e,n){return{min:$E(t,e),max:$E(t,n)}}function $E(t,e){return typeof t=="number"?t:t[e]||0}const GE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ec=()=>({x:GE(),y:GE()}),qE=()=>({min:0,max:0}),hn=()=>({x:qE(),y:qE()});function zi(t){return[t("x"),t("y")]}function _R({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function O$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ax(t){return t===void 0||t===1}function gv({scale:t,scaleX:e,scaleY:n}){return!ax(t)||!ax(e)||!ax(n)}function fa(t){return gv(t)||TR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function TR(t){return WE(t.x)||WE(t.y)}function WE(t){return t&&t!=="0%"}function Im(t,e,n){const i=t-n,r=e*i;return n+r}function KE(t,e,n,i,r){return r!==void 0&&(t=Im(t,r,i)),Im(t,n,i)+e}function yv(t,e=0,n=1,i,r){t.min=KE(t.min,e,n,i,r),t.max=KE(t.max,e,n,i,r)}function ER(t,{x:e,y:n}){yv(t.x,e.translate,e.scale,e.originPoint),yv(t.y,n.translate,n.scale,n.originPoint)}function L$(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,c;for(let h=0;h<r;h++){a=n[h],c=a.projectionDelta;const d=a.instance;d&&d.style&&d.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Cc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ER(t,c)),i&&fa(a.latestValues)&&Cc(t,a.latestValues))}e.x=YE(e.x),e.y=YE(e.y)}function YE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function uo(t,e){t.min=t.min+e,t.max=t.max+e}function QE(t,e,[n,i,r]){const a=e[r]!==void 0?e[r]:.5,c=Gt(t.min,t.max,a);yv(t,e[n],e[i],c,e.scale)}const V$=["x","scaleX","originX"],F$=["y","scaleY","originY"];function Cc(t,e){QE(t.x,e,V$),QE(t.y,e,F$)}function CR(t,e){return _R(M$(t.getBoundingClientRect(),e))}function B$(t,e,n){const i=CR(t,n),{scroll:r}=e;return r&&(uo(i.x,r.offset.x),uo(i.y,r.offset.y)),i}const AR=({current:t})=>t?t.ownerDocument.defaultView:null,z$=new WeakMap;class U${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lg(m,"page").point)},a=(m,x)=>{const{drag:v,dragPropagation:S,onDragStart:w}=this.getProps();if(v&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bj(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zi(T=>{let O=this.getAxisMotionValue(T).get()||0;if(Ar.test(O)){const{projection:N}=this.visualElement;if(N&&N.layout){const P=N.layout.layoutBox[T];P&&(O=Ai(P)*(parseFloat(O)/100))}}this.originPoint[T]=O}),w&&Pt.update(()=>w(m,x),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(m,x)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:w,onDrag:E}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:T}=x;if(S&&this.currentDirection===null){this.currentDirection=H$(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),E&&E(m,x)},h=(m,x)=>this.stop(m,x),d=()=>zi(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new SR(e,{onSessionStart:r,onStart:a,onMove:c,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:AR(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Pt.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Ep(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=j$(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&_c(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=R$(r.layoutBox,n):this.constraints=!1,this.elastic=D$(i),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zi(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=P$(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_c(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=B$(i,r.root,this.visualElement.getTransformPagePoint());let c=N$(r.layout.layoutBox,a);if(n){const h=n(O$(c));this.hasMutatedConstraints=!!h,h&&(c=_R(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=zi(m=>{if(!Ep(m,n,this.currentDirection))return;let x=d&&d[m]||{};c&&(x={min:0,max:0});const v=r?200:1e6,S=r?40:1e7,w={type:"inertia",velocity:i?e[m]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(m,w)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(n1(e,i,0,n))}stopAnimation(){zi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){zi(n=>{const{drag:i}=this.getProps();if(!Ep(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];a.set(e[n]-Gt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!_c(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zi(c=>{const h=this.getAxisMotionValue(c);if(h){const d=h.get();r[c]=k$({min:d,max:d},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zi(c=>{if(!Ep(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:p}=this.constraints[c];h.set(Gt(d,p,r[c]))})}addListeners(){if(!this.visualElement.current)return;z$.set(this.visualElement,this);const e=this.visualElement.current,n=ds(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();_c(d)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const c=cs(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(zi(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=d[m].translate,x.set(x.get()+d[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:c=mv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:c,dragMomentum:h}}}function Ep(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function H$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $$ extends Vo{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new U$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const JE=t=>(e,n)=>{t&&Pt.update(()=>t(e,n))};class G$ extends Vo{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new SR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:JE(e),onStart:JE(n),onMove:i,onEnd:(a,c)=>{delete this.session,r&&Pt.update(()=>r(a,c))}}}mount(){this.removePointerDownListener=ds(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function q$(){const t=L.useContext(ig);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=L.useId();return L.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Up={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Td={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=XE(t,e.target.x),i=XE(t,e.target.y);return`${n}% ${i}%`}},W$={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Do.parse(t);if(r.length>5)return i;const a=Do.createTransformer(t),c=typeof r[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;r[0+c]/=h,r[1+c]/=d;const p=Gt(h,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=p),typeof r[3+c]=="number"&&(r[3+c]/=p),a(r)}};class K$ extends xt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;tU(Y$),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Up.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,c=i.projection;return c&&(c.isPresent=a,r||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||Pt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IR(t){const[e,n]=q$(),i=L.useContext(Ub);return xt.createElement(K$,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(_j),isPresent:e,safeToRemove:n})}const Y$={borderRadius:{...Td,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Td,borderTopRightRadius:Td,borderBottomLeftRadius:Td,borderBottomRightRadius:Td,boxShadow:W$},jR=["TopLeft","TopRight","BottomLeft","BottomRight"],Q$=jR.length,ZE=t=>typeof t=="string"?parseFloat(t):t,eC=t=>typeof t=="number"||Oe.test(t);function J$(t,e,n,i,r,a){r?(t.opacity=Gt(0,n.opacity!==void 0?n.opacity:1,X$(i)),t.opacityExit=Gt(e.opacity!==void 0?e.opacity:1,0,Z$(i))):a&&(t.opacity=Gt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let c=0;c<Q$;c++){const h=`border${jR[c]}Radius`;let d=tC(e,h),p=tC(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||eC(d)===eC(p)?(t[h]=Math.max(Gt(ZE(d),ZE(p),i),0),(Ar.test(p)||Ar.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,i))}function tC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X$=RR(0,.5,Xj),Z$=RR(.5,.95,sn);function RR(t,e,n){return i=>i<t?0:i>e?1:n(ph(t,e,i))}function nC(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){nC(t.x,e.x),nC(t.y,e.y)}function iC(t,e,n,i,r){return t-=e,t=Im(t,1/n,i),r!==void 0&&(t=Im(t,1/r,i)),t}function e7(t,e=0,n=1,i=.5,r,a=t,c=t){if(Ar.test(e)&&(e=parseFloat(e),e=Gt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Gt(a.min,a.max,i);t===a&&(h-=e),t.min=iC(t.min,e,n,h,r),t.max=iC(t.max,e,n,h,r)}function rC(t,e,[n,i,r],a,c){e7(t,e[n],e[i],e[r],e.scale,a,c)}const t7=["x","scaleX","originX"],n7=["y","scaleY","originY"];function sC(t,e,n,i){rC(t.x,e,t7,n?n.x:void 0,i?i.x:void 0),rC(t.y,e,n7,n?n.y:void 0,i?i.y:void 0)}function oC(t){return t.translate===0&&t.scale===1}function NR(t){return oC(t.x)&&oC(t.y)}function i7(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function kR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aC(t){return Ai(t.x)/Ai(t.y)}class r7{constructor(){this.members=[]}add(e){i1(this.members,e),e.scheduleRender()}remove(e){if(r1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lC(t,e,n){let i="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(i=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:p,rotateY:m}=n;d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),m&&(i+=`rotateY(${m}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const s7=(t,e)=>t.depth-e.depth;class o7{constructor(){this.children=[],this.isDirty=!1}add(e){i1(this.children,e),this.isDirty=!0}remove(e){r1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(s7),this.isDirty=!1,this.children.forEach(e)}}function a7(t,e){const n=performance.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(ys(i),t(a-e))};return Pt.read(i,!0),()=>ys(i)}function l7(t){window.MotionDebug&&window.MotionDebug.record(t)}function c7(t){return t instanceof SVGElement&&t.tagName!=="svg"}function u7(t,e,n){const i=di(t)?t:Jc(t);return i.start(n1("",i,e,n)),i.animation}const cC=["","X","Y","Z"],d7={visibility:"hidden"},uC=1e3;let h7=0;const pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function PR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=e?.()){this.id=h7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pa.totalNodes=pa.resolvedTargetDeltas=pa.recalculatedProjection=0,this.nodes.forEach(m7),this.nodes.forEach(b7),this.nodes.forEach(S7),this.nodes.forEach(g7),l7(pa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new o7)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new s1),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=c7(c),this.instance=c;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let x;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=a7(v,250),Up.hasAnimatedSinceResize&&(Up.hasAnimatedSinceResize=!1,this.nodes.forEach(hC))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||C7,{onLayoutAnimationStart:T,onLayoutAnimationComplete:O}=m.getProps(),N=!this.targetLayout||!kR(this.targetLayout,w)||S,P=!v&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,P);const B={...t1(E,"layout"),onPlay:T,onComplete:O};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else v||hC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w7),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dC);return}this.isUpdating||this.nodes.forEach(x7),this.isUpdating=!1,this.nodes.forEach(v7),this.nodes.forEach(f7),this.nodes.forEach(p7),this.clearAllSnapshots();const h=performance.now();Gn.delta=Po(0,1e3/60,h-Gn.timestamp),Gn.timestamp=h,Gn.isProcessing=!0,J0.update.process(Gn),J0.preRender.process(Gn),J0.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y7),this.sharedNodes.forEach(_7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!NR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&(h||fa(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),A7(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return hn();const h=c.measureViewportBox(),{scroll:d}=this.root;return d&&(uo(h.x,d.offset.x),uo(h.y,d.offset.y)),h}removeElementScroll(c){const h=hn();Bi(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:x}=p;if(p!==this.root&&m&&x.layoutScroll){if(m.isRoot){Bi(h,c);const{scroll:v}=this.root;v&&(uo(h.x,-v.offset.x),uo(h.y,-v.offset.y))}uo(h.x,m.offset.x),uo(h.y,m.offset.y)}}return h}applyTransform(c,h=!1){const d=hn();Bi(d,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Cc(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),fa(m.latestValues)&&Cc(d,m.latestValues)}return fa(this.latestValues)&&Cc(d,this.latestValues),d}removeTransform(c){const h=hn();Bi(h,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!fa(p.latestValues))continue;gv(p.latestValues)&&p.updateSnapshot();const m=hn(),x=p.measurePageBox();Bi(m,x),sC(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return fa(this.latestValues)&&sC(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),ER(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Jd(this.relativeTargetOrigin,this.target,S.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gv(this.parent.latestValues)||TR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),d=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(p=!1),p)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;Bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;L$(this.layoutCorrected,this.treeScale,this.path,d),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox);const{target:w}=h;if(!w){this.projectionTransform&&(this.projectionDelta=Ec(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ec(),this.projectionDeltaWithTransform=Ec());const E=this.projectionTransform;Qd(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=lC(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==v||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,h=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},x=Ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=hn(),S=d?d.source:void 0,w=this.layout?this.layout.source:void 0,E=S!==w,T=this.getStack(),O=!T||T.members.length<=1,N=!!(E&&!O&&this.options.crossfade===!0&&!this.path.some(E7));this.animationProgress=0;let P;this.mixTargetDelta=B=>{const W=B/1e3;fC(x.x,c.x,W),fC(x.y,c.y,W),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T7(this.relativeTarget,this.relativeTargetOrigin,v,W),P&&i7(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=hn()),Bi(P,this.relativeTarget)),E&&(this.animationValues=m,J$(m,p,this.latestValues,W,N,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Up.hasAnimatedSinceResize=!0,this.currentAnimation=u7(0,uC,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:m}=c;if(!(!h||!d||!p)){if(this!==c&&this.layout&&p&&DR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||hn();const x=Ai(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+x;const v=Ai(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}Bi(h,d),Cc(h,m),Qd(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new r7),this.sharedNodes.get(c).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(h=!0),!h)return;const p={};for(let m=0;m<cC.length;m++){const x="rotate"+cC[m];d[x]&&(p[x]=d[x],c.setStaticValue(x,0))}c.render();for(const m in p)c.setStaticValue(m,p[m]);c.scheduleRender()}getProjectionStyles(c){var h,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return d7;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=zp(c?.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=zp(c?.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=lC(this.projectionDeltaWithTransform,this.treeScale,v),m&&(p.transform=m(v,p.transform));const{x:S,y:w}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,x.animationValues?p.opacity=x===this?(d=(h=v.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in Sm){if(v[E]===void 0)continue;const{correct:T,applyTo:O}=Sm[E],N=p.transform==="none"?v[E]:T(v[E],x);if(O){const P=O.length;for(let B=0;B<P;B++)p[O[B]]=N}else p[E]=N}return this.options.layoutId&&(p.pointerEvents=x===this?zp(c?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(dC),this.root.sharedNodes.clear()}}}function f7(t){t.updateLayout()}function p7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:a}=t.options,c=n.source!==t.layout.source;a==="size"?zi(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=Ai(v);v.min=i[x].min,v.max=v.min+S}):DR(a,n.layoutBox,i)&&zi(x=>{const v=c?n.measuredBox[x]:n.layoutBox[x],S=Ai(i[x]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+S)});const h=Ec();Qd(h,i,n.layoutBox);const d=Ec();c?Qd(d,t.applyTransform(r,!0),n.measuredBox):Qd(d,i,n.layoutBox);const p=!NR(h);let m=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:S}=x;if(v&&S){const w=hn();Jd(w,n.layoutBox,v.layoutBox);const E=hn();Jd(E,i,S.layoutBox),kR(w,E)||(m=!0),x.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=w,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function m7(t){pa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function g7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function y7(t){t.clearSnapshot()}function dC(t){t.clearMeasurements()}function x7(t){t.isLayoutDirty=!1}function v7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function b7(t){t.resolveTargetDelta()}function S7(t){t.calcProjection()}function w7(t){t.resetRotation()}function _7(t){t.removeLeadSnapshot()}function fC(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pC(t,e,n,i){t.min=Gt(e.min,n.min,i),t.max=Gt(e.max,n.max,i)}function T7(t,e,n,i){pC(t.x,e.x,n.x,i),pC(t.y,e.y,n.y,i)}function E7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const C7={duration:.45,ease:[.4,0,.1,1]},mC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),gC=mC("applewebkit/")&&!mC("chrome/")?Math.round:sn;function yC(t){t.min=gC(t.min),t.max=gC(t.max)}function A7(t){yC(t.x),yC(t.y)}function DR(t,e,n){return t==="position"||t==="preserve-aspect"&&!pv(aC(e),aC(n),.2)}const I7=PR({attachResizeListener:(t,e)=>cs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lx={current:void 0},OR=PR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lx.current){const t=new I7({});t.mount(window),t.setOptions({layoutScroll:!0}),lx.current=t}return lx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),j7={pan:{Feature:G$},drag:{Feature:$$,ProjectionNode:OR,MeasureLayout:IR}},R7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function N7(t){const e=R7.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function xv(t,e,n=1){const[i,r]=N7(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const c=a.trim();return yR(c)?parseFloat(c):c}else return av(r)?xv(r,e,n+1):r}function k7(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!av(a))return;const c=xv(a,i);c&&r.set(c)});for(const r in e){const a=e[r];if(!av(a))continue;const c=xv(a,i);c&&(e[r]=c,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const P7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),MR=t=>P7.has(t),D7=t=>Object.keys(t).some(MR),xC=t=>t===il||t===Oe,vC=(t,e)=>parseFloat(t.split(", ")[e]),bC=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return vC(r[1],e);{const a=i.match(/^matrix\((.+)\)$/);return a?vC(a[1],t):0}},O7=new Set(["x","y","z"]),M7=jh.filter(t=>!O7.has(t));function L7(t){const e=[];return M7.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Xc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bC(4,13),y:bC(5,14)};Xc.translateX=Xc.x;Xc.translateY=Xc.y;const V7=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:c}=a,h={};c==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{h[p]=Xc[p](i,a)}),e.render();const d=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(h[p]),t[p]=Xc[p](d,a)}),t},F7=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(MR);let a=[],c=!1;const h=[];if(r.forEach(d=>{const p=t.getValue(d);if(!t.hasValue(d))return;let m=n[d],x=_d(m);const v=e[d];let S;if(_m(v)){const w=v.length,E=v[0]===null?1:0;m=v[E],x=_d(m);for(let T=E;T<w&&v[T]!==null;T++)S?Qb(_d(v[T])===S):S=_d(v[T])}else S=_d(v);if(x!==S)if(xC(x)&&xC(S)){const w=p.get();typeof w=="string"&&p.set(parseFloat(w)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&S===Oe&&(e[d]=v.map(parseFloat))}else x?.transform&&S?.transform&&(m===0||v===0)?m===0?p.set(S.transform(m)):e[d]=x.transform(v):(c||(a=L7(t),c=!0),h.push(d),i[d]=i[d]!==void 0?i[d]:e[d],p.jump(v))}),h.length){const d=h.indexOf("height")>=0?window.pageYOffset:null,p=V7(e,t,h);return a.length&&a.forEach(([m,x])=>{t.getValue(m).set(x)}),t.render(),rg&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:i}}else return{target:e,transitionEnd:i}};function B7(t,e,n,i){return D7(e)?F7(t,e,n,i):{target:e,transitionEnd:i}}const z7=(t,e,n,i)=>{const r=k7(t,e,i);return e=r.target,i=r.transitionEnd,B7(t,e,n,i)},vv={current:null},LR={current:!1};function U7(){if(LR.current=!0,!!rg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vv.current=t.matches;t.addListener(e),e()}else vv.current=!1}function H7(t,e,n){const{willChange:i}=e;for(const r in e){const a=e[r],c=n[r];if(di(a))t.addValue(r,a),Am(i)&&i.add(r);else if(di(c))t.addValue(r,Jc(a,{owner:t})),Am(i)&&i.remove(r);else if(c!==a)if(t.hasValue(r)){const h=t.getValue(r);!h.hasAnimated&&h.set(a)}else{const h=t.getStaticValue(r);t.addValue(r,Jc(h!==void 0?h:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const SC=new WeakMap,VR=Object.keys(fh),$7=VR.length,wC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],G7=zb.length;class q7{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pt.render(this.render,!1,!0);const{latestValues:h,renderState:d}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.isControllingVariants=og(n),this.isVariantNode=wj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const x in m){const v=m[x];h[x]!==void 0&&di(v)&&(v.set(h[x],!1),Am(p)&&p.add(x))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,SC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),LR.current||U7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SC.delete(this.current),this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=nl.has(e),r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Pt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,a){let c,h;for(let d=0;d<$7;d++){const p=VR[d],{isEnabled:m,Feature:x,ProjectionNode:v,MeasureLayout:S}=fh[p];v&&(c=v),m(n)&&(!this.features[p]&&x&&(this.features[p]=new x(this)),S&&(h=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:m,dragConstraints:x,layoutScroll:v,layoutRoot:S}=n;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!m||x&&_c(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:v,layoutRoot:S})}return h}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<wC.length;i++){const r=wC[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=H7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<G7;i++){const r=zb[i],a=this.props[r];(hh(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Jc(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=Yb(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!di(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new s1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FR extends q7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},a){let c=c$(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),c&&(c=r(c))),a){a$(this,i,c);const h=z7(this,i,c,n);n=h.transitionEnd,i=h.target}return{transition:e,transitionEnd:n,...i}}}function W7(t){return window.getComputedStyle(t)}class K7 extends FR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(nl.has(n)){const i=e1(n);return i&&i.default||0}else{const i=W7(e),r=(Cj(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,i,r){$b(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Kb(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;di(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){kj(e,n,i,r)}}class Y7 extends FR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nl.has(n)){const i=e1(n);return i&&i.default||0}return n=Pj.has(n)?n:Fb(n),e.getAttribute(n)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(e,n){return Oj(e,n)}build(e,n,i,r){qb(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){Dj(e,n,i,r)}mount(e){this.isSVGTag=Wb(e.tagName),super.mount(e)}}const Q7=(t,e)=>Hb(t)?new Y7(e,{enableHardwareAcceleration:!1}):new K7(e,{enableHardwareAcceleration:!0}),J7={layout:{ProjectionNode:OR,MeasureLayout:IR}},X7={...T$,...$U,...j7,...J7},o1=Z9((t,e)=>NU(t,e,X7,Q7));function BR(){const t=L.useRef(!1);return Vb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Z7(){const t=BR(),[e,n]=L.useState(0),i=L.useCallback(()=>{t.current&&n(e+1)},[e]);return[L.useCallback(()=>Pt.postRender(i),[i]),e]}class eG extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tG({children:t,isPresent:e}){const n=L.useId(),i=L.useRef(null),r=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:a,height:c,top:h,left:d}=r.current;if(e||!i.current||!a||!c)return;i.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${h}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),L.createElement(eG,{isPresent:e,childRef:i,sizeRef:r},L.cloneElement(t,{ref:i}))}const cx=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:c})=>{const h=Mj(nG),d=L.useId(),p=L.useMemo(()=>({id:d,initial:e,isPresent:n,custom:r,onExitComplete:m=>{h.set(m,!0);for(const x of h.values())if(!x)return;i&&i()},register:m=>(h.set(m,!1),()=>h.delete(m))}),a?void 0:[n]);return L.useMemo(()=>{h.forEach((m,x)=>h.set(x,!1))},[n]),L.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),c==="popLayout"&&(t=L.createElement(tG,{isPresent:n},t)),L.createElement(ig.Provider,{value:p},t)};function nG(){return new Map}function iG(t){return L.useEffect(()=>()=>t(),[])}const ma=t=>t.key||"";function rG(t,e){t.forEach(n=>{const i=ma(n);e.set(i,n)})}function sG(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const zR=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:c="sync"})=>{const h=L.useContext(Ub).forceRender||Z7()[0],d=BR(),p=sG(t);let m=p;const x=L.useRef(new Map).current,v=L.useRef(m),S=L.useRef(new Map).current,w=L.useRef(!0);if(Vb(()=>{w.current=!1,rG(p,S),v.current=m}),iG(()=>{w.current=!0,S.clear(),x.clear()}),w.current)return L.createElement(L.Fragment,null,m.map(N=>L.createElement(cx,{key:ma(N),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:c},N)));m=[...m];const E=v.current.map(ma),T=p.map(ma),O=E.length;for(let N=0;N<O;N++){const P=E[N];T.indexOf(P)===-1&&!x.has(P)&&x.set(P,void 0)}return c==="wait"&&x.size&&(m=[]),x.forEach((N,P)=>{if(T.indexOf(P)!==-1)return;const B=S.get(P);if(!B)return;const W=E.indexOf(P);let K=N;if(!K){const j=()=>{x.delete(P);const A=Array.from(S.keys()).filter(R=>!T.includes(R));if(A.forEach(R=>S.delete(R)),v.current=p.filter(R=>{const V=ma(R);return V===P||A.includes(V)}),!x.size){if(d.current===!1)return;h(),i&&i()}};K=L.createElement(cx,{key:ma(B),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:a,mode:c},B),x.set(P,K)}m.splice(W,0,K)}),m=m.map(N=>{const P=N.key;return x.has(P)?N:L.createElement(cx,{key:ma(N),isPresent:!0,presenceAffectsLayout:a,mode:c},N)}),L.createElement(L.Fragment,null,x.size?m:m.map(N=>L.cloneElement(N)))},_C=o1.div,oG=zR;function aG(){const[t,e]=L.useState(null),[n,i]=L.useState([]),[r,a]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const p=await YI();if(p.success){const m=p.files.map(x=>({id:x.id,name:x.name,size:x.size,type:x.type,access:"Restricted",uploaded:new Date(x.updated).toLocaleDateString(),downloads:0,description:`Secure document: ${x.name}`}));i(m)}}catch(p){console.error("DataRoom Feed Error:",p)}finally{a(!1)}})()},[]);const c=[{id:"financials",title:"Financial Reports",icon:"",color:"blue",type:"Financial Data",files:n.filter(d=>d.name.toLowerCase().includes("invoice")||d.name.toLowerCase().includes("ledger"))},{id:"legal",title:"Legal Documents",icon:"",color:"purple",type:"Compliance & IP",files:n.filter(d=>d.name.toLowerCase().includes("executed")||d.name.toLowerCase().includes("agreement"))},{id:"strategy",title:"Strategic Plans",icon:"",color:"amber",type:"Roadmaps & Growth",files:[]},{id:"investment",title:"Investment Terms",icon:"",color:"emerald",type:"Capital & Equity",files:[]}];n.length>0&&c[1].files.length===0&&c[0].files.length===0&&(c[1].files=n);const h=[{label:"Total Storage",value:"0.04 GB",sub:"92% Available",icon:""},{label:"Total Files",value:n.length.toString(),sub:"4 Categories",icon:""},{label:"Active Shares",value:"142",sub:"24 Secure Links",icon:""},{label:"Audit Events",value:"1.2k",sub:"Last 24 hours",icon:""}];return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"The Data Vault"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Secure repository for sensitive documents and evidence"})]}),l.jsx("button",{className:"px-6 py-2 bg-gold/10 border border-gold/20 rounded-full inter text-[10px] font-bold text-gold uppercase tracking-widest hover:bg-gold hover:text-navy transition-all duration-300",children:"Secure Upload +"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:h.map((d,p)=>l.jsxs(_C,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 relative group cursor-default",children:[l.jsx("span",{className:"absolute top-4 right-4 text-xl opacity-20 group-hover:opacity-100 transition-opacity duration-500",children:d.icon}),l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsx("div",{className:"flex items-end gap-2",children:l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-widest",children:d.value})}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),r?l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Accessing Cryptographic Vault..."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(d=>l.jsx("div",{className:`group relative p-8 rounded-3xl border transition-all duration-500 cursor-pointer ${t===d.id?"bg-gold/10 border-gold shadow-[0_0_30px_rgba(200,169,81,0.1)]":"bg-white/5 border-white/10 hover:border-white/30 hover:bg-white/[0.07]"}`,onClick:()=>e(t===d.id?null:d.id),children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("span",{className:"text-4xl",children:d.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"cinzel text-lg text-white tracking-widest font-bold mb-1",children:d.title}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-medium",children:d.type})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4",children:[l.jsxs("span",{className:"inter text-[10px] text-slate-400 font-bold",children:[d.files.length," DOCUMENTS"]}),l.jsx("span",{className:`text-gold transition-transform duration-300 ${t===d.id?"rotate-90":""}`,children:""})]})]})},d.id))}),l.jsx(oG,{children:t&&l.jsx(_C,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-3xl overflow-hidden bg-black/20 backdrop-blur-3xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h3",{className:"cinzel text-xl text-gold tracking-widest font-bold uppercase",children:c.find(d=>d.id===t)?.title}),l.jsx("div",{className:"flex gap-4",children:l.jsx("input",{type:"text",placeholder:"Filter files...",className:"bg-black/40 border border-white/10 rounded-lg px-4 py-2 inter text-xs text-white focus:outline-none focus:border-gold/30"})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.find(d=>d.id===t)?.files.map(d=>l.jsxs("div",{className:"flex items-center justify-between p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-white/10 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-black/40 flex items-center justify-center text-xl",children:d.type==="PDF"?"":""}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-semibold text-slate-200",children:d.name}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-tighter mt-1",children:d.description})]})]}),l.jsxs("div",{className:"flex items-center gap-12",children:[l.jsxs("div",{className:"hidden md:block text-right",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Access"}),l.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${d.access==="Public"?"text-emerald bg-emerald/10":d.access==="Restricted"?"text-amber-500 bg-amber-500/10":"text-rose-500 bg-rose-500/10"}`,children:d.access})]}),l.jsxs("div",{className:"hidden md:block text-right w-20",children:[l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Size"}),l.jsx("p",{className:"inter text-xs text-slate-300 font-medium",children:d.size})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""}),l.jsx("button",{className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:""})]})]})]},d.id)),c.find(d=>d.id===t)?.files.length===0&&l.jsx("div",{className:"p-12 text-center border-2 border-dashed border-white/5 rounded-2xl",children:l.jsx("p",{className:"inter text-[10px] text-slate-600 uppercase tracking-widest",children:"No documents matching this partition"})})]})]})})})]})}const lG=o1.tr;function cG(){const[t,e]=L.useState("ALL"),{data:n,isLoading:i,isError:r}=HB(t),a=n?.logs||[];if(i)return l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 animate-pulse",children:[l.jsx("div",{className:"w-12 h-12 border-2 border-gold/20 border-t-gold rounded-full animate-spin mb-4"}),l.jsx("p",{className:"inter text-[10px] text-gold uppercase tracking-[0.3em]",children:"Syncing Multi-Region Logs..."})]});if(r)return l.jsxs("div",{className:"neo-glass-panel p-10 border border-rose-500/30 rounded-2xl bg-rose-500/5 text-center",children:[l.jsx("p",{className:"inter text-xs text-rose-500 uppercase tracking-widest font-bold mb-2",children:"Telemetry Sync Failed"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase",children:"Upstream connection timeout or unauthorized access"})]});const c=t==="ALL"?a:a.filter(d=>d.level===t),h=d=>{switch(d){case"SUCCESS":return"text-emerald shadow-[0_0_10px_#10b981]";case"WARNING":return"text-amber-500 shadow-[0_0_10px_#f59e0b]";case"ERROR":return"text-rose-500 shadow-[0_0_10px_#f43f5e]";case"SECURITY":return"text-gold shadow-[0_0_10px_#C8A951]";default:return"text-blue-400 shadow-[0_0_10px_#60a5fa]"}};return l.jsxs("div",{className:"flex flex-col gap-10 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-widest font-bold uppercase",children:"System telemetry"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 mt-1 uppercase tracking-widest font-medium",children:"Real-time infrastructure audit trail"})]}),l.jsx("div",{className:"flex gap-2 p-1 bg-black/40 border border-white/5 rounded-lg backdrop-blur-md",children:["ALL","SECURITY","WARNING","ERROR"].map(d=>l.jsx("button",{onClick:()=>e(d),className:`px-3 py-1 inter text-[10px] font-bold tracking-widest uppercase rounded transition-all duration-300 ${t===d?"bg-white/10 text-white shadow-inner":"text-slate-500 hover:text-slate-300"}`,children:d},d))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Platform Uptime",value:"99.998%",status:"emerald",sub:"Last 30 days"},{label:"Auth Success",value:"98.2%",status:"emerald",sub:"MFA Verified"},{label:"API Latency",value:"42ms",status:"blue",sub:"Global Average"},{label:"Error Rate",value:"0.04%",status:"amber",sub:"Standard Deviance"}].map((d,p)=>l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-2xl bg-white/5 group hover:border-white/20 transition-all duration-500",children:[l.jsx("h4",{className:"inter text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-2",children:d.label}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-tighter",children:d.value}),l.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald mb-2 shadow-[0_0_10px_#10b981] animate-pulse"})]}),l.jsx("p",{className:"inter text-[9px] text-slate-600 mt-2 uppercase tracking-tight",children:d.sub})]},p))}),l.jsxs("div",{className:"neo-glass-panel border border-white/10 rounded-2xl overflow-hidden bg-white/5 backdrop-blur-2xl",children:[l.jsxs("div",{className:"bg-black/40 px-6 py-4 border-b border-white/5 flex justify-between items-center",children:[l.jsx("h3",{className:"cinzel text-xs text-slate-300 font-bold tracking-widest uppercase",children:"Live Audit Stream"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Buffer: 50 Records"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Sync: Active"})]})]}),l.jsx("div",{className:"max-h-[500px] overflow-y-auto overflow-x-hidden",children:l.jsxs("table",{className:"w-full inter text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"inter text-[9px] text-slate-500 uppercase tracking-widest border-b border-white/5",children:[l.jsx("th",{className:"px-6 py-4 font-bold",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Severity"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Module"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Message"}),l.jsx("th",{className:"px-6 py-4 font-bold",children:"Entity"})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:c.map(d=>l.jsxs(lG,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group hover:bg-white/5 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-[11px] font-mono text-slate-500",children:new Date(Number(d.timestamp)).toLocaleTimeString([],{hour12:!1})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`text-[9px] font-bold tracking-widest uppercase px-2 py-0.5 rounded bg-black/20 border border-white/5 ${h(d.level)}`,children:d.level})}),l.jsx("td",{className:"px-6 py-4 text-[11px] font-bold text-slate-300 tracking-tighter",children:d.source}),l.jsx("td",{className:"px-6 py-4 text-xs text-slate-400",children:d.message}),l.jsx("td",{className:"px-6 py-4 text-[10px] text-slate-600 font-medium",children:d.user||"SYSTEM"})]},d.id))})]})})]})]})}const uG=o1.div,dG=zR;function hG(){const[t,e]=L.useState("overview"),[n,i]=L.useState(""),r=[{id:"overview",title:"Getting Started",content:l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"inter text-slate-400 leading-relaxed",children:"Welcome to the SirsiNexus Admin Console documentation. This guide will help you understand and effectively use all features of the admin portal."}),l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"cinzel text-gold text-lg mb-4 tracking-widest uppercase font-bold",children:"Quick Start"}),l.jsx("ol",{className:"space-y-4",children:["Log in to the admin console with your administrator credentials","Navigate through the sidebar to access different sections","Use Quick Actions for common tasks","Monitor system health from the dashboard","Configure settings as needed for your organization"].map((c,h)=>l.jsxs("li",{className:"flex gap-4 items-start inter text-sm text-slate-300",children:[l.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gold/10 border border-gold/20 flex items-center justify-center text-gold text-xs font-bold",children:h+1}),l.jsx("span",{className:"mt-1",children:c})]},h))})]})]})},{id:"dashboard",title:"Dashboard Guide",content:l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Platform Overview"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The dashboard provides a real-time overview of your platform's performance, user activity, and system health."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{label:"Total Users",desc:"Active user count and growth percentage"},{label:"Revenue",desc:"Monthly revenue tracking and trends"},{label:"Active Sessions",desc:"Real-time user sessions"},{label:"Server Health",desc:"System uptime and performance"}].map((c,h)=>l.jsxs("div",{className:"p-4 rounded-lg bg-black/20 border border-white/5",children:[l.jsx("h4",{className:"inter text-gold text-xs font-bold uppercase tracking-wider mb-1",children:c.label}),l.jsx("p",{className:"inter text-slate-400 text-xs leading-relaxed",children:c.desc})]},h))})]})})},{id:"users",title:"User Management",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"Managing Access"}),l.jsx("p",{className:"inter text-slate-400 text-sm mb-6 leading-relaxed",children:"The User Management section allows you to create, edit, and manage user accounts and permissions."}),l.jsx("div",{className:"space-y-4",children:[{title:"User Creation",desc:"Add new users with role assignment"},{title:"Bulk Import",desc:"Import multiple users via CSV"},{title:"Role Mapping",desc:"Define custom roles and permissions"},{title:"Audit Trail",desc:"Monitor user login and actions"}].map((c,h)=>l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-emerald shadow-[0_0_8px_#10b981]"}),l.jsxs("div",{children:[l.jsx("p",{className:"inter text-white text-sm font-medium",children:c.title}),l.jsx("p",{className:"inter text-slate-500 text-xs",children:c.desc})]})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-lg bg-black/40 border border-white/10 font-mono text-[11px] text-emerald/80 space-y-1",children:[l.jsx("p",{className:"text-slate-500 italic mb-2",children:"// Canonical Role Hierarchy"}),l.jsx("p",{children:"ROLE_ADMIN      = 0xFF; // Full system access"}),l.jsx("p",{children:"ROLE_MANAGER    = 0x40; // Department management"}),l.jsx("p",{children:"ROLE_ANALYST    = 0x20; // Read-only access"}),l.jsx("p",{children:"ROLE_VIEWER     = 0x01; // Limited viewing"})]})]})},{id:"security",title:"Security Engine",content:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl bg-white/5",children:[l.jsx("h3",{className:"inter text-white font-semibold mb-4 text-lg",children:"System Hardening"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Access Control",desc:"IP whitelisting and blacklisting"},{title:"MFA Enforcement",desc:"TOTP, Email, and SMS verification"},{title:"Session Vault",desc:"Encrypted token storage and rotation"},{title:"Audit Records",desc:"Immutable logging of security events"}].map((c,h)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-emerald text-xs",children:""}),l.jsx("span",{className:"inter text-sm font-semibold text-slate-200",children:c.title})]}),l.jsx("p",{className:"inter text-xs text-slate-500 leading-relaxed pl-6",children:c.desc})]},h))})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-yellow-500/20 bg-yellow-500/5 flex gap-4",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsxs("p",{className:"inter text-xs text-yellow-200/70 leading-relaxed italic",children:[l.jsx("strong",{children:"Critical Directive:"})," Always verify security modifications in isolated staging environments before propagating to production clusters."]})]})]})}],a=r.filter(c=>c.title.toLowerCase().includes(n.toLowerCase())||c.id.toLowerCase().includes(n.toLowerCase()));return l.jsxs("div",{className:"flex flex-col gap-8 animate-in fade-in duration-700",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("h2",{className:"cinzel text-2xl text-gold tracking-[0.2em] font-bold",children:"ADMIN DOCUMENTATION"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest font-medium",children:"Standard Operating Procedures and System Reference"})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[l.jsxs("aside",{className:"col-span-3 space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Find feature...",value:n,onChange:c=>i(c.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2.5 inter text-xs text-white focus:outline-none focus:border-gold/30 transition-all pl-10"}),l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""})]}),l.jsx("nav",{className:"flex flex-col gap-1",children:a.map(c=>l.jsxs("button",{onClick:()=>e(c.id),className:`group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 inter text-xs font-semibold tracking-wider uppercase ${t===c.id?"bg-gold/10 text-gold border border-gold/20":"text-slate-500 hover:text-slate-300 hover:bg-white/5 border border-transparent"}`,children:[c.title,l.jsx("span",{className:`transition-transform duration-300 ${t===c.id?"translate-x-0":"-translate-x-2 opacity-0 group-hover:opacity-100"}`,children:""})]},c.id))}),l.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-500/10 to-purple-500/10 border border-white/10 space-y-4",children:[l.jsx("h4",{className:"cinzel text-gold text-[10px] font-bold tracking-widest uppercase",children:"Support Forge"}),l.jsx("p",{className:"inter text-[10px] text-slate-400 leading-relaxed",children:"Technical assistance is available 24/7 for critical system failures."}),l.jsx("a",{href:"mailto:support@sirsi.ai",className:"inline-block inter text-[10px] font-bold text-white uppercase tracking-wider hover:text-gold transition-colors",children:"Initialize Signal "})]})]}),l.jsx("main",{className:"col-span-9",children:l.jsx(dG,{mode:"wait",children:l.jsxs(uG,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[l.jsx("div",{className:"h-px flex-1 bg-white/10"}),l.jsx("h3",{className:"cinzel text-xl text-white tracking-[0.3em] font-medium uppercase",children:r.find(c=>c.id===t)?.title}),l.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),r.find(c=>c.id===t)?.content]},t)})})]})]})}function fG(){const{navigate:t}=bn(),[e,n]=L.useState("contracts"),[i,r]=L.useState(()=>jb()),a=HI();L.useEffect(()=>{i&&$t.currentUser&&a.mutate({developerId:$t.currentUser.uid,action:"ADMIN_PORTAL_ENTER",metadata:JSON.stringify({userAgent:navigator.userAgent,timestamp:new Date().toISOString(),initialTab:e})})},[i]);const c=[{id:"contracts",label:"Contract Manager",icon:"",category:"Operations"},{id:"tenants",label:"Tenant Registry",icon:"",category:"Operations"},{id:"users",label:"Users & Roles",icon:"",category:"Operations"},{id:"dataroom",label:"Data Room",icon:"",category:"Operations"},{id:"analytics",label:"Intelligence",icon:"",category:"Intelligence"},{id:"revenue",label:"Financials",icon:"",category:"Intelligence"},{id:"invoices",label:"Billing",icon:"",category:"Intelligence"},{id:"developers",label:"Dev Forge",icon:"",category:"Engineering"},{id:"development",label:"System Engineering",icon:"",category:"Engineering"},{id:"logs",label:"System Logs",icon:"",category:"Engineering"},{id:"docs",label:"Documentation",icon:"",category:"Knowledge"},{id:"notifications",label:"Omni-Notify",icon:"",category:"Knowledge"},{id:"settings",label:"System Config",icon:"",category:"Knowledge"},{id:"mfa",label:"Security (MFA)",icon:"",category:"Knowledge"}];return i?l.jsxs("div",{className:"min-h-screen bg-navy text-white flex",children:[l.jsxs("aside",{className:"w-64 border-r border-white/10 flex flex-col backdrop-blur-xl bg-black/20",children:[l.jsxs("div",{className:"p-8",children:[l.jsx("h1",{className:"cinzel text-xl text-gold tracking-widest font-bold",children:"SIRSI ADMIN"}),l.jsx("p",{className:"inter text-[10px] text-slate-500 tracking-[0.2em] font-medium mt-1 uppercase",children:"Permanent Ledger Hub"})]}),l.jsxs("nav",{className:"flex-1 px-4 py-2 flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:"Main"}),l.jsxs("a",{href:"https://sign.sirsi.ai/vault",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 border border-transparent group",children:[l.jsx("span",{className:"text-lg opacity-70 group-hover:opacity-100 transition-opacity",children:""}),"Document Vault"]})]}),["Operations","Intelligence","Engineering","Knowledge"].map(h=>l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:h}),l.jsx("div",{className:"flex flex-col gap-1",children:c.filter(d=>d.category===h).map(d=>l.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium ${e===d.id?"bg-gold/10 text-gold border border-gold/20 shadow-[0_0_15px_rgba(200,169,81,0.1)]":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg opacity-70",children:d.icon}),d.label]},d.id))})]},h))]}),l.jsx("div",{className:"p-6 border-t border-white/10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald/20 border border-emerald/50 flex items-center justify-center text-[10px] text-emerald font-bold",children:"CC"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-white",children:"Cylton Collymore"}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase tracking-tighter",children:"System Architect"})]})]})})]}),l.jsx("main",{className:"flex-1 overflow-auto p-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[e==="contracts"&&l.jsx(P9,{}),e==="tenants"&&l.jsx(D9,{}),e==="users"&&l.jsx(O9,{}),e==="analytics"&&l.jsx(F9,{}),e==="revenue"&&l.jsx(B9,{}),e==="invoices"&&l.jsx(U9,{}),e==="dataroom"&&l.jsx(aG,{}),e==="developers"&&l.jsx(H9,{}),e==="development"&&l.jsx(M9,{}),e==="logs"&&l.jsx(cG,{}),e==="docs"&&l.jsx(hG,{}),e==="notifications"&&l.jsx(L9,{}),e==="settings"&&l.jsx(V9,{}),e==="mfa"&&l.jsx(lj,{onComplete:()=>n("contracts"),onCancel:()=>n("contracts")})]})})]}):l.jsx(Zm,{purpose:"vault",onVerified:()=>r(!0),onCancel:()=>t({to:"/"})})}function pG(){return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-3xl text-white tracking-widest font-bold",children:["Investor ",l.jsx("span",{className:"text-emerald-500",children:"Dashboard"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-2 uppercase tracking-[0.2em]",children:"Secure gateway to comprehensive investment insights"})]}),l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),l.jsxs("div",{className:"relative flex flex-col gap-6",children:[l.jsxs("p",{className:"inter text-sm leading-relaxed text-slate-300 max-w-3xl",children:["SirsiNexus is revolutionizing cloud infrastructure management through our proprietary ",l.jsx("span",{className:"text-emerald-400 font-bold",children:"Graph of Thought AI"})," architecture integrated with ",l.jsx("span",{className:"text-emerald-400 font-bold",children:"Hedera Hashgraph"})," technology. Our unique superpower lies in strategic traction - exclusive access to NVIDIA's invite-only Inception Program and AWS's Migration Acceleration Program positions us at the epicenter of cloud transformation."]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(ux,{title:"Investment Opportunity",content:"Pre-Seed funding of $1.5M unlocks NVIDIA and AWS co-investment commitments, plus Hedera Hashgraph strategic investment interest.",color:"emerald"}),l.jsx(ux,{title:"Use of Funds",content:"40% Intelligence development, 35% enterprise sales expansion, 15% F100 adoption, and 10% working capital.",color:"blue"}),l.jsx(ux,{title:"Target Return",content:"10x return potential within 5 years through strategic exit or IPO, driven by dominant market position.",color:"purple"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Market Opportunity"}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(dx,{label:"$78.8B TAM",description:"Growing cloud infrastructure optimization market with 28.5% CAGR, driven by enterprise digital transformation."}),l.jsx(dx,{label:"28.5% CAGR",description:"Rapid market expansion driven by cloud adoption and AI-powered optimization demand."}),l.jsx(dx,{label:"Enterprise Focus",description:"Targeting high-value enterprise customers with $125K average contract value and 96% logo retention."})]})]}),l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Financial Projections"}),l.jsx("div",{className:"h-48 flex items-end gap-3 pb-2 border-b border-white/5",children:[20,35,55,85,100].map((t,e)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:"w-full bg-gradient-to-t from-emerald-500/40 to-emerald-500/20 rounded-t-sm group-hover:from-emerald-500 transition-all duration-500 relative",style:{height:`${t}%`},children:l.jsxs("div",{className:"absolute -top-8 left-1/2 -track-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-emerald-500 text-black text-[8px] font-bold px-1 rounded",children:["Year ",e+1]})}),l.jsxs("span",{className:"inter text-[8px] text-slate-500",children:["Y",e+1]})]},e))}),l.jsxs("div",{className:"flex justify-between mt-4",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Projected ARR"}),l.jsx("span",{className:"inter text-lg font-bold text-white",children:"$100M+"})]}),l.jsxs("div",{className:"text-right flex flex-col",children:[l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase",children:"Exit Multiple"}),l.jsx("span",{className:"inter text-lg font-bold text-emerald-400",children:"12x - 15x"})]})]})]})]})]})}function ux({title:t,content:e,color:n}){const i={emerald:"border-emerald-500/30 bg-emerald-500/5",blue:"border-blue-500/30 bg-blue-500/5",purple:"border-purple-500/30 bg-purple-500/5"},r={emerald:"text-emerald-400",blue:"text-blue-400",purple:"text-purple-400"};return l.jsxs("div",{className:`p-4 rounded-xl border ${i[n]}`,children:[l.jsx("h4",{className:`inter text-[10px] font-bold uppercase tracking-wider mb-2 ${r[n]}`,children:t}),l.jsx("p",{className:"inter text-[11px] text-slate-400 leading-relaxed",children:e})]})}function dx({label:t,description:e}){return l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0 text-emerald-400 text-xs",children:""}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-bold text-white tracking-wide",children:t}),l.jsx("span",{className:"inter text-[11px] text-slate-400 mt-0.5",children:e})]})]})}function mG(){const[t,e]=L.useState("legal"),[n,i]=L.useState([]),[r,a]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const d=await YI();if(d.success){const p=d.files.map(m=>({id:m.id,name:m.name,size:m.size,type:m.type,access:"Confidential",uploaded:new Date(m.updated).toLocaleDateString()}));i(p)}}catch(d){console.error("DataRoom Access Error:",d)}finally{a(!1)}})()},[]);const c=[{id:"legal",label:"Legal & Intellectual Property",icon:""},{id:"financial",label:"Financials & Projections",icon:""},{id:"product",label:"Product & Technology",icon:""},{id:"governance",label:"Studio Governance",icon:""}];return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-2xl text-white tracking-widest font-bold",children:["Investor ",l.jsx("span",{className:"text-emerald-500",children:"Data Room"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-1 uppercase tracking-tighter",children:"Secure cryptographic repository for due diligence artifacts"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"flex flex-col gap-2",children:c.map(h=>l.jsxs("button",{onClick:()=>e(h.id),className:`flex items-center gap-4 px-6 py-4 rounded-xl border transition-all duration-300 ${t===h.id?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-black/20 border-white/5 text-slate-500 hover:text-slate-300 hover:bg-white/5"}`,children:[l.jsx("span",{className:"text-lg",children:h.icon}),l.jsx("span",{className:"inter text-[11px] font-bold uppercase tracking-widest text-left",children:h.label})]},h.id))}),l.jsxs("div",{className:"lg:col-span-3 bg-black/40 border border-white/5 rounded-2xl p-8 min-h-[500px] flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/5 pb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/10 border border-emerald-500/30 flex items-center justify-center text-emerald-500",children:""}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-sm font-bold text-white uppercase tracking-widest",children:c.find(h=>h.id===t)?.label}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:"Synchronized with Secure Storage"})]})]}),l.jsx("button",{className:"px-4 py-2 border border-white/10 rounded-lg inter text-[10px] font-bold text-slate-400 hover:text-white hover:bg-white/5 transition-all uppercase",children:"Batch Download"})]}),r?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin"}),l.jsx("span",{className:"inter text-[10px] text-slate-500 uppercase tracking-[0.3em]",children:"Accessing Cryptographic Vault..."})]}):l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("div",{className:"p-20 text-center border border-dashed border-white/10 rounded-xl",children:l.jsx("p",{className:"inter text-sm text-slate-500 italic",children:"No artifacts available in this section."})}):n.map(h=>l.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl hover:bg-emerald-500/5 border border-transparent hover:border-emerald-500/20 transition-all cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-10 h-12 bg-slate-800 rounded flex flex-col items-center justify-center border border-white/10 group-hover:border-emerald-500/30",children:[l.jsx("span",{className:"inter text-[8px] font-bold text-slate-500 group-hover:text-emerald-500",children:h.type}),l.jsx("div",{className:"w-4 h-[1px] bg-slate-600 mt-1"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-slate-200 group-hover:text-white",children:h.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase",children:h.size}),l.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-700"}),l.jsx("span",{className:"inter text-[9px] text-emerald-500/70 font-bold uppercase tracking-tighter",children:h.access})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"inter text-[9px] text-slate-600 uppercase",children:["Uploaded ",h.uploaded]}),l.jsx("button",{className:"w-8 h-8 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center hover:bg-emerald-500 hover:border-emerald-500 group-hover:opacity-100 opacity-0 transition-all",children:l.jsx("span",{className:"text-white text-xs",children:""})})]})]},h.id))})]})]})]})}function gG(){return l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"cinzel text-2xl text-white tracking-widest font-bold",children:["KPI ",l.jsx("span",{className:"text-emerald-500",children:"& Unit Metrics"})]}),l.jsx("p",{className:"inter text-xs text-slate-400 mt-1 uppercase tracking-tighter",children:"Strategic traction metrics and unit economics analysis"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(hx,{label:"Customer Lifetime Value",value:"$412.5k",sub:"Gross Margin: 82%",icon:"",trend:"+15%"}),l.jsx(hx,{label:"CAC (Total Blended)",value:"$14.2k",sub:"Payback: 3.2Mo",icon:"",trend:"-8%"}),l.jsx(hx,{label:"Churn Rate (Gross)",value:"0.8%",sub:"Expansion: +112%",icon:"",trend:"Stable"})]}),l.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-2xl p-8",children:[l.jsxs("div",{className:"flex justify-between items-start mb-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"inter text-sm font-bold text-white uppercase tracking-widest",children:"Growth Velocity"}),l.jsx("p",{className:"inter text-[9px] text-slate-500 uppercase mt-1",children:"Institutional portfolio adoption rate"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(TC,{color:"bg-emerald-500",label:"SaaS Revenue"}),l.jsx(TC,{color:"bg-blue-500",label:"Professional Services"})]})]}),l.jsx("div",{className:"h-64 flex items-end gap-4 pb-2 border-b border-white/5",children:[30,45,40,65,55,80,75,95,100].map((t,e)=>l.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[l.jsxs("div",{className:"flex flex-col h-full justify-end",children:[l.jsx("div",{className:"w-full bg-blue-500/30 rounded-t-sm",style:{height:`${t*.3}%`}}),l.jsx("div",{className:"w-full bg-emerald-500 rounded-t-sm shadow-[0_0_15px_rgba(16,185,129,0.2)]",style:{height:`${t*.7}%`}})]}),l.jsxs("span",{className:"inter text-[8px] text-slate-600 text-center uppercase mt-1",children:["Q",e+1]})]},e))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-2xl p-8",children:[l.jsx("h4",{className:"inter text-xs font-bold text-emerald-400 uppercase tracking-widest mb-6",children:"Unfair Competitive Moats"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Gl,{title:"NVIDIA Inception",desc:"Exclusive hardware orchestration access and compute subsidies."}),l.jsx(Gl,{title:"Hedera Alliance",desc:"Institutional-grade consensus and permanent audit trail verification."}),l.jsx(Gl,{title:"AWS MAP Pilot",desc:"Direct migration funding for F100 portfolio optimization."})]})]}),l.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-2xl p-8",children:[l.jsx("h4",{className:"inter text-xs font-bold text-blue-400 uppercase tracking-widest mb-6",children:"Unit Economic Stability"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Gl,{title:"82% Contribution Margin",desc:"Highly scalable infrastructure with minimal manual overhead."}),l.jsx(Gl,{title:"8.5x ROI Projection",desc:"Verified via pilot deployments across University networks."}),l.jsx(Gl,{title:"Exclusivity Lock",desc:"Multi-year mandates for estate settlement orchestration."})]})]})]})]})}function hx({label:t,value:e,sub:n,icon:i,trend:r}){return l.jsxs("div",{className:"neo-glass-panel p-6 border border-white/10 rounded-xl relative overflow-hidden group hover:border-emerald-500/30 transition-all duration-500",children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 text-2xl opacity-20 group-hover:opacity-40 transition-opacity translate-x-1 -translate-y-1",children:i}),l.jsx("span",{className:"inter text-[9px] text-slate-400 uppercase tracking-widest block mb-2",children:t}),l.jsxs("div",{className:"flex items-end justify-between",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"cinzel text-2xl font-bold text-white tracking-wider",children:e}),l.jsx("span",{className:"inter text-[9px] text-slate-500 uppercase mt-1",children:n})]}),l.jsxs("span",{className:`inter text-[9px] font-bold ${r==="Stable"?"text-slate-500":(r.startsWith("+"),"text-emerald-400")}`,children:[r," ",r!=="Stable"&&""]})]})]})}function TC({color:t,label:e}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-sm ${t}`}),l.jsx("span",{className:"inter text-[10px] text-slate-400 uppercase tracking-tighter",children:e})]})}function Gl({title:t,desc:e}){return l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-bold text-slate-200",children:t}),l.jsx("span",{className:"inter text-[11px] text-slate-500 mt-0.5",children:e})]})}function yG(){const[t,e]=L.useState("dashboard"),[n,i]=L.useState(()=>jb()),r=[{id:"dashboard",label:"Dashboard",icon:"",category:"Portal"},{id:"dataroom",label:"Data Room",icon:"",category:"Portal"},{id:"metrics",label:"KPI Metrics",icon:"",category:"Portal"},{id:"committee",label:"Committee Docs",icon:"",category:"Resources"},{id:"support",label:"Investor Support",icon:"",category:"Resources"}];return n?l.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-slate-100 flex",children:[l.jsxs("aside",{className:"w-64 border-r border-white/5 flex flex-col bg-slate-900/50 backdrop-blur-xl",children:[l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 border border-emerald-500/50 flex items-center justify-center text-emerald-500 font-bold",children:"SN"}),l.jsxs("div",{children:[l.jsx("h1",{className:"inter text-sm font-bold tracking-tight text-white",children:"SirsiNexus"}),l.jsx("p",{className:"inter text-[10px] text-emerald-500/80 font-medium uppercase tracking-[0.2em]",children:"Investor Portal"})]})]})}),l.jsx("nav",{className:"flex-1 px-4 py-2 flex flex-col gap-6",children:["Portal","Resources"].map(a=>l.jsxs("div",{children:[l.jsx("p",{className:"inter text-[9px] text-slate-500 tracking-[0.2em] font-bold px-4 mb-3 uppercase",children:a}),l.jsx("div",{className:"flex flex-col gap-1",children:r.filter(c=>c.category===a).map(c=>l.jsxs("button",{onClick:()=>e(c.id),className:`flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-300 inter text-sm font-medium ${t===c.id?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent"}`,children:[l.jsx("span",{className:"text-lg opacity-70",children:c.icon}),c.label]},c.id))})]},a))}),l.jsx("div",{className:"p-6 border-t border-white/5 bg-black/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-white/10 flex items-center justify-center text-[10px] font-bold text-slate-400",children:$t.currentUser?.email?.[0].toUpperCase()||"I"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"inter text-xs font-semibold text-white truncate max-w-[140px]",children:$t.currentUser?.email||"Authorized Investor"}),l.jsx("span",{className:"inter text-[9px] text-emerald-500 uppercase tracking-tighter",children:"Tier 1 Access"})]})]})})]}),l.jsxs("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-900 via-[#0f172a] to-slate-950",children:[l.jsx("div",{className:"bg-emerald-500/5 border-b border-white/5 px-12 py-3",children:l.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-8",children:[l.jsx(Ed,{label:"ARR Y3",value:"$33M",color:"emerald"}),l.jsx(Ed,{label:"Customers",value:"280",color:"blue"}),l.jsx(Ed,{label:"Savings",value:"25%",color:"purple"}),l.jsx(Ed,{label:"Uptime",value:"99.2%",color:"orange"}),l.jsx(Ed,{label:"ROI",value:"8.5x",color:"indigo"})]}),l.jsxs("span",{className:"inter text-[10px] text-slate-500 uppercase tracking-widest",children:["Live Feed  ",new Date().toLocaleTimeString()]})]})}),l.jsxs("div",{className:"p-12 max-w-6xl mx-auto",children:[t==="dashboard"&&l.jsx(pG,{}),t==="dataroom"&&l.jsx(mG,{}),t==="metrics"&&l.jsx(gG,{}),t==="committee"&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"Committee Documents"}),l.jsx("p",{className:"inter text-sm text-slate-400 max-w-md",children:"Access strategic committee records, market analysis, and product roadmaps from the secure repository."}),l.jsx("button",{className:"mt-8 px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg inter text-xs font-bold transition-all",children:"Launch Document Store"})]}),t==="support"&&l.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"cinzel text-xl text-gold mb-2",children:"Investor Relations"}),l.jsx("p",{className:"inter text-sm text-slate-400 max-w-md",children:"Primary contact: Cylton Collymore (General Partner). Direct support for cap table inquiries and strategic mandates."}),l.jsx("button",{className:"mt-8 px-6 py-2 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/10 rounded-lg inter text-xs font-bold transition-all",children:"Open Secure Channel"})]})]})]})]}):l.jsx(Zm,{purpose:"vault",onVerified:()=>i(!0),onCancel:()=>window.location.href="/"})}function Ed({label:t,value:e,color:n}){const i={emerald:"bg-emerald-500",blue:"bg-blue-500",purple:"bg-purple-500",orange:"bg-orange-500",indigo:"bg-indigo-500",rose:"bg-rose-500"};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${i[n]} animate-pulse`}),l.jsxs("span",{className:"inter text-[10px] font-medium text-slate-400 uppercase tracking-tight",children:[t,":"]}),l.jsx("span",{className:`inter text-[11px] font-bold text-${n}-400`,children:e})]})}function UR(){const[t,e]=L.useState(!1),[n,i]=L.useState(""),[r,a]=L.useState(""),[c,h]=L.useState(""),[d,p]=L.useState(!1),[m,x]=L.useState(!1),[v,S]=L.useState(!0),[w,E]=L.useState(null),{navigate:T,latestLocation:O}=bn(),N=O.search?.from||"/vault";L.useEffect(()=>{const B=dA($t,W=>{W?T({to:"/vault",replace:!0}):S(!1)});return()=>B()},[T]);const P=async B=>{B.preventDefault(),x(!0),E(null);try{if(t){console.log(` Registering new account for ${r}...`);const W=await HL($t,r,c);await qL(W.user,{displayName:n}),console.log(" Registration successful")}else console.log(` Attempting login for ${r}...`),await $L($t,r,c),console.log(" Login successful");r.toLowerCase().includes("@sirsi.ai")?localStorage.setItem("sirsi_user_role","provider"):localStorage.setItem("sirsi_user_role","client"),localStorage.setItem("sirsi_user_email",r),T({to:N})}catch(W){console.error(" Authentication failed:",W),E(W.message||"Authentication failed")}finally{x(!1)}};return v?l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):l.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",position:"relative",overflow:"hidden"},children:[l.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",opacity:.04,zIndex:5,backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"1200px",height:"1200px",background:"radial-gradient(circle, rgba(30, 58, 138, 0.25) 0%, transparent 70%)",zIndex:1,pointerEvents:"none"}}),l.jsxs("div",{style:{maxWidth:"520px",width:"100%",background:"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(40px)",border:"1px solid rgba(255, 255, 255, 0.08)",borderRadius:"32px",padding:"60px 48px 48px 48px",textAlign:"center",boxShadow:"0 60px 120px -30px rgba(0, 0, 0, 0.8), inset 0 0 40px rgba(255, 255, 255, 0.02)",position:"relative",zIndex:10},children:[l.jsx("div",{style:{display:"inline-block",border:"1px solid #C8A951",borderRadius:"100px",padding:"8px 28px",marginBottom:"32px",background:"rgba(200, 169, 81, 0.02)"},children:l.jsx("span",{style:{color:"#C8A951",fontSize:"11px",fontWeight:800,letterSpacing:"0.35em",textTransform:"uppercase"},children:"Sirsi Nexus Sign"})}),l.jsx("h1",{style:{fontFamily:"'Cinzel', serif",fontSize:"26px",fontWeight:400,margin:"0",letterSpacing:"0.18em",lineHeight:"1.2",color:"#FFFFFF"},children:"THE PROFESSIONAL"}),l.jsx("h2",{style:{fontFamily:"'Cinzel', serif",fontSize:"40px",fontWeight:700,color:"#C8A951",margin:"8px 0 0 0",letterSpacing:"0.08em",lineHeight:"1.0"},children:"DOCUMENT VAULT"}),l.jsx("p",{style:{color:"rgba(255, 255, 255, 0.55)",fontSize:"14px",maxWidth:"380px",margin:"20px auto 36px auto",lineHeight:"1.6",fontWeight:300,fontFamily:"'Inter', sans-serif"},children:t?"Create your secure vault to manage contracts and legal documents.":"Access your secure vault to review, execute, and archive master service agreements."}),l.jsx("div",{style:{height:"1px",background:"linear-gradient(to right, transparent, rgba(200, 169, 81, 0.3), transparent)",marginBottom:"32px"}}),l.jsxs("form",{onSubmit:P,style:{display:"flex",flexDirection:"column",gap:"18px"},children:[t&&l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Full Legal Name"}),l.jsx("input",{type:"text",required:!0,value:n,onChange:B=>i(B.target.value),placeholder:"Cylton Collymore",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Authorized Email"}),l.jsx("input",{type:"email",required:!0,value:r,onChange:B=>a(B.target.value),placeholder:"your@email.com",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}})]}),l.jsxs("div",{style:{textAlign:"left"},children:[l.jsx("label",{style:{display:"block",fontSize:"10px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.12em",marginBottom:"6px",fontFamily:"'Inter', sans-serif"},children:"Password"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:d?"text":"password",required:!0,value:c,onChange:B=>h(B.target.value),placeholder:"",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"10px",padding:"14px 16px",color:"white",fontSize:"14px",outline:"none",paddingRight:"48px",boxSizing:"border-box",transition:"border-color 0.2s ease",fontFamily:"'Inter', sans-serif"}}),l.jsx("button",{type:"button",onClick:()=>p(!d),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"rgba(255,255,255,0.3)",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s ease"},onMouseEnter:B=>B.currentTarget.style.color="#C8A951",onMouseLeave:B=>B.currentTarget.style.color="rgba(255,255,255,0.3)",children:d?l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 19c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),w&&l.jsx("p",{style:{color:"#ef4444",fontSize:"12px",textAlign:"left",margin:"0",fontFamily:"'Inter', sans-serif"},children:w}),l.jsx("button",{type:"submit",className:"select-plan-btn",disabled:m,style:{width:"100%",padding:"16px",marginTop:"8px",border:"none",cursor:m?"wait":"pointer",opacity:m?.7:1},children:m?"Processing...":t?"Establish My Vault":"Access Secure Hub"}),l.jsx("button",{type:"button",onClick:()=>{e(!t),E(null)},style:{background:"transparent",border:"none",color:"#C8A951",fontSize:"13px",cursor:"pointer",fontWeight:600,padding:"8px"},children:t?"Already have a vault? Access here":"New identity? Register your vault"}),l.jsxs("p",{style:{fontSize:"10px",color:"rgba(255,255,255,0.3)",marginTop:"8px",letterSpacing:"0.05em",fontFamily:"'Inter', sans-serif"},children:["BY ACCESSING THIS VAULT YOU AGREE TO SIRSI SECURITY PROTOCOLS. ",l.jsx("br",{}),"BIPARTITE MFA ENFORCEMENT IS ACTIVE."]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.06)",paddingTop:"32px",marginTop:"16px"},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),l.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Immutable Audit"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Signed logs"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),l.jsx("polyline",{points:"14 2 14 8 20 8"}),l.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),l.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Smart Metadata"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"AI indexing"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{color:"#C8A951",marginBottom:"10px",display:"flex",justifyContent:"center"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),l.jsx("div",{style:{fontWeight:700,fontSize:"11px",color:"#FFF"},children:"Unified Billing"}),l.jsx("div",{style:{color:"rgba(255, 255, 255, 0.35)",fontSize:"10px",lineHeight:"1.4",marginTop:"4px"},children:"Stripe rails"})]})]})]}),l.jsxs("div",{style:{marginTop:"32px",color:"rgba(255, 255, 255, 0.25)",fontSize:"10px",textAlign:"center",maxWidth:"500px",lineHeight:"1.6",zIndex:10,fontFamily:"'Inter', sans-serif"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc. All Rights Reserved. SOC 2 Type II compliant."]})]})}function xG(){const{navigate:t}=bn(),e=[{name:"Developer",price:"Free",description:"Perfect for individuals and experimenters.",features:["Up to 5 active projects","Community SDK support","Basic AI agent orchestration","Standard CI/CD pipeline","GitHub integration"],buttonText:"Start Building",highlight:!1},{name:"Professional",price:"$99/mo",description:"For growing teams scaling production workloads.",features:["Unlimited active projects","Priority engineer support","Advanced AI memory graphs","Dedicated gRPC endpoints","Comprehensive analytics","99.9% uptime SLA"],buttonText:"Scale Now",highlight:!0},{name:"Enterprise",price:"Custom",description:"Private Sovereign AI infrastructure.",features:["On-premise deployment","Custom LLM training","Dedicated Hardware HSM","Multi-Tenant Vaults","24/7 Concierge Dev-Ops","Unlimited User Access"],buttonText:"Contact Forge",highlight:!1}];return l.jsxs("div",{className:"min-h-screen bg-navy text-white relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-6xl h-[500px] bg-gold/5 blur-[120px] rounded-full pointer-events-none"}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:[l.jsxs("div",{className:"text-center mb-20",children:[l.jsx("h1",{className:"cinzel text-5xl md:text-6xl text-gold tracking-widest mb-6",children:"Forge Your Infrastructure"}),l.jsx("p",{className:"inter text-xl text-slate-400 max-w-3xl mx-auto font-light leading-relaxed",children:"Institutional-grade scaling for the next generation of AI-driven applications. Transparent, predictable, and permanent."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>l.jsxs("div",{className:`neo-glass-panel border ${n.highlight?"border-gold/50 scale-105 shadow-[0_0_50px_rgba(200,169,81,0.15)]":"border-white/10"} rounded-3xl p-10 flex flex-col h-full transition-all hover:translate-y-[-8px]`,children:[n.highlight&&l.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gold text-navy text-[10px] font-bold uppercase tracking-widest px-4 py-1.5 rounded-full",children:"Recommended"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"cinzel text-2xl text-white tracking-wider mb-2",children:n.name}),l.jsx("p",{className:"inter text-xs text-slate-500 uppercase tracking-widest mb-6",children:n.description}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("span",{className:"cinzel text-4xl font-bold text-gold",children:n.price}),n.price!=="Custom"&&n.price!=="Free"&&l.jsx("span",{className:"inter text-slate-500 text-xs tracking-tighter",children:"/ monthly"})]})]}),l.jsx("div",{className:"h-px bg-white/5 mb-8"}),l.jsx("ul",{className:"space-y-4 mb-10 flex-grow",children:n.features.map(i=>l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gold shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),l.jsx("span",{className:"inter text-sm text-slate-300 font-light",children:i})]},i))}),l.jsx("button",{onClick:()=>n.price==="Custom"?t({to:"/contact"}):t({to:"/signup",search:{plan:n.name.toLowerCase()}}),className:`w-full py-4 rounded-xl cinzel text-xs font-bold tracking-[0.2em] uppercase transition-all ${n.highlight?"bg-gold text-navy hover:bg-gold-bright hover:shadow-[0_0_30px_rgba(200,169,81,0.3)]":"bg-white/5 text-white border border-white/10 hover:bg-white/10"}`,children:n.buttonText})]},n.name))}),l.jsxs("div",{className:"mt-40 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"cinzel text-3xl text-gold tracking-widest text-center mb-16",children:"Intelligence Briefing"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"Can I move between tiers?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Seamless migration is built into the Sirsi Nexus core. Upgrade or adjust your resource allocation instantly through the Command Center."})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"inter text-sm font-bold text-white mb-3 uppercase tracking-wider",children:"What about data sovereignty?"}),l.jsx("p",{className:"inter text-sm text-slate-400 font-light leading-relaxed",children:"Every plan utilizes encrypted Sirsi Vaults. For Enterprise partners, we offer full on-premise knowledge graph synchronization for absolute air-gapped security."})]})]})]})]}),l.jsx("footer",{className:"py-20 text-center opacity-30",children:l.jsxs("p",{className:"inter text-[10px] uppercase tracking-widest",children:[" ",new Date().getFullYear()," Sirsi Technologies  Institutional Grade AI Infrastructure"]})})]})}function vG({baseUrl:t="/policies",newTab:e=!1}){const n=e?{target:"_blank",rel:"noopener noreferrer"}:{},i=[{label:"Privacy",path:"/privacy-policy.html"},{label:"Terms",path:"/terms-of-service.html"},{label:"Security",path:"/security.html"}];return l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:i.map((r,a)=>l.jsxs("span",{children:[l.jsx("a",{href:`${t}${r.path}`,...n,style:{color:"rgba(255,255,255,0.6)",textDecoration:"none",fontSize:"12px",transition:"color 0.2s ease"},onMouseEnter:c=>c.target.style.color="rgba(255,255,255,0.9)",onMouseLeave:c=>c.target.style.color="rgba(255,255,255,0.6)",children:r.label}),a<i.length-1&&l.jsx("span",{style:{color:"rgba(255,255,255,0.3)",fontSize:"8px",marginLeft:"8px"},children:""})]},r.path))})}function bG({onAcceptAll:t,onRejectAll:e}){return l.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"rgba(10, 20, 50, 0.95)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(200, 169, 81, 0.3)",padding:"16px 24px",zIndex:9999,boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)"},children:l.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",lineHeight:"1.5",marginBottom:"16px"},children:['We use cookies to enhance your experience and analyze site usage. By clicking "Accept All", you consent to our use of cookies. Read our'," ",l.jsx("a",{href:"https://sirsi.ai/privacy-policy.html",style:{color:"#C8A951",textDecoration:"underline"},children:"Privacy Policy"})," ","for more information."]}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l.jsx("button",{onClick:e,style:{background:"transparent",color:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"10px 20px",borderRadius:"6px",cursor:"pointer"},children:"Reject All"}),l.jsx("button",{onClick:t,style:{background:"#C8A951",color:"#0A1432",border:"none",padding:"10px 20px",borderRadius:"6px",fontWeight:600,cursor:"pointer"},children:"Accept All"})]})]})})}const fx="sirsi_consent_finalwishes";function SG({children:t}){const[e,n]=L.useState(!1);L.useEffect(()=>{localStorage.getItem(fx)||n(!0)},[]);const i=()=>{localStorage.setItem(fx,JSON.stringify({accepted:!0,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!0,marketing:!0}})),n(!1)},r=()=>{localStorage.setItem(fx,JSON.stringify({accepted:!1,timestamp:new Date().toISOString(),preferences:{essential:!0,analytics:!1,marketing:!1}})),n(!1)};return l.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[l.jsx("main",{style:{flex:1},children:t}),l.jsx("footer",{style:{padding:"16px 24px",background:"rgba(0, 0, 0, 0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto",flexWrap:"wrap",gap:"16px"},children:[l.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px"},children:[" ",new Date().getFullYear()," Sirsi Technologies Inc.. All Rights Reserved."]}),l.jsx(vG,{baseUrl:"https://sirsi.ai",newTab:!0})]})}),e&&l.jsx(bG,{onAcceptAll:i,onRejectAll:r})]})}function Fo({children:t}){const[e,n]=L.useState(null),[i,r]=L.useState(!0),{latestLocation:a}=bn();return L.useEffect(()=>{const c=dA($t,h=>{n(h),r(!1)});return()=>c()},[]),i?l.jsx("div",{style:{minHeight:"100vh",background:"#050816",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.3)",fontFamily:"'Cinzel', serif",letterSpacing:"0.1em"},children:"VERIFYING IDENTITY..."}):e?l.jsx(l.Fragment,{children:t}):l.jsx(CD,{to:"/login",search:{from:a.pathname},replace:!0})}const Ki=FD({component:()=>{const t=i5;return l.jsx(SG,{children:l.jsx(t,{})})}}),wG=Wi({getParentRoute:()=>Ki,path:"/",component:UR}),_G=Wi({getParentRoute:()=>Ki,path:"/login",component:UR}),TG=Wi({getParentRoute:()=>Ki,path:"/pricing",component:xG}),EG=Wi({getParentRoute:()=>Ki,path:"/investor",component:()=>l.jsx(Fo,{children:l.jsx(yG,{})})}),CG=Wi({getParentRoute:()=>Ki,path:"/vault",component:()=>l.jsx(Fo,{children:l.jsx(cj,{})})}),AG=Wi({getParentRoute:()=>Ki,path:"/admin",component:()=>l.jsx(Fo,{children:l.jsx(fG,{})})}),IG=Wi({getParentRoute:()=>Ki,path:"/contracts/$projectId",component:()=>l.jsx(Fo,{children:l.jsx(eg,{})})}),jG=Wi({getParentRoute:()=>Ki,path:"/contracts",component:()=>l.jsx(Fo,{children:l.jsx(eg,{})})}),RG=Wi({getParentRoute:()=>Ki,path:"/admin/contracts/$projectId",component:()=>l.jsx(Fo,{children:l.jsx(eg,{})})}),NG=Wi({getParentRoute:()=>Ki,path:"/vault/$userId",component:()=>l.jsx(Fo,{children:l.jsx(cj,{})})}),kG=Wi({getParentRoute:()=>Ki,path:"/vault/$userId/$category/$entityId/$docId",component:()=>l.jsx(Fo,{children:l.jsx(eg,{})})}),PG=Ki.addChildren([wG,_G,TG,EG,CG,NG,kG,AG,RG,jG,IG]),DG=WD({routeTree:PG}),OG=new Yk,MG=Qk,LG=QD;Ek.createRoot(document.getElementById("root")).render(l.jsx(L.StrictMode,{children:l.jsx(MG,{client:OG,children:l.jsx(LG,{router:DG})})}));
