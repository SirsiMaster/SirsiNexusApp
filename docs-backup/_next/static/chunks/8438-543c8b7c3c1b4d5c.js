"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8438],{38438:(e,t,r)=>{r.d(t,{z:()=>j});var s=r(73365),a=r(1521),i=r(63397),n=r(10330),d=r(82688),c=r(67654),l=r(79212),o=r(16300),x=r(41282),g=r(39357),p=r(28242),u=r(94176),m=r(44920),h=r(10287);let y=[{id:"1",name:"AWS Production",type:"aws",status:"valid",region:"us-east-1",account:"123456789012",lastUsed:"2 hours ago",expiresIn:"29 days",scopes:["ec2:DescribeInstances","s3:ListBucket","rds:DescribeDBInstances","iam:read*"],encryptionStatus:"AES-256 encrypted at rest",rotationEnabled:!0,lastRotated:"15 days ago",healthCheck:"Passed",minimumTtl:30},{id:"2",name:"Azure Development",type:"azure",status:"warning",subscription:"Dev-Subscription-001",region:"East US",lastUsed:"1 day ago",expiresIn:"5 days",scopes:["Microsoft.Compute/*/read","Microsoft.Storage/*/read","Microsoft.Network/*/read"],encryptionStatus:"AES-256 encrypted at rest",rotationEnabled:!0,lastRotated:"45 days ago",healthCheck:"Warning: Expires soon",minimumTtl:7},{id:"3",name:"GCP Production",type:"gcp",status:"valid",project:"my-project-prod",region:"us-central1",lastUsed:"4 hours ago",expiresIn:"45 days",scopes:["compute.instances.list","storage.buckets.list","iam.serviceAccounts.list"],encryptionStatus:"AES-256 encrypted at rest",rotationEnabled:!1,lastRotated:"Never",healthCheck:"Passed",minimumTtl:30},{id:"4",name:"vSphere Staging",type:"vsphere",status:"expired",region:"vCenter-DC1",lastUsed:"30 days ago",expiresIn:"Expired",scopes:["vm.read","datastore.read","network.read"],encryptionStatus:"Legacy encryption",rotationEnabled:!1,lastRotated:"Never",healthCheck:"Failed: Expired credentials",minimumTtl:0},{id:"5",name:"AWS Staging",type:"aws",status:"valid",region:"us-west-2",account:"987654321098",lastUsed:"6 hours ago",expiresIn:"22 days",scopes:["ec2:DescribeInstances","s3:ListBucket","rds:DescribeDBInstances"],encryptionStatus:"AES-256 encrypted at rest",rotationEnabled:!0,lastRotated:"8 days ago",healthCheck:"Passed",minimumTtl:30}],b=e=>{let{title:t,description:r,selectedCredential:d,onSelect:g,allowedTypes:b=["aws","azure","gcp","vsphere"],required:j=!0}=e,[v,N]=(0,a.useState)(null),k=y.filter(e=>b.includes(e.type)&&"expired"!==e.status),f=e=>{switch(e){case"aws":case"azure":case"gcp":return l.A;case"vsphere":return c.A;default:return n.A}},w=e=>{switch(e){case"aws":return"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-700";case"azure":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"gcp":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-200 dark:border-green-700";case"vsphere":return"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}},S=e=>{switch(e){case"valid":return(0,s.jsx)(p.A,{className:"h-4 w-4 text-green-600"});case"warning":return(0,s.jsx)(o.A,{className:"h-4 w-4 text-yellow-600"});case"expired":return(0,s.jsx)(x.A,{className:"h-4 w-4 text-red-600"});default:return(0,s.jsx)(n.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[(0,s.jsx)(n.A,{className:"h-5 w-5 mr-2 text-sirsi-500"}),t,j&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r})]}),d&&(0,s.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-sirsi-50 dark:bg-sirsi-900/30 border border-sirsi-200 dark:border-sirsi-700 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg ".concat(w(d.type)),children:a.createElement(f(d.type),{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:d.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.type.toUpperCase()," - ",d.region||d.subscription||d.project]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[S(d.status),(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selected"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:k.map(e=>{let t=f(e.type),r=(null==d?void 0:d.id)===e.id;return(0,s.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"cursor-pointer rounded-lg border p-4 transition-all ".concat(r?"border-sirsi-500 bg-sirsi-50 dark:bg-sirsi-900/30":"border-gray-200 dark:border-gray-700 hover:border-sirsi-300 hover:bg-gray-50 dark:hover:bg-gray-800 bg-white dark:bg-gray-900"),onClick:()=>g(e),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg ".concat(w(e.type)),children:(0,s.jsx)(t,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.type.toUpperCase()," • ",e.region||e.subscription||e.project]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last used: ",e.lastUsed," • Expires: ",e.expiresIn]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[S(e.status),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),N(v===e.id?null:e.id)},className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:v===e.id?(0,s.jsx)(u.A,{className:"h-4 w-4 text-gray-400"}):(0,s.jsx)(m.A,{className:"h-4 w-4 text-gray-400"})})]})]}),v===e.id&&(0,s.jsx)(i.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Account/Project:"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.account||e.subscription||e.project||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 capitalize",children:e.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Health Check:"}),(0,s.jsx)("p",{className:"text-xs ".concat(e.healthCheck.includes("Passed")?"text-green-600":e.healthCheck.includes("Warning")?"text-yellow-600":"text-red-600"),children:e.healthCheck})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Encryption:"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.encryptionStatus})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Auto-Rotation:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[e.rotationEnabled?(0,s.jsx)(p.A,{className:"h-3 w-3 text-green-600"}):(0,s.jsx)(o.A,{className:"h-3 w-3 text-yellow-600"}),(0,s.jsx)("span",{className:e.rotationEnabled?"text-green-600":"text-yellow-600",children:e.rotationEnabled?"Enabled":"Disabled"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Last Rotated:"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 ".concat("Never"===e.lastRotated?"text-yellow-600":""),children:e.lastRotated})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Permissions:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.scopes.slice(0,3).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-xs px-2 py-1 rounded",children:e},t)),e.scopes.length>3&&(0,s.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",e.scopes.length-3," more"]})]})]})]})})]},e.id)})}),(0,s.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"border border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-4 text-center hover:border-sirsi-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all cursor-pointer",onClick:()=>window.location.href="/credentials",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Add New Credentials"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Configure additional cloud provider access"})]}),j&&!d&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-red-600",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Please select credentials to proceed"})]})]})},j=e=>{let{wizardType:t,onComplete:r}=e,[p,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[y,j]=(0,a.useState)([]),v=(()=>{switch(t){case"migration":return{title:"Migration Environment Setup",description:"Configure source and destination environments for migration",sourceTitle:"Source Environment Credentials",sourceDescription:"Select credentials for the environment you're migrating FROM",targetTitle:"Target Environment Credentials",targetDescription:"Select credentials for the environment you're migrating TO",sourceRequired:!0,targetRequired:!0,sourceTypes:["aws","azure","gcp","vsphere"],targetTypes:["aws","azure","gcp"]};case"optimization":return{title:"Optimization Environment Setup",description:"Configure environment credentials for cost and performance optimization",sourceTitle:"Environment Credentials",sourceDescription:"Select credentials for the environment you want to optimize",targetTitle:null,targetDescription:null,sourceRequired:!0,targetRequired:!1,sourceTypes:["aws","azure","gcp"],targetTypes:[]};case"scaling":return{title:"Auto-Scaling Environment Setup",description:"Configure environment credentials for auto-scaling configuration",sourceTitle:"Environment Credentials",sourceDescription:"Select credentials for the environment where you want to configure auto-scaling",targetTitle:null,targetDescription:null,sourceRequired:!0,targetRequired:!1,sourceTypes:["aws","azure","gcp"],targetTypes:[]};default:return{title:"Environment Setup",description:"Configure environment credentials",sourceTitle:"Environment Credentials",sourceDescription:"Select your environment credentials",targetTitle:null,targetDescription:null,sourceRequired:!0,targetRequired:!1,sourceTypes:["aws","azure","gcp","vsphere"],targetTypes:[]}}})(),N=()=>{let e=[];return v.sourceRequired&&!p&&e.push("Source environment credentials are required"),v.targetRequired&&!m&&e.push("Target environment credentials are required"),"migration"===t&&p&&m&&(p.id===m.id&&e.push("Source and target credentials must be different"),p.type===m.type&&p.region===m.region&&e.push("Source and target environments should be in different regions for best practices")),j(e),0===e.length};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"text-center slide-up",children:[(0,s.jsx)("div",{className:"w-20 h-20 card-gradient rounded-full flex items-center justify-center mx-auto mb-6 hover-glow",children:(0,s.jsx)(n.A,{className:"h-10 w-10 text-white"})}),(0,s.jsx)("h2",{className:"text-display text-3xl mb-4",children:v.title}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto font-medium",children:v.description})]}),(p||m)&&(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-professional hover-lift p-8 border-gradient",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center",children:[(0,s.jsx)(d.A,{className:"h-6 w-6 mr-3 text-sirsi-600"}),"Environment Configuration Summary"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"migration"===t?"Source Environment":"Target Environment"}),(0,s.jsx)("div",{className:"card-professional p-6 hover-lift",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg ".concat("aws"===p.type?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"azure"===p.type?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"gcp"===p.type?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"),children:"vsphere"===p.type?(0,s.jsx)(c.A,{className:"h-5 w-5"}):(0,s.jsx)(l.A,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:p.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.type.toUpperCase()," • ",p.region||p.subscription||p.project]})]})]})})]}),m&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Target Environment"}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg ".concat("aws"===m.type?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"azure"===m.type?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"),children:(0,s.jsx)(l.A,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.type.toUpperCase()," • ",m.region||m.subscription||m.project]})]})]})})]})]})]}),(0,s.jsx)("div",{className:"card-professional hover-lift p-8",children:(0,s.jsx)(b,{title:v.sourceTitle,description:v.sourceDescription,selectedCredential:p,onSelect:u,allowedTypes:v.sourceTypes,required:v.sourceRequired})}),v.targetTitle&&(0,s.jsx)("div",{className:"card-professional hover-lift p-8",children:(0,s.jsx)(b,{title:v.targetTitle,description:v.targetDescription,selectedCredential:m,onSelect:h,allowedTypes:v.targetTypes,required:v.targetRequired})}),y.length>0&&(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"notification-error slide-up",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(o.A,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),(0,s.jsx)("h4",{className:"font-medium text-red-900 dark:text-red-400",children:"Configuration Issues"})]}),(0,s.jsx)("ul",{className:"space-y-1",children:y.map((e,t)=>(0,s.jsxs)("li",{className:"text-sm text-red-800 dark:text-red-300 flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"w-1 h-1 bg-red-600 dark:bg-red-400 rounded-full"}),(0,s.jsx)("span",{children:e})]},t))})]}),(0,s.jsx)("div",{className:"card-glass p-6 backdrop-blur",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"p-3 bg-gradient-primary rounded-xl",children:(0,s.jsx)(x.A,{className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-2",children:"Security Notice"}),(0,s.jsxs)("p",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:["Your credentials are securely stored and encrypted. We only use the minimum required permissions for ",t," operations. You can revoke access at any time through the Credentials Management page."]})]})]})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)("button",{onClick:()=>{N()&&r({name:"Environment Configuration",type:"JSON",size:"2.1 KB",content:JSON.stringify({wizardType:t,source:p?{name:p.name,type:p.type,region:p.region||p.subscription||p.project,account:p.account||p.subscription||p.project,status:p.status,lastUsed:p.lastUsed,scopes:p.scopes}:null,target:m?{name:m.name,type:m.type,region:m.region||m.subscription||m.project,account:m.account||m.subscription||m.project,status:m.status,lastUsed:m.lastUsed,scopes:m.scopes}:null,configuredAt:new Date().toISOString()},null,2)})},disabled:!(v.sourceRequired?!!p:!v.targetRequired||!!m),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-lg px-10 py-5 font-bold flex items-center space-x-3",children:[(0,s.jsxs)("span",{children:["Continue to ","migration"===t?"Resource Discovery":"optimization"===t?"Analysis":"Monitoring Setup"]}),(0,s.jsx)(g.A,{className:"h-6 w-6"})]})})]})}}}]);