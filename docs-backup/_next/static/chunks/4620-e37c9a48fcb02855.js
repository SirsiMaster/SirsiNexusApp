"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4620],{14130:(e,a,t)=>{t.d(a,{cn:()=>r});var s=t(74584),i=t(48539);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,i.Q)((0,s.$)(a))}},44620:(e,a,t)=>{t.d(a,{J:()=>v});var s=t(73365),i=t(1521),r=t(63397),n=t(78039),d=t(84580),l=t(59984),o=t(70189),c=t(28242),m=t(50266),g=t(16300),u=t(69054),h=t(80075),x=t(49643),p=t(58005),y=t(54639);let v=e=>{let{onComplete:a}=e,[t,v]=(0,i.useState)(!1),[f,b]=(0,i.useState)([]),[j,N]=(0,i.useState)(null),[k,w]=(0,i.useState)(!1),[C,S]=(0,i.useState)([{id:"perf-1",name:"Response Time",description:"Measuring application response latency",category:"performance",status:"pending",metrics:[{name:"Avg Response Time",value:"120ms",threshold:"< 200ms",status:"good"},{name:"P95 Response Time",value:"350ms",threshold:"< 500ms",status:"warning"}]},{id:"sec-1",name:"Security Verification",description:"Checking security configurations and access controls",category:"security",status:"pending",metrics:[{name:"SSL/TLS",value:"TLS 1.3",status:"good"},{name:"IAM Roles",value:"Configured",status:"good"}]},{id:"data-1",name:"Data Integrity",description:"Verifying data consistency after migration",category:"data",status:"pending",metrics:[{name:"Checksum Match",value:"100%",status:"good"},{name:"Record Count",value:"Matched",status:"good"}]},{id:"net-1",name:"Network Configuration",description:"Validating network settings and connectivity",category:"network",status:"pending",metrics:[{name:"DNS Resolution",value:"Working",status:"good"},{name:"Firewall Rules",value:"Configured",status:"good"}]}]),V={performance:n.A,security:d.A,data:l.A,network:o.A},A={passed:c.A,failed:m.A,warning:g.A,running:u.A,pending:u.A},R={passed:"text-green-500",failed:"text-red-500",warning:"text-yellow-500",running:"text-blue-500",pending:"text-gray-400"},z=(e,a)=>{N({checkId:e,message:a}),w(!0),v(!1),S(a=>a.map(a=>a.id===e?{...a,status:"failed"}:a))},I=e=>{N(null),w(!1),S(a=>a.map(a=>a.id===e?{...a,status:"pending"}:a)),$(e)},_=e=>{N(null),w(!1),S(a=>a.map(a=>a.id===e?{...a,status:"warning"}:a))},T=async()=>{v(!0),N(null),w(!1),(0,y.e7)("validation_started",{checksCount:C.length});try{await F(C),(0,y.e7)("validation_completed",{checksCompleted:C.filter(e=>"passed"===e.status).length})}catch(e){(0,y.Oz)(e,{component:"ValidateStep",action:"startValidation"})}},$=async e=>{v(!0);let a=C.findIndex(a=>a.id===e),t=C.slice(a);await F(t)},F=async e=>{for(let a of e)try{S(e=>e.map(e=>e.id===a.id?{...e,status:"running"}:e)),await new Promise(e=>setTimeout(e,1500)),S(e=>e.map(e=>e.id===a.id?{...e,status:"passed"}:e)),b(e=>[...e,a.id]),(0,y.$d)("validation_check_completed","ValidateStep",{checkId:a.id})}catch(e){z(a.id,"Validation failed");break}v(!1)},M=e=>{let a=A[e];return(0,s.jsxs)("div",{className:"flex items-center ".concat(R[e]),children:[(0,s.jsx)(a,{className:"h-5 w-5 ".concat("running"===e?"animate-spin":"")}),(0,s.jsx)("span",{className:"ml-2 capitalize",children:e})]})},B=e=>{switch(e){case"good":return"text-green-500";case"warning":return"text-yellow-500";case"bad":return"text-red-500"}},D=!t&&C.every(e=>["passed","warning"].includes(e.status));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Migration Validation"}),(0,s.jsx)("button",{onClick:T,disabled:t,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 disabled:opacity-50",children:t?"Validating...":"Start Validation"})]}),(0,s.jsx)("div",{className:"space-y-4",children:C.map((e,a)=>{let t=V[e.category];return(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(t,{className:"mr-3 h-5 w-5 text-sirsi-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[M(e.status),"failed"===e.status&&(null==j?void 0:j.checkId)===e.id&&(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(p.$,{onClick:()=>I(e.id),size:"sm",variant:"outline",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Retry"]}),(0,s.jsxs)(p.$,{onClick:()=>_(e.id),size:"sm",variant:"outline",className:"text-orange-600",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Bypass"]})]})]})]}),"failed"===e.status&&(null==j?void 0:j.checkId)===e.id&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5 text-red-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-red-900",children:"Validation Error"})]}),(0,s.jsx)("p",{className:"text-sm text-red-800 dark:text-red-300",children:j.message}),(0,s.jsxs)("div",{className:"mt-3 text-xs text-red-600",children:[(0,s.jsx)("p",{children:"• Retry: Attempts the failed validation again"}),(0,s.jsx)("p",{children:"• Bypass: Skips this validation with a warning (may indicate issues)"})]})]}),e.metrics&&(0,s.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:e.metrics.map(e=>(0,s.jsxs)("div",{className:"rounded border border-gray-100 bg-white dark:bg-gray-800 p-3",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.name}),(0,s.jsxs)("div",{className:"mt-1 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium ".concat(B(e.status)),children:e.value}),e.threshold&&(0,s.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Target: ",e.threshold]})]})]},e.name))})]},e.id)})})]}),!t&&C.some(e=>"pending"!==e.status)&&(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,s.jsx)("h3",{className:"mb-4 text-lg font-medium",children:"Validation Summary"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-4",children:["passed","warning","failed"].map(e=>{let a=C.filter(a=>a.status===e).length;return 0===a?null:(0,s.jsxs)("div",{className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,s.jsx)("div",{className:"text-2xl font-bold ".concat(R[e]),children:a}),(0,s.jsxs)("div",{className:"text-sm capitalize text-gray-600 dark:text-gray-400",children:[e," Checks"]})]},e)})})]}),k&&j&&(0,s.jsxs)("div",{className:"rounded-lg border border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(g.A,{className:"h-6 w-6 text-red-500"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-red-900",children:"Validation Failed"})]}),(0,s.jsx)("p",{className:"text-red-800 dark:text-red-300 mb-4",children:"A validation check failed during the migration verification process. You can retry the failed check or bypass it to continue."}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)(p.$,{onClick:()=>I(j.checkId),className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Retry Failed Check"]}),(0,s.jsxs)(p.$,{onClick:()=>_(j.checkId),variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Bypass and Continue"]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{onClick:()=>{console.log("ValidateStep: Continue to Optimization clicked"),console.log("ValidateStep: canProceed:",D),console.log("ValidateStep: validation checks:",C.map(e=>({id:e.id,status:e.status}))),D||(console.log("ValidateStep: Forcing validation completion for demo"),S(e=>e.map(e=>"pending"===e.status||"running"===e.status?{...e,status:"passed"}:e)),v(!1),N(null),w(!1)),console.log("ValidateStep: Calling onComplete...");try{let e={name:"Validation Report",type:"PDF",size:"1.8 MB",content:"# Validation Report\n\nGenerated on: ".concat(new Date().toISOString(),"\n\nValidation Results:\n").concat(C.map(e=>"- ".concat(e.name,": ").concat(e.status)).join("\n"))};a(e),console.log("ValidateStep: onComplete called successfully")}catch(e){console.error("ValidateStep: Error calling onComplete:",e)}},disabled:!1,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 text-lg px-8 py-4 font-bold",children:"Continue to Optimization"})})]})}},58005:(e,a,t)=>{t.d(a,{$:()=>o,r:()=>l});var s=t(73365),i=t(1521),r=t(20544),n=t(82934),d=t(14130);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"gradient-button text-primary-foreground hover:scale-105 shadow-glow",destructive:"bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 hover:scale-105 shadow-lg",outline:"btn-modern border border-input hover:scale-105",secondary:"glass text-secondary-foreground hover:scale-105 shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,a)=>{let{className:t,variant:i,size:n,asChild:o=!1,...c}=e,m=o?r.DX:"button";return(0,s.jsx)(m,{className:(0,d.cn)(l({variant:i,size:n,className:t})),ref:a,...c})});o.displayName="Button"}}]);