"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3463],{40014:(e,t,i)=>{i.d(t,{u:()=>s});var a=i(70636);class r{async analyzeResources(e){try{let t=await fetch("".concat(this.baseUrl,"/ai-analytics"),{method:"POST",headers:{"Content-Type":"application/json",...this.apiKey&&{Authorization:"Bearer ".concat(this.apiKey)}},body:JSON.stringify({action:"analyze",...e})});if(!t.ok)throw Error("AI service error: ".concat(t.statusText));return(await t.json()).data}catch(t){return console.warn("AI service unavailable, using enhanced mock data:",t),this.generateEnhancedMockAnalysis(e)}}async generateOptimizationPlan(e,t){try{let i=await fetch("".concat(this.baseUrl,"/ai-analytics"),{method:"POST",headers:{"Content-Type":"application/json",...this.apiKey&&{Authorization:"Bearer ".concat(this.apiKey)}},body:JSON.stringify({action:"optimize",resources:e,context:t})});if(!i.ok)throw Error("Optimization service error: ".concat(i.statusText));return await i.json()}catch(t){return console.warn("Optimization service unavailable, using mock data:",t),this.generateMockOptimizationPlan(e)}}generateEnhancedMockAnalysis(e){let{resources:t,context:i}=e,a=(null==t?void 0:t.length)||0;return{recommendations:[{id:"rec-1",category:"cost",priority:"high",title:"Right-size Compute Instances",description:"Based on utilization patterns, ".concat(Math.floor(.6*a)," instances are over-provisioned"),impact:"35% cost reduction potential",confidence:.87,estimatedSavings:{cost:4200,performance:"No impact expected",resources:"12 vCPU, 48GB RAM"},implementation:{steps:["Analyze 30-day utilization metrics","Identify over-provisioned instances","Schedule maintenance window","Apply size recommendations","Monitor performance post-change"],effort:"medium",timeline:"2-3 weeks"}},{id:"rec-2",category:"performance",priority:"medium",title:"Implement Auto-Scaling",description:"Traffic patterns show 60% variance - auto-scaling can improve reliability",impact:"Better performance during peak loads",confidence:.92,estimatedSavings:{performance:"40% faster response during peaks",cost:1800},implementation:{steps:["Configure scaling policies","Set up CloudWatch alarms","Test scaling triggers","Monitor scaling events"],effort:"low",timeline:"1 week"}},{id:"rec-3",category:"security",priority:"high",title:"Enable Enhanced Monitoring",description:"Security posture can be improved with advanced threat detection",impact:"Reduced security incidents by 75%",confidence:.79,implementation:{steps:["Deploy security agents","Configure threat detection rules","Set up incident response","Train security team"],effort:"high",timeline:"4-6 weeks"}}],insights:[{type:"opportunity",severity:"info",title:"Spot Instance Opportunity",message:"".concat(Math.floor(.4*a)," workloads suitable for spot instances (70% cost savings)"),timestamp:new Date().toISOString()},{type:"risk",severity:"warning",title:"Single Point of Failure",message:"Database not configured for high availability",timestamp:new Date().toISOString()},{type:"optimization",severity:"info",title:"Storage Optimization",message:"Lifecycle policies can reduce storage costs by 45%",timestamp:new Date().toISOString()}],riskScore:75,costEstimate:{oneTime:12500+200*a,monthly:2800+150*a,savings:15+2*a}}}generateMockOptimizationPlan(e){return{optimizations:[{id:"opt-1",name:"Instance Right-sizing",impact:"high",savings:3200,effort:"medium"},{id:"opt-2",name:"Storage Tiering",impact:"medium",savings:1800,effort:"low"}],projectedSavings:5e3,riskAssessment:"Low risk with proper testing protocols"}}async getCostPredictions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3months";try{let i=await fetch("".concat(this.baseUrl,"/ai-analytics"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"predict-costs",resources:e,timeframe:t})});if(i.ok)return await i.json()}catch(e){console.warn("Cost prediction service unavailable")}let i=280*e.length;return{current:i,predicted:({"1month":1.05*i,"3months":1.12*i,"1year":1.28*i})[t],trends:{direction:"up",confidence:.82,factors:["Seasonal traffic increase","Data growth","Feature expansion"]}}}constructor(){this.baseUrl=a.env.NEXT_PUBLIC_AI_SERVICE_URL||"/api",this.apiKey=a.env.NEXT_PUBLIC_AI_API_KEY}}let s=new r},54639:(e,t,i)=>{i.d(t,{$F:()=>n,$d:()=>d,MG:()=>c,Oz:()=>l,e7:()=>o});var a=i(70636);class r{generateSessionId(){return"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}initializeJourney(){return{userId:this.userId||"anonymous",sessionId:this.sessionId,startTime:new Date().toISOString(),steps:[],metadata:{userAgent:window.navigator.userAgent,viewport:"".concat(window.innerWidth,"x").concat(window.innerHeight),referrer:"undefined"!=typeof document?document.referrer:"unknown"}}}setupEventListeners(){window.addEventListener("beforeunload",()=>{this.finalizeJourney()}),document.addEventListener("visibilitychange",()=>{this.logEvent("visibility_change",{hidden:document.hidden,visibilityState:document.visibilityState})})}setUserId(e){this.userId=e,this.journey.userId=e}logEvent(e,t){let i={event:e,properties:{...t,page:window.location.pathname,timestamp:new Date().toISOString()},timestamp:new Date().toISOString(),sessionId:this.sessionId,userId:this.userId};this.events.push(i),this.journey.steps.push(i),this.sendEvent(i)}async sendEvent(e){try{await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"event",data:e})})}catch(t){console.warn("Analytics event failed to send:",t),this.storeEventLocally(e)}}storeEventLocally(e){try{let t=localStorage.getItem("sirsi_analytics_events"),i=t?JSON.parse(t):[];i.push(e);let a=i.slice(-100);localStorage.setItem("sirsi_analytics_events",JSON.stringify(a))}catch(e){console.warn("Failed to store analytics event locally:",e)}}async retryStoredEvents(){try{let e=localStorage.getItem("sirsi_analytics_events");if(!e)return;let t=JSON.parse(e).map(e=>this.sendEvent(e));await Promise.allSettled(t),localStorage.removeItem("sirsi_analytics_events")}catch(e){console.warn("Failed to retry stored analytics events:",e)}}trackMigrationStep(e,t){this.logEvent("migration_step",{step:e,...t})}trackResourceDiscovery(e,t,i){this.logEvent("resource_discovery",{resourceCount:e,discoveryTimeMs:t,errors:i||[],hasErrors:((null==i?void 0:i.length)||0)>0})}trackOptimizationRecommendation(e,t){this.logEvent("optimization_recommendation",{recommendationId:e.id,category:e.category,priority:e.priority,accepted:t,estimatedSavings:e.estimatedSavings})}trackUserInteraction(e,t,i){this.logEvent("user_interaction",{action:e,component:t,...i})}trackPerformance(e){this.logEvent("performance_metrics",e)}trackError(e,t){this.logEvent("error",{errorMessage:e.message,errorStack:e.stack,errorName:e.name,...t})}trackConversion(e,t){this.logEvent("conversion",{conversionType:e,...t})}finalizeJourney(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"completed";this.journey.endTime=new Date().toISOString(),this.journey.outcome=e,this.sendJourney()}async sendJourney(){try{await fetch(this.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"journey",data:this.journey})})}catch(e){console.warn("Analytics journey failed to send:",e)}}async getInsights(){try{let e=await fetch("".concat(this.apiUrl,"/insights"),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return await e.json()}catch(e){console.warn("Failed to fetch analytics insights:",e)}return{userBehavior:{avgSessionDuration:847,mostUsedFeatures:["resource_discovery","migration_planning","cost_analysis"],dropOffPoints:["specification_step","validation_step"],userFlow:["plan","specify","test","build","transfer"]},performanceMetrics:{avgPageLoadTime:1200,avgComponentRenderTime:156,avgApiResponseTime:340,userInteractionLatency:87},conversionFunnel:{visitorsToSignup:.12,signupToFirstMigration:.68,migrationToCompletion:.83,completionToRetention:.71}}}getExperimentVariant(e){return this.hashString("".concat(this.sessionId,"_").concat(e))%2==0?"control":"variant"}hashString(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}trackExperiment(e,t,i,a){this.logEvent("experiment",{experimentName:e,variant:t,metric:i,value:a})}constructor(){this.events=[],this.sessionId=this.generateSessionId(),this.apiUrl=a.env.NEXT_PUBLIC_ANALYTICS_API||"/api/analytics",this.journey=this.initializeJourney(),this.setupEventListeners()}}let s=new r,n=(e,t)=>{s.logEvent(e,t)},o=(e,t)=>{s.trackMigrationStep(e,t)},c=(e,t)=>{s.trackOptimizationRecommendation(e,t)},d=(e,t,i)=>{s.trackUserInteraction(e,t,i)},l=(e,t)=>{s.trackError(e,t)}},73463:(e,t,i)=>{i.d(t,{U:()=>p});var a=i(73365),r=i(1521),s=i(63397),n=i(18132),o=i(99735),c=i(52391),d=i(87447),l=i(82688);i(40014);var m=i(54639);let p=e=>{let{onComplete:t}=e,[i,p]=(0,r.useState)(!1),[g,y]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[v,x]=(0,r.useState)(!1),[f,b]=(0,r.useState)(0),[k,w]=(0,r.useState)([{id:"perf-1",name:"Instance Right-sizing",description:"Adjust compute resources based on actual usage patterns",category:"performance",impact:"high",metrics:{before:"4 vCPU, 16GB RAM",after:"2 vCPU, 8GB RAM",improvement:"50% resource optimization"},status:"pending",recommendation:"Current usage patterns show over-provisioning. Reducing resources will maintain performance while reducing costs."},{id:"cost-1",name:"Storage Tier Optimization",description:"Move infrequently accessed data to lower-cost storage",category:"cost",impact:"medium",metrics:{before:"$120/month",after:"$75/month",improvement:"37.5% cost reduction"},status:"pending",recommendation:"Implement lifecycle policies to automatically move older data to cheaper storage tiers."},{id:"sust-1",name:"Carbon Footprint Reduction",description:"Optimize workload scheduling for renewable energy usage",category:"sustainability",impact:"high",metrics:{before:"2.5 tons CO2/year",after:"1.8 tons CO2/year",improvement:"28% emissions reduction"},status:"pending",recommendation:"Schedule non-time-critical workloads during periods of high renewable energy availability."},{id:"perf-2",name:"Network Optimization",description:"Implement CDN and optimize data transfer patterns",category:"performance",impact:"medium",metrics:{before:"150ms latency",after:"50ms latency",improvement:"66% latency reduction"},status:"pending",recommendation:"Deploy CDN endpoints and optimize data transfer patterns for improved performance."}]),S={performance:n.A,cost:o.A,sustainability:c.A},j={high:"text-red-500",medium:"text-yellow-500",low:"text-green-500"},N=async()=>{for(let e of(p(!0),g))await new Promise(e=>setTimeout(e,1500)),w(t=>t.map(t=>t.id===e?{...t,status:"applied"}:t));w(e=>e.map(e=>g.includes(e.id)?e:{...e,status:"skipped"})),p(!1)},I=e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),(0,m.$d)("optimization_toggle","OptimizeStep",{optimizationId:e})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium dark:text-gray-100",children:"Resource Optimization"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Select optimizations to apply to your migrated resources"})]}),(0,a.jsx)("button",{onClick:N,disabled:i||0===g.length,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 disabled:opacity-50",children:i?"Optimizing...":"Apply Selected"})]}),(0,a.jsx)("div",{className:"space-y-4",children:k.map((e,t)=>{let i=S[e.category];return(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"rounded-lg border p-4 ".concat(g.includes(e.id)?"border-sirsi-500 bg-sirsi-50 dark:bg-sirsi-900/20":"border-gray-100 dark:border-gray-700 bg-gray-100 dark:bg-gray-800"),children:[(0,a.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"mr-4",children:(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>I(e.id),disabled:"pending"!==e.status,className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-sirsi-500 focus:ring-sirsi-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i,{className:"mr-2 h-5 w-5 text-sirsi-500"}),(0,a.jsx)("h4",{className:"font-medium dark:text-gray-100",children:e.name}),(0,a.jsxs)("span",{className:"ml-2 rounded-full px-2 py-1 text-xs ".concat(j[e.impact]),children:[e.impact," impact"]})]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]}),"pending"!==e.status&&(0,a.jsxs)("span",{className:"flex items-center rounded-full px-2 py-1 text-xs ".concat("applied"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"),children:["applied"===e.status&&(0,a.jsx)(d.A,{className:"mr-1 h-3 w-3"}),e.status]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"rounded border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Before"}),(0,a.jsx)("div",{className:"mt-1 font-medium dark:text-gray-100",children:e.metrics.before})]}),(0,a.jsxs)("div",{className:"rounded border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"After"}),(0,a.jsx)("div",{className:"mt-1 font-medium dark:text-gray-100",children:e.metrics.after})]}),(0,a.jsxs)("div",{className:"rounded border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Improvement"}),(0,a.jsx)("div",{className:"mt-1 font-medium text-green-500",children:e.metrics.improvement})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-start rounded-lg bg-gray-50 dark:bg-gray-700 p-3",children:[(0,a.jsx)(l.A,{className:"mr-2 mt-0.5 h-4 w-4 text-gray-400 dark:text-gray-500 dark:text-gray-400"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.recommendation})]})]},e.id)})})]}),k.some(e=>"pending"!==e.status)&&(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-medium dark:text-gray-100",children:"Optimization Impact"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.A,{className:"mr-2 h-5 w-5 text-sirsi-500"}),(0,a.jsx)("h4",{className:"font-medium dark:text-gray-100",children:"Performance"})]}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-sirsi-500",children:"58%"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average improvement"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"mr-2 h-5 w-5 text-sirsi-500"}),(0,a.jsx)("h4",{className:"font-medium dark:text-gray-100",children:"Cost Savings"})]}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-sirsi-500",children:"$45/mo"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Projected savings"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"mr-2 h-5 w-5 text-sirsi-500"}),(0,a.jsx)("h4",{className:"font-medium dark:text-gray-100",children:"Sustainability"})]}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-sirsi-500",children:"0.7 tons"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"COâ‚‚ reduction/year"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{console.log("OptimizeStep: Continue to Support clicked"),console.log("OptimizeStep: optimizations:",k.map(e=>({id:e.id,status:e.status}))),k.some(e=>"pending"===e.status)&&(console.log("OptimizeStep: Forcing optimization completion for demo"),w(e=>e.map(e=>"pending"===e.status?{...e,status:"applied"}:e)),p(!1)),console.log("OptimizeStep: Calling onComplete...");try{let e={name:"Optimization Recommendations",type:"JSON",size:"234 KB",content:"# Optimization Recommendations\n\nGenerated on: ".concat(new Date().toISOString(),"\n\nOptimizations Applied:\n").concat(k.map(e=>"- ".concat(e.name,": ").concat(e.status)).join("\n"))};t(e),console.log("OptimizeStep: onComplete called successfully")}catch(e){console.error("OptimizeStep: Error calling onComplete:",e)}},disabled:!1,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 text-lg px-8 py-4 font-bold",children:"Continue to Support"})})]})}}}]);