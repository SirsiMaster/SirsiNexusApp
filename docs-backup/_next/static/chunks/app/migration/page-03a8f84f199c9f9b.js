(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3281],{28820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eg});var a=s(73365),r=s(1521),i=s(63397),l=s(28011),n=s(41282),d=s(72971),c=s(82688),o=s(532),m=s(94804),x=s(95185),u=s(84580),g=s(78039),p=s(54897),h=s(90673),y=s(92887),b=s(28242),j=s(16300),f=s(38438),v=s(67654),N=s(59984),k=s(79212),w=s(12416),S=s(89968),A=s(80075),C=s(49643),T=s(11398),P=s(58005),D=s(70189),I=s(39357),M=s(54639);let _=e=>{let{resources:t,showMigrationPath:s=!1,onNodeClick:l,className:n=""}=e,d=(0,r.useRef)(null),[c,o]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),g=e=>({compute:v.A,database:N.A,network:D.A,storage:k.A,security:u.A})[e]||v.A,p=e=>({healthy:"#10B981",warning:"#F59E0B",error:"#EF4444",migrating:"#3B82F6"})[e]||"#6B7280",h=(e=>e.map((t,s)=>{let a=s/e.length*2*Math.PI;return{...t,position:{x:400+180*Math.cos(a),y:300+180*Math.sin(a)}}}))(t);return(0,a.jsxs)("div",{className:"relative w-full h-96 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 ".concat(n),children:[(0,a.jsxs)("svg",{ref:d,width:"100%",height:"100%",viewBox:"0 0 800 600",className:"w-full h-full",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"glow",children:[(0,a.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,a.jsxs)("feMerge",{children:[(0,a.jsx)("feMergeNode",{in:"coloredBlur"}),(0,a.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),(0,a.jsx)("g",{className:"connections",children:(()=>{let e=[];return h.forEach(t=>{t.position&&t.dependencies.forEach(r=>{let i=h.find(e=>e.id===r);if(!(null==i?void 0:i.position))return;let l=(null==c?void 0:c.id)===t.id||(null==c?void 0:c.id)===r;e.push((0,a.jsx)("line",{x1:t.position.x,y1:t.position.y,x2:i.position.x,y2:i.position.y,stroke:l?"#3B82F6":"#D1D5DB",strokeWidth:l?2:1,strokeDasharray:s&&l?"5,5":void 0,className:"transition-all duration-200"},"".concat(t.id,"-").concat(r)));let n=Math.atan2(i.position.y-t.position.y,i.position.x-t.position.x),d=i.position.x-35*Math.cos(n),o=i.position.y-35*Math.sin(n);e.push((0,a.jsx)("polygon",{points:"0,-3 10,0 0,3",fill:l?"#3B82F6":"#9CA3AF",transform:"translate(".concat(d,", ").concat(o,") rotate(").concat(180*n/Math.PI,")"),className:"transition-all duration-200"},"arrow-".concat(t.id,"-").concat(r)))})}),e})()}),(0,a.jsx)("g",{className:"nodes",children:h.map((e,t)=>{let s=g(e.type),r=p(e.status),i=(null==c?void 0:c.id)===e.id,n=(null==m?void 0:m.id)===e.id;return e.position?(0,a.jsxs)("g",{transform:"translate(".concat(e.position.x,", ").concat(e.position.y,")"),style:{cursor:"pointer"},onClick:()=>{o(e),null==l||l(e),(0,M.$F)("node_click",{nodeId:e.id,nodeType:e.type})},onMouseEnter:()=>x(e),onMouseLeave:()=>x(null),children:[(0,a.jsx)("circle",{r:i?35:n?32:28,fill:"white",stroke:r,strokeWidth:i?3:2,filter:i||n?"url(#glow)":void 0,className:"transition-all duration-200"}),(0,a.jsx)("circle",{r:6,cx:20,cy:-20,fill:r,stroke:"white",strokeWidth:2}),(0,a.jsx)("foreignObject",{x:-12,y:-12,width:24,height:24,children:(0,a.jsx)(s,{className:"w-6 h-6 text-gray-700"})}),(0,a.jsx)("text",{y:45,textAnchor:"middle",className:"text-sm font-medium fill-gray-700",fontSize:"12",children:e.name.length>12?"".concat(e.name.substring(0,12),"..."):e.name}),(0,a.jsx)("text",{y:58,textAnchor:"middle",className:"text-xs fill-gray-500",fontSize:"10",children:e.type})]},e.id):null})})]}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 bg-white dark:bg-gray-800 rounded-lg p-3 shadow-md border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Resource Status"}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Healthy"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Warning"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Error"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Migrating"})]})]})]}),c&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-lg border border-gray-200 dark:border-gray-700 w-64",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.name}),(0,a.jsx)("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100 capitalize",children:c.type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"font-medium capitalize ".concat("healthy"===c.status?"text-green-600":"warning"===c.status?"text-yellow-600":"error"===c.status?"text-red-600":"text-blue-600"),children:c.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Dependencies:"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.dependencies.length})]})]}),Object.keys(c.metadata).length>0&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("h5",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Metadata"}),(0,a.jsx)("div",{className:"space-y-1 text-xs",children:Object.entries(c.metadata).slice(0,3).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[t,":"]}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300 font-mono",children:String(s)})]},t)})})]})]}),s&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 border border-blue-200 dark:border-blue-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[(0,a.jsx)(I.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Migration Path Active"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Click nodes to see migration order and dependencies"})]})]})},R=e=>{let{onComplete:t}=e;console.log("PlanStep: Component rendered with onComplete:",t);let[s,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)([]),[m,x]=(0,r.useState)(""),[u,g]=(0,r.useState)(0),[p,h]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[D,I]=(0,r.useState)(!1),[R,z]=(0,r.useState)([]),L=()=>{let e=new URLSearchParams(window.location.search),t=e.get("entity")||localStorage.getItem("selectedEntity")||"tvfone",s=e.get("demo")||localStorage.getItem("selectedJourney")||"migration";console.log("Generating resources for:",{entity:t,journey:s});let a=[];return"tvfone"===t?a.push({id:"media-cdn-01",name:"global-content-delivery",type:"network",status:"not_started",metadata:{type:"CDN",provider:"Cloudflare",regions:"15 global regions",bandwidth:"50 Gbps peak",content:"45.7TB cached"}},{id:"media-stream-01",name:"streaming-servers",type:"compute",status:"not_started",metadata:{type:"Streaming Infrastructure",instances:"12 c5.4xlarge",concurrent:"450K users",bitrates:"720p, 1080p, 4K"}},{id:"media-ai-01",name:"ai-recommendation-engine",type:"application",status:"not_started",metadata:{type:"ML/AI Service",framework:"TensorFlow",models:"15 recommendation models",processing:"2M recommendations/day"}},{id:"media-content-01",name:"video-content-storage",type:"storage",status:"not_started",metadata:{type:"Object Storage",capacity:"850TB video content",formats:"MP4, WebM, HLS",redundancy:"3x replication"}}):"kulturio"===t?a.push({id:"health-emr-01",name:"electronic-medical-records",type:"database",status:"not_started",metadata:{type:"EMR Database",records:"150K patient records",compliance:"HIPAA compliant",encryption:"AES-256 at rest"}},{id:"health-ai-01",name:"skin-analysis-ai",type:"application",status:"not_started",metadata:{type:"Medical AI",framework:"PyTorch",models:"Dermatology CNN",accuracy:"94.2% diagnosis rate"}},{id:"health-imaging-01",name:"medical-imaging-storage",type:"storage",status:"not_started",metadata:{type:"PACS Storage",capacity:"12.3TB medical images",formats:"DICOM, JPEG",retention:"7 year legal requirement"}},{id:"health-tele-01",name:"telemedicine-platform",type:"application",status:"not_started",metadata:{type:"Video Conferencing",platform:"WebRTC",concurrent:"500 sessions",security:"End-to-end encrypted"}}):"uniedu"===t&&a.push({id:"edu-sis-01",name:"student-information-system",type:"database",status:"not_started",metadata:{type:"SIS Database",records:"385K student records",compliance:"FERPA compliant",retention:"Permanent academic records"}},{id:"edu-lms-01",name:"learning-management-system",type:"application",status:"not_started",metadata:{type:"LMS Platform",platform:"Moodle",courses:"2,500 active courses",users:"50K concurrent users"}},{id:"edu-analytics-01",name:"student-analytics-warehouse",type:"database",status:"not_started",metadata:{type:"Analytics DB",engine:"PostgreSQL",size:"28.5TB data",insights:"Performance analytics"}},{id:"edu-research-01",name:"research-computing-cluster",type:"compute",status:"not_started",metadata:{type:"HPC Cluster",nodes:"64 compute nodes",cores:"2,048 CPU cores",memory:"16TB total RAM"}}),"optimization"===s?a.push({id:"opt-monitor-01",name:"cost-optimization-dashboard",type:"application",status:"not_started",metadata:{type:"Monitoring Tool",platform:"Grafana + Prometheus",metrics:"500+ cost metrics",savings:"$450K identified"}},{id:"opt-rightsizing-01",name:"resource-rightsizing-analysis",type:"application",status:"not_started",metadata:{type:"Optimization Engine",analysis:"CPU, Memory, Storage",recommendations:"47 rightsizing ops",potential:"32% cost reduction"}}):"scaleUp"===s&&a.push({id:"scale-autoscale-01",name:"auto-scaling-groups",type:"compute",status:"not_started",metadata:{type:"Auto Scaling",min:"2 instances",max:"50 instances",triggers:"CPU, Memory, Network"}},{id:"scale-elastic-01",name:"elastic-load-balancers",type:"network",status:"not_started",metadata:{type:"Application Load Balancer",capacity:"10K RPS peak",health:"Health check enabled",ssl:"SSL termination"}}),[{id:"vm-web-01",name:"web-server-01",type:"compute",status:"not_started",metadata:{instanceType:"t3.large",os:"Ubuntu 20.04 LTS",cpu:"2 vCPU",memory:"8GB",region:"us-east-1a"}},{id:"vm-app-01",name:"application-server-cluster",type:"compute",status:"not_started",metadata:{instanceType:"t3.xlarge",count:"3 instances",os:"RHEL 8.4",cpu:"4 vCPU each",memory:"16GB each"}},{id:"db-prod-01",name:"production-database",type:"database",status:"not_started",metadata:{engine:"PostgreSQL 13.4",size:"250GB",connections:"150 max",backups:"Daily automated"}},{id:"db-analytics-01",name:"analytics-warehouse",type:"database",status:"not_started",metadata:{engine:"MySQL 8.0",size:"1.2TB",type:"Data Warehouse",partitions:"24 monthly"}},{id:"net-fw-01",name:"main-firewall",type:"network",status:"not_started",metadata:{type:"Firewall",model:"Cisco ASA 5515-X",rules:"247 active rules",zones:"DMZ, Internal, Management"}},{id:"net-sw-01",name:"core-switch-stack",type:"network",status:"not_started",metadata:{type:"Layer 3 Switch",model:"Cisco Catalyst 9300",ports:"48 ports active",vlans:"12 VLANs configured"}},{id:"net-rt-01",name:"border-router",type:"network",status:"not_started",metadata:{type:"Border Router",model:"Cisco ISR 4431",interfaces:"WAN, LAN, DMZ",routing:"BGP, OSPF"}},{id:"net-lb-01",name:"application-load-balancer",type:"network",status:"not_started",metadata:{type:"Load Balancer",model:"F5 BigIP LTM",pools:"8 server pools",ssl:"SSL offloading enabled"}},{id:"stor-nas-01",name:"file-server-array",type:"storage",status:"not_started",metadata:{type:"NAS Storage",capacity:"50TB total",used:"32TB used (64%)",shares:"125 network shares"}},{id:"stor-san-01",name:"database-storage-san",type:"storage",status:"not_started",metadata:{type:"SAN Storage",capacity:"20TB SSD",performance:"50K IOPS",redundancy:"RAID 10"}},{id:"sec-ad-01",name:"active-directory-domain",type:"identity",status:"not_started",metadata:{type:"Domain Controller",domain:"company.local",users:"1,247 user accounts",groups:"89 security groups"}},{id:"sec-ca-01",name:"certificate-authority",type:"security",status:"not_started",metadata:{type:"PKI Certificate Authority",certificates:"156 active certs",templates:"12 cert templates",validity:"2-year default"}},{id:"app-email-01",name:"email-server-exchange",type:"application",status:"not_started",metadata:{type:"Email Server",platform:"Microsoft Exchange 2019",mailboxes:"1,200 mailboxes",storage:"2.8TB email data"}},{id:"app-file-01",name:"file-share-server",type:"application",status:"not_started",metadata:{type:"File Server",platform:"Windows Server 2019",shares:"75 shared folders",permissions:"ACL-based security"}},{id:"usr-batch-01",name:"user-accounts-migration",type:"users",status:"not_started",metadata:{type:"User Accounts",total:"1,247 user accounts",active:"1,156 active users",groups:"89 security groups",policies:"15 group policies"}},{id:"usr-svc-01",name:"service-accounts",type:"users",status:"not_started",metadata:{type:"Service Accounts",total:"34 service accounts",applications:"23 app services",databases:"8 db services",scheduled:"12 scheduled tasks"}},...a]},B=e=>{f(e),I(!0),n(!1),x("Discovery failed: "+e)},E=async()=>{o([]),z([]),g(0),x(""),f(null),I(!1),n(!0),h(!0);try{x("Connecting to backend discovery service...");let e=await fetch("/api/migration/discovery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceType:"hybrid",credentials:"mock-credentials"})});if(!e.ok)throw Error("Backend discovery service unavailable");let t=await e.json();if(t.success){x("Backend discovery completed successfully!"),o(t.data.resources),z(t.data.summary.typeCounts.map(e=>({...e,icon:({Compute:v.A,Database:N.A,Network:k.A,Storage:N.A})[e.type]||v.A}))),g(100),n(!1);return}}catch(e){console.warn("Backend discovery failed, falling back to mock discovery:",e),x("Backend unavailable, using comprehensive mock discovery...")}let e=["Initializing comprehensive infrastructure scan...","Scanning network topology and devices...","Discovering compute instances and virtual machines...","Analyzing database systems and storage...","Mapping network infrastructure (routers, switches, firewalls)...","Cataloging user accounts and service identities...","Analyzing applications and services...","Evaluating security infrastructure and certificates...","Compiling dependency mappings...","Generating migration readiness assessment...","Discovery complete! Found comprehensive infrastructure inventory."];try{for(let t=0;t<e.length;t++){if(x(e[t]),g((t+1)/e.length*100),3===t&&.3>Math.random())throw Error("Failed to connect to database servers. Authentication or network issues detected.");if(5===t&&.2>Math.random())throw Error("Active Directory connection timeout. Unable to enumerate user accounts.");await new Promise(e=>setTimeout(e,1200))}}catch(e){B(e instanceof Error?e.message:"Unknown discovery error occurred.");return}let t=L();z(t.reduce((e,t)=>{let s=e.find(e=>e.type===t.type);if(s)s.count++;else{let s={compute:v.A,database:N.A,network:k.A,storage:N.A,identity:v.A,security:v.A,application:v.A,users:v.A};e.push({type:t.type.charAt(0).toUpperCase()+t.type.slice(1),count:1,icon:s[t.type]||v.A})}return e},[])),o(t),n(!1),setTimeout(()=>{let e=t.length;x("Discovery complete! Found ".concat(e," infrastructure components ready for migration analysis. Comprehensive inventory includes compute, network, storage, security, applications, and user accounts."))},500)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-bold text-slate-900 dark:text-gray-100",children:"Resource Discovery"}),(0,a.jsxs)("button",{onClick:E,disabled:s,className:"mb-6 flex items-center rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 disabled:opacity-50",children:[(0,a.jsx)(d.A,{className:"mr-2 h-5 w-5"}),s?"Discovering...":"Start Discovery"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:R.map(e=>(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(e.icon,{className:"mr-3 h-6 w-6 text-sirsi-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-slate-900 dark:text-gray-100",children:e.type}),(0,a.jsxs)("p",{className:"text-base text-slate-800 dark:text-gray-300 font-medium",children:[e.count," found"]})]})]})},e.type))})]}),c.length>0&&(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(_,{resources:c.map(e=>({id:e.id,name:e.name,type:e.type,status:"healthy",dependencies:[],metadata:e.metadata})),showMigrationPath:!0,onNodeClick:e=>(0,M.$d)("resource_node_click","ResourceDependencyGraph",{nodeId:e.id,nodeType:e.type})})}),c.length>0&&(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-2xl font-bold text-slate-900",children:"Discovered Resources"}),(0,a.jsx)("div",{className:"space-y-2",children:c.map(e=>(0,a.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg border border-gray-100 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-bold text-slate-900",children:e.name}),(0,a.jsx)("p",{className:"text-base text-slate-800 font-medium",children:e.type})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Object.entries(e.metadata).map(e=>{let[t,s]=e;return(0,a.jsxs)("p",{children:[t,": ",(0,a.jsx)("span",{className:"font-medium",children:s})]},t)})})]})},e.id))})]}),(0,a.jsx)(l.N,{children:p&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"rounded-lg border border-sirsi-200 bg-sirsi-50 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-sirsi-500 rounded-full",children:(0,a.jsx)(w.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sirsi-900",children:"Discovery Agent"}),(0,a.jsx)("p",{className:"text-sm text-sirsi-600",children:"AI-powered infrastructure discovery"})]})]}),s&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-sirsi-700",children:"Discovery Progress"}),(0,a.jsxs)("span",{className:"text-sm text-sirsi-600",children:[Math.round(u),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-sirsi-200 rounded-full h-2",children:(0,a.jsx)(i.P.div,{className:"bg-sirsi-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(u,"%")},transition:{duration:.3}})})]}),(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start space-x-3",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-sirsi-500 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-sirsi-800",children:m}),s&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)(A.A,{className:"h-3 w-3 text-sirsi-500 animate-spin"}),(0,a.jsx)("span",{className:"text-xs text-sirsi-600",children:"Working..."})]}),!s&&c.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-green-700 dark:text-green-300",children:"Discovery completed successfully"})]})]})]},m),D&&y&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-900",children:"Discovery Error"})]}),(0,a.jsx)("p",{className:"text-sm text-red-800 dark:text-red-300 mb-4",children:y}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(P.$,{onClick:()=>{f(null),I(!1),E()},size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Retry Discovery"]}),(0,a.jsxs)(P.$,{onClick:()=>{f(null),I(!1),n(!1),o([{id:"fallback-db-01",name:"fallback-database",type:"database",status:"not_started",metadata:{engine:"PostgreSQL 13.4",size:"100GB",note:"Manually configured fallback resource"}},{id:"fallback-web-01",name:"fallback-web-server",type:"compute",status:"not_started",metadata:{instanceType:"t3.medium",os:"Ubuntu 20.04",note:"Manually configured fallback resource"}}]),g(100),x("Using fallback resource configuration. Discovery bypassed.")},size:"sm",variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Use Fallback Configuration"]})]}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-red-600",children:[(0,a.jsx)("p",{children:"• Retry: Attempts discovery again with current settings"}),(0,a.jsx)("p",{children:"• Fallback: Uses pre-configured sample resources to continue"})]})]}),!s&&c.length>0&&!D&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"AI Recommendations"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("p",{children:"• Consider migrating databases first to establish connectivity"}),(0,a.jsx)("p",{children:"• Group resources by region to optimize network transfer costs"}),(0,a.jsx)("p",{children:"• Schedule migration during low-traffic hours (2-4 AM EST)"})]})]})]})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(P.$,{variant:"outline",onClick:()=>h(!p),className:"flex items-center space-x-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[p?"Hide":"Show"," Agent Chat"]})]}),(0,a.jsx)(P.$,{onClick:()=>{if(alert("BUTTON CLICKED! Continue button is working!"),console.log("PlanStep: Continue to Requirements clicked"),console.log("PlanStep: resources count:",c.length),console.log("PlanStep: isDiscovering:",s),console.log("PlanStep: onComplete function exists:","function"==typeof t),console.log("PlanStep: onComplete function:",t),s||0===c.length){console.log("PlanStep: Setting up mock resources for demo");let e=[{id:"1",name:"prod-db-01",type:"database",status:"not_started",metadata:{engine:"postgresql",version:"13.4",size:"100GB"}},{id:"2",name:"web-server-cluster",type:"compute",status:"not_started",metadata:{instanceType:"t3.large",count:"3",os:"Ubuntu 20.04"}}];n(!1),o(e),g(100),x("Discovery complete! Found "+e.length+" resources ready for migration.")}console.log("PlanStep: Calling onComplete...");try{let e={name:"Migration Assessment Report",type:"PDF",size:"2.4 MB",content:"Demo content for Migration Assessment Report.\nTotal Resources: ".concat(c.length||2)};t(e),console.log("PlanStep: onComplete called successfully")}catch(e){console.error("PlanStep: Error calling onComplete:",e)}},disabled:!1,className:"bg-sirsi-500 hover:bg-sirsi-600 text-lg px-8 py-4 font-bold",children:"Continue to Requirements"})]})]})};var z=s(75125),L=s(42232),B=s(99735),E=s(18132),O=s(12698),U=s(40014);let G=e=>{let{resources:t,onComplete:s}=e,[n,d]=(0,r.useState)({downtime:"4h",networkBandwidth:"1Gbps",targetSpecs:{cpu:"8 vCPU",memory:"32GB",storage:"500GB"},schedulePreference:"weekend",compliance:["GDPR","SOC2"]}),[c,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)({oneTime:12500,monthly:2800,savings:15}),[h,y]=(0,r.useState)(null),[j,f]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[S,A]=(0,r.useState)(0),[C,I]=(0,r.useState)({score:75,level:"medium",findings:[{category:"Performance",description:"Network bandwidth might be insufficient for large databases",impact:"Could extend migration duration",recommendation:"Consider upgrading network capacity or splitting migration batches"},{category:"Compliance",description:"Data transfer across regions requires encryption",impact:"Additional security measures needed",recommendation:"Enable in-transit encryption and verify compliance requirements"}]}),_=async()=>{x(!0),A(0),(0,M.e7)("specify_analysis_started",{resourceCount:t.length});try{let e=setInterval(()=>{A(e=>Math.min(e+10,90))},200),s=await U.u.analyzeResources({resources:t,requirements:n,context:{entity:new URLSearchParams(window.location.search).get("entity")||"default",journey:new URLSearchParams(window.location.search).get("demo")||"migration",environment:"specification"}});clearInterval(e),A(100),f(s.recommendations),p(s.costEstimate),I({score:s.riskScore,level:s.riskScore>80?"high":s.riskScore>60?"medium":"low",findings:C.findings}),y(s),(0,M.e7)("specify_analysis_completed",{recommendationsCount:s.recommendations.length,riskScore:s.riskScore,estimatedCost:s.costEstimate.monthly})}catch(e){console.warn("AI analysis failed, using fallback:",e),(0,M.Oz)(e,{component:"SpecifyStep",action:"runBackendAnalysis"}),A(100)}finally{x(!1)}};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s({name:"Requirements Specification",type:"JSON",size:"156 KB",content:JSON.stringify({requirements:n,backendAnalysis:h,timestamp:new Date().toISOString()},null,2)})},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-medium dark:text-gray-100",children:"Migration Requirements"}),(0,a.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"flex items-center rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-4",children:[(0,a.jsx)(v.A,{className:"mr-3 h-6 w-6 text-sirsi-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium dark:text-gray-100",children:"Resources"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.length," total"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-4",children:[(0,a.jsx)(z.A,{className:"mr-3 h-6 w-6 text-sirsi-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium dark:text-gray-100",children:"Estimated Duration"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4-6 hours"})]})]}),(0,a.jsxs)("div",{className:"flex items-center rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 p-4",children:[(0,a.jsx)(D.A,{className:"mr-3 h-6 w-6 text-sirsi-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium dark:text-gray-100",children:"Network Required"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.networkBandwidth})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"mb-2 font-medium dark:text-gray-100",children:"Target Environment Specifications"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"CPU"}),(0,a.jsxs)("select",{className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 shadow-sm focus:border-sirsi-500 focus:outline-none dark:text-gray-100",value:n.targetSpecs.cpu,onChange:e=>d({...n,targetSpecs:{...n.targetSpecs,cpu:e.target.value}}),children:[(0,a.jsx)("option",{children:"4 vCPU"}),(0,a.jsx)("option",{children:"8 vCPU"}),(0,a.jsx)("option",{children:"16 vCPU"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"}),(0,a.jsxs)("select",{className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 shadow-sm focus:border-sirsi-500 focus:outline-none dark:text-gray-100",value:n.targetSpecs.memory,onChange:e=>d({...n,targetSpecs:{...n.targetSpecs,memory:e.target.value}}),children:[(0,a.jsx)("option",{children:"16GB"}),(0,a.jsx)("option",{children:"32GB"}),(0,a.jsx)("option",{children:"64GB"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Storage"}),(0,a.jsxs)("select",{className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 shadow-sm focus:border-sirsi-500 focus:outline-none dark:text-gray-100",value:n.targetSpecs.storage,onChange:e=>d({...n,targetSpecs:{...n.targetSpecs,storage:e.target.value}}),children:[(0,a.jsx)("option",{children:"250GB"}),(0,a.jsx)("option",{children:"500GB"}),(0,a.jsx)("option",{children:"1TB"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"mb-2 font-medium",children:"Schedule Preference"}),(0,a.jsx)("div",{className:"flex space-x-4",children:["weekend","weekday","any"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",name:"schedule",value:e,checked:n.schedulePreference===e,onChange:e=>d({...n,schedulePreference:e.target.value}),className:"h-4 w-4 text-sirsi-500 focus:ring-sirsi-500"}),(0,a.jsx)("span",{className:"text-sm capitalize",children:e})]},e))})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-medium",children:"Risk Assessment"}),(0,a.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,a.jsx)("div",{className:"mr-4 h-16 w-16 rounded-full ".concat("low"===C.level?"bg-green-100 dark:bg-green-900/30":"medium"===C.level?"bg-yellow-100 dark:bg-yellow-900/30":"bg-red-100 dark:bg-red-900/30"," flex items-center justify-center"),children:(0,a.jsx)("span",{className:"text-2xl font-bold ".concat("low"===C.level?"text-green-600":"medium"===C.level?"text-yellow-600":"text-red-600"),children:C.score})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium capitalize",children:[C.level," Risk"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overall assessment score"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:C.findings.map((e,t)=>(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(L.A,{className:"mr-3 h-5 w-5 text-yellow-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium",children:e.category}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:e.description}),(0,a.jsxs)("p",{className:"mt-2 text-sm",children:[(0,a.jsx)("strong",{children:"Impact:"})," ",e.impact]}),(0,a.jsxs)("p",{className:"text-sm text-sirsi-600",children:[(0,a.jsx)("strong",{children:"Recommendation:"})," ",e.recommendation]})]})]})},t))})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-sirsi-200 bg-sirsi-50 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-sirsi-500 rounded-full",children:(0,a.jsx)(w.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sirsi-900",children:"Assessment Agent"}),(0,a.jsx)("p",{className:"text-sm text-sirsi-600",children:"AI-powered cost and risk analysis"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(P.$,{variant:"outline",onClick:_,disabled:m,children:m?"Analyzing...":"Run AI Analysis"}),(0,a.jsx)(P.$,{variant:"outline",onClick:()=>o(!c),children:c?"Hide Analysis":"Show Analysis"})]})]}),(0,a.jsx)(l.N,{children:c&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(B.A,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"One-time Cost"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",g.oneTime.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Migration execution"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(E.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Monthly Cost"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",g.monthly.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Infrastructure running"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-purple-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Savings"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[g.savings,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated reduction"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(O.A,{className:"h-5 w-5 text-yellow-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"AI Recommendations"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500 mt-0.5"}),(0,a.jsx)("p",{children:"Consider using spot instances for development workloads to reduce costs by 60%"})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500 mt-0.5"}),(0,a.jsx)("p",{children:"Schedule migration during weekend hours to minimize business impact"})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500 mt-0.5"}),(0,a.jsx)("p",{children:"Enable auto-scaling to optimize resource utilization and costs"})]})]})]}),j.length>0&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-purple-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"AI-Powered Recommendations"})]}),(0,a.jsx)("div",{className:"space-y-3",children:j.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("high"===e.priority?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"medium"===e.priority?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300"),children:e.priority})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Impact: ",e.impact]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Confidence: ",Math.round(100*e.confidence),"%"]}),(0,a.jsx)("button",{onClick:()=>{let t=N.includes(e.id);k(s=>t?s.filter(t=>t!==e.id):[...s,e.id]),(0,M.MG)(e,!t)},className:"px-2 py-1 rounded text-xs ".concat(N.includes(e.id)?"bg-sirsi-500 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-300"),children:N.includes(e.id)?"Selected":"Select"})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-sirsi-100",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Performance & Security Insights"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Performance"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Current configuration will handle 2x traffic growth"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Expected 25% performance improvement"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Security"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Encryption at rest and in transit enabled"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Compliance requirements satisfied"})]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(P.$,{variant:"outline",onClick:()=>o(!c),className:"flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"AI Assessment"})]}),(0,a.jsx)("button",{type:"submit",className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600",children:"Continue to Configuration"})]})]})})};var F=s(46906),q=s(42330),Z=s(54388),H=s(44620),W=s(73463),V=s(32247);let $=[{id:"discovery-complete",name:"Discovery Phase Acknowledgment",description:"I acknowledge that the discovery phase has identified all relevant assets, IPs, users, and devices in my environment.",category:"process",required:!0,agreed:!1},{id:"migration-plan-accepted",name:"Migration Plan Acceptance",description:"I accept the proposed migration plan and understand the implications of the migration strategy.",category:"process",required:!0,agreed:!1},{id:"security-protocols",name:"Security Protocol Compliance",description:"I acknowledge that all communications will use secure protocols (mTLS, HTTPS, SFTP, SSH) and understand the security requirements.",category:"security",required:!0,agreed:!1},{id:"backup-strategy",name:"Backup and Recovery Strategy",description:"I understand the backup strategy and disaster recovery procedures that will be implemented during migration.",category:"risk",required:!0,agreed:!1},{id:"audit-logging",name:"Audit and Logging Consent",description:"I consent to comprehensive logging of all migration activities, including agent communications and error tracking.",category:"compliance",required:!0,agreed:!1},{id:"rollback-procedures",name:"Rollback Procedure Understanding",description:"I understand the rollback procedures and acknowledge the risks associated with migration rollback.",category:"risk",required:!1,agreed:!1}];function K(e){let{onComplete:t}=e,[s,l]=(0,r.useState)($),[d,c]=(0,r.useState)(null),o=e=>{l(s.map(t=>t.id===e?{...t,agreed:!t.agreed}:t))},m=e=>{switch(e){case"security":return(0,a.jsx)(u.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"compliance":return(0,a.jsx)(n.A,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"});case"process":return(0,a.jsx)(C.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"risk":return(0,a.jsx)(j.A,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});default:return(0,a.jsx)(C.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}},x=e=>{switch(e){case"security":return"border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20";case"compliance":return"border-purple-200 dark:border-purple-700 bg-purple-50 dark:bg-purple-900/20";case"process":return"border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20";case"risk":return"border-yellow-200 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20";default:return"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/20"}},g=s.filter(e=>e.required),p=g.every(e=>e.agreed),h=s.filter(e=>e.agreed).length;return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-blue-600"}),"Migration Plan Agreement"]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[h,"/",s.length," Agreed"]})]}),(0,a.jsx)("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Please review and acknowledge each aspect of the migration plan. Required items must be agreed to before proceeding."})}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 ".concat(x(e.category)),children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[m(e.category),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:e.name}),e.required&&(0,a.jsx)("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 px-2 py-1 rounded",children:"Required"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>c(d===e.id?null:e.id),className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Details"}),(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.agreed,onChange:()=>o(e.id),className:"h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:bg-gray-700"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-slate-700 dark:text-slate-300",children:e.agreed?"Agreed":"Agree"})]})]})]}),d===e.id&&(0,a.jsx)(i.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:(0,a.jsxs)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Category:"})," ",e.category]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Required:"})," ",e.required?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Impact:"})," This agreement affects the migration security and compliance posture."]})]})})]},e.id))}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:p?(0,a.jsxs)("span",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),"All required agreements completed"]}):(0,a.jsxs)("span",{className:"text-yellow-600 dark:text-yellow-400 flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),g.length-g.filter(e=>e.agreed).length," required agreements remaining"]})}),(0,a.jsx)("button",{onClick:()=>t(p),disabled:!p,className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(p?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"),children:"Proceed with Migration"})]})})]})})}var J=s(16135),Q=s(11945),X=s(17599),Y=s(22512),ee=s(50266),et=s(43585),es=s(44920);let ea=[{id:"srv-001",name:"web-server-01",type:"server",status:"active",ip:"10.0.1.10",location:"us-east-1",owner:"admin@company.com",lastSeen:"2025-07-08T05:50:00Z",securityStatus:"secure",migrationReady:!0,metadata:{os:"Ubuntu 22.04",cpu:"4 cores",memory:"16GB",storage:"100GB SSD"}},{id:"db-001",name:"postgres-primary",type:"database",status:"active",ip:"10.0.1.20",location:"us-east-1",owner:"dba@company.com",lastSeen:"2025-07-08T05:50:00Z",securityStatus:"secure",migrationReady:!0,metadata:{engine:"PostgreSQL 15",size:"500GB",connections:"45/100"}},{id:"net-001",name:"production-vpc",type:"network",status:"active",location:"us-east-1",owner:"netops@company.com",lastSeen:"2025-07-08T05:50:00Z",securityStatus:"secure",migrationReady:!1,metadata:{cidr:"10.0.0.0/16",subnets:"4",gateways:"2"}},{id:"usr-001",name:"john.doe",type:"user",status:"active",location:"global",lastSeen:"2025-07-08T05:45:00Z",securityStatus:"secure",migrationReady:!0,metadata:{role:"admin",lastLogin:"2025-07-08T05:45:00Z",permissions:"full"}}];function er(e){let{assets:t=ea,onAssetSelect:s,onExport:l}=e,[n,c]=(0,r.useState)(""),[o,m]=(0,r.useState)("all"),[x,u]=(0,r.useState)(null),g=e=>{switch(e){case"server":return(0,a.jsx)(v.A,{className:"h-4 w-4"});case"database":return(0,a.jsx)(N.A,{className:"h-4 w-4"});case"network":return(0,a.jsx)(D.A,{className:"h-4 w-4"});case"user":return(0,a.jsx)(J.A,{className:"h-4 w-4"});case"device":return(0,a.jsx)(Q.A,{className:"h-4 w-4"});case"storage":return(0,a.jsx)(X.A,{className:"h-4 w-4"});default:return(0,a.jsx)(Y.A,{className:"h-4 w-4"})}},p=e=>{switch(e){case"active":return"text-green-600 dark:text-green-400";case"inactive":default:return"text-gray-600 dark:text-gray-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"critical":return"text-red-600 dark:text-red-400"}},h=e=>{switch(e){case"secure":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"vulnerable":return(0,a.jsx)(ee.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"});default:return(0,a.jsx)(j.A,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"})}},f=t.filter(e=>{var t,s;let a=e.name.toLowerCase().includes(n.toLowerCase())||(null==(t=e.ip)?void 0:t.toLowerCase().includes(n.toLowerCase()))||(null==(s=e.owner)?void 0:s.toLowerCase().includes(n.toLowerCase())),r="all"===o||e.type===o;return a&&r}),k={total:t.length,ready:t.filter(e=>e.migrationReady).length,secure:t.filter(e=>"secure"===e.securityStatus).length,vulnerable:t.filter(e=>"vulnerable"===e.securityStatus).length};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Discovered Assets Catalog"}),(0,a.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),"Export Catalog"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:k.total}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Assets"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:k.ready}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Migration Ready"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:k.secure}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Secure"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:k.vulnerable}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Vulnerable"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search assets by name, IP, or owner...",value:n,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(et.A,{className:"h-4 w-4 text-slate-400"}),(0,a.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"server",children:"Servers"}),(0,a.jsx)("option",{value:"database",children:"Databases"}),(0,a.jsx)("option",{value:"network",children:"Networks"}),(0,a.jsx)("option",{value:"user",children:"Users"}),(0,a.jsx)("option",{value:"device",children:"Devices"}),(0,a.jsx)("option",{value:"storage",children:"Storage"})]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-200 dark:border-slate-600",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Asset"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"IP/Location"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Security"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Migration"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900 dark:text-slate-100",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:f.map(e=>(0,a.jsxs)(i.P.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[g(e.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.id})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"capitalize text-slate-700 dark:text-slate-300",children:e.type})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"capitalize ".concat(p(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"text-sm",children:[e.ip&&(0,a.jsx)("div",{className:"font-mono",children:e.ip}),(0,a.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:e.location})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[h(e.securityStatus),(0,a.jsx)("span",{className:"text-sm capitalize",children:e.securityStatus})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.migrationReady?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"),children:e.migrationReady?"Ready":"Not Ready"})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("button",{onClick:()=>u(e),className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm",children:[(0,a.jsx)(es.A,{className:"h-3 w-3"}),"View"]})})]},e.id))})]})}),0===f.length&&(0,a.jsx)("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"No assets found matching your criteria."})]}),x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["Asset Details: ",x.name]}),(0,a.jsx)("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Type"}),(0,a.jsx)("div",{className:"capitalize",children:x.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),(0,a.jsx)("div",{className:p(x.status),children:x.status})]}),x.ip&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"IP Address"}),(0,a.jsx)("div",{className:"font-mono",children:x.ip})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Location"}),(0,a.jsx)("div",{children:x.location})]}),x.owner&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Owner"}),(0,a.jsx)("div",{children:x.owner})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Last Seen"}),(0,a.jsx)("div",{children:new Date(x.lastSeen).toLocaleString()})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Metadata"}),(0,a.jsx)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4",children:(0,a.jsx)("pre",{className:"text-sm text-slate-700 dark:text-slate-300",children:JSON.stringify(x.metadata,null,2)})})]})]})]})})]})}var ei=s(77720),el=s(10330);let en=[{id:"mtls",name:"mTLS (Mutual TLS)",type:"transport",status:"active",description:"Mutual TLS for secure bidirectional authentication",port:443,version:"1.3",lastChecked:"2025-07-08T06:05:00Z",details:{algorithm:"ECDHE-RSA-AES256-GCM-SHA384",keyLength:"2048-bit",certificate:"sirsi-nexus.crt",expiry:"2026-01-15T00:00:00Z"}},{id:"https",name:"HTTPS",type:"transport",status:"active",description:"Secure HTTP communications with TLS encryption",port:443,version:"1.3",lastChecked:"2025-07-08T06:05:00Z",details:{algorithm:"AES-256-GCM",keyLength:"256-bit",certificate:"wildcard.sirsi-nexus.com",expiry:"2026-03-20T00:00:00Z"}},{id:"ssh",name:"SSH",type:"transport",status:"active",description:"Secure Shell for encrypted remote access",port:22,version:"2.0",lastChecked:"2025-07-08T06:05:00Z",details:{algorithm:"RSA-SHA256",keyLength:"4096-bit",certificate:"ssh-host-key"}},{id:"sftp",name:"SFTP",type:"transport",status:"active",description:"Secure File Transfer Protocol over SSH",port:22,version:"3.0",lastChecked:"2025-07-08T06:05:00Z",details:{algorithm:"AES-256-CTR",keyLength:"256-bit"}},{id:"spiffe",name:"SPIFFE/SPIRE",type:"identity",status:"active",description:"Secure Production Identity Framework for Everyone",lastChecked:"2025-07-08T06:05:00Z",details:{certificate:"spiffe://sirsi-nexus.com/workload",expiry:"2025-07-08T18:00:00Z"}},{id:"vault",name:"HashiCorp Vault",type:"encryption",status:"active",description:"Secrets management and encryption",port:8200,lastChecked:"2025-07-08T06:05:00Z",details:{algorithm:"AES-256-GCM",keyLength:"256-bit"}}];function ed(e){let{onSecurityValidated:t,onRefresh:s}=e,[l,d]=(0,r.useState)(en),[c,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{t(l.every(e=>"active"===e.status))},[l,t]);let g=async()=>{o(!0),s(),setTimeout(()=>{d(e=>e.map(e=>({...e,lastChecked:new Date().toISOString()}))),o(!1)},2e3)},p=e=>{switch(e){case"active":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"warning":return(0,a.jsx)(j.A,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"error":case"inactive":return(0,a.jsx)(ee.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"});default:return(0,a.jsx)(j.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}},h=e=>{switch(e){case"transport":return(0,a.jsx)(ei.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"authentication":return(0,a.jsx)(el.A,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"});case"encryption":return(0,a.jsx)(n.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"identity":return(0,a.jsx)(u.A,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"});default:return(0,a.jsx)(u.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}},y=e=>{switch(e){case"active":return"border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20";case"warning":return"border-yellow-200 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20";case"error":case"inactive":return"border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20";default:return"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/20"}},f=l.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{}),v=l.filter(e=>"active"===e.status).length,N=l.filter(e=>"warning"===e.status).length,k=l.filter(e=>"error"===e.status||"inactive"===e.status).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-600"}),"Security Protocol Status"]}),(0,a.jsxs)("button",{onClick:g,disabled:c,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg text-sm",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 ".concat(c?"animate-spin":"")}),c?"Checking...":"Refresh"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:v}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:N}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Warnings"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:k}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Errors"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(f).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"border border-slate-200 dark:border-slate-600 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"text-md font-medium text-slate-900 dark:text-slate-100 mb-3 flex items-center gap-2 capitalize",children:[h(t),t," Protocols"]}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"border rounded-lg p-3 cursor-pointer hover:shadow-sm transition-all ".concat(y(e.status)),onClick:()=>x(e),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[p(e.status),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:[e.name,e.port&&(0,a.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:[":",e.port]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:e.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs font-medium capitalize ".concat("active"===e.status?"text-green-600 dark:text-green-400":"warning"===e.status?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:e.status}),(0,a.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(e.lastChecked).toLocaleTimeString()})]})]})},e.id))})]},t)})}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(k>0?"text-red-600 dark:text-red-400":N>0?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"),children:[p(k>0?"error":N>0?"warning":"active"),(0,a.jsx)("span",{className:"font-medium",children:k>0?"Security Issues Detected":N>0?"Security Warnings Present":"All Security Protocols Active"})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Last checked: ",new Date().toLocaleTimeString()]})]})})]}),m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 max-w-2xl w-full mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[h(m.type),m.name," Details"]}),(0,a.jsx)("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[p(m.status),(0,a.jsx)("span",{className:"capitalize",children:m.status})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Type"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 capitalize",children:[h(m.type),m.type]})]}),m.port&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Port"}),(0,a.jsx)("div",{children:m.port})]}),m.version&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Version"}),(0,a.jsx)("div",{children:m.version})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:m.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Security Details"}),(0,a.jsx)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.details.algorithm&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Algorithm:"}),(0,a.jsx)("div",{className:"font-mono text-xs",children:m.details.algorithm})]}),m.details.keyLength&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Key Length:"}),(0,a.jsx)("div",{children:m.details.keyLength})]}),m.details.certificate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Certificate:"}),(0,a.jsx)("div",{className:"font-mono text-xs",children:m.details.certificate})]}),m.details.expiry&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Expires:"}),(0,a.jsx)("div",{children:new Date(m.details.expiry).toLocaleDateString()})]})]})})]})]})]})})]})}var ec=s(96294),eo=s(42032);let em=[{id:"evt-001",timestamp:"2025-07-08T06:05:30Z",eventType:"migration",action:"migration_started",resourceType:"migration",resourceId:"mig-12345",userId:"user-001",userName:"john.doe@company.com",sessionId:"sess-abc123",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",success:!0,details:{sourceProvider:"aws",targetProvider:"azure",resourceCount:45,estimatedDuration:"2 hours",securityProtocols:["mTLS","HTTPS","SSH"]}},{id:"evt-002",timestamp:"2025-07-08T06:04:15Z",eventType:"security",action:"certificate_verified",resourceType:"certificate",resourceId:"cert-mtls-001",sessionId:"sess-abc123",success:!0,details:{certificateType:"mTLS",issuer:"SirsiNexus CA",expiryDate:"2026-01-15T00:00:00Z",algorithm:"RSA-2048"}},{id:"evt-003",timestamp:"2025-07-08T06:03:45Z",eventType:"authentication",action:"login",resourceType:"user",resourceId:"user-001",userId:"user-001",userName:"john.doe@company.com",sessionId:"sess-abc123",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",success:!0,details:{authMethod:"2FA",loginDuration:"1.2s",deviceFingerprint:"fp-device-001"}},{id:"evt-004",timestamp:"2025-07-08T06:02:30Z",eventType:"agent",action:"agent_spawned",resourceType:"agent",resourceId:"agent-aws-001",sessionId:"sess-abc123",success:!0,details:{agentType:"aws-discovery",spiffeId:"spiffe://sirsi-nexus.com/agent/aws-001",capabilities:["discover","migrate","validate"],region:"us-east-1"}},{id:"evt-005",timestamp:"2025-07-08T06:01:15Z",eventType:"authorization",action:"access_granted",resourceType:"project",resourceId:"proj-migration-001",userId:"user-001",userName:"john.doe@company.com",sessionId:"sess-abc123",ipAddress:"192.168.1.100",success:!0,details:{permission:"migration:execute",role:"migration-admin",scope:"project"}},{id:"evt-006",timestamp:"2025-07-08T06:00:45Z",eventType:"system",action:"security_scan_completed",resourceType:"system",success:!0,details:{scanType:"vulnerability",threatsFound:0,complianceScore:98,scanDuration:"45s"}}];function ex(e){let{events:t,onExportLogs:s,onEventSelect:l}=e,n=t||em,[c,o]=(0,r.useState)(n),[m,x]=(0,r.useState)(""),[g,p]=(0,r.useState)("all"),[j,f]=(0,r.useState)("all"),[k,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=n;m&&(e=e.filter(e=>{var t,s;return e.action.toLowerCase().includes(m.toLowerCase())||e.resourceType.toLowerCase().includes(m.toLowerCase())||(null==(t=e.userName)?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null==(s=e.ipAddress)?void 0:s.includes(m))})),"all"!==g&&(e=e.filter(e=>e.eventType===g)),"all"!==j&&(e=e.filter(e=>"success"===j?e.success:!e.success)),o(e)},[n,m,g,j]);let S=e=>{switch(e){case"authentication":return(0,a.jsx)(ec.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"authorization":return(0,a.jsx)(u.A,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"});case"migration":return(0,a.jsx)(v.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"});case"agent":return(0,a.jsx)(eo.A,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"});case"system":return(0,a.jsx)(N.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"});case"security":return(0,a.jsx)(u.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"});default:return(0,a.jsx)(h.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}},A=e=>e?(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):(0,a.jsx)(ee.A,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),C=e=>{switch(e){case"authentication":return"border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20";case"authorization":return"border-purple-200 dark:border-purple-700 bg-purple-50 dark:bg-purple-900/20";case"migration":return"border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20";case"agent":return"border-orange-200 dark:border-orange-700 bg-orange-50 dark:bg-orange-900/20";case"system":return"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/20";case"security":return"border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20";default:return"border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/20"}};n.reduce((e,t)=>(e[t.eventType]=(e[t.eventType]||0)+1,e),{});let T=n.filter(e=>e.success).length,P=n.filter(e=>!e.success).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-blue-600"}),"Migration Audit Trail"]}),(0,a.jsxs)("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),"Export Logs"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:n.length}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Events"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:T}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Successful"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:P}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Failed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[Math.round(T/n.length*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Success Rate"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search events by action, resource, user, or IP...",value:m,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(et.A,{className:"h-4 w-4 text-slate-400"}),(0,a.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"authentication",children:"Authentication"}),(0,a.jsx)("option",{value:"authorization",children:"Authorization"}),(0,a.jsx)("option",{value:"migration",children:"Migration"}),(0,a.jsx)("option",{value:"agent",children:"Agent"}),(0,a.jsx)("option",{value:"system",children:"System"}),(0,a.jsx)("option",{value:"security",children:"Security"})]}),(0,a.jsxs)("select",{value:j,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"all",children:"All Results"}),(0,a.jsx)("option",{value:"success",children:"Success Only"}),(0,a.jsx)("option",{value:"failure",children:"Failures Only"})]})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border rounded-lg p-4 cursor-pointer hover:shadow-md transition-all ".concat(C(e.eventType)),onClick:()=>{w(e),l(e)},children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[S(e.eventType),A(e.success)]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:e.action.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,a.jsx)("span",{className:"text-xs bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-1 rounded capitalize",children:e.eventType})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Resource:"})," ",e.resourceType,e.resourceId&&(0,a.jsxs)("span",{className:"text-xs ml-1",children:["(",e.resourceId,")"]})]}),e.userName&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"User:"})," ",e.userName,e.ipAddress&&(0,a.jsxs)("span",{className:"text-xs ml-1",children:["from ",e.ipAddress]})]}),!e.success&&e.errorMessage&&(0,a.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:[(0,a.jsx)("span",{className:"font-medium",children:"Error:"})," ",e.errorMessage]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[(0,a.jsx)(z.A,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString()]}),(0,a.jsx)("button",{className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mt-1",children:"View Details"})]})]})},e.id))}),0===c.length&&(0,a.jsx)("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"No audit events found matching your criteria."})]}),k&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[S(k.eventType),"Audit Event Details"]}),(0,a.jsx)("button",{onClick:()=>w(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Event ID"}),(0,a.jsx)("div",{className:"font-mono text-sm",children:k.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Timestamp"}),(0,a.jsx)("div",{children:new Date(k.timestamp).toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Event Type"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 capitalize",children:[S(k.eventType),k.eventType]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[A(k.success),k.success?"Success":"Failed"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Action"}),(0,a.jsx)("div",{children:k.action.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Resource"}),(0,a.jsxs)("div",{children:[k.resourceType,k.resourceId&&(0,a.jsxs)("span",{className:"text-xs ml-1",children:["(",k.resourceId,")"]})]})]})]}),(k.userId||k.userName||k.ipAddress)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-slate-900 dark:text-slate-100 mb-3",children:"User Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[k.userName&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"User"}),(0,a.jsx)("div",{children:k.userName})]}),k.sessionId&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Session ID"}),(0,a.jsx)("div",{className:"font-mono text-sm",children:k.sessionId})]}),k.ipAddress&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"IP Address"}),(0,a.jsx)("div",{className:"font-mono",children:k.ipAddress})]}),k.userAgent&&(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"User Agent"}),(0,a.jsx)("div",{className:"text-sm",children:k.userAgent})]})]})]}),k.errorMessage&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-slate-900 dark:text-slate-100 mb-3",children:"Error Details"}),(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:(0,a.jsx)("div",{className:"text-red-800 dark:text-red-300",children:k.errorMessage})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-slate-900 dark:text-slate-100 mb-3",children:"Event Details"}),(0,a.jsx)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4",children:(0,a.jsx)("pre",{className:"text-sm text-slate-700 dark:text-slate-300 overflow-auto",children:JSON.stringify(k.details,null,2)})})]})]})]})})]})}let eu={environment:{title:"Environment Setup",description:"Configure source and destination credentials",icon:n.A,features:["Multi-cloud credentials","Connection validation","Security protocols"]},plan:{title:"Plan Migration",description:"AI-powered discovery and strategic planning",icon:d.A,features:["User agreements","Asset discovery","Security validation","Audit logging"]},specify:{title:"Specify Requirements",description:"Define migration parameters with AI insights",icon:c.A,features:["Resource specifications","Cost optimization","Risk assessment","AI recommendations"]},test:{title:"Test Configuration",description:"Comprehensive validation and infrastructure preview",icon:o.A,features:["Infrastructure as Code","Configuration tests","Error resolution","Flow diagrams"]},build:{title:"Build Infrastructure",description:"Automated infrastructure deployment",icon:m.A,features:["Network configuration","Storage provisioning","Compute deployment","Monitoring setup"]},transfer:{title:"Transfer Resources",description:"Real-time migration with progress monitoring",icon:x.A,features:["Live transfer tracking","Progress metrics","Error handling","Performance monitoring"]},validate:{title:"Validate Migration",description:"Comprehensive post-migration verification",icon:u.A,features:["Data integrity checks","Performance validation","Security verification","Network testing"]},optimize:{title:"Optimize Resources",description:"AI-driven cost and performance optimization",icon:g.A,features:["Cost analysis","Performance tuning","Resource rightsizing","Efficiency metrics"]},support:{title:"Support & Monitor",description:"Ongoing monitoring and support automation",icon:c.A,features:["24/7 monitoring","Alert management","Support ticketing","Knowledge base"]}};function eg(){let[e,t]=(0,r.useState)("environment"),[s,n]=(0,r.useState)({environment:"not_started",plan:"not_started",specify:"not_started",test:"not_started",build:"not_started",transfer:"not_started",validate:"not_started",optimize:"not_started",support:"not_started"}),[d,c]=(0,r.useState)(new Set),[o,m]=(0,r.useState)([]),[x,u]=(0,r.useState)([]),[g,v]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),[A,C]=(0,r.useState)([]),T=async e=>{try{let t=await fetch("/api/migration/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();console.log("Audit event logged to backend:",e.data.eventId)}}catch(e){console.warn("Failed to log audit event to backend:",e)}C(t=>[e,...t])},P=Object.keys(eu),D=e=>{t(e)},I=(e,s,a)=>{if(console.log("Step ".concat(e," completed")),"plan"===e&&a&&u(a),c(t=>new Set([...t,e])),n(t=>({...t,[e]:"completed"})),s){let t={id:"".concat(e,"-").concat(Date.now()),name:s.name,type:s.type,size:s.size,step:e.charAt(0).toUpperCase()+e.slice(1),content:s.content};m(e=>[...e,t])}let r=P.indexOf(e);if(r<P.length-1){let e=P[r+1];t(e),n(t=>({...t,[e]:"in_progress"}))}else v(!0)},M=e=>{let t=new Blob([e.content||"# ".concat(e.name,"\n\nGenerated on: ").concat(new Date().toISOString(),"\nStep: ").concat(e.step,"\nType: ").concat(e.type,"\nSize: ").concat(e.size,"\n\nThis is a sample artifact generated during the migration process.")],{type:"text/plain"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="".concat(e.name.replace(/\s+/g,"_"),".").concat(e.type.toLowerCase()),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)};return g?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 flex items-center justify-center p-4",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-2xl mx-auto text-center bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,a.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-6",children:(0,a.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(p.A,{className:"h-10 w-10 text-white"})})}),(0,a.jsx)(i.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Migration Completed Successfully!"}),(0,a.jsx)(i.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Your migration has been completed successfully. All resources have been transferred and validated."}),o.length>0&&(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Generated Artifacts"}),(0,a.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 rounded-full",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.type," • ",e.size]})]})]}),(0,a.jsxs)("button",{onClick:()=>M(e),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Download"})]})]},e.id))})]}),(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex justify-center space-x-4",children:(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium",children:"Start New Migration"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-blue-50 to-indigo-50 dark:from-cyan-900 dark:via-blue-900 dark:to-indigo-900 py-8 px-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Migration Wizard"}),(0,a.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Seamlessly migrate your infrastructure to the cloud"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Migration Steps"}),(0,a.jsx)("div",{className:"space-y-3",children:P.map((t,r)=>{let i=eu[t];s[t];let l=t===e,n=d.has(t);return(0,a.jsx)("div",{onClick:()=>D(t),className:"cursor-pointer rounded-lg border p-3 transition-colors ".concat(l?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":n?"border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full ".concat(n?"bg-green-500":l?"bg-blue-500":"bg-slate-300 dark:bg-slate-600"),children:n?(0,a.jsx)(b.A,{className:"h-4 w-4 text-white"}):(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:r+1})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-medium ".concat(l?"text-blue-900 dark:text-blue-100":n?"text-green-900 dark:text-green-100":"text-slate-900 dark:text-slate-100"),children:i.title}),(0,a.jsx)("p",{className:"text-xs mb-2 ".concat(l?"text-blue-600 dark:text-blue-300":n?"text-green-600 dark:text-green-300":"text-slate-600 dark:text-slate-400"),children:i.description}),(0,a.jsxs)("div",{className:"space-y-1",children:[i.features.slice(0,2).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center text-xs ".concat(l?"text-blue-700 dark:text-blue-200":n?"text-green-700 dark:text-green-200":"text-slate-500 dark:text-slate-400"),children:[(0,a.jsx)("div",{className:"w-1 h-1 rounded-full mr-2 ".concat(l?"bg-blue-500":n?"bg-green-500":"bg-slate-400")}),(0,a.jsx)("span",{children:e})]},t)),i.features.length>2&&(0,a.jsxs)("div",{className:"text-xs ".concat(l?"text-blue-600 dark:text-blue-300":n?"text-green-600 dark:text-green-300":"text-slate-500 dark:text-slate-400"),children:["+",i.features.length-2," more features"]})]})]})]})},t)})})]}),o.length>0&&(0,a.jsxs)("div",{className:"mt-6 bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-3 flex items-center",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Generated Artifacts (",o.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[o.slice(-3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded border border-slate-200 dark:border-slate-600 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"font-medium truncate text-slate-900 dark:text-slate-100",children:e.name})]}),(0,a.jsx)("button",{onClick:()=>M(e),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 p-1",children:(0,a.jsx)(y.A,{className:"h-3 w-3"})})]},e.id)),o.length>3&&(0,a.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center pt-1",children:["+",o.length-3," more artifacts"]})]})]})]}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-500 rounded-full",children:(0,a.jsx)("span",{className:"text-lg font-bold text-white",children:P.indexOf(e)+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:eu[e].title}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:eu[e].description})]})]})}),(0,a.jsx)(l.N,{mode:"wait",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:["environment"===e&&(0,a.jsx)(f.z,{wizardType:"migration",onComplete:t=>{console.log("EnvironmentSetupStep completed with artifact:",t),I(e,t)}}),"plan"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(K,{onComplete:e=>{console.log("UserAgreement completed:",e),S(e),T({id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"migration",action:e?"user_agreement_approved":"user_agreement_rejected",resourceType:"migration_plan",userId:"user-001",userName:"john.doe@company.com",success:e,details:{agreementStatus:e?"approved":"rejected"}})}}),(0,a.jsx)(ed,{onSecurityValidated:e=>{console.log("Security validated:",e),k(e),T({id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"security",action:"security_protocols_validated",resourceType:"security_protocols",success:e,details:{securityStatus:e?"all_protocols_active":"issues_detected"}})},onRefresh:()=>{console.log("Refreshing security protocols...");let e={id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"system",action:"security_protocols_refreshed",resourceType:"security_protocols",success:!0,details:{action:"manual_refresh"}};C(t=>[e,...t])}}),(0,a.jsx)(er,{onAssetSelect:e=>{console.log("Asset selected:",e);let t={id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"migration",action:"asset_selected",resourceType:"discovered_asset",resourceId:e.id,success:!0,details:{assetType:e.type,assetName:e.name}};C(e=>[t,...e])},onExport:()=>{console.log("Exporting catalog...");let e={id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"migration",action:"asset_catalog_exported",resourceType:"asset_catalog",success:!0,details:{exportFormat:"json",assetCount:x.length}};C(t=>[e,...t])}}),(0,a.jsx)(ex,{events:A,onExportLogs:()=>{console.log("Exporting audit logs...");let e=new Blob([JSON.stringify({exportDate:new Date().toISOString(),eventCount:A.length,events:A},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="migration-audit-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},onEventSelect:e=>{console.log("Audit event selected:",e)}}),w&&N&&(0,a.jsx)(R,{onComplete:t=>{console.log("PlanStep completed with artifact:",t);let s={id:"evt-".concat(Date.now()),timestamp:new Date().toISOString(),eventType:"migration",action:"migration_plan_completed",resourceType:"migration_plan",userId:"user-001",userName:"john.doe@company.com",success:!0,details:{artifactGenerated:!0,artifactName:null==t?void 0:t.name,securityValidated:!0,userAgreementApproved:!0}};C(e=>[s,...e]),I(e,t)}}),(!w||!N)&&(0,a.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-300",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"Prerequisites Required"})]}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"Please complete user agreements and ensure all security protocols are validated before proceeding with the migration plan."})]})]}),"specify"===e&&(0,a.jsx)(G,{resources:x.length>0?x:[{id:"1",name:"prod-db-01",type:"database",status:"not_started",metadata:{engine:"postgresql",version:"13.4",size:"100GB"}}],onComplete:t=>{console.log("SpecifyStep completed with artifact:",t),I(e,t)}}),"test"===e&&(0,a.jsx)(F.p,{onComplete:t=>{console.log("TestStep completed with artifact:",t),I(e,t)}}),"build"===e&&(0,a.jsx)(q.L,{onComplete:t=>{console.log("BuildStep completed with artifact:",t),I(e,t)}}),"transfer"===e&&(0,a.jsx)(Z.c,{onComplete:t=>{console.log("TransferStep completed with artifact:",t),I(e,t)}}),"validate"===e&&(0,a.jsx)(H.J,{onComplete:t=>{console.log("ValidateStep completed with artifact:",t),I(e,t)}}),"optimize"===e&&(0,a.jsx)(W.U,{onComplete:t=>{console.log("OptimizeStep completed with artifact:",t),I(e,t)}}),"support"===e&&(0,a.jsx)(V.W,{onComplete:t=>{console.log("SupportStep completed with artifact:",t),I(e,t)}})]},e)})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Migration Artifacts"]}),0===o.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-12 w-12 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"No artifacts generated yet"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Complete migration steps to generate artifacts"})]}):(0,a.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-slate-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 rounded-full",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[e.step," Step"]})]})]}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:e.type})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.size}),(0,a.jsxs)("button",{onClick:()=>M(e),className:"flex items-center space-x-1 text-xs bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:[(0,a.jsx)(y.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Download"})]})]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-600",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Progress"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-600 dark:text-slate-400",children:[(0,a.jsx)("span",{children:"Steps Completed"}),(0,a.jsxs)("span",{children:[d.size,"/",P.length]})]}),(0,a.jsx)("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(d.size/P.length*100,"%")}})}),(0,a.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.size===P.length?"Migration Complete!":"".concat(P.length-d.size," steps remaining")})]})]})]})})]})]})})}},28917:(e,t,s)=>{Promise.resolve().then(s.bind(s,28820))},32247:(e,t,s)=>{"use strict";s.d(t,{W:()=>g});var a=s(73365),r=s(1521),i=s(63397),l=s(38356),n=s(90673),d=s(80075),c=s(82688),o=s(87447),m=s(89968),x=s(55230),u=s(97276);let g=e=>{let{onComplete:t}=e,[s,g]=(0,r.useState)(!1),[p,h]=(0,r.useState)([{id:"alerts",name:"Alert Configuration",description:"Set up monitoring alerts and notifications",status:"pending",options:[{name:"Performance Alerts",value:"High CPU/Memory usage, Latency spikes",enabled:!0},{name:"Cost Alerts",value:"Budget thresholds, Unusual spending",enabled:!0},{name:"Security Alerts",value:"Access attempts, Configuration changes",enabled:!0}]},{id:"reports",name:"Automated Reports",description:"Schedule periodic performance and cost reports",status:"pending",options:[{name:"Daily Summary",value:"Basic health and performance metrics",enabled:!0},{name:"Weekly Analysis",value:"Detailed usage patterns and trends",enabled:!0},{name:"Monthly Review",value:"Comprehensive cost and optimization report",enabled:!0}]},{id:"backup",name:"Backup & Recovery",description:"Configure automated backup schedules",status:"pending",options:[{name:"Daily Backups",value:"Incremental backups with 7-day retention",enabled:!0},{name:"Weekly Backups",value:"Full backups with 30-day retention",enabled:!0},{name:"Disaster Recovery",value:"Cross-region backup replication",enabled:!0}]},{id:"optimization",name:"Ongoing Optimization",description:"Continuous resource sizing, scaling, and cost management",status:"pending",options:[{name:"Predictive Scaling",value:"ML-based autoscaling recommendations and automated adjustments",enabled:!0},{name:"Cost Optimization",value:"Real-time cost analysis with optimization suggestions",enabled:!0},{name:"Resource Right-sizing",value:"Automated instance type and configuration recommendations",enabled:!0},{name:"Discoverable Pricing",value:"Live pricing feeds from cloud providers with predictable cost estimates",enabled:!0}]}]),y=async()=>{for(let e of(g(!0),p))await new Promise(e=>setTimeout(e,1500)),h(t=>t.map(t=>t.id===e.id?{...t,status:"configured"}:t));g(!1)},b=(e,t)=>{h(s=>s.map(s=>s.id===e?{...s,options:s.options.map(e=>e.name===t?{...e,enabled:!e.enabled}:e)}:s))},j=e=>{switch(e){case"alerts":return l.A;case"reports":return n.A;case"backup":return d.A;default:return c.A}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Support & Monitoring"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure ongoing support and monitoring for your migrated resources"})]}),(0,a.jsx)("button",{onClick:y,disabled:s,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 disabled:opacity-50",children:s?"Configuring...":"Configure Support"})]}),(0,a.jsx)("div",{className:"space-y-4",children:p.map((e,t)=>{let s=j(e.id);return(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(s,{className:"mr-3 h-5 w-5 text-sirsi-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]}),"configured"===e.status&&(0,a.jsxs)("span",{className:"flex items-center rounded-full bg-green-100 dark:bg-green-900/30 px-2 py-1 text-xs text-green-800 dark:text-green-300",children:[(0,a.jsx)(o.A,{className:"mr-1 h-3 w-3"}),"Configured"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.options.map(t=>(0,a.jsxs)("div",{className:"flex items-start rounded border border-gray-100 bg-white dark:bg-gray-800 p-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.enabled,onChange:()=>b(e.id,t.name),disabled:"configured"===e.status,className:"mt-1 h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-sirsi-500 focus:ring-sirsi-500"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"font-medium",children:t.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.value})]})]},t.name))})]},e.id)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 text-gray-600 dark:text-gray-400 hover:border-sirsi-500 hover:text-sirsi-500",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{children:"Contact Support"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 text-gray-600 dark:text-gray-400 hover:border-sirsi-500 hover:text-sirsi-500",children:[(0,a.jsx)(x.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{children:"View Dashboard"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 text-gray-600 dark:text-gray-400 hover:border-sirsi-500 hover:text-sirsi-500",children:[(0,a.jsx)(u.A,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{children:"Watch Tutorial"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{console.log("SupportStep: Complete Migration clicked"),console.log("SupportStep: configs:",p.map(e=>({id:e.id,status:e.status}))),p.some(e=>"configured"!==e.status)&&(console.log("SupportStep: Forcing configuration completion for demo"),h(e=>e.map(e=>"configured"!==e.status?{...e,status:"configured"}:e)),g(!1)),console.log("SupportStep: Calling onComplete...");try{let e={name:"Support Playbook",type:"PDF",size:"3.2 MB",content:"# Support Playbook\n\nGenerated on: ".concat(new Date().toISOString(),"\n\nConfigured Support:\n").concat(p.map(e=>"- ".concat(e.name,": ").concat(e.status)).join("\n"))};t(e),console.log("SupportStep: Migration completed successfully!")}catch(e){console.error("SupportStep: Error calling onComplete:",e)}},disabled:!1,className:"rounded-md bg-sirsi-500 px-4 py-2 text-white hover:bg-sirsi-600 text-lg px-8 py-4 font-bold",children:"Complete Migration"})})]})}},42330:(e,t,s)=>{"use strict";s.d(t,{L:()=>b});var a=s(73365),r=s(1521),i=s(63397),l=s(79212),n=s(59984),d=s(67654),c=s(84580),o=s(42032),m=s(69054),x=s(64937),u=s(28242),g=s(39357),p=s(18159),h=s(69672),y=s(54639);let b=e=>{let{onComplete:t}=e,[s,b]=(0,r.useState)(!1),[j,f]=(0,r.useState)([]),v=[{id:"network",name:"Network Configuration",description:"Setting up VPCs, subnets, and security groups",icon:l.A,estimatedTime:"2-3 minutes",color:"from-blue-500 to-cyan-600"},{id:"storage",name:"Storage Provisioning",description:"Configuring databases, volumes, and backups",icon:n.A,estimatedTime:"3-4 minutes",color:"from-emerald-500 to-teal-600"},{id:"compute",name:"Compute Resources",description:"Deploying servers, containers, and load balancers",icon:d.A,estimatedTime:"4-5 minutes",color:"from-purple-500 to-indigo-600"},{id:"security",name:"Security & Compliance",description:"Implementing security policies and compliance checks",icon:c.A,estimatedTime:"2-3 minutes",color:"from-amber-500 to-orange-600"},{id:"monitoring",name:"Monitoring & Observability",description:"Setting up logging, metrics, and alerting",icon:o.A,estimatedTime:"2-3 minutes",color:"from-rose-500 to-pink-600"}],N=async()=>{b(!0),f([]),(0,y.e7)("build_started",{tasksCount:v.length});try{for(let e of v)await new Promise(e=>setTimeout(e,2500)),f(t=>[...t,e.id]),(0,y.$d)("build_task_completed","BuildStep",{taskId:e.id});(0,y.e7)("build_completed",{tasksCompleted:v.length})}catch(e){(0,y.Oz)(e,{component:"BuildStep",action:"startBuilding"})}finally{b(!1)}},k=j.length===v.length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(p.Zp,{className:"p-6 shadow-lg glass",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Infrastructure Build"}),(0,a.jsx)("p",{className:"text-md text-slate-600 dark:text-slate-400",children:"Deploy and configure infrastructure components using advanced automation"})]}),(0,a.jsxs)("button",{onClick:N,disabled:s,className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-3 hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:[s?(0,a.jsx)(m.A,{className:"animate-spin h-5 w-5"}):(0,a.jsx)(x.A,{className:"h-5 w-5"}),s?"Building...":"Start Build",s&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-ping"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map(e=>{let t=e.icon,r=j.includes(e.id),l=s&&j[j.length-1]===e.id;return(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-xl shadow border-0 glass bg-gradient-to-r ".concat(e.color),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white dark:bg-gray-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-white/80",children:e.description})]})]}),r?(0,a.jsx)(u.A,{className:"h-6 w-6 text-green-400"}):l?(0,a.jsx)(m.A,{className:"h-6 w-6 animate-spin text-blue-400"}):null]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.k,{value:r?100:50*!!l,className:"w-full h-2 bg-white/20 rounded-full"}),(0,a.jsx)("span",{className:"text-xs font-medium text-white/80",children:e.estimatedTime})]})]},e.id)})})]}),(0,a.jsx)("div",{className:"flex justify-end mt-8",children:(0,a.jsxs)("button",{onClick:()=>{t({name:"Build Log",type:"LOG",size:"1 MB",content:"# Build Log\n\nCompleted Tasks:\n".concat(j.map(e=>"- ".concat(e,": completed")).join("\n"))})},disabled:!k,className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-green-500 to-teal-600 text-white px-6 py-3 hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"Continue"]})})]})}},54388:(e,t,s)=>{"use strict";s.d(t,{c:()=>f});var a=s(73365),r=s(1521),i=s(59984),l=s(67654),n=s(17599),d=s(70189),c=s(84580),o=s(39357),m=s(18159),x=s(63397),u=s(28242),g=s(69054),p=s(16300),h=s(75125),y=s(69672);let b=e=>{let{tasks:t,isRunning:s,currentTaskId:r,onStart:i,onRetry:l,startButtonText:n="Start Process",className:d=""}=e,c=e=>{switch(e.status){case"completed":return(0,a.jsx)(u.A,{className:"h-6 w-6 text-green-400"});case"running":return(0,a.jsx)(g.A,{className:"h-6 w-6 animate-spin text-blue-400"});case"failed":return(0,a.jsx)(p.A,{className:"h-6 w-6 text-red-400"});default:return(0,a.jsx)(h.A,{className:"h-6 w-6 text-gray-400"})}},o=e=>"completed"===e.status?100:"running"===e.status?e.progress||50:(e.status,0),m=t.filter(e=>"completed"===e.status).length,b=t.length,j=b>0?m/b*100:0;return(0,a.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Process Progress"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[m," of ",b," tasks completed"]})]}),i&&(0,a.jsxs)("button",{onClick:i,disabled:s,className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-3 hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:[s?(0,a.jsx)(g.A,{className:"animate-spin h-5 w-5"}):null,s?"Processing...":n,s&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-ping"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[(0,a.jsx)("span",{children:"Overall Progress"}),(0,a.jsxs)("span",{children:[Math.round(j),"%"]})]}),(0,a.jsx)(y.k,{value:j,className:"h-3"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(e=>{let t=e.icon,s=r===e.id,i=o(e);return(0,a.jsxs)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 rounded-xl shadow border-0 glass bg-gradient-to-r ".concat(e.color," ").concat(s?"ring-2 ring-blue-400 ring-opacity-50":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white dark:bg-gray-500/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(t,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-white",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-white/80",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[c(e),"failed"===e.status&&l&&(0,a.jsx)("button",{onClick:()=>l(e.id),className:"mt-2 text-xs text-white/80 hover:text-white underline",children:"Retry"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(y.k,{value:i,className:"w-full h-2 bg-white/20 rounded-full"}),(0,a.jsx)("span",{className:"text-xs font-medium text-white/80 whitespace-nowrap",children:e.estimatedTime})]}),"running"===e.status&&(0,a.jsxs)("div",{className:"text-xs text-white/80",children:[Math.round(i),"% complete"]}),e.error&&(0,a.jsxs)("div",{className:"text-xs text-red-200 mt-1",children:["Error: ",e.error]})]},e.id)})})]})};var j=s(54639);let f=e=>{var t;let{onComplete:s}=e,[x,u]=(0,r.useState)(!1),[g,p]=(0,r.useState)([]),[h,y]=(0,r.useState)([{id:"database",name:"Database Migration",description:"Migrating production database with zero downtime",icon:i.A,estimatedTime:"10-12 minutes",color:"from-teal-500 to-green-600",status:"pending"},{id:"appserver",name:"Application Server",description:"Transferring application servers and configurations",icon:l.A,estimatedTime:"5-6 minutes",color:"from-purple-500 to-indigo-600",status:"pending"},{id:"storage",name:"Storage Systems",description:"Moving storage volumes and backup systems",icon:n.A,estimatedTime:"8-10 minutes",color:"from-orange-500 to-red-600",status:"pending"},{id:"network",name:"Network Infrastructure",description:"Reconfiguring network settings and routing",icon:d.A,estimatedTime:"2-3 minutes",color:"from-cyan-500 to-blue-600",status:"pending"},{id:"security",name:"Security Policies",description:"Implementing security measures and compliance",icon:c.A,estimatedTime:"3-4 minutes",color:"from-emerald-500 to-teal-600",status:"pending"}]),f=async()=>{for(let e of(u(!0),p([]),(0,j.e7)("transfer_started",{resourceCount:h.length}),h))try{y(t=>t.map(t=>t.id===e.id?{...t,status:"running"}:t));for(let t=0;t<=100;t+=10)await new Promise(e=>setTimeout(e,200)),y(s=>s.map(s=>s.id===e.id?{...s,progress:t}:s));y(t=>t.map(t=>t.id===e.id?{...t,status:"completed",progress:100}:t)),p(t=>[...t,e.id]),(0,j.$d)("resource_transfer","TransferStep",{resourceId:e.id})}catch(t){(0,j.Oz)(Error("Transfer failed for "+e.id),{component:"TransferStep",resource:e.id}),y(t=>t.map(t=>t.id===e.id?{...t,status:"failed",error:"Transfer failed"}:t))}(0,j.e7)("transfer_completed",{completedCount:g.length}),u(!1)},v=g.length===h.length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(b,{tasks:h,isRunning:x,currentTaskId:x?null==(t=h.find(e=>"running"===e.status))?void 0:t.id:void 0,onStart:f,startButtonText:"Start Transfer"}),g.length>0&&(0,a.jsxs)(m.Zp,{className:"p-6 glass",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-medium text-slate-900 dark:text-slate-100",children:"Transfer Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:g.length}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resources Transferred"})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-gray-100 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:"100%"}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{s({name:"Transfer Execution Log",type:"LOG",size:"12.3 MB",content:"# Transfer Execution Log\n\nGenerated on: ".concat(new Date().toISOString(),"\n\nCompleted Resources:\n").concat(g.map(e=>"- ".concat(e,": transferred")).join("\n"))})},disabled:!v,className:"flex items-center gap-2 rounded-full bg-gradient-to-r from-green-500 to-teal-600 text-white px-6 py-3 hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:[(0,a.jsx)(o.A,{className:"h-5 w-5"}),"Continue to Validation"]})})]})}},69672:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});var a=s(73365),r=s(1521),i=s(28475),l=s(14130);let n=r.forwardRef((e,t)=>{let{className:s,value:r,...n}=e;return(0,a.jsx)(i.Root,{ref:t,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:(0,a.jsx)(i.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=i.Root.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[9947,3397,4515,7636,6711,3955,4851,8438,3463,4620,6906,2347,4870,7358],()=>t(28917)),_N_E=e.O()}]);