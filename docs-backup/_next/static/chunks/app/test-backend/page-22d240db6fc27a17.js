(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8062],{80:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(73365),n=s(1521),r=s(93731),o=s(69865),i=s(70636);class c{async runFullIntegrationTest(){let e=[];return console.log("\uD83E\uDDEA Starting backend integration tests..."),e.push(await this.testHttpHealthCheck()),e.push(await this.testWebSocketConnection()),e.push(await this.testAgentMessageFlow()),e.push(await this.testCredentialValidation()),e.push(await this.testResourceDiscovery()),console.log("✅ Backend integration tests completed"),e}async testHttpHealthCheck(){let e=Date.now();try{let t=await fetch("".concat(this.baseUrl,"/health"),{method:"GET",headers:{"Content-Type":"application/json"}}),s=Date.now()-e;if(!t.ok)return{testName:"HTTP Health Check",status:"failed",message:"HTTP ".concat(t.status,": ").concat(t.statusText),timestamp:new Date,duration:s};{let e=await t.json();return{testName:"HTTP Health Check",status:"passed",message:"Backend is ".concat(e.status,". Version: ").concat(e.version),timestamp:new Date,duration:s}}}catch(s){let t=Date.now()-e;return{testName:"HTTP Health Check",status:"failed",message:"Connection failed: ".concat(s instanceof Error?s.message:"Unknown error"),timestamp:new Date,duration:t}}}async testWebSocketConnection(){let e=Date.now();return new Promise(t=>{try{let s=new WebSocket(this.wsUrl),a=setTimeout(()=>{s.close(),t({testName:"WebSocket Connection",status:"failed",message:"Connection timeout after 5 seconds",timestamp:new Date,duration:Date.now()-e})},5e3);s.onopen=()=>{clearTimeout(a);let n=Date.now()-e;s.close(),t({testName:"WebSocket Connection",status:"passed",message:"WebSocket connection established successfully",timestamp:new Date,duration:n})},s.onerror=s=>{clearTimeout(a);let n=Date.now()-e;t({testName:"WebSocket Connection",status:"failed",message:"WebSocket connection failed",timestamp:new Date,duration:n})}}catch(a){let s=Date.now()-e;t({testName:"WebSocket Connection",status:"failed",message:"WebSocket error: ".concat(a instanceof Error?a.message:"Unknown error"),timestamp:new Date,duration:s})}})}async testAgentMessageFlow(){let e=Date.now();return new Promise(t=>{if(!o.nn.isConnected())return void t({testName:"Agent Message Flow",status:"failed",message:"WebSocket not connected",timestamp:new Date,duration:Date.now()-e});let s=!1,a=setTimeout(()=>{s||t({testName:"Agent Message Flow",status:"failed",message:"No response received within 10 seconds",timestamp:new Date,duration:Date.now()-e})},1e4),n=r=>{"agent"===r.type&&r.content.includes("test")&&(clearTimeout(a),s=!0,o.nn.off("message",n),t({testName:"Agent Message Flow",status:"passed",message:"Agent responded to test message successfully",timestamp:new Date,duration:Date.now()-e}))};o.nn.on("message",n),o.nn.sendRawMessage({type:"user",content:"test connection",agentName:"TestUser",metadata:{sessionId:"test-session",context:{testId:"integration-test"}}})})}async testCredentialValidation(){let e=Date.now();try{let t=await fetch("".concat(this.baseUrl,"/api/credentials/validate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"aws",credentials:{accessKeyId:"test",secretAccessKey:"test",region:"us-east-1"}})}),s=Date.now()-e;if(!t.ok)return{testName:"Credential Validation",status:"failed",message:"Validation endpoint error: ".concat(t.status),timestamp:new Date,duration:s};{let e=await t.json();return{testName:"Credential Validation",status:"passed",message:"Credential validation endpoint responding: ".concat(e.status),timestamp:new Date,duration:s}}}catch(s){let t=Date.now()-e;return{testName:"Credential Validation",status:"failed",message:"Credential validation failed: ".concat(s instanceof Error?s.message:"Unknown error"),timestamp:new Date,duration:t}}}async testResourceDiscovery(){let e=Date.now();try{let t=await fetch("".concat(this.baseUrl,"/api/discovery/test"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"aws",resourceTypes:["ec2","s3"],region:"us-east-1"})}),s=Date.now()-e;if(!t.ok)return{testName:"Resource Discovery",status:"failed",message:"Discovery endpoint error: ".concat(t.status),timestamp:new Date,duration:s};{let e=await t.json();return{testName:"Resource Discovery",status:"passed",message:"Discovered ".concat(e.resourceCount||0," resources in ").concat(e.scanTime||0,"ms"),timestamp:new Date,duration:s}}}catch(s){let t=Date.now()-e;return{testName:"Resource Discovery",status:"failed",message:"Resource discovery failed: ".concat(s instanceof Error?s.message:"Unknown error"),timestamp:new Date,duration:t}}}async testSpecificEndpoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2?arguments[2]:void 0,a=Date.now();try{let n=await fetch("".concat(this.baseUrl).concat(e),{method:t,headers:{"Content-Type":"application/json"},body:s?JSON.stringify(s):void 0}),r=Date.now()-a;return{testName:"Custom Endpoint Test: ".concat(e),status:n.ok?"passed":"failed",message:"".concat(t," ").concat(e,": ").concat(n.status," ").concat(n.statusText),timestamp:new Date,duration:r}}catch(s){let t=Date.now()-a;return{testName:"Custom Endpoint Test: ".concat(e),status:"failed",message:"Request failed: ".concat(s instanceof Error?s.message:"Unknown error"),timestamp:new Date,duration:t}}}generateTestReport(e){let t=e.filter(e=>"passed"===e.status).length,s=e.filter(e=>"failed"===e.status).length,a=e.filter(e=>"pending"===e.status).length,n="# Backend Integration Test Report\n\n";return n+="**Summary:** ".concat(t," passed, ").concat(s," failed, ").concat(a," pending\n\n"),n+="**Generated:** ".concat(new Date().toISOString(),"\n\n"),e.forEach(e=>{let t="passed"===e.status?"✅":"failed"===e.status?"❌":"⏳";n+="".concat(t," **").concat(e.testName,"**\n"),n+="   Status: ".concat(e.status,"\n"),n+="   Message: ".concat(e.message,"\n"),e.duration&&(n+="   Duration: ".concat(e.duration,"ms\n")),n+="   Timestamp: ".concat(e.timestamp.toISOString(),"\n\n")}),n}constructor(){this.baseUrl=i.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8080",this.grpcUrl=i.env.NEXT_PUBLIC_GRPC_URL||"http://localhost:50051",this.wsUrl=i.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8080/agent-ws"}}let l=new c;var d=s(28242),h=s(50266),m=s(75125),g=s(37039),u=s(77720),p=s(10330),y=s(59984),x=s(80075),w=s(64937),k=s(92887);function f(){let[e,t]=(0,n.useState)([]),[s,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(""),f=async()=>{o(!0),t([]),c("");try{let e=await l.runFullIntegrationTest();t(e);let s=l.generateTestReport(e);c(s)}catch(e){console.error("Test execution failed:",e),t([{testName:"Test Execution",status:"failed",message:"Test execution failed: ".concat(e instanceof Error?e.message:"Unknown error"),timestamp:new Date}])}finally{o(!1)}},b=e=>{switch(e){case"passed":return(0,a.jsx)(d.A,{className:"h-5 w-5 text-green-600"});case"failed":return(0,a.jsx)(h.A,{className:"h-5 w-5 text-red-600"});case"pending":return(0,a.jsx)(m.A,{className:"h-5 w-5 text-yellow-600"});default:return(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}},v=e=>e.includes("HTTP")||e.includes("Health")?(0,a.jsx)(g.A,{className:"h-5 w-5"}):e.includes("WebSocket")||e.includes("Connection")?(0,a.jsx)(u.A,{className:"h-5 w-5"}):e.includes("Credential")?(0,a.jsx)(p.A,{className:"h-5 w-5"}):e.includes("Resource")||e.includes("Discovery")?(0,a.jsx)(y.A,{className:"h-5 w-5"}):(0,a.jsx)(g.A,{className:"h-5 w-5"}),N=e.filter(e=>"passed"===e.status).length,j=e.filter(e=>"failed"===e.status).length,A=e.filter(e=>"pending"===e.status).length;return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Breadcrumb,{}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Backend Integration Tests"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test the connection and functionality of the Rust core engine backend"})]}),(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:f,disabled:s,className:"flex items-center space-x-2 rounded-lg bg-sirsi-500 px-4 py-2 text-white disabled:opacity-50 hover:bg-sirsi-600",children:[s?(0,a.jsx)(x.A,{className:"h-5 w-5 animate-spin"}):(0,a.jsx)(w.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:s?"Running Tests...":"Run Integration Tests"})]}),i&&(0,a.jsxs)("button",{onClick:()=>{let e=new Blob([i],{type:"text/markdown"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="backend-test-report-".concat(new Date().toISOString().split("T")[0],".md"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"flex items-center space-x-2 rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)(k.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Download Report"})]})]}),e.length>0&&(0,a.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,a.jsx)("div",{className:"rounded-lg border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 text-green-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Passed"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-green-900",children:N})]})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"h-6 w-6 text-red-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Failed"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-red-900",children:j})]})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-yellow-200 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"h-6 w-6 text-yellow-600"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Pending"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-yellow-900",children:A})]})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,a.jsx)("div",{className:"rounded-lg border p-4 ".concat("passed"===e.status?"border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"failed"===e.status?"border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20":"border-yellow-200 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"rounded-lg bg-white dark:bg-gray-800 p-2",children:v(e.testName)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.testName}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["Completed: ",e.timestamp.toLocaleTimeString()]}),e.duration&&(0,a.jsxs)("span",{children:["Duration: ",e.duration,"ms"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[b(e.status),(0,a.jsx)("span",{className:"text-sm font-medium capitalize ".concat("passed"===e.status?"text-green-800 dark:text-green-300":"failed"===e.status?"text-red-800 dark:text-red-300":"text-yellow-800 dark:text-yellow-300"),children:e.status})]})]})},t))}),s&&0===e.length&&(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.A,{className:"mx-auto h-12 w-12 animate-spin text-sirsi-500"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-gray-100",children:"Running Integration Tests"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Testing backend connectivity and functionality..."})]})}),!s&&0===e.length&&(0,a.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 py-12 text-center",children:[(0,a.jsx)(g.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-gray-100",children:"No Tests Run Yet"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Click “Run Integration Tests” to validate backend connectivity and functionality."}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Test Coverage:"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("div",{children:"• HTTP Health Check"}),(0,a.jsx)("div",{children:"• WebSocket Connection"}),(0,a.jsx)("div",{children:"• Agent Message Flow"}),(0,a.jsx)("div",{children:"• Credential Validation"}),(0,a.jsx)("div",{children:"• Resource Discovery"})]})]})]})]})}},10330:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},17280:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(1521),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var o=(e,t)=>{let s=(0,a.forwardRef)((s,o)=>{let{color:i="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:d,children:h,...m}=s;return(0,a.createElement)("svg",{ref:o,...n,width:c,height:c,stroke:i,strokeWidth:d?24*Number(l)/Number(c):l,className:"lucide lucide-".concat(r(e)),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...(Array.isArray(h)?h:[h])||[]])});return s.displayName="".concat(e),s}},18135:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},28242:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},37039:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},50266:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},50627:(e,t,s)=>{"use strict";var a=s(47192);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},59984:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},63866:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},64937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},69865:(e,t,s)=>{"use strict";s.d(t,{AL:()=>r,nn:()=>n});class a{async connect(){if(!this.isConnecting&&(!this.ws||this.ws.readyState!==WebSocket.OPEN)){this.isConnecting=!0;try{this.ws=new WebSocket(this.config.url),this.ws.onopen=()=>{console.log("✅ WebSocket connected to agent backend"),this.isConnecting=!1,this.reconnectAttempts=0,this.startHeartbeat(),this.emit("connection",{type:"system",content:"Connected to agent backend"})},this.ws.onmessage=e=>{try{let t=JSON.parse(e.data);t.timestamp=new Date(t.timestamp),this.emit("message",t)}catch(e){console.error("Failed to parse WebSocket message:",e),this.emit("error",{type:"error",content:"Failed to parse message from backend",timestamp:new Date})}},this.ws.onclose=e=>{console.log("\uD83D\uDD0C WebSocket disconnected:",e.code,e.reason),this.isConnecting=!1,this.stopHeartbeat(),1e3!==e.code&&this.reconnectAttempts<this.config.reconnectAttempts?this.scheduleReconnect():this.emit("disconnection",{type:"system",content:"Disconnected from agent backend",timestamp:new Date})},this.ws.onerror=e=>{console.error("❌ WebSocket error:",e),this.isConnecting=!1,this.emit("error",{type:"error",content:"Connection error to agent backend",timestamp:new Date})}}catch(e){throw this.isConnecting=!1,console.error("Failed to create WebSocket connection:",e),e}}}disconnect(){this.stopHeartbeat(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.listeners.clear()}sendRawMessage(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){console.warn("WebSocket not connected, queuing message for retry..."),this.emit("error",{type:"error",content:"Not connected to agent backend. Please try again.",timestamp:new Date});return}let t={...e,id:this.generateMessageId(),timestamp:new Date};try{this.ws.send(JSON.stringify(t))}catch(e){console.error("Failed to send message:",e),this.emit("error",{type:"error",content:"Failed to send message to backend",timestamp:new Date})}}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){let s=this.listeners.get(e);if(s){let e=s.indexOf(t);e>-1&&s.splice(e,1)}}emit(e,t){let s=this.listeners.get(e);s&&s.forEach(e=>e(t))}scheduleReconnect(){this.reconnectAttempts++,console.log("\uD83D\uDCE1 Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.config.reconnectAttempts,")...")),setTimeout(()=>{this.connect().catch(e=>{console.error("Reconnection attempt failed:",e)})},this.config.reconnectDelay)}startHeartbeat(){this.heartbeatTimer=setInterval(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping"}))},this.config.heartbeatInterval)}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}generateMessageId(){return"msg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}isConnected(){return null!==this.ws&&this.ws.readyState===WebSocket.OPEN}getConnectionState(){if(!this.ws)return"disconnected";switch(this.ws.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"connected";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"disconnected";default:return"unknown"}}async createSession(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return this.sendAgentRequest({action:"create_session",data:{userId:e,context:t,config:s}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to create agent session");return e.data})}async getSession(e){return this.sendAgentRequest({action:"get_session",sessionId:e,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get session");return e.data})}async deleteSession(e){return this.sendAgentRequest({action:"delete_session",sessionId:e,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to delete session")})}async startAgentSession(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createSession(e,t)}async createAgent(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.sendAgentRequest({action:"create_agent",sessionId:e,data:{agentType:t,config:s,context:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to create agent");return e.data})}async getAgent(e,t){return this.sendAgentRequest({action:"get_agent",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get agent");return e.data})}async listAgents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return this.sendAgentRequest({action:"list_agents",sessionId:e,data:{pageSize:t,pageToken:s,filter:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to list agents");return e.data})}async updateAgent(e,t,s,a){return this.sendAgentRequest({action:"update_agent",sessionId:e,agentId:t,data:{agent:s,updateMask:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to update agent");return e.data})}async deleteAgent(e,t){return this.sendAgentRequest({action:"delete_agent",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to delete agent")})}async spawnSubAgent(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(await this.createAgent(e,t,{parameters:s})).agent}async sendMessage(e,t,s,a){return this.sendAgentRequest({action:"send_message",sessionId:e,agentId:t,data:{message:s,options:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to send message to agent");return e.data})}async sendAgentMessage(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=await this.sendMessage(e,t,{content:s},{context:a});return{responseId:n.messageId,response:n.response.content,suggestions:n.suggestions}}async getSuggestions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return this.sendAgentRequest({action:"get_suggestions",sessionId:e,agentId:t,data:{context:s,maxSuggestions:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get suggestions");return e.data})}async getAgentSuggestions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(await this.getSuggestions(e,t,{contextType:s,contextData:a})).suggestions}async getAgentStatus(e,t){return this.sendAgentRequest({action:"get_agent_status",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get agent status");return e.data})}async getSystemHealth(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.sendAgentRequest({action:"get_system_health",data:{includeMetrics:e}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get system health");return e.data})}async stopAgentSession(e){return this.deleteSession(e)}async sendAgentRequest(e){return new Promise((t,s)=>{if(!this.isConnected())return void s(Error("WebSocket not connected to agent backend"));let a=this.generateMessageId(),n={requestId:a,action:e.action,sessionId:e.sessionId,agentId:e.agentId,data:e.data},r=e=>{try{let s=JSON.parse(e.data);s.requestId===a&&(this.ws.removeEventListener("message",r),t({action:s.action,success:s.success,data:s.data,error:s.error}))}catch(e){console.error("Failed to parse WebSocket response:",e),s(Error("Invalid response format from agent backend"))}};this.ws.addEventListener("message",r);try{this.ws.send(JSON.stringify(n))}catch(e){this.ws.removeEventListener("message",r),s(Error("Failed to send request to agent backend"))}setTimeout(()=>{this.ws.removeEventListener("message",r),s(Error("Request timeout"))},3e4)})}constructor(e={}){this.ws=null,this.listeners=new Map,this.reconnectAttempts=0,this.heartbeatTimer=null,this.isConnecting=!1,this.config={url:e.url||"ws://localhost:8081",reconnectAttempts:e.reconnectAttempts||5,reconnectDelay:e.reconnectDelay||3e3,heartbeatInterval:e.heartbeatInterval||3e4,...e}}}let n=new a,r=()=>n},75125:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},77720:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},77848:(e,t,s)=>{Promise.resolve().then(s.bind(s,80))},80075:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},92887:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(17280).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},93731:(e,t,s)=>{"use strict";s.d(t,{Breadcrumb:()=>d});var a=s(73365),n=s(1521),r=s(59534),o=s.n(r),i=s(50627),c=s(63866),l=s(18135);let d=()=>{let e=(0,i.usePathname)(),t=n.useMemo(()=>e?e.split("/").filter(Boolean).map(e=>({name:e.charAt(0).toUpperCase()+e.slice(1),href:"/".concat(e)})):[],[e]);return(0,a.jsx)("nav",{className:"mb-6",children:(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(o(),{href:"/",className:"flex items-center text-caption text-slate-600 hover:text-emerald-600 dark:text-slate-400 dark:hover:text-emerald-400 transition-colors",children:[(0,a.jsx)(c.A,{className:"mr-1 h-4 w-4"}),"Home"]})}),t.map((e,s)=>(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("li",{children:(0,a.jsx)(o(),{href:e.href,className:"text-caption transition-colors ".concat(s===t.length-1?"text-emerald-600 nav-item":"text-slate-600 hover:text-emerald-600 dark:text-slate-400 dark:hover:text-emerald-400"),children:e.name})})]},e.href))]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9534,2347,4870,7358],()=>t(77848)),_N_E=e.O()}]);