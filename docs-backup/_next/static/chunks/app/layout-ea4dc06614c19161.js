(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{17459:(e,t,s)=>{"use strict";function a(){return null}s.d(t,{default:()=>a}),s(1521)},21286:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>c});var a=s(73365),r=s(87088),n=s(19776),l=s(7246),i=s(72966);function c(e){let{children:t}=e;return(0,a.jsx)(n.SessionProvider,{basePath:"/api/auth",refetchInterval:0,children:(0,a.jsx)(r.Kq,{store:i.M_,children:(0,a.jsx)(l.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:t})})})}},37849:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,43621,23)),Promise.resolve().then(s.t.bind(s,66628,23)),Promise.resolve().then(s.bind(s,21286)),Promise.resolve().then(s.bind(s,17459)),Promise.resolve().then(s.bind(s,61359)),Promise.resolve().then(s.bind(s,95760)),Promise.resolve().then(s.bind(s,53614)),Promise.resolve().then(s.bind(s,1596))},43621:()=>{},61359:(e,t,s)=>{"use strict";s.d(t,{ClientLayout:()=>eC});var a=s(73365),r=s(1521),n=s(50627),l=s(72966),i=s(87127),c=s(82688),o=s(96294),d=s(11273),m=s(70098),x=s(28242),h=s(16300),u=s(49643),g=s(38356),p=s(48447);let b=[{id:"1",title:"Migration Completed",message:"Production database migration has been completed successfully.",type:"success",timestamp:"2 hours ago",read:!1},{id:"2",title:"Optimization Available",message:"Cost optimization recommendations are available for your web servers.",type:"info",timestamp:"4 hours ago",read:!1},{id:"3",title:"Validation Warning",message:"Storage bucket transfer validation shows minor warnings.",type:"warning",timestamp:"6 hours ago",read:!0}],f=()=>{let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(b),l=s.filter(e=>!e.read).length,i=e=>{n(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},c=e=>{n(t=>t.filter(t=>t.id!==e))},o=e=>{switch(e){case"success":return(0,a.jsx)(x.A,{className:"h-4 w-4 text-green-500"});case"warning":return(0,a.jsx)(h.A,{className:"h-4 w-4 text-yellow-500"});case"error":return(0,a.jsx)(h.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(u.A,{className:"h-4 w-4 text-blue-500"})}};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>t(!e),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors relative",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),l>0&&(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-red-50 dark:bg-red-900/200"})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>t(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-slate-200 z-20 animate-slide-up",children:[(0,a.jsx)("div",{className:"p-3 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:"Notifications"}),l>0&&(0,a.jsxs)("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium px-2 py-0.5 rounded",children:[l," new"]})]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===s.length?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)(g.A,{className:"h-8 w-8 text-slate-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No notifications"})]}):(0,a.jsx)("div",{className:"divide-y divide-slate-100",children:s.map(e=>(0,a.jsx)("div",{className:"p-4 hover:bg-gray-50 dark:bg-gray-900 transition-colors ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20/50"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[o(e.type),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium ".concat(e.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-gray-100"),children:e.title}),(0,a.jsx)("button",{onClick:()=>c(e.id),className:"text-gray-400 hover:text-gray-600 dark:text-gray-400",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.timestamp}),!e.read&&(0,a.jsx)("button",{onClick:()=>i(e.id),className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-300",children:"Mark as read"})]})]})]})},e.id))})}),s.length>0&&(0,a.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 dark:text-blue-300 font-medium",children:"View all notifications"})})]})]})]})};var y=s(28011),j=s(63397),v=s(41282),N=s(19053),w=s(7246),k=s(39869),A=s(70452),S=s(87447);let C=e=>{let{variant:t="button",className:s="",showLabel:n=!1}=e,{theme:l,setTheme:i,themes:c}=(0,w.D)(),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{m(!0)},[]),!o)return null;let u=[{value:"light",label:"Light",icon:k.A},{value:"dark",label:"Dark",icon:A.A},{value:"system",label:"System",icon:N.A}],g=u.find(e=>e.value===l)||u[0],p=()=>{if("simple"===t){let e=["light","dark","system"],t=(e.indexOf(l||"system")+1)%e.length;i(e[t])}else h(!x)},b=e=>{i(e),h(!1)};return"simple"===t?(0,a.jsxs)("button",{onClick:p,className:"p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors ".concat(s),title:"Current: ".concat(g.label," theme"),children:[(0,a.jsx)(g.icon,{className:"h-4 w-4"}),n&&(0,a.jsx)("span",{className:"ml-2 text-sm",children:g.label})]}):"dropdown"===t?(0,a.jsxs)("div",{className:"relative ".concat(s),children:[(0,a.jsxs)("button",{onClick:p,className:"flex items-center gap-2 p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[(0,a.jsx)(g.icon,{className:"h-4 w-4"}),n&&(0,a.jsx)("span",{className:"text-sm",children:g.label}),(0,a.jsx)(d.A,{className:"h-3 w-3"})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg py-1 z-20",children:u.map(e=>{let t=e.icon,s=l===e.value;return(0,a.jsxs)("button",{onClick:()=>b(e.value),className:"flex w-full items-center justify-between px-3 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]}),s&&(0,a.jsx)(S.A,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"})]},e.value)})})]})]}):(0,a.jsxs)("div",{className:"relative ".concat(s),children:[(0,a.jsxs)("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[(0,a.jsx)(g.icon,{className:"h-4 w-4"}),n&&(0,a.jsx)("span",{className:"text-sm",children:g.label}),(0,a.jsx)(d.A,{className:"h-3 w-3"})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-40 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg py-1 z-20",children:u.map(e=>{let t=e.icon,s=l===e.value;return(0,a.jsxs)("button",{onClick:()=>b(e.value),className:"flex w-full items-center justify-between px-3 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]}),s&&(0,a.jsx)(S.A,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"})]},e.value)})})]})]})},E=e=>{let{isOpen:t,onClose:s}=e,l=(0,n.useRouter)(),[i,c]=(0,r.useState)(!0),d=()=>{s(),l.push("/settings")};return(0,a.jsx)(y.N,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:s}),(0,a.jsxs)(j.P.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-20",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Settings"})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Theme"})}),(0,a.jsx)(C,{variant:"dropdown"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notifications"})]}),(0,a.jsx)("button",{onClick:()=>c(!i),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(i?"bg-blue-600":"bg-gray-200"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white dark:bg-gray-800 transition-transform ".concat(i?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("button",{onClick:d,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-800 font-medium hover:bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-slate-600"}),"Account Settings"]}),(0,a.jsxs)("button",{onClick:d,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-800 font-medium hover:bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-slate-600"}),"Security & Privacy"]}),(0,a.jsxs)("button",{onClick:d,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-800 font-medium hover:bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-slate-600"}),"Display Settings"]})]}),(0,a.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)("button",{onClick:d,className:"w-full text-center text-sm text-blue-600 hover:text-blue-800 dark:text-blue-300 font-medium",children:"All Settings"})})]})]})})};var D=s(39357),I=s(59984),P=s(13251),O=s(16135),F=s(72971),T=s(88716);let R=[{id:"1",title:"Migration Wizard",description:"Start a new infrastructure migration",category:"pages",icon:D.A,path:"/migration",keywords:["migrate","wizard","infrastructure","move"]},{id:"2",title:"Analytics Dashboard",description:"View detailed reports and metrics",category:"pages",icon:I.A,path:"/analytics",keywords:["analytics","reports","metrics","data"]},{id:"3",title:"Project Management",description:"Manage your migration projects",category:"pages",icon:P.A,path:"/projects",keywords:["projects","manage","migration"]},{id:"4",title:"Team Settings",description:"Configure team members and permissions",category:"settings",icon:O.A,path:"/settings/team",keywords:["team","users","permissions","settings"]},{id:"5",title:"System Configuration",description:"Configure system settings and preferences",category:"settings",icon:c.A,path:"/settings/system",keywords:["system","config","settings","preferences"]}],z=e=>{let{isOpen:t,onClose:s}=e,[n,l]=(0,r.useState)(""),[i,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(0),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(t){var e;null==(e=m.current)||e.focus(),l(""),c([]),d(0)}},[t]),(0,r.useEffect)(()=>{n.trim()?(c(R.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.description.toLowerCase().includes(n.toLowerCase())||e.keywords.some(e=>e.toLowerCase().includes(n.toLowerCase())))),d(0)):c([])},[n]);let x=e=>{window.location.href=e.path,s()},h=e=>{switch(e){case"pages":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30";case"projects":return"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30";case"settings":return"text-purple-600 bg-purple-100 dark:bg-purple-900/30";case"recent":return"text-orange-600 bg-orange-100";default:return"text-slate-600 bg-slate-100"}},u=e=>{switch(e){case"pages":return"Pages";case"projects":return"Projects";case"settings":return"Settings";case"recent":return"Recent";default:return e}};return(0,a.jsx)(y.N,{children:t&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[(0,a.jsx)(j.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm",onClick:s}),(0,a.jsx)(j.P.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"relative w-full max-w-2xl mx-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-slate-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-slate-200",children:[(0,a.jsx)(F.A,{className:"h-5 w-5 text-slate-400"}),(0,a.jsx)("input",{ref:m,type:"text",value:n,onChange:e=>l(e.target.value),onKeyDown:e=>{if(i.length)switch(e.key){case"ArrowDown":e.preventDefault(),d(e=>(e+1)%i.length);break;case"ArrowUp":e.preventDefault(),d(e=>(e-1+i.length)%i.length);break;case"Enter":e.preventDefault(),i[o]&&x(i[o]);break;case"Escape":s()}},placeholder:"Search for pages, projects, settings...",className:"flex-1 text-lg placeholder-slate-400 focus:outline-none"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[(0,a.jsx)(T.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"K"})]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:n.trim()&&0===i.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(F.A,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:['No results found for "',n,'"']}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Try searching for pages, projects, or settings"})]}):i.length>0?(0,a.jsx)("div",{className:"p-2",children:i.map((e,t)=>{let s=e.icon,r=t===o;return(0,a.jsx)("button",{onClick:()=>x(e),className:"w-full p-3 rounded-lg transition-colors text-left ".concat(r?"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700":"hover:bg-slate-50"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center ".concat(r?"bg-emerald-100 dark:bg-emerald-900/30":"bg-slate-100"),children:(0,a.jsx)(s,{className:"h-4 w-4 text-slate-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-900 truncate",children:e.title}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(h(e.category)),children:u(e.category)})]}),(0,a.jsx)("p",{className:"text-xs text-slate-600 truncate",children:e.description})]}),r&&(0,a.jsx)(D.A,{className:"h-4 w-4 text-emerald-600"})]})},e.id)})}):n.trim()?null:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(F.A,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"Quick Search"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Search for pages, projects, and settings across SirsiNexus"})]})}),i.length>0&&(0,a.jsx)("div",{className:"px-4 py-3 border-t border-slate-200 bg-slate-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{children:"↑↓ to navigate"}),(0,a.jsx)("span",{children:"↵ to select"}),(0,a.jsx)("span",{children:"esc to close"})]}),(0,a.jsxs)("span",{children:[i.length," result",1!==i.length?"s":""]})]})})]})})]})})};var L=s(11398),_=s(89968),M=s(21421);let W=e=>{let{className:t=""}=e,s=(0,n.useRouter)(),[l,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!0),[g,b]=(0,r.useState)([{id:"1",type:"assistant",content:"I am Sirsi, the Supreme AI and Supreme Hypervisor of SirsiNexus. I have omniscient awareness of every agent, metric, process, account, credential, migration, optimization, and scaling operation across all environments simultaneously. What can I help you accomplish?",timestamp:new Date}]),f=(0,r.useRef)(null),y=async()=>{if(!l.trim()||m)return;let e={id:Date.now().toString(),type:"user",content:l,timestamp:new Date};b(t=>[...t,e]),i(""),x(!0);try{let e=await fetch("/api/sirsi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,session_id:"header_".concat(Date.now()),user_id:"web_user",context:{source:"header_assistant",timestamp:new Date().toISOString(),url:window.location.pathname}})});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();l.toLowerCase().includes("port")&&l.toLowerCase().includes("dashboard")&&setTimeout(()=>s.push("/ports"),1500);let a={id:(Date.now()+1).toString(),type:"assistant",content:t.content||"I am here to assist you with SirsiNexus operations.",timestamp:new Date,suggestions:t.suggestions||[]};b(e=>[...e,a])}catch(t){console.error("Sirsi API error:",t);let e={id:(Date.now()+1).toString(),type:"assistant",content:"I am Sirsi, the Supreme AI. While experiencing a temporary connection issue, I remain operational. Please try your request again, and I will assist you with all SirsiNexus operations.",timestamp:new Date};b(t=>[...t,e])}finally{x(!1)}};return(0,r.useEffect)(()=>{let e=e=>{var t;o&&f.current&&!(null==(t=f.current.closest(".sirsi-container"))?void 0:t.contains(e.target))&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]),(0,a.jsxs)("div",{className:"sirsi-container relative ".concat(t),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(L.A,{className:"h-4 w-4 text-purple-500 ".concat(h?"animate-pulse":""),style:{animationDuration:"3s",animationTimingFunction:"cubic-bezier(0.4, 0, 0.6, 1)"}})}),(0,a.jsx)("input",{ref:f,type:"text",value:l,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&y()},onFocus:()=>d(!0),placeholder:"Ask Sirsi anything...",className:"block w-full pl-10 pr-20 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 ".concat(h?"shadow-sm hover:shadow-md focus:shadow-lg":""," ").concat(h?"ring-1 ring-purple-100 dark:ring-purple-900":""),style:{boxShadow:h?"0 0 0 1px rgba(147, 51, 234, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.05)":void 0}}),(0,a.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[(0,a.jsx)("button",{onClick:()=>u(!h),className:"px-2 py-1 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 rounded-md mr-1 transition-colors",title:h?"Disable visual effects":"Enable visual effects",children:(0,a.jsx)(c.A,{className:"h-3 w-3"})}),(0,a.jsx)("button",{onClick:()=>d(!o),className:"px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md mr-1 transition-colors",children:(0,a.jsx)(_.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:y,disabled:!l.trim()||m,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed mr-1",children:(0,a.jsx)(M.A,{className:"h-3 w-3"})})]})]}),o&&(0,a.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50 max-h-96 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 ".concat(h?"animate-pulse":""),style:{animationDuration:"2s"}}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:"Sirsi - Supreme AI"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>u(!h),className:"w-6 h-6 hover:bg-white hover:bg-opacity-20 rounded flex items-center justify-center transition-colors",title:h?"Disable visual effects":"Enable visual effects",children:(0,a.jsx)(c.A,{className:"h-3 w-3"})}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"w-6 h-6 hover:bg-white hover:bg-opacity-20 rounded flex items-center justify-center transition-colors",children:(0,a.jsx)(p.A,{className:"h-3 w-3"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 max-h-60 space-y-3",children:[g.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-xs p-3 rounded-lg text-sm ".concat("user"===e.type?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),children:["assistant"===e.type&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,a.jsx)(L.A,{className:"h-2 w-2 text-purple-500 ".concat(h?"animate-pulse":"")}),(0,a.jsx)("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:"Sirsi"})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-2 opacity-75",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)),m&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,a.jsx)(L.A,{className:"h-2 w-2 text-purple-500 ".concat(h?"animate-pulse":"")}),(0,a.jsx)("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:"Sirsi"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,a.jsx)("button",{onClick:()=>i("Show me all active ports and services"),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:"Port Overview"}),(0,a.jsx)("button",{onClick:()=>i("What service is using port 8080?"),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:"Find Service"}),(0,a.jsx)("button",{onClick:()=>i("Show system health and resources"),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:"System Health"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,a.jsx)("button",{onClick:()=>i("How do I get started?"),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:"Get Started"}),(0,a.jsx)("button",{onClick:()=>i("Show me the documentation"),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:"Documentation"}),(0,a.jsx)("button",{onClick:()=>{i("Open port management dashboard"),setTimeout(()=>s.push("/ports"),500)},className:"px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-800/30 text-purple-700 dark:text-purple-300 rounded transition-colors",children:"Port Dashboard"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Cmd+Enter to send"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Click outside to close"})]})]})]})]})};var q=s(25826);let H=()=>{let e=(0,l.jL)(),t=(0,l.GV)(e=>e.auth.user),[s,n]=r.useState(!1),[x,h]=r.useState(!1),[u,g]=r.useState(!1),[p,b]=r.useState(!1);return((0,r.useEffect)(()=>{b(!0)},[]),(0,r.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),g(!0))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),p)?(0,a.jsxs)("header",{className:"bg-white dark:bg-gray-800/95 dark:bg-slate-900/95 backdrop-blur-sm sticky top-0 z-50 border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("div",{className:"max-w-full mx-auto px-6",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-slate-900 dark:bg-slate-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-white dark:text-slate-900",children:"S"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"SirsiNexus"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded",children:"v0.4.2"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-emerald-50 dark:bg-emerald-900/200 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-slate-600 dark:text-slate-300",children:"Live"})]})]})]})]})}),(0,a.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,a.jsx)(W,{})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C,{variant:"dropdown"}),(0,a.jsx)(f,{}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>h(!x),className:"p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:(0,a.jsx)(c.A,{className:"h-4 w-4"})}),(0,a.jsx)(E,{isOpen:x,onClose:()=>h(!1)})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>n(!s),className:"flex items-center gap-2 p-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-slate-200 dark:bg-slate-700 rounded-full flex items-center justify-center",children:(null==t?void 0:t.avatar)?(0,a.jsx)(q.default,{src:t.avatar,alt:t.name||"User avatar",width:24,height:24,className:"h-full w-full rounded-full object-cover",priority:!0}):(0,a.jsx)(o.A,{className:"h-3 w-3 text-slate-600 dark:text-slate-300"})}),(0,a.jsx)("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:(null==t?void 0:t.name)||"Guest"}),(0,a.jsx)(d.A,{className:"h-3 w-3 text-slate-500 dark:text-slate-400"})]}),s&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm p-1",children:(0,a.jsxs)("button",{onClick:()=>{e((0,i.ri)())},className:"flex w-full items-center px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})]})]})}),(0,a.jsx)(z,{isOpen:u,onClose:()=>g(!1)})]}):null};var B=s(93224),G=s(7906),K=s(86509),V=s(30771),U=s(98862),J=s(78039),Q=s(18132),Y=s(42032),Z=s(70189),X=s(37039),$=s(84580),ee=s(64937),et=s(9537),es=s(34903),ea=s(12698),er=s(18135),en=s(91290),el=s(63866),ei=s(90188);let ec=[{title:"Build & Deploy",items:[{label:"Infrastructure Builder",icon:B.A,path:"/infrastructure"},{label:"Projects",icon:P.A,path:"/projects"},{label:"Migration Steps",icon:G.A,path:"/steps"},{label:"Credentials",icon:K.A,path:"/credentials"}]},{title:"AI & Automation",items:[{label:"Agent Management",icon:L.A,path:"/agents"},{label:"AI Orchestration",icon:V.A,path:"/ai-orchestration"},{label:"SIRSI HYPERVISOR",icon:U.A,path:"/sirsi-hypervisor"}]},{title:"Analytics",items:[{label:"Reports",icon:J.A,path:"/analytics"},{label:"Enhanced Analytics",icon:Q.A,path:"/analytics/enhanced"},{label:"Observability",icon:Y.A,path:"/observability"}]},{title:"Tools",items:[{label:"Port Management",icon:Z.A,path:"/ports"},{label:"Scripting Console",icon:X.A,path:"/console"},{label:"Security",icon:$.A,path:"/security"},{label:"Demo Scenarios",icon:ee.A,path:"/demos"},{label:"Help & Tutorials",icon:et.A,path:"/help"},{label:"Backend Tests",icon:es.A,path:"/test-backend"}]}],eo=e=>{let{aiAssistant:t=!1,isDarkMode:s=!1,onNavigateToInfrastructure:l}=e,i=(0,n.usePathname)(),c=(0,n.useRouter)(),{theme:o}=(0,w.D)(),[m,x]=r.useState(!1),[h,u]=r.useState(!0),[g,p]=(0,r.useState)(!1),b=[{label:"PLAN",path:"/migration/plan"},{label:"SPEC",path:"/migration/spec"},{label:"BUILD",path:"/migration/build"},{label:"TRANSFER",path:"/migration/transfer"},{label:"VALIDATE",path:"/migration/validate"},{label:"OPTIMIZE",path:"/migration/optimize"},{label:"SUPPORT",path:"/migration/support"}],f=[{label:"Migration Wizard",icon:D.A,path:"/migration",description:"Complete infrastructure migration",gradient:"from-blue-500 to-purple-600"},{label:"Optimization Wizard",icon:Q.A,path:"/optimization",description:"Cost and performance optimization",gradient:"from-emerald-500 to-teal-600"},{label:"Auto-Scaling Wizard",icon:ea.A,path:"/scaling",description:"Configure intelligent auto-scaling",gradient:"from-amber-500 to-orange-600"}],y=e=>e?"bg-emerald-100 dark:bg-purple-900/30 text-emerald-700 dark:text-purple-300 border border-emerald-200 dark:border-purple-700":"hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100",j=e=>e?"bg-emerald-200 dark:bg-purple-700":"bg-slate-200 dark:bg-slate-700";return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800/95 dark:bg-slate-900/95 backdrop-blur-sm fixed left-0 top-16 h-[calc(100vh-4rem)] ".concat(g?"w-16":"w-64"," hidden lg:flex flex-col border-r border-slate-200 dark:border-slate-700 transition-all duration-300"),children:[(0,a.jsx)("div",{className:"p-2 border-b border-slate-200 dark:border-slate-700",children:(0,a.jsx)("button",{onClick:()=>p(!g),className:"w-full p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors flex items-center justify-center",children:g?(0,a.jsx)(er.A,{className:"h-4 w-4"}):(0,a.jsx)(en.A,{className:"h-4 w-4"})})}),!g&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:()=>{"/"!==i&&c.push("/")},className:"w-full p-3 rounded-lg transition-all duration-200 group text-left ".concat(y("/"===i)),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center ".concat(j("/"===i)),children:(0,a.jsx)(el.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-sm font-medium",children:"Overview"}),(0,a.jsx)("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Dashboard and insights"})]})]})})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("button",{onClick:()=>u(!h),className:"w-full p-3 rounded-lg transition-colors mb-3 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center bg-indigo-100 dark:bg-purple-100 dark:bg-purple-900/30",children:(0,a.jsx)(ei.A,{className:"h-3 w-3 text-indigo-600 dark:text-purple-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"Smart Wizards"})]}),(0,a.jsx)(d.A,{className:"h-3 w-3 text-slate-600 dark:text-slate-400 transition-transform ".concat(h?"rotate-180":"")})]})}),h&&(0,a.jsx)("div",{className:"space-y-2 fade-in",children:f.map(e=>{let t=e.icon,s=i===e.path;return(0,a.jsx)("button",{onClick:()=>{i!==e.path&&c.push(e.path)},className:"w-full p-3 rounded-lg transition-all duration-200 group text-left ".concat(y(s)),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center ".concat(j(s)),children:(0,a.jsx)(t,{className:"h-3 w-3 text-slate-600"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5",children:e.description})]})]})},e.path)})})]}),(0,a.jsx)("div",{className:"space-y-6",children:ec.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wider mb-3",children:e.title}),(0,a.jsx)("div",{className:"space-y-1",children:e.items.map(e=>{let t=e.icon,s=i===e.path;return"/steps"===e.path?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("button",{onClick:()=>x(!m),className:"w-full p-2 rounded-lg transition-all duration-200 group text-left ".concat(y(s)),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]}),(0,a.jsx)(d.A,{className:"h-3 w-3 transition-transform ".concat(m?"rotate-180":"")})]})}),m&&(0,a.jsx)("div",{className:"ml-6 space-y-1 fade-in",children:b.map((e,t)=>{let s=t<2,r=2===t;return(0,a.jsxs)("button",{onClick:()=>{i!==e.path&&c.push(e.path)},className:"w-full flex items-center justify-between p-2 rounded-lg text-sm transition-all ".concat(r?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700":s?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 border border-emerald-200 dark:border-emerald-700":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700"),children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full font-medium ".concat(r?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":s?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-200":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400"),children:r?"ACTIVE":s?"DONE":"TODO"})]},e.path)})})]},e.path):(0,a.jsx)("button",{onClick:()=>{i!==e.path&&c.push(e.path)},className:"w-full p-2 rounded-lg transition-all duration-200 group text-left ".concat(y(s)),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]})},e.path)})})]},e.title))}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:(0,a.jsx)("button",{onClick:()=>{"/infrastructure"!==i&&c.push("/infrastructure")},className:"w-full bg-emerald-600 dark:bg-purple-600 hover:bg-emerald-700 dark:hover:bg-purple-700 text-white rounded-lg p-3 transition-colors group mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center bg-emerald-50 dark:bg-emerald-900/200 dark:bg-purple-50 dark:bg-purple-900/200",children:(0,a.jsx)(B.A,{className:"h-3 w-3 text-white"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Infrastructure Builder"}),(0,a.jsx)("div",{className:"text-xs text-emerald-100 dark:text-purple-100",children:"AI-powered infrastructure"})]})]})})})]})}),g&&(0,a.jsx)("nav",{className:"flex-1 p-2 space-y-2",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>c.push("/"),className:"w-full p-3 rounded-lg transition-colors ".concat("/"===i?"bg-emerald-100 dark:bg-purple-900/30":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:(0,a.jsx)(el.A,{className:"h-5 w-5 mx-auto text-slate-600 dark:text-slate-300"})}),(0,a.jsx)("button",{onClick:()=>c.push("/infrastructure"),className:"w-full p-3 rounded-lg transition-colors ".concat("/infrastructure"===i?"bg-emerald-100 dark:bg-purple-900/30":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:(0,a.jsx)(B.A,{className:"h-5 w-5 mx-auto text-slate-600 dark:text-slate-300"})}),(0,a.jsx)("button",{onClick:()=>c.push("/analytics"),className:"w-full p-3 rounded-lg transition-colors ".concat("/analytics"===i?"bg-emerald-100 dark:bg-purple-900/30":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:(0,a.jsx)(J.A,{className:"h-5 w-5 mx-auto text-slate-600 dark:text-slate-300"})}),(0,a.jsx)("button",{onClick:()=>c.push("/agents"),className:"w-full p-3 rounded-lg transition-colors ".concat("/agents"===i?"bg-emerald-100 dark:bg-purple-900/30":"hover:bg-slate-100 dark:hover:bg-slate-800"),children:(0,a.jsx)(L.A,{className:"h-5 w-5 mx-auto text-slate-600 dark:text-slate-300"})})]})})]})};var ed=s(29333),em=s(77720),ex=s(69054),eh=s(99584),eu=s(72387),eg=s(69865);let ep=e=>{let{contextualHints:t=[],suggestions:s=[],onSendMessage:n,onSuggestionClick:l,enableAttachments:i=!1,enableSystemHealth:c=!1}=e,[o,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[g,b]=(0,r.useState)(""),[f,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)("disconnected"),[N,w]=(0,r.useState)(null),[k,A]=(0,r.useState)([]),[S,C]=(0,r.useState)("normal"),E=(0,eg.AL)(),D=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(o){E.connect().catch(e=>{console.error("Failed to connect to agent backend:",e)});let e=e=>{let t={id:e.id,type:e.type,content:e.content,timestamp:e.timestamp,agentName:e.agentName,attachments:e.attachments,priority:e.priority,metadata:e.metadata};x(e=>[...e,t]),y(!1)},t=()=>{v("connected"),c&&E.getSystemHealth(!0).then(e=>{w(e.health)}).catch(e=>{console.error("Failed to get system health:",e)})},s=()=>{v("disconnected"),w(null)},a=e=>{let t={id:e.id,type:"agent",content:e.content,timestamp:e.timestamp,agentName:"System"};x(e=>[...e,t]),y(!1)};E.on("message",e),E.on("connection",t),E.on("disconnection",s),E.on("error",a);let r=setInterval(()=>{v(E.getConnectionState())},1e3);return()=>{E.off("message",e),E.off("connection",t),E.off("disconnection",s),E.off("error",a),clearInterval(r)}}},[o,E,c]),(0,r.useEffect)(()=>{var e;null==(e=D.current)||e.scrollIntoView({behavior:"smooth"})},[m]);let P=e=>{A(t=>t.filter((t,s)=>s!==e))},O=e=>{l?l(e):b(e.action.command||e.title)},F=async()=>{if(!g.trim())return;let e=await Promise.all(k.map(async e=>{let t=await e.arrayBuffer();return{attachmentId:"att_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2)),name:e.name,mimeType:e.type,sizeBytes:e.size,data:t}})),t={id:Math.random().toString(),type:"user",content:g,timestamp:new Date,attachments:e,priority:S};if(x(e=>[...e,t]),b(""),A([]),C("normal"),y(!0),E.isConnected())E.sendRawMessage({type:"user",content:g,agentName:"User",attachments:e,priority:S,metadata:{sessionId:"session_"+Date.now(),context:{source:"chat",hasAttachments:e.length>0}}});else if(n)try{await n(g),setTimeout(()=>{let e={id:Math.random().toString(),type:"agent",content:"Using fallback mode. For real-time responses, ensure the agent backend is running.",timestamp:new Date,agentName:"System"};x(t=>[...t,e]),y(!1)},1e3)}catch(e){console.error("Failed to send message:",e),y(!1)}else{let e={id:Math.random().toString(),type:"agent",content:"Unable to connect to agent backend. Please check your connection.",timestamp:new Date,agentName:"System"};x(t=>[...t,e]),y(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>d(!0),className:"fixed bottom-4 right-4 flex h-12 w-12 items-center justify-center rounded-full bg-sirsi-500 text-white shadow-lg hover:bg-sirsi-600 hover:scale-110 active:scale-90 transition-all",children:(0,a.jsx)(ed.A,{})}),o&&(0,a.jsxs)("div",{className:"fixed bottom-20 right-4 h-[500px] w-[360px] rounded-lg bg-white dark:bg-gray-800 shadow-xl animate-slide-up",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-sirsi-900",children:"Agent Chat"}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:"connected"===j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-xs text-green-600",children:"Connected"})]}):"connecting"===j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 animate-spin text-yellow-500"}),(0,a.jsx)("span",{className:"text-xs text-yellow-600",children:"Connecting..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-xs text-red-600",children:"Offline"})]})})]}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"rounded-full p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:bg-gray-800",children:(0,a.jsx)(p.A,{size:20})})]}),c&&N&&(0,a.jsx)("div",{className:"mx-4 mt-2 rounded-lg p-2 text-xs ".concat("healthy"===N.overallStatus?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"degraded"===N.overallStatus?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["System: ",N.overallStatus]})]})}),(0,a.jsxs)("div",{className:"h-[340px] overflow-y-auto p-4",children:[s&&s.length>0&&(0,a.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,a.jsx)("strong",{className:"text-sm text-sirsi-700",children:"AI Suggestions:"}),s.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>O(e),className:"cursor-pointer rounded-lg bg-sirsi-50 p-3 text-sm text-sirsi-700 hover:bg-sirsi-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ea.A,{className:"h-4 w-4"}),(0,a.jsx)("strong",{children:e.title})]}),(0,a.jsxs)("span",{className:"text-xs opacity-70",children:[Math.round(100*(e.confidence||0)),"%"]})]}),(0,a.jsx)("p",{className:"mt-1 text-xs opacity-80",children:e.description})]},e.suggestionId||"suggestion-".concat(t)))]}),t&&t.length>0&&(0,a.jsxs)("div",{className:"mb-4 rounded-lg bg-sirsi-50 p-3 text-sm text-sirsi-700",children:[(0,a.jsx)("strong",{children:"Quick Tips:"}),(0,a.jsx)("ul",{className:"ml-4 list-disc",children:t.map((e,t)=>(0,a.jsx)("li",{children:e},"hint-".concat(t)))})]}),m&&m.length>0&&m.map((e,t)=>(0,a.jsx)("div",{className:"mb-4 flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.type?"bg-sirsi-500 text-white":"error"===e.type?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"system"===e.type?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.agentName&&(0,a.jsx)("span",{className:"text-xs font-semibold",children:e.agentName}),e.priority&&"normal"!==e.priority&&(0,a.jsx)("span",{className:"text-xs px-1 py-0.5 rounded ".concat("critical"===e.priority?"bg-red-200 text-red-800 dark:text-red-300":"high"===e.priority?"bg-orange-200 text-orange-800":"bg-blue-200 text-blue-800 dark:text-blue-300"),children:e.priority})]}),"error"===e.type&&(0,a.jsx)(h.A,{className:"h-4 w-4"})]}),(0,a.jsx)("div",{children:e.content}),e.attachments&&e.attachments.length>0&&(0,a.jsx)("div",{className:"mt-2 space-y-1",children:e.attachments.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs opacity-75",children:[(0,a.jsx)(eu.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[e.name," (",(e.sizeBytes/1024).toFixed(1),"KB)"]})]},"attachment-".concat(t,"-").concat(s)))})]})},e.id||"message-".concat(t))),f&&(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)("div",{className:"flex max-w-[80%] items-center rounded-lg bg-gray-100 dark:bg-gray-800 px-4 py-2 text-gray-800 dark:text-gray-200",children:[(0,a.jsx)(ex.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Thinking..."]})}),(0,a.jsx)("div",{ref:D})]}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[k&&k.length>0&&(0,a.jsx)("div",{className:"border-b border-gray-100 p-2",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1 text-xs",children:[(0,a.jsx)(eu.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"truncate max-w-20",children:e.name}),(0,a.jsx)("button",{onClick:()=>P(t),className:"text-red-500 hover:text-red-700 dark:text-red-300","aria-label":"Remove ".concat(e.name),children:(0,a.jsx)(p.A,{className:"h-3 w-3"})})]},"attachment-preview-".concat(t,"-").concat(e.name)))})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:I,type:"file",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);A(e=>[...e,...t])},className:"hidden"}),(0,a.jsx)("button",{onClick:()=>{var e;return null==(e=I.current)?void 0:e.click()},className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:bg-gray-800","aria-label":"Attach files",children:(0,a.jsx)(eu.A,{size:18})})]}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),onKeyPress:e=>"Enter"===e.key&&F(),placeholder:"Type your message...",className:"flex-1 rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 focus:border-sirsi-500 focus:outline-none"}),(0,a.jsxs)("select",{value:S,onChange:e=>C(e.target.value),className:"rounded border border-gray-300 dark:border-gray-600 px-2 py-1 text-xs focus:border-sirsi-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"normal",children:"Normal"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]}),(0,a.jsx)("button",{onClick:F,disabled:f||!g.trim(),"aria-label":"Send message",className:"flex h-10 w-10 items-center justify-center rounded-full bg-sirsi-500 text-white disabled:opacity-50",children:(0,a.jsx)(M.A,{size:20})})]})})]})]})]})};var eb=s(1315),ef=s(50266);let ey=()=>{let e=(0,l.GV)(e=>e.ui.notifications),t=(0,l.jL)();(0,r.useEffect)(()=>{e.forEach(e=>{if(!1!==e.autoClose){let s=setTimeout(()=>{t((0,eb.ww)(e.id))},5e3);return()=>clearTimeout(s)}})},[e,t]);let s=e=>{switch(e){case"success":return(0,a.jsx)(x.A,{className:"h-5 w-5 text-green-500"});case"error":return(0,a.jsx)(ef.A,{className:"h-5 w-5 text-red-500"});case"warning":return(0,a.jsx)(h.A,{className:"h-5 w-5 text-yellow-500"});default:return(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-500"})}},n=e=>{switch(e){case"success":return"bg-green-50 dark:bg-green-900/50";case"error":return"bg-red-50 dark:bg-red-900/50";case"warning":return"bg-yellow-50 dark:bg-yellow-900/50";default:return"bg-blue-50 dark:bg-blue-900/50"}};return(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-4",children:e.map(e=>(0,a.jsx)("div",{className:"w-96 rounded-lg border shadow-lg animate-slide-up ".concat(n(e.type)),children:(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4",children:[s(e.type),(0,a.jsxs)("div",{className:"flex-1",children:[e.title&&(0,a.jsx)("h3",{className:"font-semibold",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.message})]}),(0,a.jsx)("button",{onClick:()=>t((0,eb.ww)(e.id)),className:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]})},e.id))})};var ej=s(79212),ev=s(75125),eN=s(80823),ew=s(76079);let ek=[{id:"go-home",title:"Go to Dashboard",description:"Navigate to the main dashboard",icon:el.A,shortcut:"G then H",category:"Navigation",action:()=>window.location.href="/",keywords:["dashboard","home","main","overview"]},{id:"new-migration",title:"Start New Migration",description:"Begin a new cloud migration project",icon:ej.A,shortcut:"N then M",category:"Actions",action:()=>window.location.href="/migration",keywords:["migration","new","create","start","cloud"]},{id:"view-analytics",title:"View Analytics",description:"Open analytics and reports dashboard",icon:J.A,shortcut:"G then A",category:"Navigation",action:()=>window.location.href="/analytics",keywords:["analytics","reports","data","statistics"]},{id:"optimization",title:"Resource Optimization",description:"Optimize cloud resources for cost and performance",icon:ea.A,shortcut:"N then O",category:"Actions",action:()=>window.location.href="/optimization",keywords:["optimization","performance","cost","resources"]},{id:"projects",title:"View Projects",description:"Browse all migration projects",icon:I.A,shortcut:"G then P",category:"Navigation",action:()=>window.location.href="/projects",keywords:["projects","list","browse","migrations"]},{id:"settings",title:"Open Settings",description:"Configure application settings",icon:c.A,shortcut:"G then S",category:"Navigation",action:()=>console.log("Settings"),keywords:["settings","preferences","configuration"]},{id:"profile",title:"View Profile",description:"Manage your user profile",icon:o.A,shortcut:"G then U",category:"Navigation",action:()=>console.log("Profile"),keywords:["profile","user","account","personal"]}],eA={Navigation:{icon:D.A,color:"text-blue-600"},Actions:{icon:L.A,color:"text-emerald-600"},Recent:{icon:ev.A,color:"text-green-600"},Favorites:{icon:eN.A,color:"text-amber-600"}},eS=e=>{let{isOpen:t,onClose:s}=e,[n,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(0),[o,d]=(0,r.useState)(ek),m=(0,r.useRef)(null);if((0,r.useEffect)(()=>{if(t){var e;null==(e=m.current)||e.focus(),l(""),c(0),d(ek)}},[t]),(0,r.useEffect)(()=>{d(ek.filter(e=>{let t=n.toLowerCase();return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.keywords.some(e=>e.toLowerCase().includes(t))})),c(0)},[n]),(0,r.useEffect)(()=>{let e=e=>{if(t)switch(e.key){case"Escape":s();break;case"ArrowDown":e.preventDefault(),c(e=>e<o.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),c(e=>e>0?e-1:o.length-1);break;case"Enter":e.preventDefault(),o[i]&&(o[i].action(),s())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,i,o,s]),!t)return null;let x=o.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh] px-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:s}),(0,a.jsxs)("div",{className:"relative w-full max-w-2xl glass-magnetic rounded-2xl overflow-hidden spring-entrance",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Command Palette"})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[(0,a.jsx)("kbd",{className:"px-2 py-1 glass-subtle rounded text-xs font-semibold",children:"Esc"}),(0,a.jsx)("span",{children:"to close"})]})]}),(0,a.jsx)("div",{className:"relative px-6 py-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(F.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,a.jsx)("input",{ref:m,type:"text",value:n,onChange:e=>l(e.target.value),placeholder:"Search commands...",className:"w-full pl-12 pr-4 py-3 glass-subtle rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 text-slate-800 placeholder-slate-500 text-lg"})]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto px-2 pb-4",children:0===Object.keys(x).length?(0,a.jsxs)("div",{className:"px-6 py-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 glass-subtle rounded-2xl flex items-center justify-center",children:(0,a.jsx)(F.A,{className:"h-8 w-8 text-slate-400"})}),(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"No commands found"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your search terms"})]}):(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(x).map(e=>{let[t,r]=e,n=eA[t],l=(null==n?void 0:n.icon)||ew.A;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2",children:[(0,a.jsx)(l,{className:"h-4 w-4 ".concat((null==n?void 0:n.color)||"text-slate-500")}),(0,a.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:t})]}),(0,a.jsx)("div",{className:"space-y-1",children:r.map((e,t)=>{let r=o.indexOf(e)===i,n=e.icon;return(0,a.jsxs)("button",{onClick:()=>{e.action(),s()},className:"w-full flex items-center gap-4 px-4 py-3 mx-2 rounded-xl text-left transition-all duration-200 ".concat(r?"glass-chromatic text-slate-800 scale-[1.02]":"hover:glass-subtle text-slate-700"),children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center transition-all ".concat(r?"bg-white dark:bg-gray-800/20 scale-110":"glass-subtle"),children:(0,a.jsx)(n,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-sm truncate",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:e.description})]}),e.shortcut&&(0,a.jsx)("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:(0,a.jsx)("kbd",{className:"px-2 py-1 glass-subtle rounded text-xs font-semibold",children:e.shortcut})})]},e.id)})})]},t)})})}),(0,a.jsx)("div",{className:"px-6 py-3 border-t border-white/10 glass-subtle",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 glass-subtle rounded text-xs font-semibold",children:"↑"}),(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 glass-subtle rounded text-xs font-semibold",children:"↓"}),(0,a.jsx)("span",{children:"navigate"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("kbd",{className:"px-1.5 py-0.5 glass-subtle rounded text-xs font-semibold",children:"↵"}),(0,a.jsx)("span",{children:"select"})]})]}),(0,a.jsxs)("div",{className:"text-slate-400",children:[o.length," command",1!==o.length?"s":""]})]})})]})]})},eC=e=>{let{children:t}=e,[s,l]=(0,r.useState)(!1);return(0,n.usePathname)(),(0,r.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),l(!0))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[(0,a.jsx)(H,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(eo,{aiAssistant:!0,onNavigateToInfrastructure:()=>{window.location.href="/infrastructure"}}),(0,a.jsx)("main",{className:"flex-1 p-6 ml-0 lg:ml-64 transition-all duration-300 bg-slate-50 dark:bg-slate-900",children:t})]}),(0,a.jsx)(ep,{}),(0,a.jsx)(ey,{}),(0,a.jsx)(eS,{isOpen:s,onClose:()=>l(!1)})]})}},69865:(e,t,s)=>{"use strict";s.d(t,{AL:()=>n,nn:()=>r});class a{async connect(){if(!this.isConnecting&&(!this.ws||this.ws.readyState!==WebSocket.OPEN)){this.isConnecting=!0;try{this.ws=new WebSocket(this.config.url),this.ws.onopen=()=>{console.log("✅ WebSocket connected to agent backend"),this.isConnecting=!1,this.reconnectAttempts=0,this.startHeartbeat(),this.emit("connection",{type:"system",content:"Connected to agent backend"})},this.ws.onmessage=e=>{try{let t=JSON.parse(e.data);t.timestamp=new Date(t.timestamp),this.emit("message",t)}catch(e){console.error("Failed to parse WebSocket message:",e),this.emit("error",{type:"error",content:"Failed to parse message from backend",timestamp:new Date})}},this.ws.onclose=e=>{console.log("\uD83D\uDD0C WebSocket disconnected:",e.code,e.reason),this.isConnecting=!1,this.stopHeartbeat(),1e3!==e.code&&this.reconnectAttempts<this.config.reconnectAttempts?this.scheduleReconnect():this.emit("disconnection",{type:"system",content:"Disconnected from agent backend",timestamp:new Date})},this.ws.onerror=e=>{console.error("❌ WebSocket error:",e),this.isConnecting=!1,this.emit("error",{type:"error",content:"Connection error to agent backend",timestamp:new Date})}}catch(e){throw this.isConnecting=!1,console.error("Failed to create WebSocket connection:",e),e}}}disconnect(){this.stopHeartbeat(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.listeners.clear()}sendRawMessage(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){console.warn("WebSocket not connected, queuing message for retry..."),this.emit("error",{type:"error",content:"Not connected to agent backend. Please try again.",timestamp:new Date});return}let t={...e,id:this.generateMessageId(),timestamp:new Date};try{this.ws.send(JSON.stringify(t))}catch(e){console.error("Failed to send message:",e),this.emit("error",{type:"error",content:"Failed to send message to backend",timestamp:new Date})}}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){let s=this.listeners.get(e);if(s){let e=s.indexOf(t);e>-1&&s.splice(e,1)}}emit(e,t){let s=this.listeners.get(e);s&&s.forEach(e=>e(t))}scheduleReconnect(){this.reconnectAttempts++,console.log("\uD83D\uDCE1 Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.config.reconnectAttempts,")...")),setTimeout(()=>{this.connect().catch(e=>{console.error("Reconnection attempt failed:",e)})},this.config.reconnectDelay)}startHeartbeat(){this.heartbeatTimer=setInterval(()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping"}))},this.config.heartbeatInterval)}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}generateMessageId(){return"msg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}isConnected(){return null!==this.ws&&this.ws.readyState===WebSocket.OPEN}getConnectionState(){if(!this.ws)return"disconnected";switch(this.ws.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"connected";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:return"disconnected";default:return"unknown"}}async createSession(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return this.sendAgentRequest({action:"create_session",data:{userId:e,context:t,config:s}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to create agent session");return e.data})}async getSession(e){return this.sendAgentRequest({action:"get_session",sessionId:e,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get session");return e.data})}async deleteSession(e){return this.sendAgentRequest({action:"delete_session",sessionId:e,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to delete session")})}async startAgentSession(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.createSession(e,t)}async createAgent(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.sendAgentRequest({action:"create_agent",sessionId:e,data:{agentType:t,config:s,context:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to create agent");return e.data})}async getAgent(e,t){return this.sendAgentRequest({action:"get_agent",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get agent");return e.data})}async listAgents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return this.sendAgentRequest({action:"list_agents",sessionId:e,data:{pageSize:t,pageToken:s,filter:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to list agents");return e.data})}async updateAgent(e,t,s,a){return this.sendAgentRequest({action:"update_agent",sessionId:e,agentId:t,data:{agent:s,updateMask:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to update agent");return e.data})}async deleteAgent(e,t){return this.sendAgentRequest({action:"delete_agent",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to delete agent")})}async spawnSubAgent(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(await this.createAgent(e,t,{parameters:s})).agent}async sendMessage(e,t,s,a){return this.sendAgentRequest({action:"send_message",sessionId:e,agentId:t,data:{message:s,options:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to send message to agent");return e.data})}async sendAgentMessage(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=await this.sendMessage(e,t,{content:s},{context:a});return{responseId:r.messageId,response:r.response.content,suggestions:r.suggestions}}async getSuggestions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return this.sendAgentRequest({action:"get_suggestions",sessionId:e,agentId:t,data:{context:s,maxSuggestions:a}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get suggestions");return e.data})}async getAgentSuggestions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(await this.getSuggestions(e,t,{contextType:s,contextData:a})).suggestions}async getAgentStatus(e,t){return this.sendAgentRequest({action:"get_agent_status",sessionId:e,agentId:t,data:{}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get agent status");return e.data})}async getSystemHealth(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.sendAgentRequest({action:"get_system_health",data:{includeMetrics:e}}).then(e=>{if(!e.success)throw Error(e.error||"Failed to get system health");return e.data})}async stopAgentSession(e){return this.deleteSession(e)}async sendAgentRequest(e){return new Promise((t,s)=>{if(!this.isConnected())return void s(Error("WebSocket not connected to agent backend"));let a=this.generateMessageId(),r={requestId:a,action:e.action,sessionId:e.sessionId,agentId:e.agentId,data:e.data},n=e=>{try{let s=JSON.parse(e.data);s.requestId===a&&(this.ws.removeEventListener("message",n),t({action:s.action,success:s.success,data:s.data,error:s.error}))}catch(e){console.error("Failed to parse WebSocket response:",e),s(Error("Invalid response format from agent backend"))}};this.ws.addEventListener("message",n);try{this.ws.send(JSON.stringify(r))}catch(e){this.ws.removeEventListener("message",n),s(Error("Failed to send request to agent backend"))}setTimeout(()=>{this.ws.removeEventListener("message",n),s(Error("Request timeout"))},3e4)})}constructor(e={}){this.ws=null,this.listeners=new Map,this.reconnectAttempts=0,this.heartbeatTimer=null,this.isConnecting=!1,this.config={url:e.url||"ws://localhost:8081",reconnectAttempts:e.reconnectAttempts||5,reconnectDelay:e.reconnectDelay||3e3,heartbeatInterval:e.heartbeatInterval||3e4,...e}}}let r=new a,n=()=>r},95760:(e,t,s)=>{"use strict";s.d(t,{ErrorBoundary:()=>l});var a=s(73365),r=s(1521),n=s(16300);class l extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.hasError){var e;return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsxs)("div",{className:"rounded-lg border border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20 p-6 text-center dark:border-red-800 dark:bg-red-900/50",children:[(0,a.jsx)(n.A,{className:"mx-auto mb-4 h-12 w-12 text-red-500 dark:text-red-400"}),(0,a.jsx)("h2",{className:"mb-2 text-lg font-semibold text-red-800 dark:text-red-200",children:"Something went wrong"}),(0,a.jsx)("p",{className:"mb-4 text-red-600 dark:text-red-300",children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"rounded bg-red-50 dark:bg-red-900/200 px-4 py-2 text-white hover:bg-red-600 dark:bg-red-700 dark:hover:bg-red-600",children:"Reload Page"})]})})}return this.props.children}constructor(...e){super(...e),this.state={hasError:!1,error:null,errorInfo:null}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6828,5551,3397,3065,1121,3470,1642,2151,1596,2347,4870,7358],()=>t(37849)),_N_E=e.O()}]);